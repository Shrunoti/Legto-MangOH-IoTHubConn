<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LEGATO: mkcomp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/javascript">
//<![CDATA[
    // Detect if doc is served by eclipse
    if( ( (window.location.hostname == "127.0.0.1") || (window.location.hostname == "localhost") ) &&
        ( (window.location.port != "") && (window.location.port != 80) && (window.location.port != 443) ) )
    {
        // Inhibit init function from navtree
        initNavTree = function(toroot,relpath) {}
        $(document).ready(function(){
            navTree = document.getElementById("side-nav");
            if(navTree)
            {
                navTree.parentElement.removeChild(navTree);
            }
            $("#doc-content").css('margin-left',10);
        });
    }
//]]>
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <a href="index.html" title="Legato">
      <img alt="Logo" src="legatoLogo.png"/>
    </a>
    <div id="projectbrief">Simplifying IoT development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('buildToolsmkcomp.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">mkcomp </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><code>mkcomp</code> can be used to build libraries from component sources, if a separate step is needed as a part of a complex, custom, staged build system (instead of letting <code>mksys</code>, <code>mkapp</code>, or <code>mkexe</code> handle it). But, this should generally be avoided.</p>
<dl class="section warning"><dt>Warning</dt><dd>This tool is really only here for legacy reasons, and it will likely be removed in future versions of Legato.</dd></dl>
<p><code>mkcomp</code> can be used to pre-build a component library (<code>.so</code>) file.</p>
<p><code>mkcomp</code> is normally not needed when building through the command line (and is not guaranteed to work and is <b> not supported </b>).</p>
<p>Use <a class="el" href="buildToolsmksys.html">mksys</a> or <a class="el" href="buildToolsmkapp.html">mkapp</a>. Those tools also build the component libraries, as needed, and <a class="el" href="buildToolsmksys.html">mksys</a> can even perform optimizations like sharing of component libraries between apps.</p>
<p><code>mkcomp</code> is a legacy tool that was used at times as a workaround to support integration with some legacy programs that implement their own <code><a class="el" href="start_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a></code> function. But, the procedure for doing that has changed (see <a class="el" href="howToPortLegacyGen.html">Port Legacy Apps</a>).</p>
<h1><a class="anchor" id="buildToolsmkcomp_Usage"></a>
Usage</h1>
<p><code>mkcomp</code> provides flags to set the target, set build options, and specify additional search directories:</p>
<pre class="fragment">Command line parameters
  -C, --cflags, &lt;string&gt;
        (Multiple, optional) Specify extra flags to be passed to the C compiler.

  -L, --ldflags, &lt;string&gt;
        (Multiple, optional) Specify extra flags to be passed to the linker when linking
        executables.

  -X, --cxxflags, &lt;string&gt;
        (Multiple, optional) Specify extra flags to be passed to the C++ compiler.

  -a, --stand-alone
        (Optional) Build the component library and all its sub-components' libraries such that the
        component library can be loaded and run without the help of mkexe or mkapp.  This is useful
        when integrating with third-party code that is built using some other build system.

  -c, --component-search, &lt;string&gt;
        (Multiple, optional) (DEPRECATED) Add a directory to the source search path (same as -s).

  -d, --debug-dir, &lt;string&gt;
        (Optional) Generate debug symbols and place them in the specified directory.  Debug symbol
        files will be named with build-id

  -g, --generate-code
        (Optional) Only generate code, but don't compile or link anything. The interface definition
        (include) files will be generated, along with component main files. This is useful for
        supporting context-sensitive auto-complete and related features in source code editors, for
        example.

  -i, --interface-search, &lt;string&gt;
        (Multiple, optional) Add a directory to the interface search path.

  -l, --lib-output-dir, &lt;string&gt;
        (Optional) Specify the directory into which any generated runtime libraries should be put.
        (This option ignored if -o specified.)

  -n, --dont-run-ninja
        (Optional) Even if a build.ninja file exists, ignore it, parse all inputs, and generate all
        output files, including a new copy of the build.ninja, then exit without running ninja.
        This is used by the build.ninja to to regenerate itself and any other files that need to be
        regenerated when the build.ninja finds itself out of date.

  -o, --output-path, &lt;string&gt;
        (Optional) Specify the complete path name of the component library to be built.

  -s, --source-search, &lt;string&gt;
        (Multiple, optional) Add a directory to the source search path.

  -t, --target, &lt;string&gt;
        (Optional) Specify the target device to build for (e.g., localhost or ar7).

  -v, --verbose
        (Optional) Set into verbose mode for extra diagnostic information.

  -w, --object-dir, &lt;string&gt;
        (Optional) Specify the directory into which any intermediate build artifacts (such as .o
        files and generated source code files) should be put.</pre><p>See <a class="el" href="buildToolsmk.html#buildToolsmk_ToolChainConfig">Tool Chain Configuration</a> for information on how <code>mkcomp</code> decides what compilers, etc. to use.</p>
<p>Copyright (C) Sierra Wireless Inc. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.11
        </div>
    </div>
</body>
</html>
