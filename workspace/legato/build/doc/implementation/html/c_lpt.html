<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LEGATO: Low Power Technologies</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/javascript">
//<![CDATA[
    // Detect if doc is served by eclipse
    if( ( (window.location.hostname == "127.0.0.1") || (window.location.hostname == "localhost") ) &&
        ( (window.location.port != "") && (window.location.port != 80) && (window.location.port != 443) ) )
    {
        // Inhibit init function from navtree
        initNavTree = function(toroot,relpath) {}
        $(document).ready(function(){
            navTree = document.getElementById("side-nav");
            if(navTree)
            {
                navTree.parentElement.removeChild(navTree);
            }
            $("#doc-content").css('margin-left',10);
        });
    }
//]]>
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <a href="index.html" title="Legato">
      <img alt="Logo" src="legatoLogo.png"/>
    </a>
    <div id="projectbrief">Simplifying IoT development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('c_lpt.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Low Power Technologies </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="le__lpt__interface_8h.html">API Reference</a></p>
<hr/>
<p>The Low Power Technologies (LPT) APIs are used to control the low power features of the modem.</p>
<h1><a class="anchor" id="le_lpt_binding"></a>
IPC interfaces binding</h1>
<p>All the functions of this API are provided by the <b>modemService</b> service.</p>
<p>Here's a code sample binding to modem services: </p><pre class="fragment">bindings:
{
   clientExe.clientComponent.le_lpt -&gt; modemService.le_lpt
}
</pre><h1><a class="anchor" id="le_lpt_eDRX"></a>
eDRX</h1>
<p>The extended idle-mode discontinuous reception (eDRX) is a mechanism that reduces power consumption by extending the sleeping cycle in idle mode. It allows the device to turn part of its circuitry off during the extended DRX period to save power. During the extended DRX period, the device is not listening for paging or downlink control channels, so the network should not try to contact the device.</p>
<dl class="section warning"><dt>Warning</dt><dd>Enabling eDRX introduces a longer latency in reaching the device and should therefore not be used by systems that cannot handle it, e.g. systems supporting mobile-terminated voice.</dd></dl>
<p>The use of eDRX for a given radio access technology (<a class="el" href="le__lpt__interface_8h.html#a4094c01923d2065adb1557b6ab2121d5">le_lpt_EDrxRat_t</a>) can be enabled and disabled with <a class="el" href="le__lpt__interface_8h.html#a29c14497b1e9773edca1374674e1dd02">le_lpt_SetEDrxState()</a>.</p>
<div class="fragment"><div class="line">    <a class="code" href="le__log_8h.html#a7cd2daa3d4af1de4d29e0eed95187484">LE_ASSERT_OK</a>(<a class="code" href="le__lpt__interface_8h.html#a29c14497b1e9773edca1374674e1dd02">le_lpt_SetEDrxState</a>(<a class="code" href="le__lpt__interface_8h.html#a4094c01923d2065adb1557b6ab2121d5a505dc7ded5473c620c0c5cc3c2d95c97">LE_LPT_EDRX_RAT_LTE_M1</a>, <a class="code" href="le__basics_8h.html#ae2138c90c41d30e2d510be01d8b374daa66236546b5af0328d2db0e6970f67e50">LE_OFF</a>));</div><div class="line">    <a class="code" href="le__log_8h.html#a7cd2daa3d4af1de4d29e0eed95187484">LE_ASSERT_OK</a>(<a class="code" href="le__lpt__interface_8h.html#a29c14497b1e9773edca1374674e1dd02">le_lpt_SetEDrxState</a>(<a class="code" href="le__lpt__interface_8h.html#a4094c01923d2065adb1557b6ab2121d5a505dc7ded5473c620c0c5cc3c2d95c97">LE_LPT_EDRX_RAT_LTE_M1</a>, <a class="code" href="le__basics_8h.html#ae2138c90c41d30e2d510be01d8b374daa73623e8b9450d62517b467b9be2afce8">LE_ON</a>));</div></div><!-- fragment --><p> The eDRX feature is controlled by two parameters, which are defined in the standard 3GPP TS 24.008 Release 13 Section 10.5.5.32: the eDRX value, defining the eDRX cycle length, and the Paging Time Window. These parameters are negotiated between the device and the network during an attach or routing area updating procedure.</p>
<p>The requested eDRX value can be set with <a class="el" href="le__lpt__interface_8h.html#a453a299fbefbd9ecce549b25574c7f69">le_lpt_SetRequestedEDrxValue()</a> and retrieved with <a class="el" href="le__lpt__interface_8h.html#acd994d5f5f20d9171181d5785f71e9f5">le_lpt_GetRequestedEDrxValue()</a>.</p>
<div class="fragment"><div class="line">    <a class="code" href="le__log_8h.html#a7cd2daa3d4af1de4d29e0eed95187484">LE_ASSERT_OK</a>(<a class="code" href="le__lpt__interface_8h.html#a453a299fbefbd9ecce549b25574c7f69">le_lpt_SetRequestedEDrxValue</a>(<a class="code" href="le__lpt__interface_8h.html#a4094c01923d2065adb1557b6ab2121d5a505dc7ded5473c620c0c5cc3c2d95c97">LE_LPT_EDRX_RAT_LTE_M1</a>, 1));</div><div class="line"></div><div class="line">    uint8_t eDrxValue = 0;</div><div class="line">    <a class="code" href="le__log_8h.html#a7cd2daa3d4af1de4d29e0eed95187484">LE_ASSERT_OK</a>(<a class="code" href="le__lpt__interface_8h.html#acd994d5f5f20d9171181d5785f71e9f5">le_lpt_GetRequestedEDrxValue</a>(<a class="code" href="le__lpt__interface_8h.html#a4094c01923d2065adb1557b6ab2121d5a505dc7ded5473c620c0c5cc3c2d95c97">LE_LPT_EDRX_RAT_LTE_M1</a>, &amp;eDrxValue));</div><div class="line">    <a class="code" href="le__log_8h.html#a23e6d206faa64f612045d688cdde5808">LE_INFO</a>(<span class="stringliteral">&quot;Requested eDRX cycle value for LTE M1: %d&quot;</span>, eDrxValue);</div></div><!-- fragment --><p> The eDRX value provided by the network can be retrieved with <a class="el" href="le__lpt__interface_8h.html#a19b77f9788e971d59e4d78e02f0dcab6">le_lpt_GetNetworkProvidedEDrxValue()</a>.</p>
<div class="fragment"><div class="line">    uint8_t npEDrxValue = 0;</div><div class="line">    <a class="code" href="le__log_8h.html#a7cd2daa3d4af1de4d29e0eed95187484">LE_ASSERT_OK</a>(<a class="code" href="le__lpt__interface_8h.html#a19b77f9788e971d59e4d78e02f0dcab6">le_lpt_GetNetworkProvidedEDrxValue</a>(<a class="code" href="le__lpt__interface_8h.html#a4094c01923d2065adb1557b6ab2121d5a505dc7ded5473c620c0c5cc3c2d95c97">LE_LPT_EDRX_RAT_LTE_M1</a>, &amp;npEDrxValue));</div><div class="line">    <a class="code" href="le__log_8h.html#a23e6d206faa64f612045d688cdde5808">LE_INFO</a>(<span class="stringliteral">&quot;Network-provided eDRX cycle value for LTE M1: %d&quot;</span>, npEDrxValue);</div></div><!-- fragment --><p> The requested Paging Time Window cannot be set, but the network-provided value can be retrieved with <a class="el" href="le__lpt__interface_8h.html#ad969476d3aa805336bd80e11e377c6ec">le_lpt_GetNetworkProvidedPagingTimeWindow()</a>.</p>
<div class="fragment"><div class="line">    uint8_t pagingTimeWindow = 0;</div><div class="line">    <a class="code" href="le__log_8h.html#a7cd2daa3d4af1de4d29e0eed95187484">LE_ASSERT_OK</a>(<a class="code" href="le__lpt__interface_8h.html#ad969476d3aa805336bd80e11e377c6ec">le_lpt_GetNetworkProvidedPagingTimeWindow</a>(<a class="code" href="le__lpt__interface_8h.html#a4094c01923d2065adb1557b6ab2121d5a505dc7ded5473c620c0c5cc3c2d95c97">LE_LPT_EDRX_RAT_LTE_M1</a>,</div><div class="line">                                                           &amp;pagingTimeWindow));</div><div class="line">    <a class="code" href="le__log_8h.html#a23e6d206faa64f612045d688cdde5808">LE_INFO</a>(<span class="stringliteral">&quot;Network-provided Paging Time Window for LTE M1: %d&quot;</span>, pagingTimeWindow);</div></div><!-- fragment --><p> A handler can also be registered with <a class="el" href="le__lpt__interface_8h.html#a74ac2323ba4e90b43fba080b09898dc3">le_lpt_AddEDrxParamsChangeHandler()</a> in order to be notified of the changes in the network-provided eDRX parameters.</p>
<div class="fragment"><div class="line"><span class="comment">//--------------------------------------------------------------------------------------------------</span><span class="comment"></span></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * Handler for notifications of a change in the eDRX parameters.</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><span class="keywordtype">void</span> EDrxParamsChangeHandler</div><div class="line">(</div><div class="line">    <a class="code" href="le__lpt__interface_8h.html#a4094c01923d2065adb1557b6ab2121d5">le_lpt_EDrxRat_t</a> rat,       <span class="comment">///&lt; [IN] Radio Access Technology.</span></div><div class="line"><span class="comment"></span>    <a class="code" href="le__basics_8h.html#ae2138c90c41d30e2d510be01d8b374da">le_onoff_t</a> activation,      <span class="comment">///&lt; [IN] eDRX activation state.</span></div><div class="line"><span class="comment"></span>    uint8_t eDrxValue,          <span class="comment">///&lt; [IN] eDRX cycle value, defined in 3GPP</span></div><div class="line"><span class="comment"></span><span class="comment">                                ///&lt;      TS 24.008 Rel-13 section 10.5.5.32.</span></div><div class="line"><span class="comment"></span>    uint8_t pagingTimeWindow,   <span class="comment">///&lt; [IN] Paging Time Window, defined in 3GPP</span></div><div class="line"><span class="comment"></span><span class="comment">                                ///&lt;      TS 24.008 Rel-13 section 10.5.5.32.</span></div><div class="line"><span class="comment"></span>    <span class="keywordtype">void</span>* contextPtr            <span class="comment">///&lt; [IN] Context pointer.</span></div><div class="line"><span class="comment"></span>)</div><div class="line">{</div><div class="line">    <a class="code" href="le__log_8h.html#a23e6d206faa64f612045d688cdde5808">LE_INFO</a>(<span class="stringliteral">&quot;New eDRX parameters for RAT %d: activation = %c, eDRX value = %d, PTW = %d&quot;</span>,</div><div class="line">            rat, ((<a class="code" href="le__basics_8h.html#ae2138c90c41d30e2d510be01d8b374daa73623e8b9450d62517b467b9be2afce8">LE_ON</a> == activation) ? <span class="charliteral">&#39;Y&#39;</span> : <span class="charliteral">&#39;N&#39;</span>), eDrxValue, pagingTimeWindow);</div><div class="line"></div><div class="line">    <a class="code" href="le__semaphore_8h.html#abb859411cc58fbcc576c986ef52083b2">le_sem_Post</a>(ThreadSemaphore);</div><div class="line">}</div></div><!-- fragment --><div class="fragment"><div class="line">    <a class="code" href="le__lpt__interface_8h.html#aeb629311974999a2389d1c93e460db47">le_lpt_EDrxParamsChangeHandlerRef_t</a> handlerRef;</div><div class="line"></div><div class="line">    handlerRef = <a class="code" href="le__lpt__interface_8h.html#a74ac2323ba4e90b43fba080b09898dc3">le_lpt_AddEDrxParamsChangeHandler</a>(EDrxParamsChangeHandler, NULL);</div><div class="line">    <a class="code" href="le__log_8h.html#ac0dbbef91dc0fed449d0092ff0557b39">LE_ASSERT</a>(handlerRef);</div></div><!-- fragment --><p> The handler can be removed with <a class="el" href="le__lpt__interface_8h.html#a2a3c5d3d2d473ca9f0533a4ceee9105f">le_lpt_RemoveEDrxParamsChangeHandler()</a>.</p>
<hr/>
<p>Copyright (C) Sierra Wireless Inc. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.11
        </div>
    </div>
</body>
</html>
