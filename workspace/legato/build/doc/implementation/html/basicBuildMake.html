<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LEGATO: Configure the Application Framework</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/javascript">
//<![CDATA[
    // Detect if doc is served by eclipse
    if( ( (window.location.hostname == "127.0.0.1") || (window.location.hostname == "localhost") ) &&
        ( (window.location.port != "") && (window.location.port != 80) && (window.location.port != 443) ) )
    {
        // Inhibit init function from navtree
        initNavTree = function(toroot,relpath) {}
        $(document).ready(function(){
            navTree = document.getElementById("side-nav");
            if(navTree)
            {
                navTree.parentElement.removeChild(navTree);
            }
            $("#doc-content").css('margin-left',10);
        });
    }
//]]>
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <a href="index.html" title="Legato">
      <img alt="Logo" src="legatoLogo.png"/>
    </a>
    <div id="projectbrief">Simplifying IoT development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('basicBuildMake.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Configure the Application Framework </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Now that you have the Legato Application Framework and a toolchain installed on your development machine, you can now configure the Framework for your specific target. Running the <code>make</code> script for your target sets up the target management tools, builds a default update for your target and sets up environment variables for your target. Each time you upgrade Legato, or switch target devices you need to run the make scripts again to set up the environment specific for your target.</p>
<h1><a class="anchor" id="basicBuildMake_makeTarget"></a>
Configure Application Framework for a Target</h1>
<p>All supported platforms use the <code>make</code> tool and have pre-configured makefiles included in the Framework.</p>
<dl class="section warning"><dt>Warning</dt><dd>You must have the matching toolchain installed for your target.</dd></dl>
<p>Run <code>make</code> <code></code> &lt;target&gt; to build the framework for the target from your Legato Root Directory: </p><pre class="fragment">$ make wp85  # makes an update file for a WP85 series device
</pre><p>List of Supported Platforms (see your module vendor for information and the toolchain required to build)</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000014">Todo:</a></b></dt><dd>Add links to "Support Platform" info once that is built on Legato.io and add in virt</dd></dl>
<table class="doxtable">
<tr>
<th>Target </th><th>Description  </th></tr>
<tr>
<td>localhost </td><td>Test build process, very limited functionality </td></tr>
<tr>
<td>raspi </td><td><a href="https://www.raspbian.org/">Raspberry Pi running Raspbian</a> </td></tr>
<tr>
<td>wp85 </td><td><a href="https://source.sierrawireless.com/devices/wp-series/wp8548/">Sierra Wireless WP85xx modules</a> </td></tr>
<tr>
<td>wp77xx </td><td><a href="https://source.sierrawireless.com/">Sierra Wireless WP77xx modules</a> </td></tr>
<tr>
<td>wp76xx </td><td><a href="https://source.sierrawireless.com/devices/wp-series/wp7601/">Sierra Wireless WP76xx modules</a> </td></tr>
<tr>
<td>wp750x </td><td><a href="https://source.sierrawireless.com/devices/wp-series/wp7502/">Sierra Wireless WP750x modules</a> </td></tr>
<tr>
<td>ar86 </td><td><a href="https://www.sierrawireless.com/products-and-solutions/embedded-solutions/automotive-modules/">Sierra Wireless AR86xx modules</a> </td></tr>
<tr>
<td>ar759x </td><td><a href="https://www.sierrawireless.com/products-and-solutions/embedded-solutions/automotive-modules/">Sierra Wireless AR759x modules</a> </td></tr>
<tr>
<td>ar758x </td><td><a href="https://www.sierrawireless.com/products-and-solutions/embedded-solutions/automotive-modules/">Sierra Wireless AR758x modules</a> </td></tr>
<tr>
<td>ar7 </td><td><a href="https://www.sierrawireless.com/products-and-solutions/embedded-solutions/automotive-modules/">Sierra Wireless AR7xxx modules</a> </td></tr>
</table>
<p>Running make will:</p><ul>
<li>build an update pack for your target with the version of the Legato Application Framework that is installed on your dev machine.</li>
<li>build tools needed to build apps and configure your target.</li>
<li>set-up environment variables and other useful configuration to make using the Framework easier.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>If you are having problems successfully running make you may need to remove ccache from your host.<pre class="fragment">$ sudo apt-get remove ccache </pre></dd></dl>
<p>Once the make scripts have run you should now see the following directories <code>/bin</code> and <code>/build</code>. The <code>bin</code> directory contains tools and scripts for the framework and the <code>build</code> directory contains all the build files and install files to update your target.</p>
<h1><a class="anchor" id="basicBuildMake_ConfigureShell"></a>
Configure Shell</h1>
<p>You will need to configure your shell so you can easily use the <a class="el" href="tools.html">Tools</a> included with Legato Application Framework.</p>
<p><code>cd</code> into the legato root directory (e.g.; <code>~/legato-repo/legato</code>) and run the script <code></code>./bin/legs or <code>source bin/configlegatoenv</code>. <code>legs</code> (legato shell) will open up a new shell and configure the Legato environment variables such as setting $LEGATO_ROOT and adding it to your path. Sourcing <code>configlegatoenv</code> will do the same thing but will configure your current shell, preserving your history.</p>
<p>For the list of tools and further instructions on configuring your shell see <a class="el" href="tools.html">Tools</a> .</p>
<pre class="fragment">$ ./bin/legs
</pre><p>OR</p>
<pre class="fragment">$ source bin/configlegatoenv
</pre><dl class="section note"><dt>Note</dt><dd>You can also add bin/configlegatoenv to your bash profile so that the environment variables will automatically be configured each time you log into your Dev Machine.</dd></dl>
<h1><a class="anchor" id="basicBuildMake_UpdateTarget"></a>
Update Target</h1>
<p>The Legato Runtime Environment included on your target may not be at the same version that is installed on your dev machine. Please check what version(s) are compatible with your target before updating. Now that you've run <code>make</code> for your target you will have an initial "default" build of Runtime Environment that you can now update your target with. The update file will be located in the <code>build/</code> &lt;target&gt; directory and will be named <code>system</code>.&lt;target&gt;.update.</p>
<p>To <a class="el" href="toolsHost_update.html">update</a> the runtime environment on your target use the <a class="el" href="toolsHost_update.html">update</a> tool to pass the system update pack to the target device for installation. I</p>
<pre class="fragment">$ update build/wp85/system.wp85.update 192.168.2.2
</pre><p>OR</p>
<pre class="fragment">$ update build/raspi/system.raspi.update &lt;target IP&gt;
</pre><h1><a class="anchor" id="basicBuildLegato_StartProject"></a>
Start Project</h1>
<p>Now you are ready to start your first project, we suggest starting with our helloWorld tutorial and then work your way through helloIPC before starting coding your own projects. The hello tutorials introduce you to some of the <a class="el" href="concepts.html">methodologies and concepts</a> of how build apps and systems for your target.</p>
<p>In your workspace directory create a folder for your project.</p>
<pre class="fragment">$ mkdir &lt;projectName&gt;
$ cd &lt;projectName&gt;
</pre><p>Each project will probabbly contain apps, components and</p>
<dl class="section note"><dt>Note</dt><dd>It is recommended to do all of your work within project directories, while the Application Framework is open source and you are able to customize most parts within it, your project directory should contain all your apps, components and systems that you have created/customized. This ensures that future upgrades will not overwrite any of the work that you have done.</dd></dl>
<p>Copyright (C) Sierra Wireless Inc. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.11
        </div>
    </div>
</body>
</html>
