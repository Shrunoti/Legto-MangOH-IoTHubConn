<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LEGATO: framework/daemons/linux/configTree/treeIterator.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/javascript">
//<![CDATA[
    // Detect if doc is served by eclipse
    if( ( (window.location.hostname == "127.0.0.1") || (window.location.hostname == "localhost") ) &&
        ( (window.location.port != "") && (window.location.port != 80) && (window.location.port != 443) ) )
    {
        // Inhibit init function from navtree
        initNavTree = function(toroot,relpath) {}
        $(document).ready(function(){
            navTree = document.getElementById("side-nav");
            if(navTree)
            {
                navTree.parentElement.removeChild(navTree);
            }
            $("#doc-content").css('margin-left',10);
        });
    }
//]]>
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <a href="index.html" title="Legato">
      <img alt="Logo" src="legatoLogo.png"/>
    </a>
    <div id="projectbrief">Simplifying IoT development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('tree_iterator_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">treeIterator.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="legato_8h_source.html">legato.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="limit_8h_source.html">limit.h</a>&quot;</code><br />
<code>#include &quot;interfaces.h&quot;</code><br />
<code>#include &quot;<a class="el" href="tree_path_8h_source.html">treePath.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="tree_db_8h_source.html">treeDb.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="tree_iterator_8h_source.html">treeIterator.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sys_paths_8h_source.html">sysPaths.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_tree_item__t.html">TreeItem_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_tree_iterator__t.html">TreeIterator_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:afb18bc08217a4ebfe0ec139fe745433e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_iterator_8c.html#afb18bc08217a4ebfe0ec139fe745433e">ITERATOR_POOL_NAME</a>&#160;&#160;&#160;&quot;TreeIteratorPool&quot;</td></tr>
<tr class="memdesc:afb18bc08217a4ebfe0ec139fe745433e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the tree iterator memory pool.  <a href="#afb18bc08217a4ebfe0ec139fe745433e">More...</a><br /></td></tr>
<tr class="separator:afb18bc08217a4ebfe0ec139fe745433e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ae3eb3cd8c83adfd3ad0e8956b854d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_iterator_8c.html#a1ae3eb3cd8c83adfd3ad0e8956b854d8">ITEM_POOL_NAME</a>&#160;&#160;&#160;&quot;TreeItemPool&quot;</td></tr>
<tr class="memdesc:a1ae3eb3cd8c83adfd3ad0e8956b854d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the tree item memory pool.  <a href="#a1ae3eb3cd8c83adfd3ad0e8956b854d8">More...</a><br /></td></tr>
<tr class="separator:a1ae3eb3cd8c83adfd3ad0e8956b854d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27b8df02c808390d7370b340f1145b30"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_iterator_8c.html#a27b8df02c808390d7370b340f1145b30">ITERATOR_REF_MAP_NAME</a>&#160;&#160;&#160;&quot;TreeIterator&quot;</td></tr>
<tr class="memdesc:a27b8df02c808390d7370b340f1145b30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the safe ref map that's backing the tree iterator references.  <a href="#a27b8df02c808390d7370b340f1145b30">More...</a><br /></td></tr>
<tr class="separator:a27b8df02c808390d7370b340f1145b30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aee485b9d44fd92e4b0fa7476ddac230d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="struct_tree_item__t.html">TreeItem_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_iterator_8c.html#aee485b9d44fd92e4b0fa7476ddac230d">NewTreeItem</a> (const char *treeName)</td></tr>
<tr class="separator:aee485b9d44fd92e4b0fa7476ddac230d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a708f22becc23d9765e5848686a230347"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_iterator_8c.html#a708f22becc23d9765e5848686a230347">InsertTreeName</a> (<a class="el" href="tree_iterator_8h.html#a5c26a1968a929b232c511db38f434c3b">ti_TreeIteratorRef_t</a> treeIteratorPtr, const char *treeName)</td></tr>
<tr class="separator:a708f22becc23d9765e5848686a230347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8b21519be2385c9adca8719bb051619"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_iterator_8c.html#ae8b21519be2385c9adca8719bb051619">FindLoadedTrees</a> (<a class="el" href="tree_iterator_8h.html#a5c26a1968a929b232c511db38f434c3b">ti_TreeIteratorRef_t</a> treeIteratorPtr)</td></tr>
<tr class="separator:ae8b21519be2385c9adca8719bb051619"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae971b515941eda3b477f43b8b604b1fc"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_iterator_8c.html#ae971b515941eda3b477f43b8b604b1fc">IsRegularFile</a> (struct dirent *dirEntryPtr)</td></tr>
<tr class="separator:ae971b515941eda3b477f43b8b604b1fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab623aad856168b7276709492eabe2c3c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_iterator_8c.html#ab623aad856168b7276709492eabe2c3c">FindFileTrees</a> (<a class="el" href="tree_iterator_8h.html#a5c26a1968a929b232c511db38f434c3b">ti_TreeIteratorRef_t</a> treeIteratorPtr)</td></tr>
<tr class="separator:ab623aad856168b7276709492eabe2c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addd20af9ee7cf4473f17598f54d9d015"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_iterator_8c.html#addd20af9ee7cf4473f17598f54d9d015">ti_Init</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:addd20af9ee7cf4473f17598f54d9d015"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab38d6a824542919c7f5da8c95b459a6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__cfg_admin__interface_8h.html#a4349aae258f9dcf1fe96729dc2800157">le_cfgAdmin_IteratorRef_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_iterator_8c.html#ab38d6a824542919c7f5da8c95b459a6e">ti_CreateIterator</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> <a class="el" href="log_tool_8c.html#a0ba04d68f0faec00ca0db1c014f248be">sessionRef</a>)</td></tr>
<tr class="separator:ab38d6a824542919c7f5da8c95b459a6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4da26a05098e87a554c1e999363eb319"><td class="memItemLeft" align="right" valign="top"><a class="el" href="tree_iterator_8h.html#a5c26a1968a929b232c511db38f434c3b">ti_TreeIteratorRef_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_iterator_8c.html#a4da26a05098e87a554c1e999363eb319">ti_InternalRefFromExternalRef</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> <a class="el" href="log_tool_8c.html#a0ba04d68f0faec00ca0db1c014f248be">sessionRef</a>, <a class="el" href="le__cfg_admin__interface_8h.html#a4349aae258f9dcf1fe96729dc2800157">le_cfgAdmin_IteratorRef_t</a> externalRef)</td></tr>
<tr class="separator:a4da26a05098e87a554c1e999363eb319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75626c7ae5a8d9e15680db5a24d914e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_iterator_8c.html#a75626c7ae5a8d9e15680db5a24d914e7">ti_ReleaseIterator</a> (<a class="el" href="tree_iterator_8h.html#a5c26a1968a929b232c511db38f434c3b">ti_TreeIteratorRef_t</a> iteratorRef)</td></tr>
<tr class="separator:a75626c7ae5a8d9e15680db5a24d914e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c187ada7fc94497e4fe9a069752363e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_iterator_8c.html#a9c187ada7fc94497e4fe9a069752363e">ti_CleanUpForSession</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> <a class="el" href="log_tool_8c.html#a0ba04d68f0faec00ca0db1c014f248be">sessionRef</a>)</td></tr>
<tr class="separator:a9c187ada7fc94497e4fe9a069752363e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9b784b19fe3c6b6642aeb74d527286a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_iterator_8c.html#ae9b784b19fe3c6b6642aeb74d527286a">ti_GetCurrent</a> (<a class="el" href="tree_iterator_8h.html#a5c26a1968a929b232c511db38f434c3b">ti_TreeIteratorRef_t</a> iteratorRef, char *namePtr, size_t nameSize)</td></tr>
<tr class="separator:ae9b784b19fe3c6b6642aeb74d527286a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a465723eedac718326df2e646b2965504"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_iterator_8c.html#a465723eedac718326df2e646b2965504">ti_MoveNext</a> (<a class="el" href="tree_iterator_8h.html#a5c26a1968a929b232c511db38f434c3b">ti_TreeIteratorRef_t</a> iteratorRef)</td></tr>
<tr class="separator:a465723eedac718326df2e646b2965504"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:adef3e8c94b25b7d7e35d27b8c0a19a68"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="le__mem_8h.html#a44a896f6a0a1a8c733e8038eb332989e">le_mem_PoolRef_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_iterator_8c.html#adef3e8c94b25b7d7e35d27b8c0a19a68">TreeIteratorPoolRef</a> = NULL</td></tr>
<tr class="memdesc:adef3e8c94b25b7d7e35d27b8c0a19a68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pool for allocating tree iterator objects.  <a href="#adef3e8c94b25b7d7e35d27b8c0a19a68">More...</a><br /></td></tr>
<tr class="separator:adef3e8c94b25b7d7e35d27b8c0a19a68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a676033c8fc2c39257a9ce56d4714f334"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="le__mem_8h.html#a44a896f6a0a1a8c733e8038eb332989e">le_mem_PoolRef_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_iterator_8c.html#a676033c8fc2c39257a9ce56d4714f334">TreeItemPoolRef</a> = NULL</td></tr>
<tr class="memdesc:a676033c8fc2c39257a9ce56d4714f334"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pool for allocating tree names for iterating.  <a href="#a676033c8fc2c39257a9ce56d4714f334">More...</a><br /></td></tr>
<tr class="separator:a676033c8fc2c39257a9ce56d4714f334"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf2a963403b02b971659d9efb30d40f9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="le__safe_ref_8h.html#aaf8fb3412fb840cb50366856affaf69b">le_ref_MapRef_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_iterator_8c.html#abf2a963403b02b971659d9efb30d40f9">IteratorRefMap</a> = NULL</td></tr>
<tr class="memdesc:abf2a963403b02b971659d9efb30d40f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pool for handing tree iterator safe references.  <a href="#abf2a963403b02b971659d9efb30d40f9">More...</a><br /></td></tr>
<tr class="separator:abf2a963403b02b971659d9efb30d40f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of the configTree's treeIterator object. When a tree iterator is created it takes a snapshot of the trees in the system.</p>
<p>This is done to isolate the user of the iterator from the fact that trees can appear and dissapear from the system at any time. However, because the iteration will happen over several context switches between client and server the window for things changing during an iteration only increses. So, to save some sanity, this infomration is snapshotted and served up from a cache.</p>
<p>The structure is fairly simple. On creation the tree iterator creates a sorted linked list of the trees it can find that have been loaded, and then searches the file system for all tree files it can find in the configTree's storage dir. As it finds these files, duplicates are discarded. A future enhancement would be to also keep track of wether or not the tree was loaded at the time of iteration.</p>
<pre class="fragment">  +------------------+
  |  Tree Iterator   |
  +------------------+
      |
      | Tree List   +--------------+
      +------------&gt;|  Tree Item   |
                    +--------------+
                        |
                        |             +--------------+
                        +------------&gt;|  Tree Item   |
                                      +--------------+
                                          |
                                          |             +--------------+
                                          +------------&gt;|  Tree Item   |
                                                        +--------------+
</pre> <pre class="fragment">Copyright (C) Sierra Wireless Inc.</pre></div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a1ae3eb3cd8c83adfd3ad0e8956b854d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ITEM_POOL_NAME&#160;&#160;&#160;&quot;TreeItemPool&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Name of the tree item memory pool. </p>

</div>
</div>
<a class="anchor" id="afb18bc08217a4ebfe0ec139fe745433e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ITERATOR_POOL_NAME&#160;&#160;&#160;&quot;TreeIteratorPool&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Name of the tree iterator memory pool. </p>

</div>
</div>
<a class="anchor" id="a27b8df02c808390d7370b340f1145b30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ITERATOR_REF_MAP_NAME&#160;&#160;&#160;&quot;TreeIterator&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Name of the safe ref map that's backing the tree iterator references. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab623aad856168b7276709492eabe2c3c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> FindFileTrees </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tree_iterator_8h.html#a5c26a1968a929b232c511db38f434c3b">ti_TreeIteratorRef_t</a>&#160;</td>
          <td class="paramname"><em>treeIteratorPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Search the file system and find all of the tree files stored there. This function will not check to see if the file is properly formated, just if it's in the right directory and has the correct extension. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treeIteratorPtr</td><td>The iterator to populate with tree info. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae8b21519be2385c9adca8719bb051619"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> FindLoadedTrees </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tree_iterator_8h.html#a5c26a1968a929b232c511db38f434c3b">ti_TreeIteratorRef_t</a>&#160;</td>
          <td class="paramname"><em>treeIteratorPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Find all of the trees currently loaded in memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treeIteratorPtr</td><td>The iterator to populate with tree info. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a708f22becc23d9765e5848686a230347"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> InsertTreeName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tree_iterator_8h.html#a5c26a1968a929b232c511db38f434c3b">ti_TreeIteratorRef_t</a>&#160;</td>
          <td class="paramname"><em>treeIteratorPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>treeName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Insert a tree name into the sorted tree list. If the name is a duplicate it is ignored. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treeIteratorPtr</td><td>The iterator we're inserting this name into. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">treeName</td><td>The name that's being inserted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae971b515941eda3b477f43b8b604b1fc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool IsRegularFile </td>
          <td>(</td>
          <td class="paramtype">struct dirent *&#160;</td>
          <td class="paramname"><em>dirEntryPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check whether a directory entry is a regular file or not.</p>
<dl class="section return"><dt>Returns</dt><dd>True if specified entry is a regular file False otherwise. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dirEntryPtr</td><td>Directory entry in question. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aee485b9d44fd92e4b0fa7476ddac230d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="struct_tree_item__t.html">TreeItem_t</a>* NewTreeItem </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>treeName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new tree info block.</p>
<dl class="section return"><dt>Returns</dt><dd>Always returns a new block, should never return NULL. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treeName</td><td>The name of the tree we found. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9c187ada7fc94497e4fe9a069752363e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> ti_CleanUpForSession </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a>&#160;</td>
          <td class="paramname"><em>sessionRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function takes care of releasing any open iterators that have been orphaned as a result of a session being closed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>Reference to the session that's going away. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab38d6a824542919c7f5da8c95b459a6e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__cfg_admin__interface_8h.html#a4349aae258f9dcf1fe96729dc2800157">le_cfgAdmin_IteratorRef_t</a> ti_CreateIterator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a>&#160;</td>
          <td class="paramname"><em>sessionRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new tree iterator object.</p>
<dl class="section return"><dt>Returns</dt><dd>An external reference to a newly created tree iterator object. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>The user session this request occured on. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae9b784b19fe3c6b6642aeb74d527286a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> ti_GetCurrent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tree_iterator_8h.html#a5c26a1968a929b232c511db38f434c3b">ti_TreeIteratorRef_t</a>&#160;</td>
          <td class="paramname"><em>iteratorRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>namePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nameSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the name of the tree that the iterator is currently pointed at.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if the name copy is successful. LE_OVERFLOW if the name will not fit in the target buffer. LE_NOT_FOUND is returned if the tree list is empty. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iteratorRef</td><td>Internal reference to the iterator in question. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">namePtr</td><td>Buffer to hold the tree name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nameSize</td><td>The size of the buffer in question. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="addd20af9ee7cf4473f17598f54d9d015"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> ti_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the tree iterator subsystem. </p>

</div>
</div>
<a class="anchor" id="a4da26a05098e87a554c1e999363eb319"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tree_iterator_8h.html#a5c26a1968a929b232c511db38f434c3b">ti_TreeIteratorRef_t</a> ti_InternalRefFromExternalRef </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a>&#160;</td>
          <td class="paramname"><em>sessionRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__cfg_admin__interface_8h.html#a4349aae258f9dcf1fe96729dc2800157">le_cfgAdmin_IteratorRef_t</a>&#160;</td>
          <td class="paramname"><em>externalRef</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given an external reference to an iterator, get the original iterator pointer.</p>
<dl class="section return"><dt>Returns</dt><dd>An internal reference to the tree iterator object if sucdesful. NULL if the safe ref lookup fails. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>The user session this request occured on. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">externalRef</td><td>The reference we're to look up. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a465723eedac718326df2e646b2965504"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> ti_MoveNext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tree_iterator_8h.html#a5c26a1968a929b232c511db38f434c3b">ti_TreeIteratorRef_t</a>&#160;</td>
          <td class="paramname"><em>iteratorRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Move the iterator object onto the next tree in it's list.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if there is another item to move to. LE_NOT_FOUND if the iterator is at the end of the list. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iteratorRef</td><td>Internal reference to an interator object to move. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a75626c7ae5a8d9e15680db5a24d914e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> ti_ReleaseIterator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tree_iterator_8h.html#a5c26a1968a929b232c511db38f434c3b">ti_TreeIteratorRef_t</a>&#160;</td>
          <td class="paramname"><em>iteratorRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release an iterator and invalidate it's external reference. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iteratorRef</td><td>The iterator to free. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="abf2a963403b02b971659d9efb30d40f9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__safe_ref_8h.html#aaf8fb3412fb840cb50366856affaf69b">le_ref_MapRef_t</a> IteratorRefMap = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The pool for handing tree iterator safe references. </p>

</div>
</div>
<a class="anchor" id="a676033c8fc2c39257a9ce56d4714f334"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__mem_8h.html#a44a896f6a0a1a8c733e8038eb332989e">le_mem_PoolRef_t</a> TreeItemPoolRef = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pool for allocating tree names for iterating. </p>

</div>
</div>
<a class="anchor" id="adef3e8c94b25b7d7e35d27b8c0a19a68"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__mem_8h.html#a44a896f6a0a1a8c733e8038eb332989e">le_mem_PoolRef_t</a> TreeIteratorPoolRef = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pool for allocating tree iterator objects. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.11
        </div>
    </div>
</body>
</html>
