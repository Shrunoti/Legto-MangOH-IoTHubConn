<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LEGATO: framework/daemons/linux/supervisor/frameworkDaemons.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/javascript">
//<![CDATA[
    // Detect if doc is served by eclipse
    if( ( (window.location.hostname == "127.0.0.1") || (window.location.hostname == "localhost") ) &&
        ( (window.location.port != "") && (window.location.port != 80) && (window.location.port != 443) ) )
    {
        // Inhibit init function from navtree
        initNavTree = function(toroot,relpath) {}
        $(document).ready(function(){
            navTree = document.getElementById("side-nav");
            if(navTree)
            {
                navTree.parentElement.removeChild(navTree);
            }
            $("#doc-content").css('margin-left',10);
        });
    }
//]]>
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <a href="index.html" title="Legato">
      <img alt="Logo" src="legatoLogo.png"/>
    </a>
    <div id="projectbrief">Simplifying IoT development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('framework_daemons_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">frameworkDaemons.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="legato_8h_source.html">legato.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="framework_daemons_8h_source.html">frameworkDaemons.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="limit_8h_source.html">limit.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="file_descriptor_8h_source.html">fileDescriptor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="kill_proc_8h_source.html">killProc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="smack_8h_source.html">smack.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sys_paths_8h_source.html">sysPaths.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="wait_8h_source.html">wait.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_daemon_obj__t.html">DaemonObj_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0041680469140758be68a3f08cc738e8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framework_daemons_8c.html#a0041680469140758be68a3f08cc738e8">KILL_TIMEOUT</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:a0041680469140758be68a3f08cc738e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a44b3574d5fea2564d19d31cf1c35af9a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framework_daemons_8c.html#a44b3574d5fea2564d19d31cf1c35af9a">LoadIpcBindingConfig</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a44b3574d5fea2564d19d31cf1c35af9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eb52be51b0f69901026a1b09b6475da"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framework_daemons_8c.html#a0eb52be51b0f69901026a1b09b6475da">SigChldStartingHandler</a> (int sigNum, siginfo_t *sigInfoPtr, <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *dummyPtr)</td></tr>
<tr class="separator:a0eb52be51b0f69901026a1b09b6475da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6958229ba60492c2add5675b5ce9c36e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framework_daemons_8c.html#a6958229ba60492c2add5675b5ce9c36e">StartDaemon</a> (<a class="el" href="struct_daemon_obj__t.html">DaemonObj_t</a> *daemonPtr)</td></tr>
<tr class="separator:a6958229ba60492c2add5675b5ce9c36e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ae64b9d00aedcf33349a615092664dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framework_daemons_8c.html#a8ae64b9d00aedcf33349a615092664dc">fwDaemons_Start</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a8ae64b9d00aedcf33349a615092664dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d54a2b0cdb84c00d3746088694c52d5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framework_daemons_8c.html#a4d54a2b0cdb84c00d3746088694c52d5">ShutdownNextDaemon</a> (int daemonIndex)</td></tr>
<tr class="separator:a4d54a2b0cdb84c00d3746088694c52d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3d927421d707ff515b324c32fdcc678"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framework_daemons_8c.html#ab3d927421d707ff515b324c32fdcc678">fwDaemons_Shutdown</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:ab3d927421d707ff515b324c32fdcc678"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a591df2078aa003051a2f5e588ebbeb54"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framework_daemons_8c.html#a591df2078aa003051a2f5e588ebbeb54">fwDaemons_SetShutdownHandler</a> (<a class="el" href="framework_daemons_8h.html#ada133d850dfd7bf2e201713730fa2c3b">fwDaemons_ShutdownHandler_t</a> shutdownHandler)</td></tr>
<tr class="separator:a591df2078aa003051a2f5e588ebbeb54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b15f2c258f6656b35bd2df61ed86eb7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framework_daemons_8c.html#a5b15f2c258f6656b35bd2df61ed86eb7">fwDaemons_SetIntermediateShutdownHandler</a> (<a class="el" href="framework_daemons_8h.html#ada133d850dfd7bf2e201713730fa2c3b">fwDaemons_ShutdownHandler_t</a> shutdownHandler)</td></tr>
<tr class="separator:a5b15f2c258f6656b35bd2df61ed86eb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47b649fbf2b47a86eb764e00b0f38668"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framework_daemons_8c.html#a47b649fbf2b47a86eb764e00b0f38668">fwDaemons_SigChildHandler</a> (pid_t pid)</td></tr>
<tr class="separator:a47b649fbf2b47a86eb764e00b0f38668"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a90be9c773bc5ba5ade3be3712e9931a6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="struct_daemon_obj__t.html">DaemonObj_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framework_daemons_8c.html#a90be9c773bc5ba5ade3be3712e9931a6">FrameworkDaemons</a> []</td></tr>
<tr class="separator:a90be9c773bc5ba5ade3be3712e9931a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a158c84a31e10084916707b621f950fb8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framework_daemons_8c.html#a158c84a31e10084916707b621f950fb8">ShutdownIndex</a> = -1</td></tr>
<tr class="separator:a158c84a31e10084916707b621f950fb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7d1e23525bad35704151cfd7b636e36"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="framework_daemons_8h.html#ada133d850dfd7bf2e201713730fa2c3b">fwDaemons_ShutdownHandler_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framework_daemons_8c.html#af7d1e23525bad35704151cfd7b636e36">IntermediateShutdownHandler</a> = NULL</td></tr>
<tr class="separator:af7d1e23525bad35704151cfd7b636e36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12bcffed1885b84cb01981baf2ea8c77"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="framework_daemons_8h.html#ada133d850dfd7bf2e201713730fa2c3b">fwDaemons_ShutdownHandler_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framework_daemons_8c.html#a12bcffed1885b84cb01981baf2ea8c77">ShutdownHandler</a> = NULL</td></tr>
<tr class="separator:a12bcffed1885b84cb01981baf2ea8c77"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>API for managing Legato framework daemons. The framework daemons include the Service Directory, Log Control, Configuration Tree and Watchdog.</p>
<p>Copyright (C) Sierra Wireless Inc. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a0041680469140758be68a3f08cc738e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KILL_TIMEOUT&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Time interval (milliseconds) between when a soft kill and a hard kill happens when shutting down framework daemons. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a5b15f2c258f6656b35bd2df61ed86eb7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> fwDaemons_SetIntermediateShutdownHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="framework_daemons_8h.html#ada133d850dfd7bf2e201713730fa2c3b">fwDaemons_ShutdownHandler_t</a>&#160;</td>
          <td class="paramname"><em>shutdownHandler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the intermediate shutdown handler to be called when all the framework daemons shutdown except for the Service Directory. This gives the caller a chance to do some message handling before the Service Directory is shutdown as well.</p>
<dl class="section note"><dt>Note</dt><dd>The Service Directory is the last framework daemon to shutdown. </dd></dl>

</div>
</div>
<a class="anchor" id="a591df2078aa003051a2f5e588ebbeb54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> fwDaemons_SetShutdownHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="framework_daemons_8h.html#ada133d850dfd7bf2e201713730fa2c3b">fwDaemons_ShutdownHandler_t</a>&#160;</td>
          <td class="paramname"><em>shutdownHandler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the shutdown handler to be called when all the framework daemons shutdown. </p>

</div>
</div>
<a class="anchor" id="ab3d927421d707ff515b324c32fdcc678"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> fwDaemons_Shutdown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initiates the shut down of all the framework daemons. The shut down sequence happens asynchronously. A shut down handler should be set using <a class="el" href="framework_daemons_8c.html#a591df2078aa003051a2f5e588ebbeb54">fwDaemons_SetShutdownHandler()</a> to be notified when all framework daemons actually shut down. </p>

</div>
</div>
<a class="anchor" id="a47b649fbf2b47a86eb764e00b0f38668"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> fwDaemons_SigChildHandler </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The SIGCHLD handler for the framework daemons. This should be called from the Supervisor's SIGCHILD handler.</p>
<dl class="section note"><dt>Note</dt><dd>This function will reap the child if the child is a framework daemon, otherwise the child will remain unreaped.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if the signal was handled without incident. LE_NOT_FOUND if the pid is not a framework daemon. The child will not be reaped. LE_FAULT if the signal indicates the failure of one of the framework daemons. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pid</td><td>Pid of the process that produced the SIGCHLD. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8ae64b9d00aedcf33349a615092664dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> fwDaemons_Start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start all the framework daemons. </p>

</div>
</div>
<a class="anchor" id="a44b3574d5fea2564d19d31cf1c35af9a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> LoadIpcBindingConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Load the current IPC binding configuration into the Service Directory. </p>

</div>
</div>
<a class="anchor" id="a4d54a2b0cdb84c00d3746088694c52d5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ShutdownNextDaemon </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>daemonIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Shuts down the next running framework daemon starting from the daemonIndex. This function searches backwards through the list of framework daemons, starting at daemonIndex, for the next running daemon and shuts it down.</p>
<dl class="section note"><dt>Note</dt><dd>The shutdown is asynchronous. When the process actually dies a SIGCHILD will be received.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The index of the daemon that we are shutting down. -1 if all daemons have already died. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">daemonIndex</td><td>Index of the daemon to start with. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0eb52be51b0f69901026a1b09b6475da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> SigChldStartingHandler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sigNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">siginfo_t *&#160;</td>
          <td class="paramname"><em>sigInfoPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *&#160;</td>
          <td class="paramname"><em>dummyPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handler for SIGCHLD while framework daemons are starting up. If one exits or traps, that means that the Legato system is unworkable. Exit from supervisor to trigger a reboot. </p>

</div>
</div>
<a class="anchor" id="a6958229ba60492c2add5675b5ce9c36e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> StartDaemon </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_daemon_obj__t.html">DaemonObj_t</a> *&#160;</td>
          <td class="paramname"><em>daemonPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Start a framework daemon. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">daemonPtr</td><td>The daemon to start. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a90be9c773bc5ba5ade3be3712e9931a6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_daemon_obj__t.html">DaemonObj_t</a> FrameworkDaemons[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= { {<a class="code" href="sys_paths_8h.html#aa471de4a2f86ecd70a2a0a4902c89141">SYSTEM_BIN_PATH</a> <span class="stringliteral">&quot;/serviceDirectory&quot;</span>, -1},</div><div class="line">                                          {<a class="code" href="sys_paths_8h.html#aa471de4a2f86ecd70a2a0a4902c89141">SYSTEM_BIN_PATH</a> <span class="stringliteral">&quot;/logCtrlDaemon&quot;</span>, -1},</div><div class="line">                                          {<a class="code" href="sys_paths_8h.html#aa471de4a2f86ecd70a2a0a4902c89141">SYSTEM_BIN_PATH</a> <span class="stringliteral">&quot;/configTree&quot;</span>, -1},</div><div class="line">                                          {<a class="code" href="sys_paths_8h.html#aa471de4a2f86ecd70a2a0a4902c89141">SYSTEM_BIN_PATH</a> <span class="stringliteral">&quot;/updateDaemon&quot;</span>, -1},</div><div class="line">                                          {<a class="code" href="sys_paths_8h.html#aa471de4a2f86ecd70a2a0a4902c89141">SYSTEM_BIN_PATH</a> <span class="stringliteral">&quot;/watchdog&quot;</span>, -1} }</div><div class="ttc" id="sys_paths_8h_html_aa471de4a2f86ecd70a2a0a4902c89141"><div class="ttname"><a href="sys_paths_8h.html#aa471de4a2f86ecd70a2a0a4902c89141">SYSTEM_BIN_PATH</a></div><div class="ttdeci">#define SYSTEM_BIN_PATH</div><div class="ttdef"><b>Definition:</b> sysPaths.h:46</div></div>
</div><!-- fragment --><p>List of all framework daemons in the order that they must start.</p>
<dl class="section warning"><dt>Warning</dt><dd>The order of the entire list is important and should not be changed without careful consideration.</dd></dl>
<ul>
<li>The Service Directory must be the first framework daemon in this list. Everything else needs it for IPC.</li>
<li>The Log Control Daemon is second because everything else uses logging.</li>
<li>The Config Tree must start before the Update Daemon, because the Update Daemon needs to use the configuration tree. Furthermore, the Update Daemon MUST have a chance to update the system configuration data before anything else that uses that data starts. This is because the Update Daemon may need to finish a system update.</li>
<li>The Watchdog Daemon fetches watchdog settings from the system configuration tree. </li>
</ul>

</div>
</div>
<a class="anchor" id="af7d1e23525bad35704151cfd7b636e36"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="framework_daemons_8h.html#ada133d850dfd7bf2e201713730fa2c3b">fwDaemons_ShutdownHandler_t</a> IntermediateShutdownHandler = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The intermediate shutdown notification handler. This will be called when all framework daemons, except the Service Directory, have shutdown. </p>

</div>
</div>
<a class="anchor" id="a12bcffed1885b84cb01981baf2ea8c77"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="framework_daemons_8h.html#ada133d850dfd7bf2e201713730fa2c3b">fwDaemons_ShutdownHandler_t</a> ShutdownHandler = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The shutdown notification handler. This will be called when all framework daemons have shutdown. </p>

</div>
</div>
<a class="anchor" id="a158c84a31e10084916707b621f950fb8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ShutdownIndex = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Index in the list of FrameworkDaemons to shutdown. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.11
        </div>
    </div>
</body>
</html>
