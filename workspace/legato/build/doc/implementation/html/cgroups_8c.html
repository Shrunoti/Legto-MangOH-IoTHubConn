<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LEGATO: framework/liblegato/linux/cgroups.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/javascript">
//<![CDATA[
    // Detect if doc is served by eclipse
    if( ( (window.location.hostname == "127.0.0.1") || (window.location.hostname == "localhost") ) &&
        ( (window.location.port != "") && (window.location.port != 80) && (window.location.port != 443) ) )
    {
        // Inhibit init function from navtree
        initNavTree = function(toroot,relpath) {}
        $(document).ready(function(){
            navTree = document.getElementById("side-nav");
            if(navTree)
            {
                navTree.parentElement.removeChild(navTree);
            }
            $("#doc-content").css('margin-left',10);
        });
    }
//]]>
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <a href="index.html" title="Legato">
      <img alt="Logo" src="legatoLogo.png"/>
    </a>
    <div id="projectbrief">Simplifying IoT development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('cgroups_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">cgroups.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="legato_8h_source.html">legato.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cgroups_8h_source.html">cgroups.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="limit_8h_source.html">limit.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="file_descriptor_8h_source.html">fileDescriptor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="file_system_8h_source.html">fileSystem.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="kill_proc_8h_source.html">killProc.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad001da02ced4ad61e2f7e152fd33a5b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#ad001da02ced4ad61e2f7e152fd33a5b8">ROOT_PATH</a>&#160;&#160;&#160;&quot;/sys/fs/cgroup&quot;</td></tr>
<tr class="separator:ad001da02ced4ad61e2f7e152fd33a5b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a830026324fed9d99511c1c6996d74884"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#a830026324fed9d99511c1c6996d74884">ROOT_NAME</a>&#160;&#160;&#160;&quot;cgroupsRoot&quot;</td></tr>
<tr class="separator:a830026324fed9d99511c1c6996d74884"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13bb8393ce02e77f60a7d8f1d7fac618"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#a13bb8393ce02e77f60a7d8f1d7fac618">TASKS_FILENAME</a>&#160;&#160;&#160;&quot;tasks&quot;</td></tr>
<tr class="separator:a13bb8393ce02e77f60a7d8f1d7fac618"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad83930b489d080c8396246a408c4c17f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#ad83930b489d080c8396246a408c4c17f">PROCS_FILENAME</a>&#160;&#160;&#160;&quot;cgroup.procs&quot;</td></tr>
<tr class="separator:ad83930b489d080c8396246a408c4c17f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59d608d499db9c120392911459ad24df"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#a59d608d499db9c120392911459ad24df">CPU_SHARES_FILENAME</a>&#160;&#160;&#160;&quot;cpu.shares&quot;</td></tr>
<tr class="separator:a59d608d499db9c120392911459ad24df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bc8792bc8ce16e4ebed16b576fba424"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#a6bc8792bc8ce16e4ebed16b576fba424">MEM_LIMIT_FILENAME</a>&#160;&#160;&#160;&quot;memory.limit_in_bytes&quot;</td></tr>
<tr class="separator:a6bc8792bc8ce16e4ebed16b576fba424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a760e9d29e28a0dc85f24b6ade2f58524"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#a760e9d29e28a0dc85f24b6ade2f58524">FREEZE_STATE_FILENAME</a>&#160;&#160;&#160;&quot;freezer.state&quot;</td></tr>
<tr class="separator:a760e9d29e28a0dc85f24b6ade2f58524"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a001791a21d538b8b9176287ae60d9b61"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#a001791a21d538b8b9176287ae60d9b61">MAX_DIGITS</a>&#160;&#160;&#160;100</td></tr>
<tr class="separator:a001791a21d538b8b9176287ae60d9b61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a393acc95fbe5b458b011a48ad26540d1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#a393acc95fbe5b458b011a48ad26540d1">MAX_FREEZE_STATE_BYTES</a>&#160;&#160;&#160;20</td></tr>
<tr class="separator:a393acc95fbe5b458b011a48ad26540d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af5a48874a70112741efa767867f8e9de"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#af5a48874a70112741efa767867f8e9de">IsAllSubSysMounted</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:af5a48874a70112741efa767867f8e9de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa215e00966c2e553e6481a23dc69bdea"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#aa215e00966c2e553e6481a23dc69bdea">MountSubSys</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:aa215e00966c2e553e6481a23dc69bdea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8735d2e07614a24397d740f30243bdff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#a8735d2e07614a24397d740f30243bdff">cgrp_Init</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a8735d2e07614a24397d740f30243bdff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb0b8e258b0cb5ae4c4daac4f865bd2b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#adb0b8e258b0cb5ae4c4daac4f865bd2b">OpenCgrpFile</a> (<a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77c">cgrp_SubSys_t</a> subsystem, const char *cgroupNamePtr, const char *fileNamePtr, int accessMode)</td></tr>
<tr class="separator:adb0b8e258b0cb5ae4c4daac4f865bd2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67fff0d7b4fb809f6321354357ee9ef4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#a67fff0d7b4fb809f6321354357ee9ef4">WriteToFile</a> (<a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77c">cgrp_SubSys_t</a> subsystem, const char *cgroupNamePtr, const char *fileNamePtr, const char *string)</td></tr>
<tr class="separator:a67fff0d7b4fb809f6321354357ee9ef4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b30d126ac0d291cdcbaefac48fbebe7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#a6b30d126ac0d291cdcbaefac48fbebe7">GetValue</a> (<a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77c">cgrp_SubSys_t</a> subsystem, const char *cgroupNamePtr, const char *fileNamePtr, char *bufPtr, size_t bufSize)</td></tr>
<tr class="separator:a6b30d126ac0d291cdcbaefac48fbebe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5c4dff3f203a59b27bcaa58cdf89816"><td class="memItemLeft" align="right" valign="top">static pid_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#ae5c4dff3f203a59b27bcaa58cdf89816">GetTasksId</a> (int <a class="el" href="app_stop_client_8c.html#a44f21d5190b5a6df8089f54799628d7e">fd</a>)</td></tr>
<tr class="separator:ae5c4dff3f203a59b27bcaa58cdf89816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd71496eca8d92a23be566c35d0d19d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#a1cd71496eca8d92a23be566c35d0d19d">RemoveTrailingWhiteSpace</a> (char *strPtr)</td></tr>
<tr class="separator:a1cd71496eca8d92a23be566c35d0d19d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a160b66801eaad9d32c2e8ae11befc304"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#a160b66801eaad9d32c2e8ae11befc304">cgrp_Create</a> (<a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77c">cgrp_SubSys_t</a> subsystem, const char *cgroupNamePtr)</td></tr>
<tr class="separator:a160b66801eaad9d32c2e8ae11befc304"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab16293818696bec9ee17c741e70153f0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#ab16293818696bec9ee17c741e70153f0">cgrp_AddProc</a> (<a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77c">cgrp_SubSys_t</a> subsystem, const char *cgroupNamePtr, pid_t pidToAdd)</td></tr>
<tr class="separator:ab16293818696bec9ee17c741e70153f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17470f7d8ccd0a5d4905b5296520cd11"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#a17470f7d8ccd0a5d4905b5296520cd11">BuildTidList</a> (int <a class="el" href="app_stop_client_8c.html#a44f21d5190b5a6df8089f54799628d7e">fd</a>, pid_t *idListPtr, size_t maxIds)</td></tr>
<tr class="separator:a17470f7d8ccd0a5d4905b5296520cd11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b0c1fa94dbb1626bb47f85f822ef58d"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#a1b0c1fa94dbb1626bb47f85f822ef58d">cgrp_GetThreadList</a> (<a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77c">cgrp_SubSys_t</a> subsystem, const char *cgroupNamePtr, pid_t *tidListPtr, size_t maxTids)</td></tr>
<tr class="separator:a1b0c1fa94dbb1626bb47f85f822ef58d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7731c42c3d42654c271d6584cc0356d"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#aa7731c42c3d42654c271d6584cc0356d">cgrp_GetProcessesList</a> (<a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77c">cgrp_SubSys_t</a> subsystem, const char *cgroupNamePtr, pid_t *pidListPtr, size_t maxPids)</td></tr>
<tr class="separator:aa7731c42c3d42654c271d6584cc0356d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49aeee12bf5f7b8adeff02764103d9df"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#a49aeee12bf5f7b8adeff02764103d9df">cgrp_SendSig</a> (<a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77c">cgrp_SubSys_t</a> subsystem, const char *cgroupNamePtr, int sig)</td></tr>
<tr class="separator:a49aeee12bf5f7b8adeff02764103d9df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5b46d738fa7ccc3b917b5b29368892d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#af5b46d738fa7ccc3b917b5b29368892d">cgrp_IsEmpty</a> (<a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77c">cgrp_SubSys_t</a> subsystem, const char *cgroupNamePtr)</td></tr>
<tr class="separator:af5b46d738fa7ccc3b917b5b29368892d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af811323b51196a31f2417b54e02e79d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#af811323b51196a31f2417b54e02e79d3">cgrp_Delete</a> (<a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77c">cgrp_SubSys_t</a> subsystem, const char *cgroupNamePtr)</td></tr>
<tr class="separator:af811323b51196a31f2417b54e02e79d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a133106fb988771994e749b8d27bf7f12"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#a133106fb988771994e749b8d27bf7f12">cgrp_SubSysName</a> (<a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77c">cgrp_SubSys_t</a> subsystem)</td></tr>
<tr class="separator:a133106fb988771994e749b8d27bf7f12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad83dc21bd1c3901bbce4315ab37ee7e6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#ad83dc21bd1c3901bbce4315ab37ee7e6">cgrp_cpu_SetShare</a> (const char *cgroupNamePtr, size_t share)</td></tr>
<tr class="separator:ad83dc21bd1c3901bbce4315ab37ee7e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04562acf22ce2cdef0738b509c1dbd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#a3c04562acf22ce2cdef0738b509c1dbd">cgrp_mem_SetLimit</a> (const char *cgroupNamePtr, size_t limit)</td></tr>
<tr class="separator:a3c04562acf22ce2cdef0738b509c1dbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2607ffaf6eb2e2588d6b91d631c6f66d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#a2607ffaf6eb2e2588d6b91d631c6f66d">cgrp_frz_Freeze</a> (const char *cgroupNamePtr)</td></tr>
<tr class="separator:a2607ffaf6eb2e2588d6b91d631c6f66d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c491bdd4e05c125397fe66b655eb12d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#a3c491bdd4e05c125397fe66b655eb12d">cgrp_frz_Thaw</a> (const char *cgroupNamePtr)</td></tr>
<tr class="separator:a3c491bdd4e05c125397fe66b655eb12d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad53ddc667632d27dc19d1efc0b617d03"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cgroups_8h.html#a4195cb6b70449bb93493a6226f97d7ce">cgrp_FreezeState_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#ad53ddc667632d27dc19d1efc0b617d03">cgrp_frz_GetState</a> (const char *cgroupNamePtr)</td></tr>
<tr class="separator:ad53ddc667632d27dc19d1efc0b617d03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a183413112024ffa9813f1f87d268f6a4"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#a183413112024ffa9813f1f87d268f6a4">cgrp_GetMemUsed</a> (const char *cgroupNamePtr)</td></tr>
<tr class="separator:a183413112024ffa9813f1f87d268f6a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9dc8c45c6be255a140bb1f5838eccff"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#ae9dc8c45c6be255a140bb1f5838eccff">cgrp_GetMaxMemUsed</a> (const char *cgroupNamePtr)</td></tr>
<tr class="separator:ae9dc8c45c6be255a140bb1f5838eccff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a38a7c74608a1f41e01122b5ed5a15dc1"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgroups_8c.html#a38a7c74608a1f41e01122b5ed5a15dc1">SubSysName</a> [<a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77cad0de2d0cb1e87e79de36cbdbbc3503d3">CGRP_NUM_SUBSYSTEMS</a>] = {&quot;cpu,cpuacct&quot;, &quot;memory&quot;, &quot;freezer&quot;}</td></tr>
<tr class="separator:a38a7c74608a1f41e01122b5ed5a15dc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>API for creating and managing cgroups.</p>
<p>Copyright (C) Sierra Wireless Inc. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a59d608d499db9c120392911459ad24df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPU_SHARES_FILENAME&#160;&#160;&#160;&quot;cpu.shares&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cpu shares file. </p>

</div>
</div>
<a class="anchor" id="a760e9d29e28a0dc85f24b6ade2f58524"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FREEZE_STATE_FILENAME&#160;&#160;&#160;&quot;freezer.state&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Freeze state file. </p>

</div>
</div>
<a class="anchor" id="a001791a21d538b8b9176287ae60d9b61"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_DIGITS&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum digits in a cgroup integer value. </p>

</div>
</div>
<a class="anchor" id="a393acc95fbe5b458b011a48ad26540d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_FREEZE_STATE_BYTES&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum number of bytes in a freezing state string. </p>

</div>
</div>
<a class="anchor" id="a6bc8792bc8ce16e4ebed16b576fba424"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MEM_LIMIT_FILENAME&#160;&#160;&#160;&quot;memory.limit_in_bytes&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Memory limit file. </p>

</div>
</div>
<a class="anchor" id="ad83930b489d080c8396246a408c4c17f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROCS_FILENAME&#160;&#160;&#160;&quot;cgroup.procs&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cgroup procs file. The procs file list the PIDs of all processes in a cgroup. </p>

</div>
</div>
<a class="anchor" id="a830026324fed9d99511c1c6996d74884"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ROOT_NAME&#160;&#160;&#160;&quot;cgroupsRoot&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad001da02ced4ad61e2f7e152fd33a5b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ROOT_PATH&#160;&#160;&#160;&quot;/sys/fs/cgroup&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Root path for all cgroups. </p>

</div>
</div>
<a class="anchor" id="a13bb8393ce02e77f60a7d8f1d7fac618"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASKS_FILENAME&#160;&#160;&#160;&quot;tasks&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cgroup tasks file. The tasks file list the PIDs of all threads in a cgroup. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a17470f7d8ccd0a5d4905b5296520cd11"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t BuildTidList </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pid_t *&#160;</td>
          <td class="paramname"><em>idListPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maxIds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reads a list of tids/pids from an open file descriptor. The number of pids in the file may be larger than maxIds, in which case idListPtr will be filled with the first maxIds PIDs. We can re-use this code for tids or pids because, in linux, all tids are pids and vice versa.</p>
<dl class="section return"><dt>Returns</dt><dd>The number of ids that are read if successful. LE_FAULT if there was some other error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">idListPtr</td><td>Buffer that will contain the list of PIDs. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxIds</td><td>The maximum number of pids pidListPtr can hold. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab16293818696bec9ee17c741e70153f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> cgrp_AddProc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77c">cgrp_SubSys_t</a>&#160;</td>
          <td class="paramname"><em>subsystem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cgroupNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pidToAdd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds a process to a cgroup.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_OUT_OF_RANGE if the process doesn't exist. LE_FAULT if there was some other error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">subsystem</td><td>Sub-system of the cgroup. </td></tr>
    <tr><td class="paramname">cgroupNamePtr</td><td>Name of the cgroup to add the process to. </td></tr>
    <tr><td class="paramname">pidToAdd</td><td>PID of the process to add. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad83dc21bd1c3901bbce4315ab37ee7e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> cgrp_cpu_SetShare </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cgroupNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>share</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the cpu share of a cgroup.</p>
<p>Cpu share is used to calculate the cpu percentage for a process relative to all other processes in the system. Newly created cgroups and processes not belonging to a cgroup are given a default value of 1024. The actual percentage of the cpu given to a process is calculated as:</p>
<p>(share value of process) / (sum of shares from all processes contending for the cpu)</p>
<p>All processes within a cgroup share the available cpu share for that cgroup.</p>
<p>For example:</p>
<p>cgroupA is configured with the default share value, 1024. cgroupB is configured with 512 as its share value. cgroupC is configured with 2048 as its share value.</p>
<p>cgroupA has one process running. cgroupB has two processes running. cgroupC has one process running.</p>
<p>Assuming that all processes in cgroupA, cgroupB and cgroupC are running and not blocked waiting for some I/O or timer event and that another system process is also running.</p>
<p>Sum of all shares (including the one system process) is 1024 + 512 + 2048 + 1024 = 4608</p>
<p>The process in cgroupA will get 1024/4608 = 22% of the cpu. The two processes in cgroupB will share 512/4608 = 11% of the cpu, each process getting 5.5%. The process in cgroupC will get 2048/4608 = 44% of the cpu. The system process will get 1024/4608 = 22% of the cpu.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_FAULT if there was an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cgroupNamePtr</td><td>Name of the cgroup to set the share for. </td></tr>
    <tr><td class="paramname">share</td><td>Share value to set. See the function header for more details. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a160b66801eaad9d32c2e8ae11befc304"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> cgrp_Create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77c">cgrp_SubSys_t</a>&#160;</td>
          <td class="paramname"><em>subsystem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cgroupNamePtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a cgroup with the specified name in the specified sub-system. If the cgroup already exists this function has no effect.</p>
<p>Sub-groups can be created by providing a path as the name. For example, cgrp_Create(CGRP_SUBSYS_CPU, "Students/Undergrads"); will create a cgroup called "Undergrads" that is a sub-group of "Students". Note that all parent groups must first exist before a sub-group can be created.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_DUPLICATE if the cgroup already exists. LE_FAULT if there was an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">subsystem</td><td>Sub-system the cgroup belongs to. </td></tr>
    <tr><td class="paramname">cgroupNamePtr</td><td>Name of the cgroup to create. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af811323b51196a31f2417b54e02e79d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> cgrp_Delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77c">cgrp_SubSys_t</a>&#160;</td>
          <td class="paramname"><em>subsystem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cgroupNamePtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deletes a cgroup.</p>
<dl class="section note"><dt>Note</dt><dd>A cgroup can only be removed when there are no processes in the group. Ensure there are no processes in a cgroup (by killing the processes) before attempting to delete it.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if the cgroup was successfully deleted. LE_BUSY if the cgroup could not be deleted because there are still processes in the cgroup. LE_FAULT if there was some other error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">subsystem</td><td>Sub-system of the cgroup. </td></tr>
    <tr><td class="paramname">cgroupNamePtr</td><td>Name of the cgroup to delete. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2607ffaf6eb2e2588d6b91d631c6f66d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> cgrp_frz_Freeze </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cgroupNamePtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Freezes all the tasks in a cgroup. This is an asynchronous function call that returns immediately at which point the freeze state of the cgroup may not be updated yet. Check the current state of the cgroup using <a class="el" href="cgroups_8c.html#ad53ddc667632d27dc19d1efc0b617d03">cgrp_frz_GetState()</a>. Once a cgroup is frozen all tasks in the cgroup are prevented from being scheduled by the kernel.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_FAULT if there was an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cgroupNamePtr</td><td>Name of the cgroup. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad53ddc667632d27dc19d1efc0b617d03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cgroups_8h.html#a4195cb6b70449bb93493a6226f97d7ce">cgrp_FreezeState_t</a> cgrp_frz_GetState </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cgroupNamePtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the freeze state of the cgroup.</p>
<dl class="section return"><dt>Returns</dt><dd>Freeze state of the cgroup if successful. LE_FAULT if there was an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cgroupNamePtr</td><td>Name of the cgroup. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3c491bdd4e05c125397fe66b655eb12d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> cgrp_frz_Thaw </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cgroupNamePtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Thaws all the tasks in a cgroup. This is an asynchronous function call that returns immediately at which point the freeze state of the cgroup may not be updated yet. Check the current state of the cgroup using <a class="el" href="cgroups_8c.html#ad53ddc667632d27dc19d1efc0b617d03">cgrp_frz_GetState()</a>. Once a cgroup is thawed all tasks in the cgroup are permitted to be scheduled by the kernel.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_FAULT if there was an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cgroupNamePtr</td><td>Name of the cgroup. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae9dc8c45c6be255a140bb1f5838eccff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t cgrp_GetMaxMemUsed </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cgroupNamePtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the maximum amount of memory used in bytes by a cgroup. </p><dl class="section return"><dt>Returns</dt><dd>Maximum number of bytes used at any time up to now by this cgroup. LE_FAULT if there was an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cgroupNamePtr</td><td>Name of the cgroup. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a183413112024ffa9813f1f87d268f6a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t cgrp_GetMemUsed </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cgroupNamePtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the amount of memory used in bytes by a cgroup</p>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes in use by the cgroup. LE_FAULT if there was an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cgroupNamePtr</td><td>Name of the cgroup. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa7731c42c3d42654c271d6584cc0356d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t cgrp_GetProcessesList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77c">cgrp_SubSys_t</a>&#160;</td>
          <td class="paramname"><em>subsystem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cgroupNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pid_t *&#160;</td>
          <td class="paramname"><em>pidListPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maxPids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets a list of processes that are in a cgroup. The number of processes in the cgroup may be larger than maxPids, in which case pidListPtr will be filled with the first maxPids PIDs.</p>
<dl class="section return"><dt>Returns</dt><dd>The number of threads that are in the cgroup if successful. LE_FAULT if there was some other error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">subsystem</td><td>Sub-system of the cgroup. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cgroupNamePtr</td><td>Name of the cgroup. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pidListPtr</td><td>Buffer that will contain the list of PIDs. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxPids</td><td>The maximum number of pids pidListPtr can hold. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1b0c1fa94dbb1626bb47f85f822ef58d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t cgrp_GetThreadList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77c">cgrp_SubSys_t</a>&#160;</td>
          <td class="paramname"><em>subsystem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cgroupNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pid_t *&#160;</td>
          <td class="paramname"><em>tidListPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maxTids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets a list of threads that are in a cgroup. The number of threads in the cgroup may be larger than maxTids, in which case tidListPtr will be filled with the first maxTids TIDs.</p>
<dl class="section return"><dt>Returns</dt><dd>The number of threads that are in the cgroup if successful. LE_FAULT if there was some other error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">subsystem</td><td>Sub-system of the cgroup. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cgroupNamePtr</td><td>Name of the cgroup. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">tidListPtr</td><td>Buffer that will contain the list of TIDs. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxTids</td><td>The maximum number of tids tidListPtr can hold. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8735d2e07614a24397d740f30243bdff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> cgrp_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes cgroups for the system. Sets up a hierarchy for each supported subsystem.</p>
<dl class="section note"><dt>Note</dt><dd>Should be called once for the entire system, subsequent calls to this function will have no effect. Must be called before any of the other functions in this API is called.</dd>
<dd>
Failures will cause the calling process to exit. </dd></dl>

</div>
</div>
<a class="anchor" id="af5b46d738fa7ccc3b917b5b29368892d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cgrp_IsEmpty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77c">cgrp_SubSys_t</a>&#160;</td>
          <td class="paramname"><em>subsystem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cgroupNamePtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if the specified cgroup is empty of all processes.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the specified cgroup has no processes in it. false if there are processes in the specified cgroup. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">subsystem</td><td>Sub-system of the cgroup. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cgroupNamePtr</td><td>Name of the cgroup. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3c04562acf22ce2cdef0738b509c1dbd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> cgrp_mem_SetLimit </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cgroupNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the memory limit for a cgroup.</p>
<dl class="section note"><dt>Note</dt><dd>All processes in a cgroup share the available memory for that cgroup.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_FAULT if there was an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cgroupNamePtr</td><td>Name of the cgroup to set the limit for. </td></tr>
    <tr><td class="paramname">limit</td><td>Memory limit in kilobytes. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a49aeee12bf5f7b8adeff02764103d9df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t cgrp_SendSig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77c">cgrp_SubSys_t</a>&#160;</td>
          <td class="paramname"><em>subsystem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cgroupNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends the specified signal to all the processes in the specified cgroup.</p>
<dl class="section return"><dt>Returns</dt><dd>The number of PIDs that are in the cgroup. LE_FAULT if there an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">subsystem</td><td>Sub-system of the cgroup. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cgroupNamePtr</td><td>Name of the cgroup. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sig</td><td>The signal to send. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a133106fb988771994e749b8d27bf7f12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* cgrp_SubSysName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77c">cgrp_SubSys_t</a>&#160;</td>
          <td class="paramname"><em>subsystem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the name of sub-system.</p>
<dl class="section note"><dt>Note</dt><dd>Do not attempt to modify the returned name in place. If you need to make modifications copy the name into your own buffer.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The name of the sub-system. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">subsystem</td><td>Sub-system. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae5c4dff3f203a59b27bcaa58cdf89816"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static pid_t GetTasksId </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reads a PID from the opened procs or tasks file specified by fd. Updates the file offset of fd.</p>
<dl class="section return"><dt>Returns</dt><dd>The current PID read from the file if successful. LE_OUT_OF_RANGE if there is nothing left to read. LE_FAULT if there was some other error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fd</td><td>File descriptor to an opened procs or tasks file. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6b30d126ac0d291cdcbaefac48fbebe7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> GetValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77c">cgrp_SubSys_t</a>&#160;</td>
          <td class="paramname"><em>subsystem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cgroupNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fileNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>bufPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bufSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets a value from a cgroup file. The value is read as a string and so a NULL-terminator is always appended to the end of the read value in bufPtr.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_OVERFLOW if the provided buffer is too small. LE_FAULT if there was an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">subsystem</td><td>Sub-system of the cgroup. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cgroupNamePtr</td><td>Name of the cgroup. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fileNamePtr</td><td>File name to read from. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bufPtr</td><td>Buffer to store the value in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufSize</td><td>Size of the buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af5a48874a70112741efa767867f8e9de"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool IsAllSubSysMounted </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks if all cgroup subsystems are mounted.</p>
<dl class="section return"><dt>Returns</dt><dd>true if all subsystems are mounted. false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="aa215e00966c2e553e6481a23dc69bdea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> MountSubSys </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Setup a separate cgroup hierarchy for each supported subsystem. </p>

</div>
</div>
<a class="anchor" id="adb0b8e258b0cb5ae4c4daac4f865bd2b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int OpenCgrpFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77c">cgrp_SubSys_t</a>&#160;</td>
          <td class="paramname"><em>subsystem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cgroupNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fileNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>accessMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Opens a cgroup file.</p>
<dl class="section return"><dt>Returns</dt><dd>The file descriptor of the cgroup's tasks file if successful. A negative value if there was an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">subsystem</td><td>Sub-system of the cgroup. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cgroupNamePtr</td><td>Name of the cgroup. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fileNamePtr</td><td>Name of the file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accessMode</td><td>Either O_RDONLY, O_WRONLY, or O_RDWR. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1cd71496eca8d92a23be566c35d0d19d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> RemoveTrailingWhiteSpace </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>strPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Modifies the string by removing all trailing white space from the string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">strPtr</td><td>String to modify. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a67fff0d7b4fb809f6321354357ee9ef4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> WriteToFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77c">cgrp_SubSys_t</a>&#160;</td>
          <td class="paramname"><em>subsystem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cgroupNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fileNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>string</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Writes a string to a cgroup file. Overwrites what is currently in the file.</p>
<dl class="section note"><dt>Note</dt><dd>Certain file types cannot accept certain types of data, and the write may fail with a specific errno value. If the write fails with errno ESRCH this function will return LE_OUT_OF_RANGE.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_OUT_OF_RANGE if an attempt was made to write a value that the file cannot accept. LE_FAULT if there was some other error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">subsystem</td><td>Sub-system of the cgroup. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cgroupNamePtr</td><td>Name of the cgroup. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fileNamePtr</td><td>File to write to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">string</td><td>String to write into the file. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a38a7c74608a1f41e01122b5ed5a15dc1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* SubSysName[<a class="el" href="cgroups_8h.html#ad2eee571b4d42dc6b59514081d9de77cad0de2d0cb1e87e79de36cbdbbc3503d3">CGRP_NUM_SUBSYSTEMS</a>] = {&quot;cpu,cpuacct&quot;, &quot;memory&quot;, &quot;freezer&quot;}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Cgroup sub-system names. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.11
        </div>
    </div>
</body>
</html>
