<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LEGATO: framework/daemons/linux/updateDaemon/updateDaemon.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/javascript">
//<![CDATA[
    // Detect if doc is served by eclipse
    if( ( (window.location.hostname == "127.0.0.1") || (window.location.hostname == "localhost") ) &&
        ( (window.location.port != "") && (window.location.port != 80) && (window.location.port != 443) ) )
    {
        // Inhibit init function from navtree
        initNavTree = function(toroot,relpath) {}
        $(document).ready(function(){
            navTree = document.getElementById("side-nav");
            if(navTree)
            {
                navTree.parentElement.removeChild(navTree);
            }
            $("#doc-content").css('margin-left',10);
        });
    }
//]]>
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <a href="index.html" title="Legato">
      <img alt="Logo" src="legatoLogo.png"/>
    </a>
    <div id="projectbrief">Simplifying IoT development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('update_daemon_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">updateDaemon.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="legato_8h_source.html">legato.h</a>&quot;</code><br />
<code>#include &quot;interfaces.h&quot;</code><br />
<code>#include &quot;<a class="el" href="limit_8h_source.html">limit.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="file_descriptor_8h_source.html">fileDescriptor.h</a>&quot;</code><br />
<code>#include &quot;user.h&quot;</code><br />
<code>#include &quot;<a class="el" href="pipeline_8h_source.html">pipeline.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="update_unpack_8h_source.html">updateUnpack.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="inst_stat_8h_source.html">instStat.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="daemons_2linux_2update_daemon_2app_8h_source.html">app.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="daemons_2linux_2update_daemon_2system_8h_source.html">system.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sys_status_8h_source.html">sysStatus.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sys_paths_8h_source.html">sysPaths.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sup_ctrl_8h_source.html">supCtrl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="update_ctrl_8h_source.html">updateCtrl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="installer_8h_source.html">installer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="properties_8h_source.html">properties.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fs_sys_8h_source.html">fsSys.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ima_8h_source.html">ima.h</a>&quot;</code><br />
<code>#include &quot;file.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_client_progress_handler__t.html">ClientProgressHandler_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a3ddb0fef811bda6f92ac076b02acfea1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a3ddb0fef811bda6f92ac076b02acfea1">PROBATION_PERIOD</a>&#160;&#160;&#160;(30 * 60 * 1000)</td></tr>
<tr class="separator:a3ddb0fef811bda6f92ac076b02acfea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad45ce1b90dc6a8836f7bf381c380b95e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#ad45ce1b90dc6a8836f7bf381c380b95e">MAX_CFGTREE_NAME_BYTES</a>&#160;&#160;&#160;<a class="el" href="limit_8h.html#a6edbf14b38ca141c9e2a6edef24e44bf">LIMIT_MAX_USER_NAME_BYTES</a></td></tr>
<tr class="separator:ad45ce1b90dc6a8836f7bf381c380b95e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a16af7b253440dadd46a80a4b9fddba4d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="update_daemon_8c.html#a16af7b253440dadd46a80a4b9fddba4daaade5e53e88cf231292cd1142cce2afe">STATE_IDLE</a>, 
<a class="el" href="update_daemon_8c.html#a16af7b253440dadd46a80a4b9fddba4da7514d81145a1ffcf0a895a400e655585">STATE_UNPACKING</a>, 
<a class="el" href="update_daemon_8c.html#a16af7b253440dadd46a80a4b9fddba4dac0f18a763f91d4a3e43c153a125f5ec1">STATE_SECURITY_CHECKING</a>, 
<a class="el" href="update_daemon_8c.html#a16af7b253440dadd46a80a4b9fddba4da7d58af2948bc1526109821b1b4fa75f9">STATE_APPLYING</a>
 }</td></tr>
<tr class="separator:a16af7b253440dadd46a80a4b9fddba4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a10615db71fa6108e89800ca40cc7c73e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a10615db71fa6108e89800ca40cc7c73e">StartProbation</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a10615db71fa6108e89800ca40cc7c73e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaa0ea1beec4d844a1af5247bb1e99bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#aaaa0ea1beec4d844a1af5247bb1e99bf">updateDaemon_MarkGood</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:aaaa0ea1beec4d844a1af5247bb1e99bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d73fca4446249b1de29bd6ade3f2b60"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a4d73fca4446249b1de29bd6ade3f2b60">HandleProbationExpiry</a> (<a class="el" href="le__timer_8h.html#a763fa6992488cdce3b5a820817094838">le_timer_Ref_t</a> timer)</td></tr>
<tr class="separator:a4d73fca4446249b1de29bd6ade3f2b60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a209e1e20ce704de4b28d4cc7272e85f1"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a209e1e20ce704de4b28d4cc7272e85f1">IsValidFileDesc</a> (int <a class="el" href="app_stop_client_8c.html#a44f21d5190b5a6df8089f54799628d7e">fd</a>)</td></tr>
<tr class="separator:a209e1e20ce704de4b28d4cc7272e85f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad22e8e2806faf44fdbd4409b66e2f9f8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#ad22e8e2806faf44fdbd4409b66e2f9f8">SecurityUnpack</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *param)</td></tr>
<tr class="separator:ad22e8e2806faf44fdbd4409b66e2f9f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7501da27837a6d6e9e2e6a194bb86d32"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a7501da27837a6d6e9e2e6a194bb86d32">FileExists</a> (const char *filePath)</td></tr>
<tr class="separator:a7501da27837a6d6e9e2e6a194bb86d32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07b311f10d06d7423b5d55426a81fde8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a07b311f10d06d7423b5d55426a81fde8">CallStatusHandlers</a> (<a class="el" href="le__update__interface_8h.html#ae9758536ebaf1842cdaaddd6cf95a672">le_update_State_t</a> apiState, unsigned int percentDone)</td></tr>
<tr class="separator:a07b311f10d06d7423b5d55426a81fde8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5be363e86f5cc5e959acac9802c4a582"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a5be363e86f5cc5e959acac9802c4a582">UpdateFailed</a> (<a class="el" href="le__update__interface_8h.html#a24bac90fc939c561c64d13608cc78a20">le_update_ErrorCode_t</a> errCode)</td></tr>
<tr class="separator:a5be363e86f5cc5e959acac9802c4a582"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd445689161fe9d7fd5bae5ae63554e1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#acd445689161fe9d7fd5bae5ae63554e1">ReportUpdateDone</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:acd445689161fe9d7fd5bae5ae63554e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0f891c5dd78594a12973322d48e9945"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#ae0f891c5dd78594a12973322d48e9945">InstallSystemApps</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:ae0f891c5dd78594a12973322d48e9945"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a016eeacbdb94546818d7b477535ba2a4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a016eeacbdb94546818d7b477535ba2a4">SetupSystemAppsWritable</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a016eeacbdb94546818d7b477535ba2a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa604911931b460c43f2795590d4dc920"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#aa604911931b460c43f2795590d4dc920">VerifyAppUnpackDir</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:aa604911931b460c43f2795590d4dc920"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bc6c75f2ad5d333355f93b871511fbf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a1bc6c75f2ad5d333355f93b871511fbf">VerifyUnpackedSystem</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a1bc6c75f2ad5d333355f93b871511fbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b35dcefb87059588e43100c2a08afbd"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a3b35dcefb87059588e43100c2a08afbd">ApplySystemUpdate</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a3b35dcefb87059588e43100c2a08afbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb6d758142f889764fb61bca72e3c053"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#adb6d758142f889764fb61bca72e3c053">ApplyAppUpdate</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:adb6d758142f889764fb61bca72e3c053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5e13145e3efbd174e45c3f88a8ed536"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#ad5e13145e3efbd174e45c3f88a8ed536">ApplyAppRemove</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:ad5e13145e3efbd174e45c3f88a8ed536"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7326dda672f3d73f18bc93820eef9c4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#ae7326dda672f3d73f18bc93820eef9c4">ApplyUpdate</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *unused)</td></tr>
<tr class="separator:ae7326dda672f3d73f18bc93820eef9c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac44bfe36cdc5c8da29456b8cefb774e6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#ac44bfe36cdc5c8da29456b8cefb774e6">UnpackDone</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:ac44bfe36cdc5c8da29456b8cefb774e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a515f1f30a653d699ee40da76cf23df64"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a515f1f30a653d699ee40da76cf23df64">HandleUpdateProgress</a> (<a class="el" href="update_unpack_8h.html#a40469bc8f509ecaf999c52181e6b4bbc">updateUnpack_ProgressCode_t</a> progressCode, unsigned int percentDone)</td></tr>
<tr class="separator:a515f1f30a653d699ee40da76cf23df64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36eed88d409dbc7aba230cb03b3f9bd1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a36eed88d409dbc7aba230cb03b3f9bd1">EndUpdate</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a36eed88d409dbc7aba230cb03b3f9bd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34cdb7230815295d1c55fcacd0b8c316"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a34cdb7230815295d1c55fcacd0b8c316">UpdateServiceClosed</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> <a class="el" href="log_tool_8c.html#a0ba04d68f0faec00ca0db1c014f248be">sessionRef</a>, <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *contextPtr)</td></tr>
<tr class="separator:a34cdb7230815295d1c55fcacd0b8c316"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02f348360211f77ef709b2f0427af38b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a02f348360211f77ef709b2f0427af38b">SigChildHandler</a> (int sigNum)</td></tr>
<tr class="separator:a02f348360211f77ef709b2f0427af38b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a090244beffbdeee9562b3e4970d60ae2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a090244beffbdeee9562b3e4970d60ae2">DeleteFile</a> (const char *filePath)</td></tr>
<tr class="separator:a090244beffbdeee9562b3e4970d60ae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63a926a5a0670b16ced723586dbeeadb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a63a926a5a0670b16ced723586dbeeadb">ImportFile</a> (<a class="el" href="le__cfg__interface_8h.html#a646829934bb23a878e19ade2c3e01eba">le_cfg_IteratorRef_t</a> i, const char *filePath, const char *nodePath)</td></tr>
<tr class="separator:a63a926a5a0670b16ced723586dbeeadb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68664377a52b908683ac865a310538c9"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a68664377a52b908683ac865a310538c9">IsCfgTree</a> (const char *treeName)</td></tr>
<tr class="separator:a68664377a52b908683ac865a310538c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cfa65d4b6fc47a0fea4f2ddd78e00d7"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a4cfa65d4b6fc47a0fea4f2ddd78e00d7">IsSystemCfgTree</a> (const char *treeName)</td></tr>
<tr class="separator:a4cfa65d4b6fc47a0fea4f2ddd78e00d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeddc128259f55d4c9f787d91f5ed698d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#aeddc128259f55d4c9f787d91f5ed698d">IsDirEntryAppCfgTree</a> (struct dirent *dp)</td></tr>
<tr class="separator:aeddc128259f55d4c9f787d91f5ed698d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae04e4c0c13529b530d5e88ea3fc673da"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#ae04e4c0c13529b530d5e88ea3fc673da">IsThisAppsCfgTree</a> (const char *treeName, const char *<a class="el" href="app_stop_client_8c.html#a82301712fcfe26cffbc5da857ac9fcd2">appName</a>)</td></tr>
<tr class="separator:ae04e4c0c13529b530d5e88ea3fc673da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7596457c7b4d938d820614fa39c7bc3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#ad7596457c7b4d938d820614fa39c7bc3">GetNumAppCfgTree</a> (DIR *dirPtr)</td></tr>
<tr class="separator:ad7596457c7b4d938d820614fa39c7bc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa472de10a7aa772dc9b6fef28a4b1bf1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#aa472de10a7aa772dc9b6fef28a4b1bf1">GetAppCfgTreeList</a> (DIR *dirPtr, int numAppCfgTree, char(*cfgTreeList)[<a class="el" href="update_daemon_8c.html#ad45ce1b90dc6a8836f7bf381c380b95e">MAX_CFGTREE_NAME_BYTES</a>])</td></tr>
<tr class="separator:aa472de10a7aa772dc9b6fef28a4b1bf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedd39dfe66661c02c3493c4d2df62a20"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#aedd39dfe66661c02c3493c4d2df62a20">RemoveFromListTreeInCfgNode</a> (<a class="el" href="le__cfg__interface_8h.html#a646829934bb23a878e19ade2c3e01eba">le_cfg_IteratorRef_t</a> cfgIter, size_t numAppCfgTree, char(*obsoleteTreeList)[<a class="el" href="update_daemon_8c.html#ad45ce1b90dc6a8836f7bf381c380b95e">MAX_CFGTREE_NAME_BYTES</a>])</td></tr>
<tr class="separator:aedd39dfe66661c02c3493c4d2df62a20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab22141fd005ea4ec050b2851a9b46cce"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#ab22141fd005ea4ec050b2851a9b46cce">RemoveFromListTreeInAppACL</a> (const char *<a class="el" href="app_stop_client_8c.html#a82301712fcfe26cffbc5da857ac9fcd2">appName</a>, size_t numAppCfgTree, char(*obsoleteTreeList)[<a class="el" href="update_daemon_8c.html#ad45ce1b90dc6a8836f7bf381c380b95e">MAX_CFGTREE_NAME_BYTES</a>])</td></tr>
<tr class="separator:ab22141fd005ea4ec050b2851a9b46cce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cdb68c43e33ddb79c263169801e12c0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a3cdb68c43e33ddb79c263169801e12c0">CleanupAppConfigTrees</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a3cdb68c43e33ddb79c263169801e12c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbddd29e3c8ed5688cd0129e9cf57c40"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#adbddd29e3c8ed5688cd0129e9cf57c40">FinishSystemUpdate</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:adbddd29e3c8ed5688cd0129e9cf57c40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a283da9bfc768c5aba8c9a71389d68365"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a283da9bfc768c5aba8c9a71389d68365">ShouldKeepUserOrGroup</a> (const char *fileLine)</td></tr>
<tr class="separator:a283da9bfc768c5aba8c9a71389d68365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac172f3d0619efb32e186f782761811bf"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#ac172f3d0619efb32e186f782761811bf">CopyExistingUserOrGroupLines</a> (FILE *outputFile, const char *inputFilePath)</td></tr>
<tr class="separator:ac172f3d0619efb32e186f782761811bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1781c16581ef45979c8b717be2118acc"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a1781c16581ef45979c8b717be2118acc">UpdateUsersAndGroups</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a1781c16581ef45979c8b717be2118acc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a4d38e7e2e465ecc1a5586475970f89"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a8a4d38e7e2e465ecc1a5586475970f89">PipelineDone</a> (<a class="el" href="pipeline_8h.html#adfb885380a9b0f550fafe4de0a2d2564">pipeline_Ref_t</a> pipeline, int status)</td></tr>
<tr class="separator:a8a4d38e7e2e465ecc1a5586475970f89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaf42b223be3176ce146c257168098be"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#aeaf42b223be3176ce146c257168098be">IsSessionValid</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:aeaf42b223be3176ce146c257168098be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67236a5fb1ef3cc24d54ca7d60b7e69f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__update__interface_8h.html#a20a94b986a9ba0e6772b146f98b95f92">le_update_ProgressHandlerRef_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a67236a5fb1ef3cc24d54ca7d60b7e69f">le_update_AddProgressHandler</a> (<a class="el" href="le__update__interface_8h.html#ae56667313f5ee9ee20c6ebc273aca3bb">le_update_ProgressHandlerFunc_t</a> func, <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *contextPtr)</td></tr>
<tr class="separator:a67236a5fb1ef3cc24d54ca7d60b7e69f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2d40ca3fd9c048546e5e7eb923ae449"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#ae2d40ca3fd9c048546e5e7eb923ae449">le_update_RemoveProgressHandler</a> (<a class="el" href="le__update__interface_8h.html#a20a94b986a9ba0e6772b146f98b95f92">le_update_ProgressHandlerRef_t</a> handlerRef)</td></tr>
<tr class="separator:ae2d40ca3fd9c048546e5e7eb923ae449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa71a2ea4d5cf4926b195a5826aee1711"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#aa71a2ea4d5cf4926b195a5826aee1711">le_update_Start</a> (int clientFd)</td></tr>
<tr class="separator:aa71a2ea4d5cf4926b195a5826aee1711"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab29edc63b713c6a7b1d652ec0512c46e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__update__interface_8h.html#a24bac90fc939c561c64d13608cc78a20">le_update_ErrorCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#ab29edc63b713c6a7b1d652ec0512c46e">le_update_GetErrorCode</a> ()</td></tr>
<tr class="separator:ab29edc63b713c6a7b1d652ec0512c46e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff38d9bd101b7b09ea5d6ad69cd085e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#aff38d9bd101b7b09ea5d6ad69cd085e0">le_update_Install</a> ()</td></tr>
<tr class="separator:aff38d9bd101b7b09ea5d6ad69cd085e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada3064eb99fa8776a7ddbcedf7fa3c91"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#ada3064eb99fa8776a7ddbcedf7fa3c91">le_update_End</a> ()</td></tr>
<tr class="separator:ada3064eb99fa8776a7ddbcedf7fa3c91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ae02132ca690606a1d556aff5f3a4c4"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a7ae02132ca690606a1d556aff5f3a4c4">le_update_GetCurrentSysIndex</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a7ae02132ca690606a1d556aff5f3a4c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a397981b56b2dd6855ca3375ae9c61ac2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a397981b56b2dd6855ca3375ae9c61ac2">le_update_GetSystemHash</a> (int32_t systemIndex, char *hashStr, size_t hashStrSize)</td></tr>
<tr class="separator:a397981b56b2dd6855ca3375ae9c61ac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82196efdc87d57f62d40a195cbafd2eb"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a82196efdc87d57f62d40a195cbafd2eb">le_update_GetPreviousSystemIndex</a> (int32_t systemIndex)</td></tr>
<tr class="separator:a82196efdc87d57f62d40a195cbafd2eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae3aab605c3a96ccc2944ad67d82d517"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#aae3aab605c3a96ccc2944ad67d82d517">le_appRemove_Remove</a> (const char *<a class="el" href="app_stop_client_8c.html#a82301712fcfe26cffbc5da857ac9fcd2">appName</a>)</td></tr>
<tr class="separator:aae3aab605c3a96ccc2944ad67d82d517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76d2a2b262ac6d18389cb91c900f7490"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a76d2a2b262ac6d18389cb91c900f7490">GetProbationPeriod</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a76d2a2b262ac6d18389cb91c900f7490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa9069e7bbdeed2332b5cbffbb472691"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#afa9069e7bbdeed2332b5cbffbb472691">le_sig_Block</a> (SIGPIPE)</td></tr>
<tr class="separator:afa9069e7bbdeed2332b5cbffbb472691"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e9284a065fbe4f65aad310617e311a4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a3e9284a065fbe4f65aad310617e311a4">user_Init</a> ()</td></tr>
<tr class="separator:a3e9284a065fbe4f65aad310617e311a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55d2ded7e1ecdc130b9bcbc452a34f67"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a55d2ded7e1ecdc130b9bcbc452a34f67">le_event_AddHandler</a> (&quot;Installer&quot;, InstallEventId, <a class="el" href="update_daemon_8c.html#ae7326dda672f3d73f18bc93820eef9c4">ApplyUpdate</a>)</td></tr>
<tr class="separator:a55d2ded7e1ecdc130b9bcbc452a34f67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eb645189be654e43dfeb29c95143ed8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a2eb645189be654e43dfeb29c95143ed8">le_sig_SetEventHandler</a> (SIGCHLD, <a class="el" href="sbtrace_8c.html#a02f348360211f77ef709b2f0427af38b">SigChildHandler</a>)</td></tr>
<tr class="separator:a2eb645189be654e43dfeb29c95143ed8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9249ea73392d7d9ffe947ef6829b551"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#ac9249ea73392d7d9ffe947ef6829b551">le_timer_SetHandler</a> (<a class="el" href="update_daemon_8c.html#a098b398395a3b07bf85b424c81cadd4b">ProbationTimer</a>, <a class="el" href="update_daemon_8c.html#a4d73fca4446249b1de29bd6ade3f2b60">HandleProbationExpiry</a>)</td></tr>
<tr class="separator:ac9249ea73392d7d9ffe947ef6829b551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a743b239db31c0fac7cd824a1102c3710"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a743b239db31c0fac7cd824a1102c3710">le_timer_SetMsInterval</a> (<a class="el" href="update_daemon_8c.html#a098b398395a3b07bf85b424c81cadd4b">ProbationTimer</a>, <a class="el" href="update_daemon_8c.html#a76d2a2b262ac6d18389cb91c900f7490">GetProbationPeriod</a>())</td></tr>
<tr class="separator:a743b239db31c0fac7cd824a1102c3710"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19688e27608620184afc803d0b7f1ced"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a19688e27608620184afc803d0b7f1ced">le_timer_SetWakeup</a> (<a class="el" href="update_daemon_8c.html#a098b398395a3b07bf85b424c81cadd4b">ProbationTimer</a>, false)</td></tr>
<tr class="separator:a19688e27608620184afc803d0b7f1ced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5c063c7e6dcd964c817f5fe9b1d72fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#aa5c063c7e6dcd964c817f5fe9b1d72fc">umask</a> (0)</td></tr>
<tr class="separator:aa5c063c7e6dcd964c817f5fe9b1d72fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5dd351260ac9fdd56edfcf42219da73"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#aa5dd351260ac9fdd56edfcf42219da73">if</a> (!<a class="el" href="update_daemon_8c.html#a49d717b2b7c81add99c4efab74b94a24">IsReadOnly</a>)</td></tr>
<tr class="separator:aa5dd351260ac9fdd56edfcf42219da73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9626242af3bf70ec52eaa2c86720b26"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#ab9626242af3bf70ec52eaa2c86720b26">if</a> (<a class="el" href="sys_status_8h.html#a0529c9aefccbe735d1b6f3e246eedbb6">sysStatus_Status</a>()==<a class="el" href="sys_status_8h.html#ae25825ce432b365f8a57356b813abf6bac60e69a45b3c8996154495e412a58007">SYS_GOOD</a>)</td></tr>
<tr class="separator:ab9626242af3bf70ec52eaa2c86720b26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abac4c37d9572f74795111a0dbd36bd4f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#abac4c37d9572f74795111a0dbd36bd4f">instStat_Init</a> ()</td></tr>
<tr class="separator:abac4c37d9572f74795111a0dbd36bd4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64505a7a2c8b629d7bc7675e98f97caa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a64505a7a2c8b629d7bc7675e98f97caa">updateCtrl_Initialize</a> ()</td></tr>
<tr class="separator:a64505a7a2c8b629d7bc7675e98f97caa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bdf3fd9c2053680c84be72940d25a8e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a3bdf3fd9c2053680c84be72940d25a8e">le_msg_AddServiceCloseHandler</a> (le_update_GetServiceRef(), <a class="el" href="update_daemon_8c.html#a34cdb7230815295d1c55fcacd0b8c316">UpdateServiceClosed</a>, NULL)</td></tr>
<tr class="separator:a3bdf3fd9c2053680c84be72940d25a8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bd1f0df024da0cb002930fa9363c47e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a4bd1f0df024da0cb002930fa9363c47e">while</a> ((<a class="el" href="update_daemon_8c.html#acf1f3d914b42896a64e8683abe22ae7a">filePtr</a>==NULL)&amp;&amp;(<a class="el" href="supervisor_8c.html#a0a4ccfdbe1cf7b37afc60d34e748b066">errno</a>==EINTR))</td></tr>
<tr class="separator:a4bd1f0df024da0cb002930fa9363c47e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:abc90a4c424d12dbd79b3cff0e060cde2"><td class="memItemLeft" align="right" valign="top">static enum  { ... } &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#abc90a4c424d12dbd79b3cff0e060cde2">State</a> = <a class="el" href="update_unpack_8c.html#aba01db17f4a2bfbc3db60dc172972a25aaade5e53e88cf231292cd1142cce2afe">STATE_IDLE</a></td></tr>
<tr class="separator:abc90a4c424d12dbd79b3cff0e060cde2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a098b398395a3b07bf85b424c81cadd4b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__timer_8h.html#a763fa6992488cdce3b5a820817094838">le_timer_Ref_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a098b398395a3b07bf85b424c81cadd4b">ProbationTimer</a> = <a class="el" href="timer_8c.html#aee41169a210378b369f440cf99146522">le_timer_Create</a>(&quot;Probation&quot;)</td></tr>
<tr class="separator:a098b398395a3b07bf85b424c81cadd4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada568d0f0071010665e1cfee910101f7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#ada568d0f0071010665e1cfee910101f7">IpcSession</a> = NULL</td></tr>
<tr class="separator:ada568d0f0071010665e1cfee910101f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62dade98bb16b47db32a0b5994c3da58"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pipeline_8h.html#adfb885380a9b0f550fafe4de0a2d2564">pipeline_Ref_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a62dade98bb16b47db32a0b5994c3da58">SecurityUnpackPipeline</a> = NULL</td></tr>
<tr class="separator:a62dade98bb16b47db32a0b5994c3da58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ff54e32471cdcb7321bfff653ff0b50"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a7ff54e32471cdcb7321bfff653ff0b50">NextClientProgressHandlerRef</a> = random()</td></tr>
<tr class="separator:a7ff54e32471cdcb7321bfff653ff0b50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3c745f4b8d8125918c769c8a5b0f5ad"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="le__mem_8h.html#a44a896f6a0a1a8c733e8038eb332989e">le_mem_PoolRef_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#ae3c745f4b8d8125918c769c8a5b0f5ad">ClientProgressHandlerPool</a></td></tr>
<tr class="separator:ae3c745f4b8d8125918c769c8a5b0f5ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a65410b58c652fb7067855e71fbc50b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structle__dls___list__t.html">le_dls_List_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a9a65410b58c652fb7067855e71fbc50b">ClientProgressHandlerList</a> = <a class="el" href="le__doubly_linked_list_8h.html#a68f28b61cdfd004591f24730b4d5a740">LE_DLS_LIST_INIT</a></td></tr>
<tr class="separator:a9a65410b58c652fb7067855e71fbc50b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fa6a757edc45070dc88af0c58cab05d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="le__event_loop_8h.html#ae6e351b38bc95954f159d16d19d2d55c">le_event_Id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a7fa6a757edc45070dc88af0c58cab05d">InstallEventId</a> = <a class="el" href="event_loop_8c.html#a41a96eb3affb07184b519164cf54e213">le_event_CreateId</a>(&quot;InstallEvent&quot;, 0)</td></tr>
<tr class="separator:a7fa6a757edc45070dc88af0c58cab05d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0913372cceeed6bf8d8cbbb812686d7f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="le__update__interface_8h.html#a24bac90fc939c561c64d13608cc78a20">le_update_ErrorCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a0913372cceeed6bf8d8cbbb812686d7f">ErrorCode</a> = <a class="el" href="le__update__interface_8h.html#a24bac90fc939c561c64d13608cc78a20a5473b80d9e60fc1a8fd5f78a47b1c69e">LE_UPDATE_ERR_NONE</a></td></tr>
<tr class="separator:a0913372cceeed6bf8d8cbbb812686d7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89f191ee44d2f7c3aeab77fcb0ed348b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a89f191ee44d2f7c3aeab77fcb0ed348b">InstallReady</a> = false</td></tr>
<tr class="separator:a89f191ee44d2f7c3aeab77fcb0ed348b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49d717b2b7c81add99c4efab74b94a24"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a49d717b2b7c81add99c4efab74b94a24">IsReadOnly</a> = false</td></tr>
<tr class="separator:a49d717b2b7c81add99c4efab74b94a24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0392d452f926ce36c4852de26b5eca12"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a0392d452f926ce36c4852de26b5eca12">COMPONENT_INIT</a></td></tr>
<tr class="separator:a0392d452f926ce36c4852de26b5eca12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0544c3fe466e421738dae463968b70ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a0544c3fe466e421738dae463968b70ba">else</a></td></tr>
<tr class="separator:a0544c3fe466e421738dae463968b70ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf1f3d914b42896a64e8683abe22ae7a"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#acf1f3d914b42896a64e8683abe22ae7a">filePtr</a></td></tr>
<tr class="separator:acf1f3d914b42896a64e8683abe22ae7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a721c6ff80a6d3e4ad4ffa52a04c60085"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="update_daemon_8c.html#a721c6ff80a6d3e4ad4ffa52a04c60085">do</a></td></tr>
<tr class="separator:a721c6ff80a6d3e4ad4ffa52a04c60085"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The Update Daemon is one of the "framework daemon" processes that is started by the Supervisor outside of other apps. It is a core part of the Legato app framework responsible for software update.</p>
<p>The Update Daemon has a single-threaded, event-driven internal design. It is broken into the following parts:</p>
<ul>
<li><a class="el" href="update_daemon_8c.html">updateDaemon.c</a> - COMPONENT_INIT and all API implementations.</li>
<li><a class="el" href="update_unpack_8c.html">updateUnpack.c</a> - unpacks incoming update pack files and drives execution of the update.</li>
<li>updateExec.c - implements execution of the updates.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>The Update Daemon only supports a single update task at a time. Requests to start updates will be rejected while an update is already in progress.</dd></dl>
<p>At start up, the Update Daemon checks for new configuration settings that need to be imported due to an unfinished system update. It does this by looking for the files "users.cfg" and "apps.cfg" in the directory in which configuration trees are stored. If these files exist they are imported into the system tree and deleted.</p>
<p>If the current system is not "good", then a probation timer is started. When that timer expires, the current system is marked "good". The le_updateCtrl API can be used to control this from outside.</p>
<p>While the system is in its probation period, update requests are rejected, and probation period controls (marking "bad" or "good", and deferring the end of probation) are accepted.</p>
<p>If the current system is "good", then update requests are honoured and fault reports are ignored.</p>
<p>Copyright (C) Sierra Wireless Inc. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ad45ce1b90dc6a8836f7bf381c380b95e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_CFGTREE_NAME_BYTES&#160;&#160;&#160;<a class="el" href="limit_8h.html#a6edbf14b38ca141c9e2a6edef24e44bf">LIMIT_MAX_USER_NAME_BYTES</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum length of app config tree name. </p>

</div>
</div>
<a class="anchor" id="a3ddb0fef811bda6f92ac076b02acfea1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROBATION_PERIOD&#160;&#160;&#160;(30 * 60 * 1000)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a16af7b253440dadd46a80a4b9fddba4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>State of the Update Daemon state machine. </p><pre class="fragment">           +---------------------------------------+
           |                                       |
           |                                       V
</pre><p> IDLE -&mdash;&gt; UNPACKING -&mdash;&gt; SECURITY_CHECKING -&mdash;&gt; APPLYING ^ | | | | | | | +---------&mdash;+ | | | | | +-----------------------------&mdash;+ | | | +-------------------------------------------------&mdash;+</p>
<p>Transition from UNPACKING to APPLYING happens when security-unpack finishes before the unpacking finishes. This is common when update packs are unsigned (when security-unpack is not really doing anything). </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a16af7b253440dadd46a80a4b9fddba4daaade5e53e88cf231292cd1142cce2afe"></a>STATE_IDLE&#160;</td><td class="fielddoc">
<p>No update is happening. Check probation timer to see if in probation. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a16af7b253440dadd46a80a4b9fddba4da7514d81145a1ffcf0a895a400e655585"></a>STATE_UNPACKING&#160;</td><td class="fielddoc">
<p>A system update is being unpacked. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a16af7b253440dadd46a80a4b9fddba4dac0f18a763f91d4a3e43c153a125f5ec1"></a>STATE_SECURITY_CHECKING&#160;</td><td class="fielddoc">
<p>A unpack finished, but security-unpack not finished yet. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a16af7b253440dadd46a80a4b9fddba4da7d58af2948bc1526109821b1b4fa75f9"></a>STATE_APPLYING&#160;</td><td class="fielddoc">
<p>A system update is being applied. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ad5e13145e3efbd174e45c3f88a8ed536"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> ApplyAppRemove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Do an application remove. </p>

</div>
</div>
<a class="anchor" id="adb6d758142f889764fb61bca72e3c053"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> ApplyAppUpdate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Apply an application update. </p>

</div>
</div>
<a class="anchor" id="a3b35dcefb87059588e43100c2a08afbd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> ApplySystemUpdate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Apply a system update. </p>

</div>
</div>
<a class="anchor" id="ae7326dda672f3d73f18bc93820eef9c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> ApplyUpdate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *&#160;</td>
          <td class="paramname"><em>unused</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Apply an unpacked update that has passed security check. </p>

</div>
</div>
<a class="anchor" id="a07b311f10d06d7423b5d55426a81fde8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> CallStatusHandlers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__update__interface_8h.html#ae9758536ebaf1842cdaaddd6cf95a672">le_update_State_t</a>&#160;</td>
          <td class="paramname"><em>apiState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>percentDone</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Call all the registered status handler functions for the IPC client whose update is currently in progress. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">percentDone</td><td>The percentage this state is complete. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3cdb68c43e33ddb79c263169801e12c0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> CleanupAppConfigTrees </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function traverses the system config tree, find required tree and remove unnecessary trees. </p>

</div>
</div>
<a class="anchor" id="ac172f3d0619efb32e186f782761811bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> CopyExistingUserOrGroupLines </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>outputFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>inputFilePath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Copy lines from an existing passwd or group file that are either non-app users or groups or that correspond to apps that exist in the current system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">outputFile</td><td>File to copy lines into. </td></tr>
    <tr><td class="paramname">inputFilePath</td><td>File system path of file to copy lines from. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a090244beffbdeee9562b3e4970d60ae2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> DeleteFile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filePath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Deletes a file at a given path. </p>

</div>
</div>
<a class="anchor" id="a36eed88d409dbc7aba230cb03b3f9bd1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> EndUpdate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Terminates the current update. </p>

</div>
</div>
<a class="anchor" id="a7501da27837a6d6e9e2e6a194bb86d32"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool FileExists </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filePath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks whether or not a file exists at a given file system path.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the file exists and is a normal file. false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="adbddd29e3c8ed5688cd0129e9cf57c40"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> FinishSystemUpdate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Before we advertise our services, we check to see if we need to import new system configuration settings. This happens when we start after a system update has just been applied. </p>

</div>
</div>
<a class="anchor" id="aa472de10a7aa772dc9b6fef28a4b1bf1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> GetAppCfgTreeList </td>
          <td>(</td>
          <td class="paramtype">DIR *&#160;</td>
          <td class="paramname"><em>dirPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numAppCfgTree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char(*)&#160;</td>
          <td class="paramname"><em>cfgTreeList</em>[MAX_CFGTREE_NAME_BYTES]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Function to get list of app config trees. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dirPtr</td><td>Directory containing config trees. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numAppCfgTree</td><td>Number of app config tree in directory. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cfgTreeList</td><td>Array containing list of config trees in specified config directory. Caller function is responsible to allocate it properly. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad7596457c7b4d938d820614fa39c7bc3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int GetNumAppCfgTree </td>
          <td>(</td>
          <td class="paramtype">DIR *&#160;</td>
          <td class="paramname"><em>dirPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Function to get number of app config trees.</p>
<p>returns</p><ul>
<li>Number of app config trees in config directory. </li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dirPtr</td><td>Directory containing config trees. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a76d2a2b262ac6d18389cb91c900f7490"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t GetProbationPeriod </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the probation timer period.</p>
<dl class="section return"><dt>Returns</dt><dd>The timer period, in milliseconds. </dd></dl>

</div>
</div>
<a class="anchor" id="a4d73fca4446249b1de29bd6ade3f2b60"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> HandleProbationExpiry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__timer_8h.html#a763fa6992488cdce3b5a820817094838">le_timer_Ref_t</a>&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Timer expiry function for the probation timer. If this goes off, it means the system passed probation and it's time to mark it "good". </p>

</div>
</div>
<a class="anchor" id="a515f1f30a653d699ee40da76cf23df64"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> HandleUpdateProgress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="update_unpack_8h.html#a40469bc8f509ecaf999c52181e6b4bbc">updateUnpack_ProgressCode_t</a>&#160;</td>
          <td class="paramname"><em>progressCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>percentDone</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Callback from the update unpacker to report progress on the update. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">progressCode</td><td>The update state. </td></tr>
    <tr><td class="paramname">percentDone</td><td>The percentage this state is complete. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa5dd351260ac9fdd56edfcf42219da73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if </td>
          <td>(</td>
          <td class="paramtype">!&#160;</td>
          <td class="paramname"><em>IsReadOnly</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab9626242af3bf70ec52eaa2c86720b26"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sys_status_8h.html#a0529c9aefccbe735d1b6f3e246eedbb6">sysStatus_Status</a>()&#160;</td>
          <td class="paramname"> = <code>=&#160;<a class="el" href="sys_status_8h.html#ae25825ce432b365f8a57356b813abf6bac60e69a45b3c8996154495e412a58007">SYS_GOOD</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a63a926a5a0670b16ced723586dbeeadb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> ImportFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__cfg__interface_8h.html#a646829934bb23a878e19ade2c3e01eba">le_cfg_IteratorRef_t</a>&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>nodePath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Imports configuration settings from a given file into a given node in the tree. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>Write transaction iterator. </td></tr>
    <tr><td class="paramname">filePath</td><td>File system path of file to import from. </td></tr>
    <tr><td class="paramname">nodePath</td><td>Path of node in tree, relative to current position of iterator. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae0f891c5dd78594a12973322d48e9945"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> InstallSystemApps </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Install system applications from unpack directory.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK if successful</li>
<li>LE_FAULT if failed </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="abac4c37d9572f74795111a0dbd36bd4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">instStat_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the instStat subsystem so that it is ready to report install and uninstall activity. </p>

</div>
</div>
<a class="anchor" id="a68664377a52b908683ac865a310538c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool IsCfgTree </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>treeName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks if given name is a valid config tree.</p>
<p>returns</p><ul>
<li>true if it is a valid config tree.</li>
<li>false otherwise. </li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treeName</td><td>Config tree name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aeddc128259f55d4c9f787d91f5ed698d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool IsDirEntryAppCfgTree </td>
          <td>(</td>
          <td class="paramtype">struct dirent *&#160;</td>
          <td class="paramname"><em>dp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks if given directory entry is an app config tree.</p>
<p>returns</p><ul>
<li>true if it is a valid app config tree.</li>
<li>false otherwise. </li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dp</td><td>Directory entry in config dir. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aeaf42b223be3176ce146c257168098be"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool IsSessionValid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks that the current IPC session is the one that started the current update. </p>

</div>
</div>
<a class="anchor" id="a4cfa65d4b6fc47a0fea4f2ddd78e00d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool IsSystemCfgTree </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>treeName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks if given name is a valid system config tree.</p>
<p>returns</p><ul>
<li>true if it is a valid system config tree.</li>
<li>false otherwise. </li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treeName</td><td>Config tree name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae04e4c0c13529b530d5e88ea3fc673da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool IsThisAppsCfgTree </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>treeName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>appName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks if given config tree belongs to given app.</p>
<p>returns</p><ul>
<li>true if belongs to the given app.</li>
<li>false otherwise. </li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treeName</td><td>Config tree name to check. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">appName</td><td>App name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a209e1e20ce704de4b28d4cc7272e85f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool IsValidFileDesc </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Validate the supplied file descriptor.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>true: Supplied file descriptor is valid.</li>
<li>false: Supplied file descriptor is invalid.. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fd</td><td>File descriptor to be validated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aae3aab605c3a96ccc2944ad67d82d517"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_appRemove_Remove </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>appName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes a given app from the target device.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK if successful</li>
<li>LE_BUSY if system busy.</li>
<li>LE_NOT_FOUND if given app is not installed.</li>
<li>LE_FAULT for any other failure. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a55d2ded7e1ecdc130b9bcbc452a34f67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">le_event_AddHandler </td>
          <td>(</td>
          <td class="paramtype">&quot;Installer&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="update_daemon_8c.html#a7fa6a757edc45070dc88af0c58cab05d">InstallEventId</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="update_daemon_8c.html#ae7326dda672f3d73f18bc93820eef9c4">ApplyUpdate</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3bdf3fd9c2053680c84be72940d25a8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">le_msg_AddServiceCloseHandler </td>
          <td>(</td>
          <td class="paramtype">le_update_GetServiceRef()&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="update_daemon_8c.html#a34cdb7230815295d1c55fcacd0b8c316">UpdateServiceClosed</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NULL&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afa9069e7bbdeed2332b5cbffbb472691"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">le_sig_Block </td>
          <td>(</td>
          <td class="paramtype">SIGPIPE&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2eb645189be654e43dfeb29c95143ed8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">le_sig_SetEventHandler </td>
          <td>(</td>
          <td class="paramtype">SIGCHLD&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sbtrace_8c.html#a02f348360211f77ef709b2f0427af38b">SigChildHandler</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac9249ea73392d7d9ffe947ef6829b551"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">le_timer_SetHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="update_daemon_8c.html#a098b398395a3b07bf85b424c81cadd4b">ProbationTimer</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="update_daemon_8c.html#a4d73fca4446249b1de29bd6ade3f2b60">HandleProbationExpiry</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a743b239db31c0fac7cd824a1102c3710"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">le_timer_SetMsInterval </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="update_daemon_8c.html#a098b398395a3b07bf85b424c81cadd4b">ProbationTimer</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="update_daemon_8c.html#a76d2a2b262ac6d18389cb91c900f7490">GetProbationPeriod</a>()&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a19688e27608620184afc803d0b7f1ced"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">le_timer_SetWakeup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="update_daemon_8c.html#a098b398395a3b07bf85b424c81cadd4b">ProbationTimer</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">false&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a67236a5fb1ef3cc24d54ca7d60b7e69f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__update__interface_8h.html#a20a94b986a9ba0e6772b146f98b95f92">le_update_ProgressHandlerRef_t</a> le_update_AddProgressHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__update__interface_8h.html#ae56667313f5ee9ee20c6ebc273aca3bb">le_update_ProgressHandlerFunc_t</a>&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *&#160;</td>
          <td class="paramname"><em>contextPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add handler function for EVENT 'le_update_Progress'</p>
<p>This event is used for showing status of ongoing update process. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">func</td><td>Pointer to client callback function. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">contextPtr</td><td>Context pointer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ada3064eb99fa8776a7ddbcedf7fa3c91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> le_update_End </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ends an update session. If the update is not finished yet, cancels it.</p>
<dl class="section note"><dt>Note</dt><dd>The update session reference becomes invalid after this. </dd></dl>

</div>
</div>
<a class="anchor" id="a7ae02132ca690606a1d556aff5f3a4c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t le_update_GetCurrentSysIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the index of the currently running system.</p>
<dl class="section return"><dt>Returns</dt><dd>The index of the running system. </dd></dl>

</div>
</div>
<a class="anchor" id="ab29edc63b713c6a7b1d652ec0512c46e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__update__interface_8h.html#a24bac90fc939c561c64d13608cc78a20">le_update_ErrorCode_t</a> le_update_GetErrorCode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to get error code when update fails.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>Error code of encountered error.</li>
<li>ERR_NONE if update is in any other state. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a82196efdc87d57f62d40a195cbafd2eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t le_update_GetPreviousSystemIndex </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>systemIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the index for the previous system in the chain, using the current system as a starting point.</p>
<dl class="section return"><dt>Returns</dt><dd>The index to the system that's previous to the given system. -1 is returned if the previous system was not found. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">systemIndex</td><td>Get the system that's earlier to this system. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a397981b56b2dd6855ca3375ae9c61ac2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_update_GetSystemHash </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>systemIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>hashStr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>hashStrSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read the hash ID from a given system.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK if no problems are encountered.</li>
<li>LE_NOT_FOUND if the given index does not correspond to an available system.</li>
<li>LE_OVERFLOW if the supplied buffer is too small.</li>
<li>LE_FORMAT_ERROR if there are problems reading the hash from the system. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">systemIndex</td><td>The system to read the hash for. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">hashStr</td><td>Buffer to hold the system hash string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hashStrSize</td><td>Size of the hashStr buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aff38d9bd101b7b09ea5d6ad69cd085e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_update_Install </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Install the update</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK if installation started.</li>
<li>LE_BUSY if package download is not finished yet.</li>
<li>LE_FAULT if there is an error. Check logs </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ae2d40ca3fd9c048546e5e7eb923ae449"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> le_update_RemoveProgressHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__update__interface_8h.html#a20a94b986a9ba0e6772b146f98b95f92">le_update_ProgressHandlerRef_t</a>&#160;</td>
          <td class="paramname"><em>handlerRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove handler function for EVENT 'le_update_Progress' </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handlerRef</td><td>Reference to client callback function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa71a2ea4d5cf4926b195a5826aee1711"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_update_Start </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>clientFd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts an update.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK if accepted.</li>
<li>LE_BUSY if another update is in progress.</li>
<li>LE_UNSUPPORTED if Legato system is R/O.</li>
<li>LE_UNAVAILABLE if updates are deferred. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">clientFd</td><td>Open file descriptor from which the update can be read. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8a4d38e7e2e465ecc1a5586475970f89"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> PipelineDone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pipeline_8h.html#adfb885380a9b0f550fafe4de0a2d2564">pipeline_Ref_t</a>&#160;</td>
          <td class="paramname"><em>pipeline</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Pipeline completion function for the security-unpack.</p>
<dl class="section note"><dt>Note</dt><dd>This will usually be called AFTER the updateUnpack operation reports completion, even if the updateUnpack operation was interrupted by the security-unpack program exiting. </dd></dl>

</div>
</div>
<a class="anchor" id="ab22141fd005ea4ec050b2851a9b46cce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> RemoveFromListTreeInAppACL </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>appName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numAppCfgTree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char(*)&#160;</td>
          <td class="paramname"><em>obsoleteTreeList</em>[MAX_CFGTREE_NAME_BYTES]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Remove trees that are in App Access list from obsolete tree list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">appName</td><td>App name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numAppCfgTree</td><td>No. of config tree in current config directory. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">obsoleteTreeList</td><td>Array containing list of config trees in current config directory. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aedd39dfe66661c02c3493c4d2df62a20"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> RemoveFromListTreeInCfgNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__cfg__interface_8h.html#a646829934bb23a878e19ade2c3e01eba">le_cfg_IteratorRef_t</a>&#160;</td>
          <td class="paramname"><em>cfgIter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numAppCfgTree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char(*)&#160;</td>
          <td class="paramname"><em>obsoleteTreeList</em>[MAX_CFGTREE_NAME_BYTES]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Remove the tree pointed by config tree node from obsolete tree list.. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cfgIter</td><td>Node containing config tree name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numAppCfgTree</td><td>No. of config tree in current config directory. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">obsoleteTreeList</td><td>Array containing list of config trees in current config directory. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acd445689161fe9d7fd5bae5ae63554e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> ReportUpdateDone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Report to the client that update is done. </p>

</div>
</div>
<a class="anchor" id="ad22e8e2806faf44fdbd4409b66e2f9f8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int SecurityUnpack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *&#160;</td>
          <td class="paramname"><em>param</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Function that runs in the security-unpack child process inside the pipeline. </p>

</div>
</div>
<a class="anchor" id="a016eeacbdb94546818d7b477535ba2a4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> SetupSystemAppsWritable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Setup writable files for all system applications.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK if successful</li>
<li>LE_FAULT if failed </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a283da9bfc768c5aba8c9a71389d68365"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ShouldKeepUserOrGroup </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fileLine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Determines whether or not a given line from the /etc/passwd file or /etc/group file should be kept. If the user or group name at the beginning of the line does not being with "app", then it should be kept. Also, we want to keep app users and groups for apps that are installed in the current (running) system. </p>

</div>
</div>
<a class="anchor" id="a02f348360211f77ef709b2f0427af38b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> SigChildHandler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sigNum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The signal event handler function for SIGCHLD, called via the Legato event loop. </p>

</div>
</div>
<a class="anchor" id="a10615db71fa6108e89800ca40cc7c73e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> StartProbation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enter probation mode and kick off the probation timer. </p>

</div>
</div>
<a class="anchor" id="aa5c063c7e6dcd964c817f5fe9b1d72fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">umask </td>
          <td>(</td>
          <td class="paramtype">0&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac44bfe36cdc5c8da29456b8cefb774e6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> UnpackDone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when an unpack finishes successfully. </p>

</div>
</div>
<a class="anchor" id="a64505a7a2c8b629d7bc7675e98f97caa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">updateCtrl_Initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the mem pool so we can allocate our counter objects and set up the hash we will store them in. This will be done in a lazy way. We will only do the work of initializing if someone actually want to use this. </p>

</div>
</div>
<a class="anchor" id="aaaa0ea1beec4d844a1af5247bb1e99bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> updateDaemon_MarkGood </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the update state to idle, mark the system good and clean up old system files. </p>

</div>
</div>
<a class="anchor" id="a5be363e86f5cc5e959acac9802c4a582"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> UpdateFailed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__update__interface_8h.html#a24bac90fc939c561c64d13608cc78a20">le_update_ErrorCode_t</a>&#160;</td>
          <td class="paramname"><em>errCode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If the update failed, go back to IDLE and report the failure to the client. </p>

</div>
</div>
<a class="anchor" id="a34cdb7230815295d1c55fcacd0b8c316"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> UpdateServiceClosed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a>&#160;</td>
          <td class="paramname"><em>sessionRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *&#160;</td>
          <td class="paramname"><em>contextPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle a client session closing on the le_update service interface. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>Client session reference. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">contextPtr</td><td>Client context pointer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1781c16581ef45979c8b717be2118acc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> UpdateUsersAndGroups </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Make sure the users and groups are set up correctly for the apps we have installed in the current system. </p>

</div>
</div>
<a class="anchor" id="a3e9284a065fbe4f65aad310617e311a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">user_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the user system. This should be called before any other function in this API. </p>

</div>
</div>
<a class="anchor" id="aa604911931b460c43f2795590d4dc920"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> VerifyAppUnpackDir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Recursively traverse the directory and verify each file IMA signature against the public certificate.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK on success</li>
<li>LE_NOT_FOUND if no app unpack directory exists</li>
<li>LE_FAULT otherwise </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a1bc6c75f2ad5d333355f93b871511fbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> VerifyUnpackedSystem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Recursively traverse the directory and verify each file IMA signature against the public certificate.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK on success</li>
<li>LE_FAULT otherwise </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a4bd1f0df024da0cb002930fa9363c47e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">while </td>
          <td>(</td>
          <td class="paramtype">(<a class="el" href="update_daemon_8c.html#acf1f3d914b42896a64e8683abe22ae7a">filePtr</a>==NULL)&amp;&amp;(<a class="el" href="supervisor_8c.html#a0a4ccfdbe1cf7b37afc60d34e748b066">errno</a>==EINTR)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a9a65410b58c652fb7067855e71fbc50b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structle__dls___list__t.html">le_dls_List_t</a> ClientProgressHandlerList = <a class="el" href="le__doubly_linked_list_8h.html#a68f28b61cdfd004591f24730b4d5a740">LE_DLS_LIST_INIT</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>List of client progress handlers. </p>

</div>
</div>
<a class="anchor" id="ae3c745f4b8d8125918c769c8a5b0f5ad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ClientProgressHandlerPool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <a class="code" href="le__mem_8h.html#ab91efaa2978c9c1c7b2427d25b33241c">le_mem_CreatePool</a>(<span class="stringliteral">&quot;ProgressHandler&quot;</span>,</div><div class="line">                                                  <span class="keyword">sizeof</span>(<a class="code" href="struct_client_progress_handler__t.html">ClientProgressHandler_t</a>))</div><div class="ttc" id="struct_client_progress_handler__t_html"><div class="ttname"><a href="struct_client_progress_handler__t.html">ClientProgressHandler_t</a></div><div class="ttdef"><b>Definition:</b> updateDaemon.c:134</div></div>
<div class="ttc" id="le__mem_8h_html_ab91efaa2978c9c1c7b2427d25b33241c"><div class="ttname"><a href="le__mem_8h.html#ab91efaa2978c9c1c7b2427d25b33241c">le_mem_CreatePool</a></div><div class="ttdeci">static le_mem_PoolRef_t le_mem_CreatePool(const char *name, size_t objSize)</div><div class="ttdef"><b>Definition:</b> le_mem.h:529</div></div>
</div><!-- fragment --><p>Pool from which client progress handler objects are allocated. </p>

</div>
</div>
<a class="anchor" id="a0392d452f926ce36c4852de26b5eca12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">COMPONENT_INIT</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">    </div><div class="line">    <a class="code" href="update_daemon_8c.html#afa9069e7bbdeed2332b5cbffbb472691">le_sig_Block</a>(SIGCHLD)</div><div class="ttc" id="update_daemon_8c_html_afa9069e7bbdeed2332b5cbffbb472691"><div class="ttname"><a href="update_daemon_8c.html#afa9069e7bbdeed2332b5cbffbb472691">le_sig_Block</a></div><div class="ttdeci">le_sig_Block(SIGPIPE)</div></div>
</div><!-- fragment --><p>The main function for the update daemon. Listens for commands from process/components and apply update accordingly. </p>

</div>
</div>
<a class="anchor" id="a721c6ff80a6d3e4ad4ffa52a04c60085"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">do</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">        <a class="code" href="update_daemon_8c.html#acf1f3d914b42896a64e8683abe22ae7a">filePtr</a> = freopen(<span class="stringliteral">&quot;/dev/null&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>, stdin)</div><div class="ttc" id="update_daemon_8c_html_acf1f3d914b42896a64e8683abe22ae7a"><div class="ttname"><a href="update_daemon_8c.html#acf1f3d914b42896a64e8683abe22ae7a">filePtr</a></div><div class="ttdeci">FILE * filePtr</div><div class="ttdef"><b>Definition:</b> updateDaemon.c:2365</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0544c3fe466e421738dae463968b70ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">else</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">        </div><div class="line">        <span class="keywordflow">if</span> ((0 == access(<span class="stringliteral">&quot;/etc/passwd&quot;</span>, W_OK)) &amp;&amp; (0 == access(<span class="stringliteral">&quot;/etc/group&quot;</span>, W_OK)))</div><div class="line">        {</div><div class="line">            <a class="code" href="update_daemon_8c.html#a1781c16581ef45979c8b717be2118acc">UpdateUsersAndGroups</a>();</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            <a class="code" href="supervisor_8c.html#ad2c77028b3adbf2aed592699085afca5">LE_CRIT</a>(<span class="stringliteral">&quot;/etc/passwd and /etc/group are read-only. Sandboxes are not supported&quot;</span>);</div><div class="line">        }</div><div class="line"></div><div class="line">        <a class="code" href="update_daemon_8c.html#abc90a4c424d12dbd79b3cff0e060cde2">State</a> = <a class="code" href="update_daemon_8c.html#a16af7b253440dadd46a80a4b9fddba4daaade5e53e88cf231292cd1142cce2afe">STATE_IDLE</a></div><div class="ttc" id="update_daemon_8c_html_abc90a4c424d12dbd79b3cff0e060cde2"><div class="ttname"><a href="update_daemon_8c.html#abc90a4c424d12dbd79b3cff0e060cde2">State</a></div><div class="ttdeci">static enum @14 State</div></div>
<div class="ttc" id="update_daemon_8c_html_a16af7b253440dadd46a80a4b9fddba4daaade5e53e88cf231292cd1142cce2afe"><div class="ttname"><a href="update_daemon_8c.html#a16af7b253440dadd46a80a4b9fddba4daaade5e53e88cf231292cd1142cce2afe">STATE_IDLE</a></div><div class="ttdoc">No update is happening. Check probation timer to see if in probation. </div><div class="ttdef"><b>Definition:</b> updateDaemon.c:94</div></div>
<div class="ttc" id="supervisor_8c_html_ad2c77028b3adbf2aed592699085afca5"><div class="ttname"><a href="supervisor_8c.html#ad2c77028b3adbf2aed592699085afca5">LE_CRIT</a></div><div class="ttdeci">LE_CRIT(&quot;Set Child Subreaper not supported. Applications with forked processes may not shutdown properly.&quot;)</div></div>
<div class="ttc" id="update_daemon_8c_html_a1781c16581ef45979c8b717be2118acc"><div class="ttname"><a href="update_daemon_8c.html#a1781c16581ef45979c8b717be2118acc">UpdateUsersAndGroups</a></div><div class="ttdeci">static void UpdateUsersAndGroups(void)</div><div class="ttdef"><b>Definition:</b> updateDaemon.c:1709</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0913372cceeed6bf8d8cbbb812686d7f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__update__interface_8h.html#a24bac90fc939c561c64d13608cc78a20">le_update_ErrorCode_t</a> ErrorCode = <a class="el" href="le__update__interface_8h.html#a24bac90fc939c561c64d13608cc78a20a5473b80d9e60fc1a8fd5f78a47b1c69e">LE_UPDATE_ERR_NONE</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Error code. </p>

</div>
</div>
<a class="anchor" id="acf1f3d914b42896a64e8683abe22ae7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* filePtr</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7fa6a757edc45070dc88af0c58cab05d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">InstallEventId = <a class="el" href="event_loop_8c.html#a41a96eb3affb07184b519164cf54e213">le_event_CreateId</a>(&quot;InstallEvent&quot;, 0)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Event ID for triggering installation. </p>

</div>
</div>
<a class="anchor" id="a89f191ee44d2f7c3aeab77fcb0ed348b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool InstallReady = false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flag to store when updateDaemon is ready to install new app/system. Only set to true when updateDaemon send notification to client that download is successful. </p>

</div>
</div>
<a class="anchor" id="ada568d0f0071010665e1cfee910101f7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> IpcSession = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The IPC Session Reference for the IPC session that started the current update. NULL if no update in progress. </p>

</div>
</div>
<a class="anchor" id="a49d717b2b7c81add99c4efab74b94a24"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IsReadOnly = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Legato R/O tree </p>

</div>
</div>
<a class="anchor" id="a7ff54e32471cdcb7321bfff653ff0b50"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">NextClientProgressHandlerRef = random()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Counter used to create progress handler references. </p>

</div>
</div>
<a class="anchor" id="a098b398395a3b07bf85b424c81cadd4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ProbationTimer = <a class="el" href="timer_8c.html#aee41169a210378b369f440cf99146522">le_timer_Create</a>(&quot;Probation&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Timer for the probation period. </p>

</div>
</div>
<a class="anchor" id="a62dade98bb16b47db32a0b5994c3da58"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pipeline_8h.html#adfb885380a9b0f550fafe4de0a2d2564">pipeline_Ref_t</a> SecurityUnpackPipeline = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reference to the security-unpack process pipeline, or NULL if the pipeline doesn't exist. </p>

</div>
</div>
<a class="anchor" id="abc90a4c424d12dbd79b3cff0e060cde2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum { ... } 
 State</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>State of the Update Daemon state machine. </p><pre class="fragment">           +---------------------------------------+
           |                                       |
           |                                       V
</pre><p> IDLE -&mdash;&gt; UNPACKING -&mdash;&gt; SECURITY_CHECKING -&mdash;&gt; APPLYING ^ | | | | | | | +---------&mdash;+ | | | | | +-----------------------------&mdash;+ | | | +-------------------------------------------------&mdash;+</p>
<p>Transition from UNPACKING to APPLYING happens when security-unpack finishes before the unpacking finishes. This is common when update packs are unsigned (when security-unpack is not really doing anything). </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.11
        </div>
    </div>
</body>
</html>
