<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LEGATO: tty API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/javascript">
//<![CDATA[
    // Detect if doc is served by eclipse
    if( ( (window.location.hostname == "127.0.0.1") || (window.location.hostname == "localhost") ) &&
        ( (window.location.port != "") && (window.location.port != 80) && (window.location.port != 443) ) )
    {
        // Inhibit init function from navtree
        initNavTree = function(toroot,relpath) {}
        $(document).ready(function(){
            navTree = document.getElementById("side-nav");
            if(navTree)
            {
                navTree.parentElement.removeChild(navTree);
            }
            $("#doc-content").css('margin-left',10);
        });
    }
//]]>
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <a href="index.html" title="Legato">
      <img alt="Logo" src="legatoLogo.png"/>
    </a>
    <div id="projectbrief">Simplifying IoT development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('c_tty.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">tty API </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="le__tty_8h.html">API Reference</a></p>
<hr/>
<p>This API provides routines to configure serial ports.</p>
<h1><a class="anchor" id="c_tty_open_close"></a>
Open/Close serial ports</h1>
<ul>
<li><code><a class="el" href="le__tty_8h.html#a93c3ad951903478014a91c721319951b">le_tty_Open()</a></code> opens a serial port device and locks it for exclusive use.</li>
</ul>
<div class="fragment"><div class="line">fd = <a class="code" href="le__tty_8h.html#a93c3ad951903478014a91c721319951b">le_tty_Open</a>(<span class="stringliteral">&quot;/dev/ttyS0&quot;</span>, O_RDWR | O_NOCTTY | O_NDELAY);</div></div><!-- fragment --><ul>
<li><code><a class="el" href="le__tty_8h.html#a8e888c890956de70c594d26405133b98">le_tty_Close()</a></code> closes and unlocks a serial port file descriptor.</li>
</ul>
<h1><a class="anchor" id="c_tty_settings"></a>
Settings serial ports</h1>
<ul>
<li>Setting baud rate is done with <code><a class="el" href="le__tty_8h.html#a5ade4aa1b77c8cd69016695adca64f3c">le_tty_SetBaudRate()</a></code>, value available are listed by <a class="el" href="le__tty_8h.html#a04be619b6aa8c2866fd107e51be30a13">tty_Speed_t</a></li>
<li>Getting baud rate is done with <code><a class="el" href="le__tty_8h.html#a786626ed11391263f89e120b1b4de18c">le_tty_GetBaudRate()</a></code>. when <a class="el" href="le__tty_8h.html#a5ade4aa1b77c8cd69016695adca64f3c">le_tty_SetBaudRate()</a> failed with LE_UNSUPPORTED, use <code><a class="el" href="le__tty_8h.html#a786626ed11391263f89e120b1b4de18c">le_tty_GetBaudRate()</a></code> to retrieve the real value sets by the driver.</li>
<li>Setting framing on serial port is done with <code><a class="el" href="le__tty_8h.html#af33173f45f89a5a17b47add063a2ad46">le_tty_SetFraming()</a></code>. Parity value can be :<ul>
<li>"N" for No parity</li>
<li>"O" for Odd parity</li>
<li>"E" for Even parity</li>
</ul>
</li>
<li>Setting flow control on serial port is done with <code><a class="el" href="le__tty_8h.html#a331cdf5d19135a4c4fc1ba8b3c3acf2a">le_tty_SetFlowControl()</a></code>. Flow control options are:<ul>
<li>LE_TTY_FLOW_CONTROL_NONE - flow control disabled</li>
<li>LE_TTY_FLOW_CONTROL_XON_XOFF - software flow control (XON/XOFF)</li>
<li>LE_TTY_FLOW_CONTROL_HARDWARE - hardware flow control (RTS/CTS)</li>
</ul>
</li>
<li>Setting serial port into terminal mode is done with <code><a class="el" href="le__tty_8h.html#a78cfc2ae600bca28eb48e8b40ccee358">le_tty_SetCanonical()</a></code>. it converts EOL characters to unix format, enables local echo, line mode.</li>
<li><p class="startli">Setting serial port into raw (non-canonical) mode is done with <code><a class="el" href="le__tty_8h.html#a7eae0319f1c4a064c8667f38610e059a">le_tty_SetRaw()</a></code>. it disables conversion of EOL characters, disables local echo, sets character mode, read timeouts.</p>
<p class="startli">Different use cases for numChars and timeout parameters in <code><a class="el" href="le__tty_8h.html#a7eae0319f1c4a064c8667f38610e059a">le_tty_SetRaw(int fd,int numChars,int timeout)</a></code> </p><ul>
<li>numChars = 0 and timeout = 0: Read will be completetly non-blocking.</li>
<li>numChars = 0 and timeout &gt; 0: Read will be a pure timed read. If the timer expires without data, zero is returned.</li>
<li>numChars &gt; 0 and timeout &gt; 0: Read will return when numChar have been transferred to the caller's buffer or when timeout expire between characters.</li>
<li>numChars &gt; 0 and timeout = 0: Read will return only when exactly numChars have been transferred to the caller's buffer. This can wait and block indefinitely, when read(fd,buffer,nbytes) is performed and that nbytes is smaller than the numChars setted.</li>
</ul>
</li>
</ul>
<p>To switch between 'cannonical' and 'raw' mode, just call <code><a class="el" href="le__tty_8h.html#a78cfc2ae600bca28eb48e8b40ccee358">le_tty_SetCanonical()</a></code> and <code><a class="el" href="le__tty_8h.html#a7eae0319f1c4a064c8667f38610e059a">le_tty_SetRaw()</a></code> respectively</p>
<hr/>
<p>Copyright (C) Sierra Wireless Inc. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.11
        </div>
    </div>
</body>
</html>
