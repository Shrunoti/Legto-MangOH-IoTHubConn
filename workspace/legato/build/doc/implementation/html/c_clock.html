<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LEGATO: System Clock API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/javascript">
//<![CDATA[
    // Detect if doc is served by eclipse
    if( ( (window.location.hostname == "127.0.0.1") || (window.location.hostname == "localhost") ) &&
        ( (window.location.port != "") && (window.location.port != 80) && (window.location.port != 443) ) )
    {
        // Inhibit init function from navtree
        initNavTree = function(toroot,relpath) {}
        $(document).ready(function(){
            navTree = document.getElementById("side-nav");
            if(navTree)
            {
                navTree.parentElement.removeChild(navTree);
            }
            $("#doc-content").css('margin-left',10);
        });
    }
//]]>
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <a href="index.html" title="Legato">
      <img alt="Logo" src="legatoLogo.png"/>
    </a>
    <div id="projectbrief">Simplifying IoT development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('c_clock.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">System Clock API </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="le__clock_8h.html">API Reference</a></p>
<hr/>
<p>This module provides an API for getting/setting date and/or time values, and performing conversions between these values.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000020">Todo:</a></b></dt><dd>This API is currently incomplete, as it only provides a subset of functions that will eventually be supported.</dd></dl>
<h1><a class="anchor" id="clk_time"></a>
Getting/Setting Time</h1>
<p>Time values can either be absolute or relative. Time is expressed in seconds plus microseconds, and does not stop when the system is suspended (i.e., the clock continues to run even when the system is suspended).</p>
<p>Absolute time is given as time since the Epoch, 1970-01-01 00:00:00 +0000 (UTC) and is provided by <a class="el" href="le__clock_8h.html#a33197dbd676a37b8c4d5de8f93edc1ee">le_clk_GetAbsoluteTime()</a>. By definition, it is UTC time. The absolute time may jump forward or backward if a new value is set for the absolute time. Absolute time can be set by unsandboxed applications using <a class="el" href="le__clock_8h.html#a4eccd60ca4f915c546f811d3574864a8">le_clk_SetAbsoluteTime()</a>.</p>
<p>Relative time is a monotonic time from a fixed but unspecified starting point and is provided by <a class="el" href="le__clock_8h.html#a298619d8c1d8f107cb03b8600f09a42b">le_clk_GetRelativeTime()</a>. The relative time is independent of the absolute time. The starting point is fixed during system boot, and cannot be changed, but is reset on each system boot. Since the relative time is monotonic, it is guaranteed to never go backwards. With these characteristics, the relative time is useful for measuring the time between two or more events. For example, at event 1, relative time A is stored, and at some later event 2, relative time B is stored. The relative time between these two events can always be calculated as B-A, and will always be an accurate measure of the relative time between these two events.</p>
<h1><a class="anchor" id="clk_values"></a>
Operations on Time Values</h1>
<p>These operations can be performed on time values:</p><ul>
<li><a class="el" href="clock_8c.html#a6f4bda0268cd9349b6eb81ae350575fc">le_clk_Add</a></li>
<li><a class="el" href="clock_8c.html#ac4a550ee8aa5fad9c81a33024946660a">le_clk_GreaterThan</a></li>
<li><a class="el" href="clock_8c.html#a164476582afdec88bdd48ad5255dce17">le_clk_Equal</a></li>
<li><a class="el" href="clock_8c.html#ac5b5ec6f462d598f4e5aa081224725ac">le_clk_Sub</a></li>
<li><a class="el" href="clock_8c.html#a77961175ee422b1418a18eece5192c9c">le_clk_Multiply</a></li>
</ul>
<p>The functions use these assumptions:</p><ul>
<li>All input time values are normalized (i.e., the usec value is less than 1 sec). All time values returned are normalized.</li>
<li>All input time values or scale factors are positive; a negative time value will not be returned.</li>
<li>All input time values or scale factors are expected to have reasonable values (i.e., they will not be so large as to cause an overflow of the time value structure).</li>
</ul>
<h1><a class="anchor" id="clk_convert"></a>
Converting Time to/from Other Formats</h1>
<p>The current absolute time can be converted to a formatted string in either UTC time or local time, using <a class="el" href="le__clock_8h.html#a5392b8eb7d45ce86c0842a0a69975059">le_clk_GetUTCDateTimeString()</a> or <a class="el" href="le__clock_8h.html#a6f37c2a2171eac23ddc306de1fd55f5c">le_clk_GetLocalDateTimeString()</a> respectively. These functions use the format specification defined for strftime(), with the following additional conversion specifications:</p><ul>
<li>%J : milliseconds, as a 3 digit zero-padded string, e.g. "015"</li>
<li>%K : microseconds, as a 6 digit zero-padded string, e.g. "001015"</li>
</ul>
<p>The absolute time can be set with a formatted string in UTC time, using <a class="el" href="le__clock_8h.html#a80f1414046ce8b151f6121e52aa7838c">le_clk_SetUTCDateTimeString()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>The additional format specifications %J and %K are not supported by <a class="el" href="le__clock_8h.html#a80f1414046ce8b151f6121e52aa7838c">le_clk_SetUTCDateTimeString()</a>.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000021">Todo:</a></b></dt><dd><ul>
<li>Add new formatting object to allow arbitrary time to be converted to a string, potentially with additional formatting options.</li>
<li>Add new objects and/or APIs to allow converting time to other formats, e.g. Linux broken down time in "struct tm" format.</li>
</ul>
</dd></dl>
<hr/>
<p>Copyright (C) Sierra Wireless Inc. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.11
        </div>
    </div>
</body>
</html>
