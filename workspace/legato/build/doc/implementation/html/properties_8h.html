<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LEGATO: framework/liblegato/linux/properties.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/javascript">
//<![CDATA[
    // Detect if doc is served by eclipse
    if( ( (window.location.hostname == "127.0.0.1") || (window.location.hostname == "localhost") ) &&
        ( (window.location.port != "") && (window.location.port != 80) && (window.location.port != 443) ) )
    {
        // Inhibit init function from navtree
        initNavTree = function(toroot,relpath) {}
        $(document).ready(function(){
            navTree = document.getElementById("side-nav");
            if(navTree)
            {
                navTree.parentElement.removeChild(navTree);
            }
            $("#doc-content").css('margin-left',10);
        });
    }
//]]>
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <a href="index.html" title="Legato">
      <img alt="Logo" src="legatoLogo.png"/>
    </a>
    <div id="projectbrief">Simplifying IoT development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('properties_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">properties.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="properties_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:acf0b16e5758f960669abe69a85b3545d"><td class="memItemLeft" align="right" valign="top">typedef struct properties_Iter *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="properties_8h.html#acf0b16e5758f960669abe69a85b3545d">properties_Iter_Ref_t</a></td></tr>
<tr class="separator:acf0b16e5758f960669abe69a85b3545d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7352004128facf7da95acf0ba643a2c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="properties_8h.html#a7352004128facf7da95acf0ba643a2c3">properties_Init</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a7352004128facf7da95acf0ba643a2c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44623027350a3b47a69ba82118607eeb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="properties_8h.html#acf0b16e5758f960669abe69a85b3545d">properties_Iter_Ref_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="properties_8h.html#a44623027350a3b47a69ba82118607eeb">properties_CreateIter</a> (const char *fileNamePtr)</td></tr>
<tr class="separator:a44623027350a3b47a69ba82118607eeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9227fde1a3c3c327eaee48becaf659d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="properties_8h.html#a9227fde1a3c3c327eaee48becaf659d1">properties_NextNode</a> (<a class="el" href="properties_8h.html#acf0b16e5758f960669abe69a85b3545d">properties_Iter_Ref_t</a> iteratorRef)</td></tr>
<tr class="separator:a9227fde1a3c3c327eaee48becaf659d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39a514b51d41dc9af19a56b74b5f7602"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="properties_8h.html#a39a514b51d41dc9af19a56b74b5f7602">properties_GetKey</a> (<a class="el" href="properties_8h.html#acf0b16e5758f960669abe69a85b3545d">properties_Iter_Ref_t</a> iteratorRef)</td></tr>
<tr class="separator:a39a514b51d41dc9af19a56b74b5f7602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af309eca949ab11a6df6150ec43ec9f1f"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="properties_8h.html#af309eca949ab11a6df6150ec43ec9f1f">properties_GetValue</a> (<a class="el" href="properties_8h.html#acf0b16e5758f960669abe69a85b3545d">properties_Iter_Ref_t</a> iteratorRef)</td></tr>
<tr class="separator:af309eca949ab11a6df6150ec43ec9f1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a752b70271e605222b05a3736e7302662"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="properties_8h.html#a752b70271e605222b05a3736e7302662">properties_DeleteIter</a> (<a class="el" href="properties_8h.html#acf0b16e5758f960669abe69a85b3545d">properties_Iter_Ref_t</a> iteratorRef)</td></tr>
<tr class="separator:a752b70271e605222b05a3736e7302662"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affc5d864e4ef43337760093a5831babd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="properties_8h.html#affc5d864e4ef43337760093a5831babd">properties_GetValueForKey</a> (const char *fileNamePtr, const char *keyPtr, char *bufPtr, size_t bufSize)</td></tr>
<tr class="separator:affc5d864e4ef43337760093a5831babd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa84a3c4c92350069e548adefa5176972"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="properties_8h.html#aa84a3c4c92350069e548adefa5176972">properties_SetValueForKey</a> (const char *fileNamePtr, const char *keyPtr, const char *valuePtr)</td></tr>
<tr class="separator:aa84a3c4c92350069e548adefa5176972"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This API is used to obtain the key-value pairs from an application configuration file in the Java .properties format.</p>
<p>Copyright (C) Sierra Wireless Inc. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="acf0b16e5758f960669abe69a85b3545d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct properties_Iter* <a class="el" href="properties_8h.html#acf0b16e5758f960669abe69a85b3545d">properties_Iter_Ref_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reference to a properties iterator. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a44623027350a3b47a69ba82118607eeb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="properties_8h.html#acf0b16e5758f960669abe69a85b3545d">properties_Iter_Ref_t</a> properties_CreateIter </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fileNamePtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens the specified .properties file and returns an iterator that can be used to step through the list of name-value pairs in the file.</p>
<p>The iterator is not ready for data access until <a class="el" href="properties_8h.html#a9227fde1a3c3c327eaee48becaf659d1">properties_NextNode()</a> has been called at least once.</p>
<dl class="section note"><dt>Note</dt><dd>Reading from a file that is being written to at the same time can result in unexpected behaviour. The caller must ensure that the file is not being written to while an iterator for the file exists.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to a properties iterator if successful. NULL if the the file could not be opened. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fileNamePtr</td><td>File name of the .properties file. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a752b70271e605222b05a3736e7302662"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> properties_DeleteIter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="properties_8h.html#acf0b16e5758f960669abe69a85b3545d">properties_Iter_Ref_t</a>&#160;</td>
          <td class="paramname"><em>iteratorRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deletes the iterator and closes the associated .properties file.</p>
<dl class="section note"><dt>Note</dt><dd>If the iterator is invalid this function will kill the calling process. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iteratorRef</td><td>Reference to the iterator. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a39a514b51d41dc9af19a56b74b5f7602"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* properties_GetKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="properties_8h.html#acf0b16e5758f960669abe69a85b3545d">properties_Iter_Ref_t</a>&#160;</td>
          <td class="paramname"><em>iteratorRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the key where the iterator is currently pointing.</p>
<dl class="section note"><dt>Note</dt><dd>This function should only be used if a previous call to <a class="el" href="properties_8h.html#a9227fde1a3c3c327eaee48becaf659d1">properties_NextNode()</a> returned successfully (returned LE_OK). Otherwise the behaviour of this function is undefined.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The key string. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iteratorRef</td><td>Reference to the iterator. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af309eca949ab11a6df6150ec43ec9f1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* properties_GetValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="properties_8h.html#acf0b16e5758f960669abe69a85b3545d">properties_Iter_Ref_t</a>&#160;</td>
          <td class="paramname"><em>iteratorRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the value where the iterator is currently pointing.</p>
<dl class="section note"><dt>Note</dt><dd>This function should only be used if a previous call to <a class="el" href="properties_8h.html#a9227fde1a3c3c327eaee48becaf659d1">properties_NextNode()</a> returned successfully (returned LE_OK). Otherwise the behaviour of this function is undefined.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The value string. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iteratorRef</td><td>Reference to the iterator. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="affc5d864e4ef43337760093a5831babd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> properties_GetValueForKey </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fileNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>keyPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>bufPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bufSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the value for a specified key in the specified .properties file.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_OVERFLOW if the buffer is too small to hold the entire value string. LE_NOT_FOUND if the key does not exist. LE_FAULT if there was an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fileNamePtr</td><td>File name of the .properties file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">keyPtr</td><td>Key to get the value for. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bufPtr</td><td>Buffer to hold the value string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufSize</td><td>Size of the buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7352004128facf7da95acf0ba643a2c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> properties_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the properties subsystem's internal memory pools. This function is to be called from Legato's internal init. </p>

</div>
</div>
<a class="anchor" id="a9227fde1a3c3c327eaee48becaf659d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> properties_NextNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="properties_8h.html#acf0b16e5758f960669abe69a85b3545d">properties_Iter_Ref_t</a>&#160;</td>
          <td class="paramname"><em>iteratorRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Moves the iterator to the next key-value pair in the file. This function must be called at least once before any key-value pairs can be read. After the first time this function is called successfully on an iterator the first key-value pair will be available.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_NOT_FOUND if there are no more key-value pairs in the file. LE_FAULT if there is a format error in the file. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iteratorRef</td><td>Reference to the iterator. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa84a3c4c92350069e548adefa5176972"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> properties_SetValueForKey </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fileNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>keyPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>valuePtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the value for a specified key in the specified .properties file.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_FAULT if there was an error.</dd></dl>
<p>Sets the value for a specified key in the specified .properties file.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_OVERFLOW if fileNamePtr was too long. LE_BAD_PARAMETER if fileNamePtr was formatted poorly. LE_FAULT if there was an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fileNamePtr</td><td>File name of the .properties file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">keyPtr</td><td>Key to get the value for. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">valuePtr</td><td>New property value string to write. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.11
        </div>
    </div>
</body>
</html>
