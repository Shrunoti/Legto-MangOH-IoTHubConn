<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LEGATO: framework/daemons/linux/configTree/treeUser.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/javascript">
//<![CDATA[
    // Detect if doc is served by eclipse
    if( ( (window.location.hostname == "127.0.0.1") || (window.location.hostname == "localhost") ) &&
        ( (window.location.port != "") && (window.location.port != 80) && (window.location.port != 443) ) )
    {
        // Inhibit init function from navtree
        initNavTree = function(toroot,relpath) {}
        $(document).ready(function(){
            navTree = document.getElementById("side-nav");
            if(navTree)
            {
                navTree.parentElement.removeChild(navTree);
            }
            $("#doc-content").css('margin-left',10);
        });
    }
//]]>
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <a href="index.html" title="Legato">
      <img alt="Logo" src="legatoLogo.png"/>
    </a>
    <div id="projectbrief">Simplifying IoT development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('tree_user_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">treeUser.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="legato_8h_source.html">legato.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="limit_8h_source.html">limit.h</a>&quot;</code><br />
<code>#include &quot;user.h&quot;</code><br />
<code>#include &quot;interfaces.h&quot;</code><br />
<code>#include &quot;<a class="el" href="tree_db_8h_source.html">treeDb.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="tree_path_8h_source.html">treePath.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="tree_user_8h_source.html">treeUser.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="internal_config_8h_source.html">internalConfig.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_user__t.html">User_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab630ab8d476087af0d454207be8bd03a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_user_8c.html#ab630ab8d476087af0d454207be8bd03a">CFG_USER_COLLECTION_NAME</a>&#160;&#160;&#160;&quot;userCollection&quot;</td></tr>
<tr class="memdesc:ab630ab8d476087af0d454207be8bd03a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the user collection object.  <a href="#ab630ab8d476087af0d454207be8bd03a">More...</a><br /></td></tr>
<tr class="separator:ab630ab8d476087af0d454207be8bd03a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81f3ac41aaf3a5bbbecfa6b58387b7a5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_user_8c.html#a81f3ac41aaf3a5bbbecfa6b58387b7a5">CFG_USER_POOL_NAME</a>&#160;&#160;&#160;&quot;userPool&quot;</td></tr>
<tr class="memdesc:a81f3ac41aaf3a5bbbecfa6b58387b7a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the memory pool backing the user objects.  <a href="#a81f3ac41aaf3a5bbbecfa6b58387b7a5">More...</a><br /></td></tr>
<tr class="separator:a81f3ac41aaf3a5bbbecfa6b58387b7a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab3b6860e763cf57d9b5190a6709c3ebf"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="tree_user_8h.html#ae16174a0d43f8a46e47447be76fe951a">tu_UserRef_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_user_8c.html#ab3b6860e763cf57d9b5190a6709c3ebf">CreateUserInfo</a> (uid_t userId, const char *userName, const char *treeName)</td></tr>
<tr class="separator:ab3b6860e763cf57d9b5190a6709c3ebf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac37fc58efd46a3856f232661cd5339f5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_user_8c.html#ac37fc58efd46a3856f232661cd5339f5">UserDestructor</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *objectPtr)</td></tr>
<tr class="separator:ac37fc58efd46a3856f232661cd5339f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecf0b560a35cbb3701954bce5f3aa4af"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="tree_user_8h.html#ae16174a0d43f8a46e47447be76fe951a">tu_UserRef_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_user_8c.html#aecf0b560a35cbb3701954bce5f3aa4af">GetUser</a> (uid_t userId, bool *wasCreated)</td></tr>
<tr class="separator:aecf0b560a35cbb3701954bce5f3aa4af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e02e3c6576b4b0b8fbc117202831e9b"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_user_8c.html#a1e02e3c6576b4b0b8fbc117202831e9b">PermissionStr</a> (<a class="el" href="tree_user_8h.html#a2dff366cb61aff633d83fc1598574fb7">tu_TreePermission_t</a> permission)</td></tr>
<tr class="separator:a1e02e3c6576b4b0b8fbc117202831e9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a772d35708498d92c1fb9cafcc6692014"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="tree_user_8h.html#ae16174a0d43f8a46e47447be76fe951a">tu_UserRef_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_user_8c.html#a772d35708498d92c1fb9cafcc6692014">GetUserInfo</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> currentSession, bool *wasCreated)</td></tr>
<tr class="separator:a772d35708498d92c1fb9cafcc6692014"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac87454c56b4bbabf0422ced0f823697b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_user_8c.html#ac87454c56b4bbabf0422ced0f823697b">tu_Init</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:ac87454c56b4bbabf0422ced0f823697b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeca1e63b79eb56b91e03220bdb67feda"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_user_8c.html#aeca1e63b79eb56b91e03220bdb67feda">tu_SessionConnected</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> <a class="el" href="log_tool_8c.html#a0ba04d68f0faec00ca0db1c014f248be">sessionRef</a>)</td></tr>
<tr class="separator:aeca1e63b79eb56b91e03220bdb67feda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acab6b81eddee3aeaa011b0cfc90d83d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_user_8c.html#acab6b81eddee3aeaa011b0cfc90d83d3">tu_SessionDisconnected</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> <a class="el" href="log_tool_8c.html#a0ba04d68f0faec00ca0db1c014f248be">sessionRef</a>)</td></tr>
<tr class="separator:acab6b81eddee3aeaa011b0cfc90d83d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53c3249b37ce6bccc26b3b7328ea4bda"><td class="memItemLeft" align="right" valign="top">uid_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_user_8c.html#a53c3249b37ce6bccc26b3b7328ea4bda">tu_GetUserId</a> (<a class="el" href="tree_user_8h.html#ae16174a0d43f8a46e47447be76fe951a">tu_UserRef_t</a> userRef)</td></tr>
<tr class="separator:a53c3249b37ce6bccc26b3b7328ea4bda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c2301192fac4cd35e51bdf37917a7de"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_user_8c.html#a6c2301192fac4cd35e51bdf37917a7de">tu_GetUserName</a> (<a class="el" href="tree_user_8h.html#ae16174a0d43f8a46e47447be76fe951a">tu_UserRef_t</a> userRef)</td></tr>
<tr class="separator:a6c2301192fac4cd35e51bdf37917a7de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae00f644aaa0b79ab2c520959845964ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="tree_user_8h.html#ae16174a0d43f8a46e47447be76fe951a">tu_UserRef_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_user_8c.html#ae00f644aaa0b79ab2c520959845964ae">tu_GetCurrentConfigUserInfo</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:ae00f644aaa0b79ab2c520959845964ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8469f0b7a203bf4d6b01560a4ebca35b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="tree_user_8h.html#ae16174a0d43f8a46e47447be76fe951a">tu_UserRef_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_user_8c.html#a8469f0b7a203bf4d6b01560a4ebca35b">tu_GetCurrentConfigAdminUserInfo</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a8469f0b7a203bf4d6b01560a4ebca35b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adce721a8a05f8920f75bcbd1034ac127"><td class="memItemLeft" align="right" valign="top"><a class="el" href="tree_db_8h.html#aa4d033a6e03f068d0e99455012b060c3">tdb_TreeRef_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_user_8c.html#adce721a8a05f8920f75bcbd1034ac127">tu_GetRequestedTree</a> (<a class="el" href="tree_user_8h.html#ae16174a0d43f8a46e47447be76fe951a">tu_UserRef_t</a> userRef, <a class="el" href="tree_user_8h.html#a2dff366cb61aff633d83fc1598574fb7">tu_TreePermission_t</a> permission, const char *pathPtr)</td></tr>
<tr class="separator:adce721a8a05f8920f75bcbd1034ac127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c288c99ba4cef41345f7e6703af9169"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_user_8c.html#a6c288c99ba4cef41345f7e6703af9169">tu_TerminateConfigClient</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> <a class="el" href="log_tool_8c.html#a0ba04d68f0faec00ca0db1c014f248be">sessionRef</a>, const char *killMessage)</td></tr>
<tr class="separator:a6c288c99ba4cef41345f7e6703af9169"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac90ea731821cfb9fede7b7d17c14840e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_user_8c.html#ac90ea731821cfb9fede7b7d17c14840e">tu_TerminateConfigAdminClient</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> <a class="el" href="log_tool_8c.html#a0ba04d68f0faec00ca0db1c014f248be">sessionRef</a>, const char *killMessage)</td></tr>
<tr class="separator:ac90ea731821cfb9fede7b7d17c14840e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a3bdba8b75ed46da30570aed46032ed0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__hashmap_8h.html#ae81c60860dbdb8c59beaf25985e5605a">le_hashmap_Ref_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_user_8c.html#a3bdba8b75ed46da30570aed46032ed0b">UserCollectionRef</a> = NULL</td></tr>
<tr class="memdesc:a3bdba8b75ed46da30570aed46032ed0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The collection of configuration trees managed by the system.  <a href="#a3bdba8b75ed46da30570aed46032ed0b">More...</a><br /></td></tr>
<tr class="separator:a3bdba8b75ed46da30570aed46032ed0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadd8ba31f1a2560438a0763d7260f2e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__mem_8h.html#a44a896f6a0a1a8c733e8038eb332989e">le_mem_PoolRef_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_user_8c.html#aadd8ba31f1a2560438a0763d7260f2e9">UserPoolRef</a> = NULL</td></tr>
<tr class="separator:aadd8ba31f1a2560438a0763d7260f2e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of the tree user module. The tree user object's keep track of the user default trees. In the future, tree accessibility permissions will also be add to these objects.</p>
<p>Copyright (C) Sierra Wireless Inc. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ab630ab8d476087af0d454207be8bd03a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFG_USER_COLLECTION_NAME&#160;&#160;&#160;&quot;userCollection&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Name of the user collection object. </p>

</div>
</div>
<a class="anchor" id="a81f3ac41aaf3a5bbbecfa6b58387b7a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFG_USER_POOL_NAME&#160;&#160;&#160;&quot;userPool&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Name of the memory pool backing the user objects. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab3b6860e763cf57d9b5190a6709c3ebf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="tree_user_8h.html#ae16174a0d43f8a46e47447be76fe951a">tu_UserRef_t</a> CreateUserInfo </td>
          <td>(</td>
          <td class="paramtype">uid_t&#160;</td>
          <td class="paramname"><em>userId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>userName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>treeName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new user information block, complete with that users name, id, and default tree name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">userId</td><td>The Linux Id of the user in question. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">userName</td><td>The name of the user. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">treeName</td><td>The name of the default tree for this user. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aecf0b560a35cbb3701954bce5f3aa4af"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="tree_user_8h.html#ae16174a0d43f8a46e47447be76fe951a">tu_UserRef_t</a> GetUser </td>
          <td>(</td>
          <td class="paramtype">uid_t&#160;</td>
          <td class="paramname"><em>userId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>wasCreated</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the user info for the given user id. If the given user info has not been created yet, it is done so now.</p>
<dl class="section return"><dt>Returns</dt><dd>A user info reference. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">userId</td><td>The user id to look up. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">wasCreated</td><td>Was the user info created for this request? Pass NULL if you don't need this. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a772d35708498d92c1fb9cafcc6692014"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="tree_user_8h.html#ae16174a0d43f8a46e47447be76fe951a">tu_UserRef_t</a> GetUserInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a>&#160;</td>
          <td class="paramname"><em>currentSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>wasCreated</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the information for a user on the other side of a config API connection.</p>
<p>Note that if the user ID of the connecting process is the same as the user ID that the config tree was launched with, then the connected user is treated as root.</p>
<dl class="section return"><dt>Returns</dt><dd>A reference to the user information that represents the user on the other end of the current API connection. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">currentSession</td><td>Get the user information for this message session. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">wasCreated</td><td>Was the user info created for this request? Pass NULL if you don't need this. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1e02e3c6576b4b0b8fbc117202831e9b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* PermissionStr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tree_user_8h.html#a2dff366cb61aff633d83fc1598574fb7">tu_TreePermission_t</a>&#160;</td>
          <td class="paramname"><em>permission</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Take a given permission enum value and return a string that represents it. This is used for logging permission requests.</p>
<dl class="section return"><dt>Returns</dt><dd>A constant string that best represents the passed in enumeration value. Do not free this string, it's statically allocated. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">permission</td><td>The requested permission flag. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8469f0b7a203bf4d6b01560a4ebca35b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tree_user_8h.html#ae16174a0d43f8a46e47447be76fe951a">tu_UserRef_t</a> tu_GetCurrentConfigAdminUserInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the information for the current user user on the other side of a configAdmin API connection.</p>
<dl class="section note"><dt>Note</dt><dd>This function must be called within the context of one of the configAdminAPI service handlers.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to the user information that represents the user on the other end of the current API connection. </dd></dl>

</div>
</div>
<a class="anchor" id="ae00f644aaa0b79ab2c520959845964ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tree_user_8h.html#ae16174a0d43f8a46e47447be76fe951a">tu_UserRef_t</a> tu_GetCurrentConfigUserInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the information for the current user on the other side of a config API connection.</p>
<dl class="section note"><dt>Note</dt><dd>This function must be called within the context of one of the configAPI service handlers.</dd>
<dd>
If the user ID of the connecting process is the same as the user ID that the config tree was launched with, then the connected user is treated as root.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to the user information that represents the user on the other end of the current API connection. </dd></dl>

</div>
</div>
<a class="anchor" id="adce721a8a05f8920f75bcbd1034ac127"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tree_db_8h.html#aa4d033a6e03f068d0e99455012b060c3">tdb_TreeRef_t</a> tu_GetRequestedTree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tree_user_8h.html#ae16174a0d43f8a46e47447be76fe951a">tu_UserRef_t</a>&#160;</td>
          <td class="paramname"><em>userRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tree_user_8h.html#a2dff366cb61aff633d83fc1598574fb7">tu_TreePermission_t</a>&#160;</td>
          <td class="paramname"><em>permission</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pathPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a tree for a user, if the tree is specified in the path, get that tree, (if allowed.) Otherwise get the default tree for that user.</p>
<dl class="section return"><dt>Returns</dt><dd>A reference to the requested tree. If the user does not have the requested permission on the tree a NULL is returned instead. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">userRef</td><td>Get a tree for this user. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">permission</td><td>Try to get a tree with this permission. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pathPtr</td><td>The path to check. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a53c3249b37ce6bccc26b3b7328ea4bda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uid_t tu_GetUserId </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tree_user_8h.html#ae16174a0d43f8a46e47447be76fe951a">tu_UserRef_t</a>&#160;</td>
          <td class="paramname"><em>userRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the OS id for this user object.</p>
<dl class="section return"><dt>Returns</dt><dd>The OS style user Id for the given user. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">userRef</td><td>The user object to read. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6c2301192fac4cd35e51bdf37917a7de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* tu_GetUserName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tree_user_8h.html#ae16174a0d43f8a46e47447be76fe951a">tu_UserRef_t</a>&#160;</td>
          <td class="paramname"><em>userRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the name associated with this user object.</p>
<dl class="section return"><dt>Returns</dt><dd>The OS level user name for the given user. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">userRef</td><td>The user object to read. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac87454c56b4bbabf0422ced0f823697b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> tu_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the user subsystem and get it ready for user lookups. </p>

</div>
</div>
<a class="anchor" id="aeca1e63b79eb56b91e03220bdb67feda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> tu_SessionConnected </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a>&#160;</td>
          <td class="paramname"><em>sessionRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function called when an IPC session is connected to the configTree server. This will allocate a user record, (if required,) and up it's connection count. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>The session just connected. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acab6b81eddee3aeaa011b0cfc90d83d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> tu_SessionDisconnected </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a>&#160;</td>
          <td class="paramname"><em>sessionRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called when a client session is disconnected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>The session just disconnected. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac90ea731821cfb9fede7b7d17c14840e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> tu_TerminateConfigAdminClient </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a>&#160;</td>
          <td class="paramname"><em>sessionRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>killMessage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Kill a client of the configTree admin API. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>The session that needs to close. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">killMessage</td><td>The reason the session needs to close. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6c288c99ba4cef41345f7e6703af9169"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> tu_TerminateConfigClient </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a>&#160;</td>
          <td class="paramname"><em>sessionRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>killMessage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Kill a client of the configTree API. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>The session that needs to close. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">killMessage</td><td>The reason the session needs to close. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac37fc58efd46a3856f232661cd5339f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> UserDestructor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *&#160;</td>
          <td class="paramname"><em>objectPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Free up after a freed user object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">objectPtr</td><td>The memory object to destroy. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a3bdba8b75ed46da30570aed46032ed0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__hashmap_8h.html#ae81c60860dbdb8c59beaf25985e5605a">le_hashmap_Ref_t</a> UserCollectionRef = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The collection of configuration trees managed by the system. </p>

</div>
</div>
<a class="anchor" id="aadd8ba31f1a2560438a0763d7260f2e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__mem_8h.html#a44a896f6a0a1a8c733e8038eb332989e">le_mem_PoolRef_t</a> UserPoolRef = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.11
        </div>
    </div>
</body>
</html>
