<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LEGATO: framework/liblegato/linux/fs.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/javascript">
//<![CDATA[
    // Detect if doc is served by eclipse
    if( ( (window.location.hostname == "127.0.0.1") || (window.location.hostname == "localhost") ) &&
        ( (window.location.port != "") && (window.location.port != 80) && (window.location.port != 443) ) )
    {
        // Inhibit init function from navtree
        initNavTree = function(toroot,relpath) {}
        $(document).ready(function(){
            navTree = document.getElementById("side-nav");
            if(navTree)
            {
                navTree.parentElement.removeChild(navTree);
            }
            $("#doc-content").css('margin-left',10);
        });
    }
//]]>
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <a href="index.html" title="Legato">
      <img alt="Logo" src="legatoLogo.png"/>
    </a>
    <div id="projectbrief">Simplifying IoT development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('fs_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">fs.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="legato_8h_source.html">legato.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="liblegato_2linux_2file_8h_source.html">file.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dir_8h_source.html">dir.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_file__t.html">File_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:afc7dc7fbfba22a2ecb654e541eee59b2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#afc7dc7fbfba22a2ecb654e541eee59b2">FS_PREFIX_DATA_PATH</a>&#160;&#160;&#160;&quot;/data/le_fs/&quot;</td></tr>
<tr class="separator:afc7dc7fbfba22a2ecb654e541eee59b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a238a0cd8898ca5c33d9f4a907fbe6a38"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a238a0cd8898ca5c33d9f4a907fbe6a38">FS_MAX_FILE_REF</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a238a0cd8898ca5c33d9f4a907fbe6a38"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a54c49f79a22bf6ae4f666d254aac0b3d"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a54c49f79a22bf6ae4f666d254aac0b3d">BuildPathName</a> (char *pathPtr, size_t pathSize, const char *filePathPtr)</td></tr>
<tr class="separator:a54c49f79a22bf6ae4f666d254aac0b3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3375858a4005a0b267396184a5571734"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a3375858a4005a0b267396184a5571734">MkDirTree</a> (const char *filePathPtr)</td></tr>
<tr class="separator:a3375858a4005a0b267396184a5571734"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe536d1201452c1191473adc3b590e5d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#afe536d1201452c1191473adc3b590e5d">FsFileRefDestructor</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *objPtr)</td></tr>
<tr class="separator:afe536d1201452c1191473adc3b590e5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac57bb687cc228f180f2713b639c13d99"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ac57bb687cc228f180f2713b639c13d99">le_fs_Open</a> (const char *filePathPtr, <a class="el" href="le__fs_8h.html#a7d03254febfa1144c5f979e9c82e9780">le_fs_AccessMode_t</a> accessMode, <a class="el" href="le__fs_8h.html#a5d6a6ea918795062df6645f9ae8ebfe0">le_fs_FileRef_t</a> *fileRefPtr)</td></tr>
<tr class="separator:ac57bb687cc228f180f2713b639c13d99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ecd0f3b1867abd51eca0f98f8cc932b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a2ecd0f3b1867abd51eca0f98f8cc932b">le_fs_Close</a> (<a class="el" href="le__fs_8h.html#a5d6a6ea918795062df6645f9ae8ebfe0">le_fs_FileRef_t</a> fileRef)</td></tr>
<tr class="separator:a2ecd0f3b1867abd51eca0f98f8cc932b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a155feeb2adcc8ca2caf7becf401030c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a155feeb2adcc8ca2caf7becf401030c8">le_fs_Read</a> (<a class="el" href="le__fs_8h.html#a5d6a6ea918795062df6645f9ae8ebfe0">le_fs_FileRef_t</a> fileRef, uint8_t *bufPtr, size_t *bufNumElementsPtr)</td></tr>
<tr class="separator:a155feeb2adcc8ca2caf7becf401030c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb8428bae9f5335591bef6d723d908f9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#afb8428bae9f5335591bef6d723d908f9">le_fs_Write</a> (<a class="el" href="le__fs_8h.html#a5d6a6ea918795062df6645f9ae8ebfe0">le_fs_FileRef_t</a> fileRef, const uint8_t *bufPtr, size_t bufNumElements)</td></tr>
<tr class="separator:afb8428bae9f5335591bef6d723d908f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17a5a2b58cb9dfb75a105048429e785e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a17a5a2b58cb9dfb75a105048429e785e">le_fs_Seek</a> (<a class="el" href="le__fs_8h.html#a5d6a6ea918795062df6645f9ae8ebfe0">le_fs_FileRef_t</a> fileRef, int32_t offset, <a class="el" href="le__fs_8h.html#a457edff9b23ffd119c2ef0efe2917e91">le_fs_Position_t</a> position, int32_t *currentOffsetPtr)</td></tr>
<tr class="separator:a17a5a2b58cb9dfb75a105048429e785e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a664f85a44586c327cc411e9f831c5d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a4a664f85a44586c327cc411e9f831c5d">le_fs_GetSize</a> (const char *filePathPtr, size_t *sizePtr)</td></tr>
<tr class="separator:a4a664f85a44586c327cc411e9f831c5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dd1bcd025a56d420156c2f84b8aa993"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a4dd1bcd025a56d420156c2f84b8aa993">le_fs_Delete</a> (const char *filePathPtr)</td></tr>
<tr class="separator:a4dd1bcd025a56d420156c2f84b8aa993"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6438d7f80b8a5bce559db559a43f1ca4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a6438d7f80b8a5bce559db559a43f1ca4">le_fs_Exists</a> (const char *filePathPtr)</td></tr>
<tr class="separator:a6438d7f80b8a5bce559db559a43f1ca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9e475b3da2b07d158c8696890828eba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ad9e475b3da2b07d158c8696890828eba">le_fs_RemoveDirRecursive</a> (const char *dirPathPtr)</td></tr>
<tr class="separator:ad9e475b3da2b07d158c8696890828eba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a301ce9a6e66efe5caeacd450d29b9ec0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a301ce9a6e66efe5caeacd450d29b9ec0">le_fs_Move</a> (const char *srcPathPtr, const char *destPathPtr)</td></tr>
<tr class="separator:a301ce9a6e66efe5caeacd450d29b9ec0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c0bf118144a4e0a26f63b5355558954"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a4c0bf118144a4e0a26f63b5355558954">fs_Init</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a4c0bf118144a4e0a26f63b5355558954"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a72461ad37f672e082cc406cb6c70269e"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a72461ad37f672e082cc406cb6c70269e">FsPrefixPtr</a> = NULL</td></tr>
<tr class="separator:a72461ad37f672e082cc406cb6c70269e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3001c1c1b5732c6cda339cc461ced20a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="le__mem_8h.html#a44a896f6a0a1a8c733e8038eb332989e">le_mem_PoolRef_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a3001c1c1b5732c6cda339cc461ced20a">FsFileRefPool</a></td></tr>
<tr class="separator:a3001c1c1b5732c6cda339cc461ced20a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a826d68fe9af29f5ad572b61caac987"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="le__safe_ref_8h.html#aaf8fb3412fb840cb50366856affaf69b">le_ref_MapRef_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a8a826d68fe9af29f5ad572b61caac987">FsFileRefMap</a></td></tr>
<tr class="separator:a8a826d68fe9af29f5ad572b61caac987"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains the data structures and the source code of the File System (FS) service.</p>
<hr/>
<p>Copyright (C) Sierra Wireless Inc. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a238a0cd8898ca5c33d9f4a907fbe6a38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FS_MAX_FILE_REF&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum number of fileRef managed by the service </p>

</div>
</div>
<a class="anchor" id="afc7dc7fbfba22a2ecb654e541eee59b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FS_PREFIX_DATA_PATH&#160;&#160;&#160;&quot;/data/le_fs/&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Default prefix path for RW if nothing is defined in the config tree </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a54c49f79a22bf6ae4f666d254aac0b3d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* BuildPathName </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pathPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>pathSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filePathPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function adds the prefix to the filePath to access</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NULL if the prefix is not set</li>
<li>Otherwise a pointer on the full path string related to the le_fs directory </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pathPtr</td><td>Full file path with prefix </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pathSize</td><td>Length of the full path array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filePathPtr</td><td>File path </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4c0bf118144a4e0a26f63b5355558954"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> fs_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize this component </p>

</div>
</div>
<a class="anchor" id="afe536d1201452c1191473adc3b590e5d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> FsFileRefDestructor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *&#160;</td>
          <td class="paramname"><em>objPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destructor function that runs when a file ref is deallocated </p>

</div>
</div>
<a class="anchor" id="a2ecd0f3b1867abd51eca0f98f8cc932b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_fs_Close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__fs_8h.html#a5d6a6ea918795062df6645f9ae8ebfe0">le_fs_FileRef_t</a>&#160;</td>
          <td class="paramname"><em>fileRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is called to close an opened file.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK The function succeeded.</li>
<li>LE_FAULT The function failed. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fileRef</td><td>File reference </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4dd1bcd025a56d420156c2f84b8aa993"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_fs_Delete </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filePathPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is called to delete a file.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK The function succeeded.</li>
<li>LE_BAD_PARAMETER A parameter is invalid.</li>
<li>LE_OVERFLOW The file path is too long.</li>
<li>LE_NOT_FOUND The file does not exist or a directory in the path does not exist</li>
<li>LE_NOT_PERMITTED The access right fails to delete the file or access is not granted to a a directory in the path</li>
<li>LE_UNSUPPORTED The prefix cannot be added and the function is unusable</li>
<li>LE_FAULT The function failed. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filePathPtr</td><td>File path </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6438d7f80b8a5bce559db559a43f1ca4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool le_fs_Exists </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filePathPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function checks whether a regular file exists at the provided path under file system service storage.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>true If file exists and it is a regular file.</li>
<li>false Otherwise. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filePathPtr</td><td>File path </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4a664f85a44586c327cc411e9f831c5d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_fs_GetSize </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filePathPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>sizePtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is called to get the size of a file.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK The function succeeded.</li>
<li>LE_BAD_PARAMETER A parameter is invalid.</li>
<li>LE_OVERFLOW The file path is too long.</li>
<li>LE_UNSUPPORTED The prefix cannot be added and the function is unusable</li>
<li>LE_FAULT The function failed. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filePathPtr</td><td>File path </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">sizePtr</td><td>File size (if successful) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a301ce9a6e66efe5caeacd450d29b9ec0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_fs_Move </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>srcPathPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>destPathPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is called to rename an existing file. If rename fails, the file will keep its original name.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK The function succeeded.</li>
<li>LE_BAD_PARAMETER A parameter is invalid.</li>
<li>LE_OVERFLOW A file path is too long.</li>
<li>LE_FAULT The function failed. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">srcPathPtr</td><td>Path to file to rename </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">destPathPtr</td><td>New path to file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac57bb687cc228f180f2713b639c13d99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_fs_Open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filePathPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__fs_8h.html#a7d03254febfa1144c5f979e9c82e9780">le_fs_AccessMode_t</a>&#160;</td>
          <td class="paramname"><em>accessMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__fs_8h.html#a5d6a6ea918795062df6645f9ae8ebfe0">le_fs_FileRef_t</a> *&#160;</td>
          <td class="paramname"><em>fileRefPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is called to create or open an existing file.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK The function succeeded.</li>
<li>LE_BAD_PARAMETER A parameter is invalid.</li>
<li>LE_OVERFLOW The file path is too long.</li>
<li>LE_NOT_FOUND The file does not exists or a directory in the path does not exist</li>
<li>LE_NOT_PERMITTED Access denied to the file or to a directory in the path</li>
<li>LE_UNSUPPORTED The prefix cannot be added and the function is unusable</li>
<li>LE_FAULT The function failed. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filePathPtr</td><td>File path </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accessMode</td><td>Access mode for the file </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">fileRefPtr</td><td>File reference (if successful) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a155feeb2adcc8ca2caf7becf401030c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_fs_Read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__fs_8h.html#a5d6a6ea918795062df6645f9ae8ebfe0">le_fs_FileRef_t</a>&#160;</td>
          <td class="paramname"><em>fileRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>bufPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>bufNumElementsPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is called to read the requested data length from an opened file. The data is read at the current file position.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK The function succeeded.</li>
<li>LE_BAD_PARAMETER A parameter is invalid.</li>
<li>LE_FAULT The function failed. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fileRef</td><td>File reference </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bufPtr</td><td>Buffer to store the data read in the file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufNumElementsPtr</td><td>Number of bytes to read when this function is called [OUT] Number of bytes read when this function returns </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad9e475b3da2b07d158c8696890828eba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_fs_RemoveDirRecursive </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dirPathPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes a directory located at storage managed by file system service by first recursively removing sub-directories, files, symlinks, hardlinks, devices, etc. Symlinks are not followed, only the links themselves are deleted.</p>
<p>A file or device may not be able to be removed if it is busy, in which case an error message is logged and LE_FAULT is returned.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK The function succeeded.</li>
<li>LE_BAD_PARAMETER A parameter is invalid.</li>
<li>LE_UNSUPPORTED The prefix cannot be added and the function is unusable</li>
<li>LE_FAULT There is an error. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dirPathPtr</td><td>Directory path </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a17a5a2b58cb9dfb75a105048429e785e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_fs_Seek </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__fs_8h.html#a5d6a6ea918795062df6645f9ae8ebfe0">le_fs_FileRef_t</a>&#160;</td>
          <td class="paramname"><em>fileRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__fs_8h.html#a457edff9b23ffd119c2ef0efe2917e91">le_fs_Position_t</a>&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>currentOffsetPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is called to change the file position of an opened file.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK The function succeeded.</li>
<li>LE_BAD_PARAMETER A parameter is invalid.</li>
<li>LE_FAULT The function failed. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fileRef</td><td>File reference </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Offset to apply when this function is called </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">position</td><td>Offset is relative to this position </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">currentOffsetPtr</td><td>Offset from the beginning after the seek operation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afb8428bae9f5335591bef6d723d908f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_fs_Write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__fs_8h.html#a5d6a6ea918795062df6645f9ae8ebfe0">le_fs_FileRef_t</a>&#160;</td>
          <td class="paramname"><em>fileRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>bufPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bufNumElements</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is called to write the requested data length to an opened file. The data is written at the current file position.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK The function succeeded.</li>
<li>LE_BAD_PARAMETER A parameter is invalid.</li>
<li>LE_UNDERFLOW The write succeed but was not able to write all bytes</li>
<li>LE_FAULT The function failed. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fileRef</td><td>File reference </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufPtr</td><td>Buffer to write in the file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufNumElements</td><td>Number of bytes to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3375858a4005a0b267396184a5571734"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> MkDirTree </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filePathPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function is called to create the directories of a file path if some do not exist</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK The function succeeded.</li>
<li>LE_UNSUPPORTED The prefix cannot be added and the function is unusable</li>
<li>LE_NOT_POSSIBLE A directory in the tree belongs to a Read-Only space and cannot be created</li>
<li>LE_NOT_PERMITTED A directory in the tree belongs has not access right and cannot be created</li>
<li>LE_FAULT The function fails while creating or accessing to a directory. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filePathPtr</td><td>Directory path </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a8a826d68fe9af29f5ad572b61caac987"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__safe_ref_8h.html#aaf8fb3412fb840cb50366856affaf69b">le_ref_MapRef_t</a> FsFileRefMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Safe reference map for the file structure </p>

</div>
</div>
<a class="anchor" id="a3001c1c1b5732c6cda339cc461ced20a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__mem_8h.html#a44a896f6a0a1a8c733e8038eb332989e">le_mem_PoolRef_t</a> FsFileRefPool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Pool to store the file structures </p>

</div>
</div>
<a class="anchor" id="a72461ad37f672e082cc406cb6c70269e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* FsPrefixPtr = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Default prefixes path used by the daemon. If NULL, the daemon will reject all open/rename/delete operations </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.11
        </div>
    </div>
</body>
</html>
