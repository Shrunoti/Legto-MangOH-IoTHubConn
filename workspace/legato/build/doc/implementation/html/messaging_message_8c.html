<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LEGATO: framework/liblegato/linux/messagingMessage.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/javascript">
//<![CDATA[
    // Detect if doc is served by eclipse
    if( ( (window.location.hostname == "127.0.0.1") || (window.location.hostname == "localhost") ) &&
        ( (window.location.port != "") && (window.location.port != 80) && (window.location.port != 443) ) )
    {
        // Inhibit init function from navtree
        initNavTree = function(toroot,relpath) {}
        $(document).ready(function(){
            navTree = document.getElementById("side-nav");
            if(navTree)
            {
                navTree.parentElement.removeChild(navTree);
            }
            $("#doc-content").css('margin-left',10);
        });
    }
//]]>
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <a href="index.html" title="Legato">
      <img alt="Logo" src="legatoLogo.png"/>
    </a>
    <div id="projectbrief">Simplifying IoT development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('messaging_message_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">messagingMessage.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="legato_8h_source.html">legato.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="messaging_message_8h_source.html">messagingMessage.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="messaging_protocol_8h_source.html">messagingProtocol.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="messaging_session_8h_source.html">messagingSession.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="messaging_interface_8h_source.html">messagingInterface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="file_descriptor_8h_source.html">fileDescriptor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="unix_socket_8h_source.html">unixSocket.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6f8f9b2ea22a1ee607ac7a1f9b5c22e0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_message_8c.html#a6f8f9b2ea22a1ee607ac7a1f9b5c22e0">MessageDestructor</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *objPtr)</td></tr>
<tr class="separator:a6f8f9b2ea22a1ee607ac7a1f9b5c22e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fc936bdc80c2ef5c88e5e7ae34d4add"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_message_8c.html#a0fc936bdc80c2ef5c88e5e7ae34d4add">msgMessage_Init</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a0fc936bdc80c2ef5c88e5e7ae34d4add"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cfc6f2fb2e30652542d896f83f8f2c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__mem_8h.html#a44a896f6a0a1a8c733e8038eb332989e">le_mem_PoolRef_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_message_8c.html#a7cfc6f2fb2e30652542d896f83f8f2c9">msgMessage_CreatePool</a> (const char *name, size_t largestMsgSize)</td></tr>
<tr class="separator:a7cfc6f2fb2e30652542d896f83f8f2c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a817e963a9d1b288ea99ef565a9cea0a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_message_8c.html#a817e963a9d1b288ea99ef565a9cea0a9">msgMessage_Send</a> (int socketFd, <a class="el" href="struct_message__t.html">Message_t</a> *msgPtr)</td></tr>
<tr class="separator:a817e963a9d1b288ea99ef565a9cea0a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2038202f6a4e6c7fe63295050ecf5483"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_message_8c.html#a2038202f6a4e6c7fe63295050ecf5483">msgMessage_Receive</a> (int socketFd, <a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> <a class="el" href="log_tool_8c.html#a42c1c76c43e8d3aac1aaa1dcd535b278">msgRef</a>)</td></tr>
<tr class="separator:a2038202f6a4e6c7fe63295050ecf5483"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac9cc357d6f742f7f55d615205837cc9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_message_8c.html#aac9cc357d6f742f7f55d615205837cc9">msgMessage_CallCompletionCallback</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> requestMsgRef, <a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> responseMsgRef)</td></tr>
<tr class="separator:aac9cc357d6f742f7f55d615205837cc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8293a69f256b98cbce5b9990ea3520f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_message_8c.html#a8293a69f256b98cbce5b9990ea3520f3">le_msg_CreateMsg</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> <a class="el" href="log_tool_8c.html#a0ba04d68f0faec00ca0db1c014f248be">sessionRef</a>)</td></tr>
<tr class="separator:a8293a69f256b98cbce5b9990ea3520f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93be4a4e628d079f9f53db30f2e78b28"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_message_8c.html#a93be4a4e628d079f9f53db30f2e78b28">le_msg_AddRef</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> <a class="el" href="log_tool_8c.html#a42c1c76c43e8d3aac1aaa1dcd535b278">msgRef</a>)</td></tr>
<tr class="separator:a93be4a4e628d079f9f53db30f2e78b28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc508c24d0b6933e8fbc4e0410d50271"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_message_8c.html#afc508c24d0b6933e8fbc4e0410d50271">le_msg_ReleaseMsg</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> <a class="el" href="log_tool_8c.html#a42c1c76c43e8d3aac1aaa1dcd535b278">msgRef</a>)</td></tr>
<tr class="separator:afc508c24d0b6933e8fbc4e0410d50271"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b0824781c030b9ed6f8be48e4d20419"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_message_8c.html#a8b0824781c030b9ed6f8be48e4d20419">le_msg_NeedsResponse</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> <a class="el" href="log_tool_8c.html#a42c1c76c43e8d3aac1aaa1dcd535b278">msgRef</a>)</td></tr>
<tr class="separator:a8b0824781c030b9ed6f8be48e4d20419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32d1c7ffd913db8546f6f1bd5cce58c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_message_8c.html#a32d1c7ffd913db8546f6f1bd5cce58c4">le_msg_GetPayloadPtr</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> <a class="el" href="log_tool_8c.html#a42c1c76c43e8d3aac1aaa1dcd535b278">msgRef</a>)</td></tr>
<tr class="separator:a32d1c7ffd913db8546f6f1bd5cce58c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac12a43d9266aa931762e54ab0026693f"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_message_8c.html#ac12a43d9266aa931762e54ab0026693f">le_msg_GetMaxPayloadSize</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> <a class="el" href="log_tool_8c.html#a42c1c76c43e8d3aac1aaa1dcd535b278">msgRef</a>)</td></tr>
<tr class="separator:ac12a43d9266aa931762e54ab0026693f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43459773ce8a9febf0f2e66681e40e91"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_message_8c.html#a43459773ce8a9febf0f2e66681e40e91">le_msg_SetFd</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> <a class="el" href="log_tool_8c.html#a42c1c76c43e8d3aac1aaa1dcd535b278">msgRef</a>, int <a class="el" href="app_stop_client_8c.html#a44f21d5190b5a6df8089f54799628d7e">fd</a>)</td></tr>
<tr class="separator:a43459773ce8a9febf0f2e66681e40e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eff9dd7f93de58f5678ad3d6e0b734d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_message_8c.html#a1eff9dd7f93de58f5678ad3d6e0b734d">le_msg_GetFd</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> <a class="el" href="log_tool_8c.html#a42c1c76c43e8d3aac1aaa1dcd535b278">msgRef</a>)</td></tr>
<tr class="separator:a1eff9dd7f93de58f5678ad3d6e0b734d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a073de097d281475c44a445b927fbb929"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_message_8c.html#a073de097d281475c44a445b927fbb929">le_msg_Send</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> <a class="el" href="log_tool_8c.html#a42c1c76c43e8d3aac1aaa1dcd535b278">msgRef</a>)</td></tr>
<tr class="separator:a073de097d281475c44a445b927fbb929"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a253088f1b852575b60d7732ca7afc79b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_message_8c.html#a253088f1b852575b60d7732ca7afc79b">le_msg_GetSession</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> <a class="el" href="log_tool_8c.html#a42c1c76c43e8d3aac1aaa1dcd535b278">msgRef</a>)</td></tr>
<tr class="separator:a253088f1b852575b60d7732ca7afc79b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5440ae06a89b60ed04e9de5601496608"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_message_8c.html#a5440ae06a89b60ed04e9de5601496608">le_msg_RequestResponse</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> <a class="el" href="log_tool_8c.html#a42c1c76c43e8d3aac1aaa1dcd535b278">msgRef</a>, <a class="el" href="le__messaging_8h.html#a70cf756e252bb377e0443bcf89f66805">le_msg_ResponseCallback_t</a> handlerFunc, <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *contextPtr)</td></tr>
<tr class="separator:a5440ae06a89b60ed04e9de5601496608"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3cf113b26b154697ccef270dafe8798"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_message_8c.html#aa3cf113b26b154697ccef270dafe8798">le_msg_RequestSyncResponse</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> <a class="el" href="log_tool_8c.html#a42c1c76c43e8d3aac1aaa1dcd535b278">msgRef</a>)</td></tr>
<tr class="separator:aa3cf113b26b154697ccef270dafe8798"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4545833ad2da9bb4cc5d18125f7d9f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_message_8c.html#ac4545833ad2da9bb4cc5d18125f7d9f2">le_msg_Respond</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> <a class="el" href="log_tool_8c.html#a42c1c76c43e8d3aac1aaa1dcd535b278">msgRef</a>)</td></tr>
<tr class="separator:ac4545833ad2da9bb4cc5d18125f7d9f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="c_messaging.html">Low-level Messaging API</a> implementation's "Message" module implementation.</p>
<p>See <a class="el" href="messaging_8c.html">messaging.c</a> for an overview of the <a class="el" href="c_messaging.html">Low-level Messaging API</a> implementation.</p>
<p>Copyright (C) Sierra Wireless Inc. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a93be4a4e628d079f9f53db30f2e78b28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> le_msg_AddRef </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a>&#160;</td>
          <td class="paramname"><em>msgRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds to the reference count on a message object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8293a69f256b98cbce5b9990ea3520f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> le_msg_CreateMsg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a>&#160;</td>
          <td class="paramname"><em>sessionRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a message to be sent over a given session.</p>
<dl class="section return"><dt>Returns</dt><dd>The message reference.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>This function never returns on failure, so no need to check the return code.</li>
<li>If you see warnings about message pools expanding, then you may be forgetting to release the messages you have received. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>Reference to the session. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1eff9dd7f93de58f5678ad3d6e0b734d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int le_msg_GetFd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a>&#160;</td>
          <td class="paramname"><em>msgRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetches a received file descriptor from the message.</p>
<dl class="section return"><dt>Returns</dt><dd>The file descriptor, or -1 if no file descriptor was sent with this message or if the fd was already fetched from the message. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac12a43d9266aa931762e54ab0026693f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t le_msg_GetMaxPayloadSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a>&#160;</td>
          <td class="paramname"><em>msgRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the size, in bytes, of the message payload memory buffer.</p>
<dl class="section return"><dt>Returns</dt><dd>The size, in bytes. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a32d1c7ffd913db8546f6f1bd5cce58c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>* le_msg_GetPayloadPtr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a>&#160;</td>
          <td class="paramname"><em>msgRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets a pointer to the message payload memory buffer.</p>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the payload buffer.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Be careful not to overflow this buffer. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a253088f1b852575b60d7732ca7afc79b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> le_msg_GetSession </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a>&#160;</td>
          <td class="paramname"><em>msgRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets a reference to the session to which a given message belongs.</p>
<dl class="section return"><dt>Returns</dt><dd>The session reference. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8b0824781c030b9ed6f8be48e4d20419"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool le_msg_NeedsResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a>&#160;</td>
          <td class="paramname"><em>msgRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks whether a message requires a response or not.</p>
<dl class="section note"><dt>Note</dt><dd>This is intended for use on the server side only.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>TRUE if the message needs to be responded to using <a class="el" href="messaging_message_8c.html#ac4545833ad2da9bb4cc5d18125f7d9f2">le_msg_Respond()</a>.</li>
<li>FALSE if the message does not need to be responded to, and should be disposed of using <a class="el" href="messaging_message_8c.html#afc508c24d0b6933e8fbc4e0410d50271">le_msg_ReleaseMsg()</a> when it is no longer needed. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afc508c24d0b6933e8fbc4e0410d50271"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> le_msg_ReleaseMsg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a>&#160;</td>
          <td class="paramname"><em>msgRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Releases a message object, decrementing its reference count. If the reference count has reached zero, the message object is deleted. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5440ae06a89b60ed04e9de5601496608"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> le_msg_RequestResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a>&#160;</td>
          <td class="paramname"><em>msgRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#a70cf756e252bb377e0443bcf89f66805">le_msg_ResponseCallback_t</a>&#160;</td>
          <td class="paramname"><em>handlerFunc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *&#160;</td>
          <td class="paramname"><em>contextPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Requests a response from a server by sending it a request. Does not block. Instead, provides a callback function to be called when the response arrives or the transaction terminates without a response (due to the session terminating or the server deleting the request without responding).</p>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>The thread that is attached to the session (that is, the thread that created the session) will call the callback from its main event loop. Of course, this means that if that thread doesn't run its main event loop then it will not call the callback.</li>
<li>This function can only be used on the client side of a session. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the request message. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handlerFunc</td><td>Function to be called when transaction done. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">contextPtr</td><td>Opaque value to be passed to handler function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa3cf113b26b154697ccef270dafe8798"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> le_msg_RequestSyncResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a>&#160;</td>
          <td class="paramname"><em>msgRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Requests a response from a server by sending it a request. Blocks until the response arrives or until the transaction terminates without a response (i.e., if the session terminates or the server deletes the request without responding).</p>
<dl class="section return"><dt>Returns</dt><dd>A reference to the response message, or NULL if the transaction terminated without a response.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>To prevent deadlocks, this function can only be used on the client side of a session. Servers cannot use this function.</li>
<li>To prevent race conditions, only the client thread that is attached to the session (the thread that created the session) is allowed to perform a synchronous request-response transaction.</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd><ul>
<li>The calling (client) thread will be blocked until the server responds, so no other event handling will happen in that client thread until the response is received (or the server dies). Therefore, this function should only be used when the server is certain to respond quickly enough to ensure that it will not cause any event response time deadlines to be missed by the client. Consider using <a class="el" href="messaging_message_8c.html#a5440ae06a89b60ed04e9de5601496608">le_msg_RequestResponse()</a> instead.</li>
<li>If this function is used when the client and server are in the same thread, then the message will be discarded and NULL will be returned. This is a deadlock prevention measure. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the request message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac4545833ad2da9bb4cc5d18125f7d9f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> le_msg_Respond </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a>&#160;</td>
          <td class="paramname"><em>msgRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends a response back to the client that send the request message.</p>
<p>Takes a reference to the request message. Copy the response payload (if any) into the same payload buffer that held the request payload, then call <a class="el" href="messaging_message_8c.html#ac4545833ad2da9bb4cc5d18125f7d9f2">le_msg_Respond()</a>.</p>
<p>The messaging system will delete the message automatically when it has finished sending the response.</p>
<dl class="section note"><dt>Note</dt><dd>This function can only be used on the server side of a session. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the request message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a073de097d281475c44a445b927fbb929"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> le_msg_Send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a>&#160;</td>
          <td class="paramname"><em>msgRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends a message. No response expected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a43459773ce8a9febf0f2e66681e40e91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> le_msg_SetFd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a>&#160;</td>
          <td class="paramname"><em>msgRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the file descriptor to be sent with this message.</p>
<p>This file descriptor will be closed when the message is sent (or when it is deleted without being sent).</p>
<p>At most one file descriptor is allowed to be sent per message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the message. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fd</td><td>File descriptor. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6f8f9b2ea22a1ee607ac7a1f9b5c22e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> MessageDestructor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *&#160;</td>
          <td class="paramname"><em>objPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destructor function for Message objects. </p>

</div>
</div>
<a class="anchor" id="aac9cc357d6f742f7f55d615205837cc9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> msgMessage_CallCompletionCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a>&#160;</td>
          <td class="paramname"><em>requestMsgRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a>&#160;</td>
          <td class="paramname"><em>responseMsgRef</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Call the completion callback function for a given message, if it has one. </p>

</div>
</div>
<a class="anchor" id="a7cfc6f2fb2e30652542d896f83f8f2c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__mem_8h.html#a44a896f6a0a1a8c733e8038eb332989e">le_mem_PoolRef_t</a> msgMessage_CreatePool </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>largestMsgSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a Message Pool.</p>
<dl class="section return"><dt>Returns</dt><dd>A reference to the pool. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000046">Todo:</a></b></dt><dd>Make this configurable. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Name of the pool. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">largestMsgSize</td><td>Size of the largest message payload, in bytes. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0fc936bdc80c2ef5c88e5e7ae34d4add"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> msgMessage_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes this module. This must be called only once at start-up, before any other functions in this module are called. </p>

</div>
</div>
<a class="anchor" id="a2038202f6a4e6c7fe63295050ecf5483"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> msgMessage_Receive </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>socketFd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a>&#160;</td>
          <td class="paramname"><em>msgRef</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Receive a single message from a connected socket.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK if successful.</li>
<li>LE_WOULD_BLOCK if there's nothing there to receive and the socket is set non-blocking.</li>
<li>LE_CLOSED if the connection has closed.</li>
<li>LE_COMM_ERROR if an error was encountered. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">socketFd</td><td>The socket's file descriptor. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Message object to store the received message in. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a817e963a9d1b288ea99ef565a9cea0a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> msgMessage_Send </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>socketFd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_message__t.html">Message_t</a> *&#160;</td>
          <td class="paramname"><em>msgPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a single message over a connected socket.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK if successful.</li>
<li>LE_NO_MEMORY if the socket doesn't have enough send buffer space available right now.</li>
<li>LE_COMM_ERROR if the localSocketFd is not connected.</li>
<li>LE_FAULT if failed for some other reason (check your logs).</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Won't return LE_NO_MEMORY if the socket is in blocking mode. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">socketFd</td><td>Connected socket's file descriptor. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">msgPtr</td><td>The Message to be sent. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.11
        </div>
    </div>
</body>
</html>
