<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LEGATO: framework/liblegato/linux/smack.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/javascript">
//<![CDATA[
    // Detect if doc is served by eclipse
    if( ( (window.location.hostname == "127.0.0.1") || (window.location.hostname == "localhost") ) &&
        ( (window.location.port != "") && (window.location.port != 80) && (window.location.port != 443) ) )
    {
        // Inhibit init function from navtree
        initNavTree = function(toroot,relpath) {}
        $(document).ready(function(){
            navTree = document.getElementById("side-nav");
            if(navTree)
            {
                navTree.parentElement.removeChild(navTree);
            }
            $("#doc-content").css('margin-left',10);
        });
    }
//]]>
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <a href="index.html" title="Legato">
      <img alt="Logo" src="legatoLogo.png"/>
    </a>
    <div id="projectbrief">Simplifying IoT development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('smack_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">smack.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="legato_8h_source.html">legato.h</a>&quot;</code><br />
</div>
<p><a href="smack_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5f83fdf5dd385685f34dc3bb1a45e654"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8h.html#a5f83fdf5dd385685f34dc3bb1a45e654">SMACK_APP_PREFIX</a>&#160;&#160;&#160;&quot;app.&quot;</td></tr>
<tr class="separator:a5f83fdf5dd385685f34dc3bb1a45e654"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a62834a7a3134811aaeb0033c0e8af715"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8h.html#a62834a7a3134811aaeb0033c0e8af715">smack_IsEnabled</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a62834a7a3134811aaeb0033c0e8af715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a681949d8c08d48753609c8ed68efc267"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8h.html#a681949d8c08d48753609c8ed68efc267">smack_Init</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a681949d8c08d48753609c8ed68efc267"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add5cbf8e77184e9ba03ea8446593382e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8h.html#add5cbf8e77184e9ba03ea8446593382e">smack_SetMyLabel</a> (const char *labelPtr)</td></tr>
<tr class="separator:add5cbf8e77184e9ba03ea8446593382e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc042c6d3c1bc9049463fccfcff585b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8h.html#adc042c6d3c1bc9049463fccfcff585b9">smack_GetProcLabel</a> (pid_t pid, char *bufPtr, size_t bufSize)</td></tr>
<tr class="separator:adc042c6d3c1bc9049463fccfcff585b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8ed0d3150b8535253b9a42c7847a613"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8h.html#af8ed0d3150b8535253b9a42c7847a613">smack_SetLabel</a> (const char *objPathPtr, const char *labelPtr)</td></tr>
<tr class="separator:af8ed0d3150b8535253b9a42c7847a613"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6dc9b823efc45d900bbd2ba393848ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8h.html#ad6dc9b823efc45d900bbd2ba393848ec">smack_SetRule</a> (const char *subjectLabelPtr, const char *accessModePtr, const char *objectLabelPtr)</td></tr>
<tr class="separator:ad6dc9b823efc45d900bbd2ba393848ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d37d4c51fca54a95f83914bc2d12076"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8h.html#a4d37d4c51fca54a95f83914bc2d12076">smack_HasAccess</a> (const char *subjectLabelPtr, const char *accessModePtr, const char *objectLabelPtr)</td></tr>
<tr class="separator:a4d37d4c51fca54a95f83914bc2d12076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7342897f0690e0e7da9350acf8321e0c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8h.html#a7342897f0690e0e7da9350acf8321e0c">smack_RevokeSubject</a> (const char *subjectLabelPtr)</td></tr>
<tr class="separator:a7342897f0690e0e7da9350acf8321e0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0de3f641219745526a9573936b68f96"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8h.html#aa0de3f641219745526a9573936b68f96">smack_GetAppLabel</a> (const char *appNamePtr, char *bufPtr, size_t bufSize)</td></tr>
<tr class="separator:aa0de3f641219745526a9573936b68f96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba989a77163254ab2b3fa6880136c0f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8h.html#aba989a77163254ab2b3fa6880136c0f4">smack_GetAppAccessLabel</a> (const char *appNamePtr, mode_t accessMode, char *bufPtr, size_t bufSize)</td></tr>
<tr class="separator:aba989a77163254ab2b3fa6880136c0f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30a9367abe1cb72785429cc3c5b0aa48"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8h.html#a30a9367abe1cb72785429cc3c5b0aa48">smack_GetDevLabel</a> (dev_t devId, char *bufPtr, size_t bufSize)</td></tr>
<tr class="separator:a30a9367abe1cb72785429cc3c5b0aa48"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Simplified Mandatory Access Control Kernel (SMACK) provides a simple solution for mandatory access control (MAC). MAC provides the ability for a centralized entity to set access policy for system resources.</p>
<p>Linux's default access control policy is governed by permission bits on system resources (files, directories, devices, etc.). Permission bits can be modified by the resource owner (process with the same user ID as the resource). The access control policy is at the discretion of the resource owner; this system is classified as DAC (discretionary access control). With DAC, policies are set in a distributed manner as there are often many system users, each setting the access policy for its own resources.</p>
<p>In contrast, MAC policies are set for all system resources by a centralized entity.</p>
<p>Linux's DAC has known weaknesses that can lead to security leaks. MAC is often used to overcome some of the short comings of DAC for systems that require a higher level of security.</p>
<p>SMACK isn't the only MAC solution available. Because it's a simple solution, it's not flexible enough to handle all use cases. For the majority of use cases, it will be easier to setup and maintain.</p>
<p>SMACK supplements Linux's DAC system. DAC permissions are checked first; if access is granted, SMACK permissions are then checked. Consequently, SMACK can only limit access, it can't grant access beyond DAC permissions.</p>
<p>SMACK uses 'labels' on resources (objects in SMACK terminology) and processes (subjects) to determine access. Labels on resources can only be set by a privileged process. A privileged process can only set it's own label but not labels of other processes.</p>
<p>There are a number of single character labels ("_", "^", "*", "?", "@") that have special meanings. SMACK restricts read/write/execute access based on the subject label and the object label according to the following rules:</p>
<ol type="1">
<li>Any access requested by a task labelled "*" is denied.</li>
<li>A read or execute access requested by a task labelled "^" is permitted.</li>
<li>A read or execute access requested on an object labelled "_" is permitted.</li>
<li>Any access requested on an object labelled "*" is permitted.</li>
<li>Any access requested by a task on an object with the same label is permitted.</li>
<li>Any access requested that is explicitly defined in the loaded rule set is permitted.</li>
<li>Any other access is denied.</li>
</ol>
<p>Rule 6 lets us use explicit rules through adding specific labels. Explicit rules define the access rights a subject label can have on an object label. See the <a class="el" href="smack_8h.html#c_smack_setRules">Setting Rules</a> section for details. Only privileged processes can set rules.</p>
<h1><a class="anchor" id="c_smack_privProcess"></a>
Privileged Processess</h1>
<p>Privileged processes use the CAP_MAC_OVERRIDE capability. It's also possible to configure the system so the CAP_MAC_OVERRIDE is honoured only for processes with a specific label. This configuration allows the system to restrict root processes (have CAP_MAC_OVERRIDE) that don't have the proper SMACK label.</p>
<h1><a class="anchor" id="c_smack_assignLabels"></a>
Assigning Labels</h1>
<p>Use <a class="el" href="smack_8h.html#add5cbf8e77184e9ba03ea8446593382e">smack_SetMyLabel()</a> to set the SMACK label for the calling process. The calling process must be a privileged process. Setting SMACK labels for other processes isn't possible.</p>
<p>To set the SMACK label for file system objects use <a class="el" href="smack_8h.html#af8ed0d3150b8535253b9a42c7847a613">smack_SetLabel()</a>, again the calling process must be privileged.</p>
<h1><a class="anchor" id="c_smack_setRules"></a>
Setting Rules</h1>
<p>Use <a class="el" href="smack_8h.html#ad6dc9b823efc45d900bbd2ba393848ec">smack_SetRule()</a> to set an explicit SMACK rule that gives a specified subject access to a specified object.</p>
<p>Copyright (C) Sierra Wireless Inc. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a5f83fdf5dd385685f34dc3bb1a45e654"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SMACK_APP_PREFIX&#160;&#160;&#160;&quot;app.&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Application prefix for SMACK labels. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aba989a77163254ab2b3fa6880136c0f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> smack_GetAppAccessLabel </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>appNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mode_t&#160;</td>
          <td class="paramname"><em>accessMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>bufPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bufSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get's the application's smack label with the user's access mode appended to it as a string. For example, if the accessMode is S_IRUSR | S_IWUSR then "rw" will be appended to the application's smack label. The groups and other bits of accessMode are ignored. If the user's accessMode is 0 (empty) then "-" will be appended to the app's smack label.</p>
<dl class="section note"><dt>Note</dt><dd>The application need not be installed for this function to succeed.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This function kills the calling process if there is an error such as if the buffer is too small. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">appNamePtr</td><td>Name of the application. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accessMode</td><td>Access mode. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bufPtr</td><td>Buffer to store the proc's SMACK label. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufSize</td><td>Size of the buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa0de3f641219745526a9573936b68f96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> smack_GetAppLabel </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>appNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>bufPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bufSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets an application's SMACK label.</p>
<dl class="section note"><dt>Note</dt><dd>The application need not be installed for this function to succeed.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This function kills the calling process if there is an error such as if the buffer is too small. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">appNamePtr</td><td>Name of the application. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bufPtr</td><td>Buffer to store the proc's SMACK label. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufSize</td><td>Size of the buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a30a9367abe1cb72785429cc3c5b0aa48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> smack_GetDevLabel </td>
          <td>(</td>
          <td class="paramtype">dev_t&#160;</td>
          <td class="paramname"><em>devId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>bufPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bufSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets a SMACK label for a device file from the device ID.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if the label was successfully returned in the provided buffer. LE_OVERFLOW if the label could not fit in the provided buffer. LE_FAULT if there was an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">devId</td><td>Device ID. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bufPtr</td><td>Buffer to hold the SMACK label for the device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufSize</td><td>Size of the buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adc042c6d3c1bc9049463fccfcff585b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> smack_GetProcLabel </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>bufPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bufSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get's a process's SMACK label.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_OVERFLOW if the supplied buffer is too small to hold the SMACK label. LE_FAULT if there was an error.</dd></dl>
<p>Get's a process's smack label.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_OVERFLOW if the supplied buffer is too small to hold the smack label. LE_FAULT if there was an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pid</td><td>PID of the process. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bufPtr</td><td>Buffer to store the proc's SMACK label. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufSize</td><td>Size of the buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4d37d4c51fca54a95f83914bc2d12076"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool smack_HasAccess </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>subjectLabelPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>accessModePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>objectLabelPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks whether a subject has the specified access mode for an object.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the subject has the specified access mode for the object. false if the subject does not have the specified access mode for the object.</dd></dl>
<p>Checks whether a subject has the specified access mode for an object.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the subject has the specified access mode for the object. false if the subject doesn't have the specified access mode for the object. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">subjectLabelPtr</td><td>Subject label. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accessModePtr</td><td>Access mode. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">objectLabelPtr</td><td>Object label. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a681949d8c08d48753609c8ed68efc267"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> smack_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the SMACK system. Mounts the SMACK file system.</p>
<dl class="section note"><dt>Note</dt><dd>Should be called once for the entire system, subsequent calls to this function will have no effect. Must be called before any of the other functions in this API is called.</dd>
<dd>
Failures will cause the calling process to exit.</dd></dl>
<p>Initializes the SMACK system. Mounts the smack file system.</p>
<dl class="section note"><dt>Note</dt><dd>Should be called once for the entire system, subsequent calls to this function will have no effect. Must be called before any of the other functions in this API is called.</dd>
<dd>
Failures will cause the calling process to exit. </dd></dl>

</div>
</div>
<a class="anchor" id="a62834a7a3134811aaeb0033c0e8af715"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool smack_IsEnabled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Shows whether SMACK is enabled or disabled in the Legato Framework.</p>
<dl class="section return"><dt>Returns</dt><dd>true if SMACK is enabled. false if SMACK is disabled. </dd></dl>

</div>
</div>
<a class="anchor" id="a7342897f0690e0e7da9350acf8321e0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> smack_RevokeSubject </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>subjectLabelPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Revokes all the access rights for a subject that were given by explicit SMACK rules.</p>
<dl class="section note"><dt>Note</dt><dd>If there is an error this function will kill the calling process.</dd></dl>
<p>Revokes all the access rights for a subject that was given by explicit SMACK rules.</p>
<dl class="section note"><dt>Note</dt><dd>If there's an error, this function will kill the calling process. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">subjectLabelPtr</td><td>Subject label. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af8ed0d3150b8535253b9a42c7847a613"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> smack_SetLabel </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>objPathPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>labelPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the SMACK label of a file system object. The calling process must be a privileged process.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if the label was set correctly. LE_FAULT if there was an error.</dd></dl>
<p>Sets the smack label of a file system object. The calling process must be a privileged process.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if the label was set correctly. LE_FAULT if there was an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">objPathPtr</td><td>Path to the object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">labelPtr</td><td>Label to set the object to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="add5cbf8e77184e9ba03ea8446593382e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> smack_SetMyLabel </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>labelPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the SMACK label of the calling process. The calling process must be a privileged process.</p>
<dl class="section note"><dt>Note</dt><dd>If there is an error this function will kill the calling process.</dd></dl>
<p>Sets the smack label of the calling process. The calling process must be a privileged process.</p>
<dl class="section note"><dt>Note</dt><dd>If there's an error, this function will kill the calling process. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">labelPtr</td><td>Label to set the calling process to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad6dc9b823efc45d900bbd2ba393848ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> smack_SetRule </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>subjectLabelPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>accessModePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>objectLabelPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets an explicit SMACK rule.</p>
<p>An explicit SMACK rule defines a subject's access to an object. The access mode can be any combination of the following. </p><pre class="fragment"> a: indicates that append access should be granted.
 r: indicates that read access should be granted.
 w: indicates that write access should be granted.
 x: indicates that execute access should be granted.
 t: indicates that the rule requests transmutation.
 -: is used as a place holder.
</pre><p>For example: "rx" means read and execute access should be granted. "-" means that no access should be granted.</p>
<dl class="section note"><dt>Note</dt><dd>If there is an error this function will kill the calling process.</dd></dl>
<p>Sets an explicit smack rule.</p>
<p>An explicit smack rule defines a subject's access to an object. The access mode can be any combination of the following. </p><pre class="fragment"> r: read access should be granted.
 w: write access should be granted.
 x: execute access should be granted.
 a: append access should be granted.
 -: used as a place holder.
</pre><p>For example: "rx" means read and execute access should be granted. "-" means that no access should be granted.</p>
<dl class="section note"><dt>Note</dt><dd>If there's an error, this function will kill the calling process. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">subjectLabelPtr</td><td>Subject label. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accessModePtr</td><td>Access mode. See the function description for details. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">objectLabelPtr</td><td>Object label. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.11
        </div>
    </div>
</body>
</html>
