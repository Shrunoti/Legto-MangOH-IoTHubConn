<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LEGATO: framework/liblegato/linux/smack.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/javascript">
//<![CDATA[
    // Detect if doc is served by eclipse
    if( ( (window.location.hostname == "127.0.0.1") || (window.location.hostname == "localhost") ) &&
        ( (window.location.port != "") && (window.location.port != 80) && (window.location.port != 443) ) )
    {
        // Inhibit init function from navtree
        initNavTree = function(toroot,relpath) {}
        $(document).ready(function(){
            navTree = document.getElementById("side-nav");
            if(navTree)
            {
                navTree.parentElement.removeChild(navTree);
            }
            $("#doc-content").css('margin-left',10);
        });
    }
//]]>
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <a href="index.html" title="Legato">
      <img alt="Logo" src="legatoLogo.png"/>
    </a>
    <div id="projectbrief">Simplifying IoT development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('smack_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">smack.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="smack_8h_source.html">smack.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="legato_8h_source.html">legato.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="limit_8h_source.html">limit.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="file_system_8h_source.html">fileSystem.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="file_descriptor_8h_source.html">fileDescriptor.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a009b3ef0f9f4cd4fec2fd594dac9aee2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#a009b3ef0f9f4cd4fec2fd594dac9aee2">SMACK_FS</a>&#160;&#160;&#160;&quot;smack&quot;</td></tr>
<tr class="separator:a009b3ef0f9f4cd4fec2fd594dac9aee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad69fa7d3158c43973a5182c13d34bb83"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#ad69fa7d3158c43973a5182c13d34bb83">SMACK_FS_DIR</a>&#160;&#160;&#160;&quot;/legato/smack&quot;</td></tr>
<tr class="separator:ad69fa7d3158c43973a5182c13d34bb83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7bd5ec675caa416035a56874ea136b4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#af7bd5ec675caa416035a56874ea136b4">SMACK_LOAD_FILE</a>&#160;&#160;&#160;<a class="el" href="smack_8c.html#ad69fa7d3158c43973a5182c13d34bb83">SMACK_FS_DIR</a> &quot;/load2&quot;</td></tr>
<tr class="separator:af7bd5ec675caa416035a56874ea136b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eae87d764332c9b66d4d8c0d961a107"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#a8eae87d764332c9b66d4d8c0d961a107">SMACK_ACCESS_FILE</a>&#160;&#160;&#160;<a class="el" href="smack_8c.html#ad69fa7d3158c43973a5182c13d34bb83">SMACK_FS_DIR</a> &quot;/access2&quot;</td></tr>
<tr class="separator:a8eae87d764332c9b66d4d8c0d961a107"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca1a6035bd38532ebfb82f12bceb776a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#aca1a6035bd38532ebfb82f12bceb776a">SMACK_REVOKE_FILE</a>&#160;&#160;&#160;<a class="el" href="smack_8c.html#ad69fa7d3158c43973a5182c13d34bb83">SMACK_FS_DIR</a> &quot;/revoke-subject&quot;</td></tr>
<tr class="separator:aca1a6035bd38532ebfb82f12bceb776a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cd2e8c105b1d902cd0ebd0cdacdf080"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#a3cd2e8c105b1d902cd0ebd0cdacdf080">SMACK_NETLABEL_FILE</a>&#160;&#160;&#160;<a class="el" href="smack_8c.html#ad69fa7d3158c43973a5182c13d34bb83">SMACK_FS_DIR</a> &quot;/netlabel&quot;</td></tr>
<tr class="separator:a3cd2e8c105b1d902cd0ebd0cdacdf080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85dd99a10b6c50a7148b326839e87d92"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#a85dd99a10b6c50a7148b326839e87d92">SMACK_IPV6HOST_FILE</a>&#160;&#160;&#160;<a class="el" href="smack_8c.html#ad69fa7d3158c43973a5182c13d34bb83">SMACK_FS_DIR</a> &quot;/ipv6host&quot;</td></tr>
<tr class="separator:a85dd99a10b6c50a7148b326839e87d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e0c6977205e848b17203d62519f7621"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#a9e0c6977205e848b17203d62519f7621">PROC_SMACK_FILE</a>&#160;&#160;&#160;&quot;/proc/self/attr/current&quot;</td></tr>
<tr class="separator:a9e0c6977205e848b17203d62519f7621"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1df0582400a5a4ab75cf51e5cb7b7a12"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#a1df0582400a5a4ab75cf51e5cb7b7a12">MAX_ACCESS_MODE_LEN</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a1df0582400a5a4ab75cf51e5cb7b7a12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f1ea3e3c9bfe941fdc8242743cad9d3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#a1f1ea3e3c9bfe941fdc8242743cad9d3">MAX_ACCESS_MODE_BYTES</a>&#160;&#160;&#160;<a class="el" href="smack_8c.html#a1df0582400a5a4ab75cf51e5cb7b7a12">MAX_ACCESS_MODE_LEN</a> + 1</td></tr>
<tr class="separator:a1f1ea3e3c9bfe941fdc8242743cad9d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbe6610db61caa565121d1da18a45f5e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#afbe6610db61caa565121d1da18a45f5e">SMACK_RULE_STR_BYTES</a>&#160;&#160;&#160;2*<a class="el" href="limit_8h.html#a1bea74d478b80058137917b5122b2aed">LIMIT_MAX_SMACK_LABEL_LEN</a> + <a class="el" href="smack_8c.html#a1df0582400a5a4ab75cf51e5cb7b7a12">MAX_ACCESS_MODE_LEN</a> + 3</td></tr>
<tr class="separator:afbe6610db61caa565121d1da18a45f5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9533646c3e9a4522ea3c331d2fa86c35"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#a9533646c3e9a4522ea3c331d2fa86c35">SetSmackNetlabelExceptions</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a9533646c3e9a4522ea3c331d2fa86c35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d6570ccf5a5077cae0f9f44932e1bb7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#a9d6570ccf5a5077cae0f9f44932e1bb7">SetSmackIPv6HostExceptions</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a9d6570ccf5a5077cae0f9f44932e1bb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2078f7a3f38418af44de65cba92730f4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#a2078f7a3f38418af44de65cba92730f4">CheckLabel</a> (const char *labelPtr)</td></tr>
<tr class="separator:a2078f7a3f38418af44de65cba92730f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afef2a56ddf2ead7faaabddb5807a806b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#afef2a56ddf2ead7faaabddb5807a806b">MakeSmackModeStr</a> (const char *modeStr, char *bufPtr, size_t bufSize)</td></tr>
<tr class="separator:afef2a56ddf2ead7faaabddb5807a806b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f1d3adb83461cc5c2e13eef14d6f853"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#a6f1d3adb83461cc5c2e13eef14d6f853">MakeRuleStr</a> (const char *subjectLabelPtr, const char *accessModePtr, const char *objectLabelPtr, char *bufPtr, size_t bufSize)</td></tr>
<tr class="separator:a6f1d3adb83461cc5c2e13eef14d6f853"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62834a7a3134811aaeb0033c0e8af715"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#a62834a7a3134811aaeb0033c0e8af715">smack_IsEnabled</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a62834a7a3134811aaeb0033c0e8af715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a681949d8c08d48753609c8ed68efc267"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#a681949d8c08d48753609c8ed68efc267">smack_Init</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a681949d8c08d48753609c8ed68efc267"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add5cbf8e77184e9ba03ea8446593382e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#add5cbf8e77184e9ba03ea8446593382e">smack_SetMyLabel</a> (const char *labelPtr)</td></tr>
<tr class="separator:add5cbf8e77184e9ba03ea8446593382e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc042c6d3c1bc9049463fccfcff585b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#adc042c6d3c1bc9049463fccfcff585b9">smack_GetProcLabel</a> (pid_t pid, char *bufPtr, size_t bufSize)</td></tr>
<tr class="separator:adc042c6d3c1bc9049463fccfcff585b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8ed0d3150b8535253b9a42c7847a613"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#af8ed0d3150b8535253b9a42c7847a613">smack_SetLabel</a> (const char *objPathPtr, const char *labelPtr)</td></tr>
<tr class="separator:af8ed0d3150b8535253b9a42c7847a613"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6dc9b823efc45d900bbd2ba393848ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#ad6dc9b823efc45d900bbd2ba393848ec">smack_SetRule</a> (const char *subjectLabelPtr, const char *accessModePtr, const char *objectLabelPtr)</td></tr>
<tr class="separator:ad6dc9b823efc45d900bbd2ba393848ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d37d4c51fca54a95f83914bc2d12076"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#a4d37d4c51fca54a95f83914bc2d12076">smack_HasAccess</a> (const char *subjectLabelPtr, const char *accessModePtr, const char *objectLabelPtr)</td></tr>
<tr class="separator:a4d37d4c51fca54a95f83914bc2d12076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7342897f0690e0e7da9350acf8321e0c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#a7342897f0690e0e7da9350acf8321e0c">smack_RevokeSubject</a> (const char *subjectLabelPtr)</td></tr>
<tr class="separator:a7342897f0690e0e7da9350acf8321e0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0de3f641219745526a9573936b68f96"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#aa0de3f641219745526a9573936b68f96">smack_GetAppLabel</a> (const char *appNamePtr, char *bufPtr, size_t bufSize)</td></tr>
<tr class="separator:aa0de3f641219745526a9573936b68f96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba989a77163254ab2b3fa6880136c0f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#aba989a77163254ab2b3fa6880136c0f4">smack_GetAppAccessLabel</a> (const char *appNamePtr, mode_t accessMode, char *bufPtr, size_t bufSize)</td></tr>
<tr class="separator:aba989a77163254ab2b3fa6880136c0f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30a9367abe1cb72785429cc3c5b0aa48"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smack_8c.html#a30a9367abe1cb72785429cc3c5b0aa48">smack_GetDevLabel</a> (dev_t devId, char *bufPtr, size_t bufSize)</td></tr>
<tr class="separator:a30a9367abe1cb72785429cc3c5b0aa48"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is the implementation of the SMACK API.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000053">Todo:</a></b></dt><dd>Currently, this implementation writes directly into the smackfs files but we really should use a third party smack library so that we don't need to maintain this implementation when the smackfs file interface changes.</dd></dl>
<p>Copyright (C) Sierra Wireless Inc. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a1f1ea3e3c9bfe941fdc8242743cad9d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_ACCESS_MODE_BYTES&#160;&#160;&#160;<a class="el" href="smack_8c.html#a1df0582400a5a4ab75cf51e5cb7b7a12">MAX_ACCESS_MODE_LEN</a> + 1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1df0582400a5a4ab75cf51e5cb7b7a12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_ACCESS_MODE_LEN&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum access mode string size. </p>

</div>
</div>
<a class="anchor" id="a9e0c6977205e848b17203d62519f7621"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROC_SMACK_FILE&#160;&#160;&#160;&quot;/proc/self/attr/current&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A process's own attribute file that stores the SMACK label. </p>

</div>
</div>
<a class="anchor" id="a8eae87d764332c9b66d4d8c0d961a107"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SMACK_ACCESS_FILE&#160;&#160;&#160;<a class="el" href="smack_8c.html#ad69fa7d3158c43973a5182c13d34bb83">SMACK_FS_DIR</a> &quot;/access2&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>SMACK access file location. </p>

</div>
</div>
<a class="anchor" id="a009b3ef0f9f4cd4fec2fd594dac9aee2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SMACK_FS&#160;&#160;&#160;&quot;smack&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Name of the SMACK file system. </p>

</div>
</div>
<a class="anchor" id="ad69fa7d3158c43973a5182c13d34bb83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SMACK_FS_DIR&#160;&#160;&#160;&quot;/legato/smack&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Location of the SMACK file system. </p>

</div>
</div>
<a class="anchor" id="a85dd99a10b6c50a7148b326839e87d92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SMACK_IPV6HOST_FILE&#160;&#160;&#160;<a class="el" href="smack_8c.html#ad69fa7d3158c43973a5182c13d34bb83">SMACK_FS_DIR</a> &quot;/ipv6host&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>SMACK ipv6host file location. </p>

</div>
</div>
<a class="anchor" id="af7bd5ec675caa416035a56874ea136b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SMACK_LOAD_FILE&#160;&#160;&#160;<a class="el" href="smack_8c.html#ad69fa7d3158c43973a5182c13d34bb83">SMACK_FS_DIR</a> &quot;/load2&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>SMACK load file location. </p>

</div>
</div>
<a class="anchor" id="a3cd2e8c105b1d902cd0ebd0cdacdf080"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SMACK_NETLABEL_FILE&#160;&#160;&#160;<a class="el" href="smack_8c.html#ad69fa7d3158c43973a5182c13d34bb83">SMACK_FS_DIR</a> &quot;/netlabel&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>SMACK netlabel file location. </p>

</div>
</div>
<a class="anchor" id="aca1a6035bd38532ebfb82f12bceb776a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SMACK_REVOKE_FILE&#160;&#160;&#160;<a class="el" href="smack_8c.html#ad69fa7d3158c43973a5182c13d34bb83">SMACK_FS_DIR</a> &quot;/revoke-subject&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>SMACK revoke subject file location. </p>

</div>
</div>
<a class="anchor" id="afbe6610db61caa565121d1da18a45f5e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SMACK_RULE_STR_BYTES&#160;&#160;&#160;2*<a class="el" href="limit_8h.html#a1bea74d478b80058137917b5122b2aed">LIMIT_MAX_SMACK_LABEL_LEN</a> + <a class="el" href="smack_8c.html#a1df0582400a5a4ab75cf51e5cb7b7a12">MAX_ACCESS_MODE_LEN</a> + 3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>SMACK rule string storage size. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a2078f7a3f38418af44de65cba92730f4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> CheckLabel </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>labelPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks whether the given label is a valid SMACK label.</p>
<dl class="section note"><dt>Note</dt><dd>If there's an error, this function will kill the calling process. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">labelPtr</td><td>Label to check. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6f1d3adb83461cc5c2e13eef14d6f853"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> MakeRuleStr </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>subjectLabelPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>accessModePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>objectLabelPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>bufPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bufSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a SMACK rule string that conforms to the what SMACK expects.</p>
<dl class="section note"><dt>Note</dt><dd>If there is an error this function will kill the calling process. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">subjectLabelPtr</td><td>Subject label. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accessModePtr</td><td>Access mode. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">objectLabelPtr</td><td>Object label. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bufPtr</td><td>Buffer to store the created rule. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufSize</td><td>Buffer size. Must be atleast SMACK_RULE_STR_BYTES. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afef2a56ddf2ead7faaabddb5807a806b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> MakeSmackModeStr </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>modeStr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>bufPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bufSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Given a user provided mode string create a mode string that conforms to what SMACK expects.</p>
<dl class="section note"><dt>Note</dt><dd>If there'is an error, this function will kill the calling process. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">modeStr</td><td>User provided mode string. This string can be any combination of mode characters including duplicates. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bufPtr</td><td>Buffer to hold the mode string that conforms to what smack expects. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufSize</td><td>Size of the buffer must be more than MAX_ACCESS_MODE_LEN bytes. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9d6570ccf5a5077cae0f9f44932e1bb7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> SetSmackIPv6HostExceptions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set SMACK ipv6host exception to grant applications permission to communicate with the Internet. via IPv6. </p>

</div>
</div>
<a class="anchor" id="a9533646c3e9a4522ea3c331d2fa86c35"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> SetSmackNetlabelExceptions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set SMACK netlabel exception to grant applications permission to communicate with the Internet via IPv4. </p>

</div>
</div>
<a class="anchor" id="aba989a77163254ab2b3fa6880136c0f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> smack_GetAppAccessLabel </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>appNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mode_t&#160;</td>
          <td class="paramname"><em>accessMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>bufPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bufSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get's the application's smack label with the user's access mode appended to it as a string. For example, if the accessMode is S_IRUSR | S_IWUSR then "rw" will be appended to the application's smack label. The groups and other bits of accessMode are ignored. If the user's accessMode is 0 (empty) then "-" will be appended to the app's smack label.</p>
<dl class="section note"><dt>Note</dt><dd>The application need not be installed for this function to succeed.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This function kills the calling process if there is an error such as if the buffer is too small. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">appNamePtr</td><td>Name of the application. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accessMode</td><td>Access mode. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bufPtr</td><td>Buffer to store the proc's SMACK label. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufSize</td><td>Size of the buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa0de3f641219745526a9573936b68f96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> smack_GetAppLabel </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>appNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>bufPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bufSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets an application's SMACK label.</p>
<dl class="section note"><dt>Note</dt><dd>The application need not be installed for this function to succeed.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This function kills the calling process if there is an error such as if the buffer is too small. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">appNamePtr</td><td>Name of the application. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bufPtr</td><td>Buffer to store the proc's SMACK label. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufSize</td><td>Size of the buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a30a9367abe1cb72785429cc3c5b0aa48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> smack_GetDevLabel </td>
          <td>(</td>
          <td class="paramtype">dev_t&#160;</td>
          <td class="paramname"><em>devId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>bufPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bufSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets a SMACK label for a device file from the device ID.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if the label was successfully returned in the provided buffer. LE_OVERFLOW if the label could not fit in the provided buffer. LE_FAULT if there was an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">devId</td><td>Device ID. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bufPtr</td><td>Buffer to hold the SMACK label for the device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufSize</td><td>Size of the buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adc042c6d3c1bc9049463fccfcff585b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> smack_GetProcLabel </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>bufPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bufSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get's a process's smack label.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_OVERFLOW if the supplied buffer is too small to hold the smack label. LE_FAULT if there was an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pid</td><td>PID of the process. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bufPtr</td><td>Buffer to store the proc's SMACK label. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufSize</td><td>Size of the buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4d37d4c51fca54a95f83914bc2d12076"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool smack_HasAccess </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>subjectLabelPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>accessModePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>objectLabelPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks whether a subject has the specified access mode for an object.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the subject has the specified access mode for the object. false if the subject doesn't have the specified access mode for the object. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">subjectLabelPtr</td><td>Subject label. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accessModePtr</td><td>Access mode. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">objectLabelPtr</td><td>Object label. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a681949d8c08d48753609c8ed68efc267"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> smack_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the SMACK system. Mounts the smack file system.</p>
<dl class="section note"><dt>Note</dt><dd>Should be called once for the entire system, subsequent calls to this function will have no effect. Must be called before any of the other functions in this API is called.</dd>
<dd>
Failures will cause the calling process to exit. </dd></dl>

</div>
</div>
<a class="anchor" id="a62834a7a3134811aaeb0033c0e8af715"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool smack_IsEnabled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Shows whether SMACK is enabled or disabled in the Legato Framework.</p>
<dl class="section return"><dt>Returns</dt><dd>true if SMACK is enabled. false if SMACK is disabled. </dd></dl>

</div>
</div>
<a class="anchor" id="a7342897f0690e0e7da9350acf8321e0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> smack_RevokeSubject </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>subjectLabelPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Revokes all the access rights for a subject that was given by explicit SMACK rules.</p>
<dl class="section note"><dt>Note</dt><dd>If there's an error, this function will kill the calling process. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">subjectLabelPtr</td><td>Subject label. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af8ed0d3150b8535253b9a42c7847a613"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> smack_SetLabel </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>objPathPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>labelPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the smack label of a file system object. The calling process must be a privileged process.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if the label was set correctly. LE_FAULT if there was an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">objPathPtr</td><td>Path to the object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">labelPtr</td><td>Label to set the object to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="add5cbf8e77184e9ba03ea8446593382e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> smack_SetMyLabel </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>labelPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the smack label of the calling process. The calling process must be a privileged process.</p>
<dl class="section note"><dt>Note</dt><dd>If there's an error, this function will kill the calling process. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">labelPtr</td><td>Label to set the calling process to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad6dc9b823efc45d900bbd2ba393848ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> smack_SetRule </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>subjectLabelPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>accessModePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>objectLabelPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets an explicit smack rule.</p>
<p>An explicit smack rule defines a subject's access to an object. The access mode can be any combination of the following. </p><pre class="fragment"> r: read access should be granted.
 w: write access should be granted.
 x: execute access should be granted.
 a: append access should be granted.
 -: used as a place holder.
</pre><p>For example: "rx" means read and execute access should be granted. "-" means that no access should be granted.</p>
<dl class="section note"><dt>Note</dt><dd>If there's an error, this function will kill the calling process. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">subjectLabelPtr</td><td>Subject label. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accessModePtr</td><td>Access mode. See the function description for details. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">objectLabelPtr</td><td>Object label. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.11
        </div>
    </div>
</body>
</html>
