<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LEGATO: build/localhost/interfaces/le_update_interface.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/javascript">
//<![CDATA[
    // Detect if doc is served by eclipse
    if( ( (window.location.hostname == "127.0.0.1") || (window.location.hostname == "localhost") ) &&
        ( (window.location.port != "") && (window.location.port != 80) && (window.location.port != 443) ) )
    {
        // Inhibit init function from navtree
        initNavTree = function(toroot,relpath) {}
        $(document).ready(function(){
            navTree = document.getElementById("side-nav");
            if(navTree)
            {
                navTree.parentElement.removeChild(navTree);
            }
            $("#doc-content").css('margin-left',10);
        });
    }
//]]>
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <a href="index.html" title="Legato">
      <img alt="Logo" src="legatoLogo.png"/>
    </a>
    <div id="projectbrief">Simplifying IoT development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('le__update__interface_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">le_update_interface.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="legato_8h_source.html">legato.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="le__limit__interface_8h_source.html">le_limit_interface.h</a>&quot;</code><br />
</div>
<p><a href="le__update__interface_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ad09ef82838e9019dbe5d4057422783c0"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__update__interface_8h.html#ad09ef82838e9019dbe5d4057422783c0">le_update_DisconnectHandler_t</a>) (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *)</td></tr>
<tr class="separator:ad09ef82838e9019dbe5d4057422783c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20a94b986a9ba0e6772b146f98b95f92"><td class="memItemLeft" align="right" valign="top">typedef struct le_update_ProgressHandler *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__update__interface_8h.html#a20a94b986a9ba0e6772b146f98b95f92">le_update_ProgressHandlerRef_t</a></td></tr>
<tr class="separator:a20a94b986a9ba0e6772b146f98b95f92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae56667313f5ee9ee20c6ebc273aca3bb"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__update__interface_8h.html#ae56667313f5ee9ee20c6ebc273aca3bb">le_update_ProgressHandlerFunc_t</a>) (<a class="el" href="le__update__interface_8h.html#ae9758536ebaf1842cdaaddd6cf95a672">le_update_State_t</a> updateState, uint32_t percentDone, <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *contextPtr)</td></tr>
<tr class="separator:ae56667313f5ee9ee20c6ebc273aca3bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ae9758536ebaf1842cdaaddd6cf95a672"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__update__interface_8h.html#ae9758536ebaf1842cdaaddd6cf95a672">le_update_State_t</a> { <br />
&#160;&#160;<a class="el" href="le__update__interface_8h.html#ae9758536ebaf1842cdaaddd6cf95a672a01cdf8340b000eb108dd8d9a350147db">LE_UPDATE_STATE_UNPACKING</a> = 0, 
<a class="el" href="le__update__interface_8h.html#ae9758536ebaf1842cdaaddd6cf95a672af440436711a501bf174b96fcda5f5ecb">LE_UPDATE_STATE_DOWNLOAD_SUCCESS</a> = 1, 
<a class="el" href="le__update__interface_8h.html#ae9758536ebaf1842cdaaddd6cf95a672ae950e649ac258bc23ba0c315904bca77">LE_UPDATE_STATE_APPLYING</a> = 2, 
<a class="el" href="le__update__interface_8h.html#ae9758536ebaf1842cdaaddd6cf95a672ae18d6a3b4f86d5cbfc693cb054d91845">LE_UPDATE_STATE_SUCCESS</a> = 3, 
<br />
&#160;&#160;<a class="el" href="le__update__interface_8h.html#ae9758536ebaf1842cdaaddd6cf95a672a67f0990e9adccbc2cda0ad78ab98d894">LE_UPDATE_STATE_FAILED</a> = 4
<br />
 }</td></tr>
<tr class="separator:ae9758536ebaf1842cdaaddd6cf95a672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24bac90fc939c561c64d13608cc78a20"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__update__interface_8h.html#a24bac90fc939c561c64d13608cc78a20">le_update_ErrorCode_t</a> { <a class="el" href="le__update__interface_8h.html#a24bac90fc939c561c64d13608cc78a20a5473b80d9e60fc1a8fd5f78a47b1c69e">LE_UPDATE_ERR_NONE</a> = 0, 
<a class="el" href="le__update__interface_8h.html#a24bac90fc939c561c64d13608cc78a20a75e035563341a91a77d85055545ce9de">LE_UPDATE_ERR_BAD_PACKAGE</a> = 1, 
<a class="el" href="le__update__interface_8h.html#a24bac90fc939c561c64d13608cc78a20a9dfcb8ef952d81438c5bc07ed7a15171">LE_UPDATE_ERR_INTERNAL_ERROR</a> = 2, 
<a class="el" href="le__update__interface_8h.html#a24bac90fc939c561c64d13608cc78a20a4007eb89df91afad15ddd268d1d7e943">LE_UPDATE_ERR_SECURITY_FAILURE</a> = 3
 }</td></tr>
<tr class="separator:a24bac90fc939c561c64d13608cc78a20"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a338754ee167108f8da4a6023487e4d78"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__update__interface_8h.html#a338754ee167108f8da4a6023487e4d78">le_update_ConnectService</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a338754ee167108f8da4a6023487e4d78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a423e12ec091de3bc309a652a93c52e4d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__update__interface_8h.html#a423e12ec091de3bc309a652a93c52e4d">le_update_TryConnectService</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a423e12ec091de3bc309a652a93c52e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6e871aabd376c9d9af81a8080e56c38"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__update__interface_8h.html#ac6e871aabd376c9d9af81a8080e56c38">le_update_SetServerDisconnectHandler</a> (<a class="el" href="le__update__interface_8h.html#ad09ef82838e9019dbe5d4057422783c0">le_update_DisconnectHandler_t</a> disconnectHandler, <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *contextPtr)</td></tr>
<tr class="separator:ac6e871aabd376c9d9af81a8080e56c38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e49e9b047c622ab7e3f617336907f1d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__update__interface_8h.html#a5e49e9b047c622ab7e3f617336907f1d">le_update_DisconnectService</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a5e49e9b047c622ab7e3f617336907f1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af112ef0dec3807ff24ec5840732cc47f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__update__interface_8h.html#a20a94b986a9ba0e6772b146f98b95f92">le_update_ProgressHandlerRef_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__update__interface_8h.html#af112ef0dec3807ff24ec5840732cc47f">le_update_AddProgressHandler</a> (<a class="el" href="le__update__interface_8h.html#ae56667313f5ee9ee20c6ebc273aca3bb">le_update_ProgressHandlerFunc_t</a> handlerPtr, <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *contextPtr)</td></tr>
<tr class="separator:af112ef0dec3807ff24ec5840732cc47f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2d40ca3fd9c048546e5e7eb923ae449"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__update__interface_8h.html#ae2d40ca3fd9c048546e5e7eb923ae449">le_update_RemoveProgressHandler</a> (<a class="el" href="le__update__interface_8h.html#a20a94b986a9ba0e6772b146f98b95f92">le_update_ProgressHandlerRef_t</a> handlerRef)</td></tr>
<tr class="separator:ae2d40ca3fd9c048546e5e7eb923ae449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b2d287f2403b1228df7ac257f3becd7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__update__interface_8h.html#a5b2d287f2403b1228df7ac257f3becd7">le_update_Start</a> (int <a class="el" href="app_stop_client_8c.html#a44f21d5190b5a6df8089f54799628d7e">fd</a>)</td></tr>
<tr class="separator:a5b2d287f2403b1228df7ac257f3becd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a199a167ed14897ab165e3d7a2ae852a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__update__interface_8h.html#a199a167ed14897ab165e3d7a2ae852a0">le_update_Install</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a199a167ed14897ab165e3d7a2ae852a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cc57488db74a0a308402bacb14007b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__update__interface_8h.html#a2cc57488db74a0a308402bacb14007b1">le_update_End</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a2cc57488db74a0a308402bacb14007b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae839f8383c594c13d8c20b9861919447"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__update__interface_8h.html#a24bac90fc939c561c64d13608cc78a20">le_update_ErrorCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__update__interface_8h.html#ae839f8383c594c13d8c20b9861919447">le_update_GetErrorCode</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:ae839f8383c594c13d8c20b9861919447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ae02132ca690606a1d556aff5f3a4c4"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__update__interface_8h.html#a7ae02132ca690606a1d556aff5f3a4c4">le_update_GetCurrentSysIndex</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a7ae02132ca690606a1d556aff5f3a4c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a397981b56b2dd6855ca3375ae9c61ac2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__update__interface_8h.html#a397981b56b2dd6855ca3375ae9c61ac2">le_update_GetSystemHash</a> (int32_t systemIndex, char *hashStr, size_t hashStrSize)</td></tr>
<tr class="separator:a397981b56b2dd6855ca3375ae9c61ac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82196efdc87d57f62d40a195cbafd2eb"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__update__interface_8h.html#a82196efdc87d57f62d40a195cbafd2eb">le_update_GetPreviousSystemIndex</a> (int32_t systemIndex)</td></tr>
<tr class="separator:a82196efdc87d57f62d40a195cbafd2eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Legato <a class="el" href="c_update.html">Update API</a> include file.</p>
<p>Copyright (C) Sierra Wireless Inc. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ad09ef82838e9019dbe5d4057422783c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>(* le_update_DisconnectHandler_t) (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Type for handler called when a server disconnects. </p>

</div>
</div>
<a class="anchor" id="ae56667313f5ee9ee20c6ebc273aca3bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>(* le_update_ProgressHandlerFunc_t) (<a class="el" href="le__update__interface_8h.html#ae9758536ebaf1842cdaaddd6cf95a672">le_update_State_t</a> updateState,uint32_t percentDone,<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *contextPtr)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The client callback function (handler) passed to <a class="el" href="le__update__interface_8h.html#a5b2d287f2403b1228df7ac257f3becd7">le_update_Start()</a> must look like this. </p>

</div>
</div>
<a class="anchor" id="a20a94b986a9ba0e6772b146f98b95f92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct le_update_ProgressHandler* <a class="el" href="le__update__interface_8h.html#a20a94b986a9ba0e6772b146f98b95f92">le_update_ProgressHandlerRef_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reference type used by Add/Remove functions for EVENT 'le_update_Progress' </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a24bac90fc939c561c64d13608cc78a20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="le__update__interface_8h.html#a24bac90fc939c561c64d13608cc78a20">le_update_ErrorCode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Error code used to provide diagnostic information after a failed update.</p>
<dl class="section note"><dt>Note</dt><dd>Additional information may also be available in the target device's system log. </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a24bac90fc939c561c64d13608cc78a20a5473b80d9e60fc1a8fd5f78a47b1c69e"></a>LE_UPDATE_ERR_NONE&#160;</td><td class="fielddoc">
<p>No error. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a24bac90fc939c561c64d13608cc78a20a75e035563341a91a77d85055545ce9de"></a>LE_UPDATE_ERR_BAD_PACKAGE&#160;</td><td class="fielddoc">
<p>Encountered bad update package. Check logs. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a24bac90fc939c561c64d13608cc78a20a9dfcb8ef952d81438c5bc07ed7a15171"></a>LE_UPDATE_ERR_INTERNAL_ERROR&#160;</td><td class="fielddoc">
<p>Something failed while doing update. Check logs. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a24bac90fc939c561c64d13608cc78a20a4007eb89df91afad15ddd268d1d7e943"></a>LE_UPDATE_ERR_SECURITY_FAILURE&#160;</td><td class="fielddoc">
<p>Error while doing security check of the package. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ae9758536ebaf1842cdaaddd6cf95a672"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="le__update__interface_8h.html#ae9758536ebaf1842cdaaddd6cf95a672">le_update_State_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Different states in the update state machine. The state machine is maintained to track the update task underway.</p>
<p>Example: for successful installation task, state transitions look like:</p>
<pre class="fragment">    --&gt; UNPACKING --&gt; DOWNLOAD_SUCCESS --&gt; APPLYING --&gt; SUCCESS.
            |                                 |
            +---------------------------------+-------&gt; FAILED.
</pre> <table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ae9758536ebaf1842cdaaddd6cf95a672a01cdf8340b000eb108dd8d9a350147db"></a>LE_UPDATE_STATE_UNPACKING&#160;</td><td class="fielddoc">
<p>Unpacking update data. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae9758536ebaf1842cdaaddd6cf95a672af440436711a501bf174b96fcda5f5ecb"></a>LE_UPDATE_STATE_DOWNLOAD_SUCCESS&#160;</td><td class="fielddoc">
<p>Update data downloaded successfully. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae9758536ebaf1842cdaaddd6cf95a672ae950e649ac258bc23ba0c315904bca77"></a>LE_UPDATE_STATE_APPLYING&#160;</td><td class="fielddoc">
<p>Applying update(i.e. installation/removal operation going on). </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae9758536ebaf1842cdaaddd6cf95a672ae18d6a3b4f86d5cbfc693cb054d91845"></a>LE_UPDATE_STATE_SUCCESS&#160;</td><td class="fielddoc">
<p>Successfully completed all update task. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae9758536ebaf1842cdaaddd6cf95a672a67f0990e9adccbc2cda0ad78ab98d894"></a>LE_UPDATE_STATE_FAILED&#160;</td><td class="fielddoc">
<p>Update failed due to some error or deletion request. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af112ef0dec3807ff24ec5840732cc47f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__update__interface_8h.html#a20a94b986a9ba0e6772b146f98b95f92">le_update_ProgressHandlerRef_t</a> le_update_AddProgressHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__update__interface_8h.html#ae56667313f5ee9ee20c6ebc273aca3bb">le_update_ProgressHandlerFunc_t</a>&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *&#160;</td>
          <td class="paramname"><em>contextPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add handler function for EVENT 'le_update_Progress'</p>
<p>Register for notification of the progress of a given update.</p>
<p>Add handler function for EVENT 'le_update_Progress'</p>
<p>This event is used for showing status of ongoing update process. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">func</td><td>Pointer to client callback function. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">contextPtr</td><td>Context pointer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a338754ee167108f8da4a6023487e4d78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> le_update_ConnectService </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Connect the current client thread to the service providing this API. Block until the service is available.</p>
<p>For each thread that wants to use this API, either ConnectService or TryConnectService must be called before any other functions in this API. Normally, ConnectService is automatically called for the main thread, but not for any other thread. For details, see <a class="el" href="apiFilesC.html#apiFilesC_client">Client-specific Functions</a>.</p>
<p>This function is created automatically. </p>

</div>
</div>
<a class="anchor" id="a5e49e9b047c622ab7e3f617336907f1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> le_update_DisconnectService </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disconnect the current client thread from the service providing this API.</p>
<p>Normally, this function doesn't need to be called. After this function is called, there's no longer a connection to the service, and the functions in this API can't be used. For details, see <a class="el" href="apiFilesC.html#apiFilesC_client">Client-specific Functions</a>.</p>
<p>This function is created automatically. </p>

</div>
</div>
<a class="anchor" id="a2cc57488db74a0a308402bacb14007b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> le_update_End </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ends an update session. If the update isn't finished yet, cancels it.</p>
<p>Ends an update session. If the update is not finished yet, cancels it.</p>
<dl class="section note"><dt>Note</dt><dd>The update session reference becomes invalid after this. </dd></dl>

</div>
</div>
<a class="anchor" id="a7ae02132ca690606a1d556aff5f3a4c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t le_update_GetCurrentSysIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the index of the currently running system.</p>
<dl class="section return"><dt>Returns</dt><dd>The index of the running system. </dd></dl>

</div>
</div>
<a class="anchor" id="ae839f8383c594c13d8c20b9861919447"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__update__interface_8h.html#a24bac90fc939c561c64d13608cc78a20">le_update_ErrorCode_t</a> le_update_GetErrorCode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to get error code when update fails.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>Error code of encountered error.</li>
<li>ERR_NONE if update is in any other state. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a82196efdc87d57f62d40a195cbafd2eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t le_update_GetPreviousSystemIndex </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>systemIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the index for the previous system in the chain, using the current system as a starting point.</p>
<dl class="section return"><dt>Returns</dt><dd>The index to the system that's previous to the given system. -1 is returned if the previous system was not found. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">systemIndex</td><td>Get the system that's earlier to this system. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a397981b56b2dd6855ca3375ae9c61ac2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_update_GetSystemHash </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>systemIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>hashStr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>hashStrSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the hash ID for a given system.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK if no problems are encountered.</li>
<li>LE_NOT_FOUND if the given index does not correspond to an available system.</li>
<li>LE_OVERFLOW if the supplied buffer is too small.</li>
<li>LE_FORMAT_ERROR if there are problems reading the hash for the system.</li>
</ul>
</dd></dl>
<p>Read the hash ID from a given system.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK if no problems are encountered.</li>
<li>LE_NOT_FOUND if the given index does not correspond to an available system.</li>
<li>LE_OVERFLOW if the supplied buffer is too small.</li>
<li>LE_FORMAT_ERROR if there are problems reading the hash from the system. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">systemIndex</td><td>The system to read the hash for. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">hashStr</td><td>Buffer to hold the system hash string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hashStrSize</td><td>Size of the hashStr buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a199a167ed14897ab165e3d7a2ae852a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_update_Install </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Install the update</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK if installation started.</li>
<li>LE_BUSY if package download is not finished yet.</li>
<li>LE_FAULT if there is an error. Check logs </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ae2d40ca3fd9c048546e5e7eb923ae449"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> le_update_RemoveProgressHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__update__interface_8h.html#a20a94b986a9ba0e6772b146f98b95f92">le_update_ProgressHandlerRef_t</a>&#160;</td>
          <td class="paramname"><em>handlerRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove handler function for EVENT 'le_update_Progress' </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handlerRef</td><td>Reference to client callback function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac6e871aabd376c9d9af81a8080e56c38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> le_update_SetServerDisconnectHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__update__interface_8h.html#ad09ef82838e9019dbe5d4057422783c0">le_update_DisconnectHandler_t</a>&#160;</td>
          <td class="paramname"><em>disconnectHandler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *&#160;</td>
          <td class="paramname"><em>contextPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set handler called when server disconnection is detected.</p>
<p>When a server connection is lost, call this handler then exit with LE_FATAL. If a program wants to continue without exiting, it should call longjmp() from inside the handler. </p>

</div>
</div>
<a class="anchor" id="a5b2d287f2403b1228df7ac257f3becd7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_update_Start </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>clientFd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts an update.</p>
<p>Progress is reported via the progress handler callback.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK if accepted.</li>
<li>LE_BUSY if another update is in progress.</li>
<li>LE_UNAVAILABLE if the system is still in "probation" (not marked "good" yet).</li>
</ul>
</dd></dl>
<p>Starts an update.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK if accepted.</li>
<li>LE_BUSY if another update is in progress.</li>
<li>LE_UNSUPPORTED if Legato system is R/O.</li>
<li>LE_UNAVAILABLE if updates are deferred. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">clientFd</td><td>Open file descriptor from which the update can be read. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a423e12ec091de3bc309a652a93c52e4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_update_TryConnectService </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Try to connect the current client thread to the service providing this API. Return with an error if the service is not available.</p>
<p>For each thread that wants to use this API, either ConnectService or TryConnectService must be called before any other functions in this API. Normally, ConnectService is automatically called for the main thread, but not for any other thread. For details, see <a class="el" href="apiFilesC.html#apiFilesC_client">Client-specific Functions</a>.</p>
<p>This function is created automatically.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK if the client connected successfully to the service.</li>
<li>LE_UNAVAILABLE if the server is not currently offering the service to which the client is bound.</li>
<li>LE_NOT_PERMITTED if the client interface is not bound to any service (doesn't have a binding).</li>
<li>LE_COMM_ERROR if the Service Directory cannot be reached. </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.11
        </div>
    </div>
</body>
</html>
