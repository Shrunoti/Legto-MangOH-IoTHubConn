<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LEGATO: framework/daemons/linux/logDaemon/logDaemon.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/javascript">
//<![CDATA[
    // Detect if doc is served by eclipse
    if( ( (window.location.hostname == "127.0.0.1") || (window.location.hostname == "localhost") ) &&
        ( (window.location.port != "") && (window.location.port != 80) && (window.location.port != 443) ) )
    {
        // Inhibit init function from navtree
        initNavTree = function(toroot,relpath) {}
        $(document).ready(function(){
            navTree = document.getElementById("side-nav");
            if(navTree)
            {
                navTree.parentElement.removeChild(navTree);
            }
            $("#doc-content").css('margin-left',10);
        });
    }
//]]>
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <a href="index.html" title="Legato">
      <img alt="Logo" src="legatoLogo.png"/>
    </a>
    <div id="projectbrief">Simplifying IoT development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('log_daemon_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">logDaemon.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="log_daemon_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a65f34a0a9fcfe2325837b9f82a319ed9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_daemon_8h.html#a65f34a0a9fcfe2325837b9f82a319ed9">LOG_MAX_CMD_PACKET_BYTES</a>&#160;&#160;&#160;300</td></tr>
<tr class="separator:a65f34a0a9fcfe2325837b9f82a319ed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7e23a73fa763a7bed27af349e976a02"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_daemon_8h.html#aa7e23a73fa763a7bed27af349e976a02">LOG_CONTROL_PROTOCOL_ID</a>&#160;&#160;&#160;&quot;LogControlProtocol&quot;</td></tr>
<tr class="separator:aa7e23a73fa763a7bed27af349e976a02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affe72fdcf38c3e457b538ebf23e54d4f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_daemon_8h.html#affe72fdcf38c3e457b538ebf23e54d4f">LOG_CONTROL_SERVICE_NAME</a>&#160;&#160;&#160;&quot;LogControl&quot;</td></tr>
<tr class="separator:affe72fdcf38c3e457b538ebf23e54d4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c36a13b96b311f25e73cd5fe80bd534"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_daemon_8h.html#a6c36a13b96b311f25e73cd5fe80bd534">LOG_CLIENT_SERVICE_NAME</a>&#160;&#160;&#160;&quot;LogClient&quot;</td></tr>
<tr class="separator:a6c36a13b96b311f25e73cd5fe80bd534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef5c8bcd78d7ba44debfdf6d373d3d66"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_daemon_8h.html#aef5c8bcd78d7ba44debfdf6d373d3d66">LOG_CMD_SET_LEVEL</a>&#160;&#160;&#160;'l'</td></tr>
<tr class="separator:aef5c8bcd78d7ba44debfdf6d373d3d66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5a55f82407db6e43cf1a9569d4a8fc7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_daemon_8h.html#ae5a55f82407db6e43cf1a9569d4a8fc7">LOG_CMD_ENABLE_TRACE</a>&#160;&#160;&#160;'e'</td></tr>
<tr class="separator:ae5a55f82407db6e43cf1a9569d4a8fc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac12dbe72c77367bf716101d52c5d73c3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_daemon_8h.html#ac12dbe72c77367bf716101d52c5d73c3">LOG_CMD_DISABLE_TRACE</a>&#160;&#160;&#160;'d'</td></tr>
<tr class="separator:ac12dbe72c77367bf716101d52c5d73c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae35e974d161b74519c868e663e7d338"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_daemon_8h.html#aae35e974d161b74519c868e663e7d338">LOG_CMD_REG_COMPONENT</a>&#160;&#160;&#160;'r'</td></tr>
<tr class="separator:aae35e974d161b74519c868e663e7d338"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0ecc985f32b4c5b053e679ad5880fa5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_daemon_8h.html#ae0ecc985f32b4c5b053e679ad5880fa5">LOG_CMD_LIST_COMPONENTS</a>&#160;&#160;&#160;'c'</td></tr>
<tr class="separator:ae0ecc985f32b4c5b053e679ad5880fa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a770d6f749ea05c84302292e02c86fcca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_daemon_8h.html#a770d6f749ea05c84302292e02c86fcca">LOG_CMD_FORGET_PROCESS</a>&#160;&#160;&#160;'x'</td></tr>
<tr class="separator:a770d6f749ea05c84302292e02c86fcca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a050450c3742fcb81a12387cd60be5ae6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_daemon_8h.html#a050450c3742fcb81a12387cd60be5ae6">LOG_SET_LEVEL_EMERG_STR</a>&#160;&#160;&#160;&quot;EMERGENCY&quot;</td></tr>
<tr class="separator:a050450c3742fcb81a12387cd60be5ae6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6d5889fb2fa7b224a05554b05db89fb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_daemon_8h.html#ab6d5889fb2fa7b224a05554b05db89fb">LOG_SET_LEVEL_CRIT_STR</a>&#160;&#160;&#160;&quot;CRITICAL&quot;</td></tr>
<tr class="separator:ab6d5889fb2fa7b224a05554b05db89fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae137c631d752e8137494f74b99b8d083"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_daemon_8h.html#ae137c631d752e8137494f74b99b8d083">LOG_SET_LEVEL_ERROR_STR</a>&#160;&#160;&#160;&quot;ERROR&quot;</td></tr>
<tr class="separator:ae137c631d752e8137494f74b99b8d083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b297e3ea2c22777a3fa6c18be7d5207"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_daemon_8h.html#a8b297e3ea2c22777a3fa6c18be7d5207">LOG_SET_LEVEL_WARN_STR</a>&#160;&#160;&#160;&quot;WARNING&quot;</td></tr>
<tr class="separator:a8b297e3ea2c22777a3fa6c18be7d5207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59875ff2386865e8eae776c6e9279c56"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_daemon_8h.html#a59875ff2386865e8eae776c6e9279c56">LOG_SET_LEVEL_INFO_STR</a>&#160;&#160;&#160;&quot;INFO&quot;</td></tr>
<tr class="separator:a59875ff2386865e8eae776c6e9279c56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab74678e658eaadfe360f429d517823e0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_daemon_8h.html#ab74678e658eaadfe360f429d517823e0">LOG_SET_LEVEL_DEBUG_STR</a>&#160;&#160;&#160;&quot;DEBUG&quot;</td></tr>
<tr class="separator:ab74678e658eaadfe360f429d517823e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20ff16dec15a0b7e7ff4f2224585a8b3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_daemon_8h.html#a20ff16dec15a0b7e7ff4f2224585a8b3">LOG_OUTPUT_LOC_STDERR_STR</a>&#160;&#160;&#160;&quot;stderr&quot;</td></tr>
<tr class="separator:a20ff16dec15a0b7e7ff4f2224585a8b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6941b27f448b30bf4d436e639f201cb0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_daemon_8h.html#a6941b27f448b30bf4d436e639f201cb0">LOG_OUTPUT_LOC_SYSLOG_STR</a>&#160;&#160;&#160;&quot;syslog&quot;</td></tr>
<tr class="separator:a6941b27f448b30bf4d436e639f201cb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains the log control protocol specification.</p>
<p>Log control messages have the following format:</p>
<pre class="fragment"> Command ProcessName '/' ComponentName '/' CommandData
</pre><ul>
<li>Command = one character indicating what type of command it is.</li>
<li>ProcessName = variable-length name, up to LIMIT_MAX_PROCESS_NAME_LEN characters.</li>
<li>ComponentName = variable-length name, up to LIMIT_MAX_COMPONENT_NAME_LEN characters.</li>
<li>CommandData = optional additional command data, depending on the type of command.</li>
</ul>
<p>The Log Control Daemon advertises two services. One is for log clients to connect to. The other is for log control tools to connect to.</p>
<p>Log clients connect and send in their log session identification information in a "Register" message, which includes the process name, component name, and process ID. If the Log Control Daemon has non-default session control data available for that session, then it will send log control commands to the log client at that time. Also, the Log Control Daemon will use log control commands to update log clients when log control settings are changed by log control tools.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd>Change to use shared memory to control log sessions instead.</dd></dl>
<p>Log tools connect and send in a log control command. The Log Control Daemon responds by sending printable strings to the log control tool. The log control tool simply prints these strings to stdout when it receives them. The Log Control Daemon closes the IPC session with the log control tool when it finishes processing the command. Response strings that contain error messages always start with a "*".</p>
<p>Copyright (C) Sierra Wireless Inc. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a6c36a13b96b311f25e73cd5fe80bd534"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_CLIENT_SERVICE_NAME&#160;&#160;&#160;&quot;LogClient&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The log client service's well known service instance name. This is the service that all components use to connect to the Log Control Daemon to start receiving log filter settings updates on-the-fly. </p>

</div>
</div>
<a class="anchor" id="ac12dbe72c77367bf716101d52c5d73c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_CMD_DISABLE_TRACE&#160;&#160;&#160;'d'</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae5a55f82407db6e43cf1a9569d4a8fc7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_CMD_ENABLE_TRACE&#160;&#160;&#160;'e'</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a770d6f749ea05c84302292e02c86fcca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_CMD_FORGET_PROCESS&#160;&#160;&#160;'x'</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae0ecc985f32b4c5b053e679ad5880fa5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_CMD_LIST_COMPONENTS&#160;&#160;&#160;'c'</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Logging commands that can be sent from the log tool to the log daemon only. </p>

</div>
</div>
<a class="anchor" id="aae35e974d161b74519c868e663e7d338"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_CMD_REG_COMPONENT&#160;&#160;&#160;'r'</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Logging commands that can be sent from the components to the log daemon only. </p>

</div>
</div>
<a class="anchor" id="aef5c8bcd78d7ba44debfdf6d373d3d66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_CMD_SET_LEVEL&#160;&#160;&#160;'l'</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Logging commands that can be sent from the log tool to the log daemon and from the log daemon to the components. </p>

</div>
</div>
<a class="anchor" id="aa7e23a73fa763a7bed27af349e976a02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_CONTROL_PROTOCOL_ID&#160;&#160;&#160;&quot;LogControlProtocol&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The log control service's well known service instance name. </p>

</div>
</div>
<a class="anchor" id="affe72fdcf38c3e457b538ebf23e54d4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_CONTROL_SERVICE_NAME&#160;&#160;&#160;&quot;LogControl&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The log control service's well known service instance name. This is the service that the log control tool uses. </p>

</div>
</div>
<a class="anchor" id="a65f34a0a9fcfe2325837b9f82a319ed9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_MAX_CMD_PACKET_BYTES&#160;&#160;&#160;300</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The maximum packet size in bytes of log commands. </p>

</div>
</div>
<a class="anchor" id="a20ff16dec15a0b7e7ff4f2224585a8b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_OUTPUT_LOC_STDERR_STR&#160;&#160;&#160;&quot;stderr&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6941b27f448b30bf4d436e639f201cb0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_OUTPUT_LOC_SYSLOG_STR&#160;&#160;&#160;&quot;syslog&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab6d5889fb2fa7b224a05554b05db89fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_SET_LEVEL_CRIT_STR&#160;&#160;&#160;&quot;CRITICAL&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab74678e658eaadfe360f429d517823e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_SET_LEVEL_DEBUG_STR&#160;&#160;&#160;&quot;DEBUG&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a050450c3742fcb81a12387cd60be5ae6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_SET_LEVEL_EMERG_STR&#160;&#160;&#160;&quot;EMERGENCY&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae137c631d752e8137494f74b99b8d083"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_SET_LEVEL_ERROR_STR&#160;&#160;&#160;&quot;ERROR&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a59875ff2386865e8eae776c6e9279c56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_SET_LEVEL_INFO_STR&#160;&#160;&#160;&quot;INFO&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8b297e3ea2c22777a3fa6c18be7d5207"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_SET_LEVEL_WARN_STR&#160;&#160;&#160;&quot;WARNING&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.11
        </div>
    </div>
</body>
</html>
