<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LEGATO: framework/daemons/linux/supervisor/supervisor.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/javascript">
//<![CDATA[
    // Detect if doc is served by eclipse
    if( ( (window.location.hostname == "127.0.0.1") || (window.location.hostname == "localhost") ) &&
        ( (window.location.port != "") && (window.location.port != 80) && (window.location.port != 443) ) )
    {
        // Inhibit init function from navtree
        initNavTree = function(toroot,relpath) {}
        $(document).ready(function(){
            navTree = document.getElementById("side-nav");
            if(navTree)
            {
                navTree.parentElement.removeChild(navTree);
            }
            $("#doc-content").css('margin-left',10);
        });
    }
//]]>
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <a href="index.html" title="Legato">
      <img alt="Logo" src="legatoLogo.png"/>
    </a>
    <div id="projectbrief">Simplifying IoT development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('supervisor_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">supervisor.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="legato_8h_source.html">legato.h</a>&quot;</code><br />
<code>#include &quot;interfaces.h&quot;</code><br />
<code>#include &quot;<a class="el" href="limit_8h_source.html">limit.h</a>&quot;</code><br />
<code>#include &quot;user.h&quot;</code><br />
<code>#include &quot;<a class="el" href="kernel_modules_8h_source.html">kernelModules.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="framework_daemons_8h_source.html">frameworkDaemons.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cgroups_8h_source.html">cgroups.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="smack_8h_source.html">smack.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="supervisor_8h_source.html">supervisor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sys_paths_8h_source.html">sysPaths.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="daemon_8h_source.html">daemon.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apps_8h_source.html">apps.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="wait_8h_source.html">wait.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="file_system_8h_source.html">fileSystem.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sys_status_8h_source.html">sysStatus.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="file_descriptor_8h_source.html">fileDescriptor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="start_8h_source.html">start.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ima_8h_source.html">ima.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a242f0882c7f64ff0aeeaab983e3bc6a8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a242f0882c7f64ff0aeeaab983e3bc6a8">SUPERVISOR_INSTANCE_FILE</a>&#160;&#160;&#160;<a class="el" href="le__basics_8h.html#a3428692efe6051ef30016ffde1a9f7bb">STRINGIZE</a>(LE_RUNTIME_DIR) &quot;supervisorInst&quot;</td></tr>
<tr class="separator:a242f0882c7f64ff0aeeaab983e3bc6a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ee59325b14b86b372dd06ac0a534e3c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a1ee59325b14b86b372dd06ac0a534e3c">BOOT_CFG_PATH</a>&#160;&#160;&#160;&quot;/&quot;</td></tr>
<tr class="separator:a1ee59325b14b86b372dd06ac0a534e3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1e039d4cb1c5396a50dc1bc1da2ceda"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#af1e039d4cb1c5396a50dc1bc1da2ceda">BOOT_TIMEOUT_PATH</a>&#160;&#160;&#160;&quot;bootTimeout&quot;</td></tr>
<tr class="separator:af1e039d4cb1c5396a50dc1bc1da2ceda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab902f631495bb51d956038671d636d5c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#ab902f631495bb51d956038671d636d5c">DEFAULT_BOOT_PERIOD</a>&#160;&#160;&#160;60000</td></tr>
<tr class="separator:ab902f631495bb51d956038671d636d5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ac36f475ca5b446f4fde4c9b90bec77c8"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="supervisor_8c.html#ac36f475ca5b446f4fde4c9b90bec77c8a54f49c44c860a80dc9f50cb8ab6fc93c">APP_START_AUTO</a>, 
<a class="el" href="supervisor_8c.html#ac36f475ca5b446f4fde4c9b90bec77c8a3be0e407a33aa39247ac808f0eba8794">APP_START_NONE</a>
 }</td></tr>
<tr class="separator:ac36f475ca5b446f4fde4c9b90bec77c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05589fbab0657f08285ebdfe93f5ec9e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="supervisor_8c.html#a05589fbab0657f08285ebdfe93f5ec9eaa5f51c4eb8c8eec3b16b058c5e29a037">STATE_STARTING</a>, 
<a class="el" href="supervisor_8c.html#a05589fbab0657f08285ebdfe93f5ec9eae583c55c9f9a3aa9888e4ed771d6a9b6">STATE_NORMAL</a>, 
<a class="el" href="supervisor_8c.html#a05589fbab0657f08285ebdfe93f5ec9eadadecf1f2baeff5ca52267cead15d340">STATE_STOPPING</a>, 
<a class="el" href="supervisor_8c.html#a05589fbab0657f08285ebdfe93f5ec9eaad614b6176e292c799a0897f72f2acc6">STATE_RESTARTING</a>, 
<br />
&#160;&#160;<a class="el" href="supervisor_8c.html#a05589fbab0657f08285ebdfe93f5ec9eaaea971748b64fc1e16e4d6d969f39a76">STATE_RESTARTING_MANUAL</a>
<br />
 }</td></tr>
<tr class="separator:a05589fbab0657f08285ebdfe93f5ec9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4636a28aa35491d27d7c67d3495be126"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a4636a28aa35491d27d7c67d3495be126">PrintHelp</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a4636a28aa35491d27d7c67d3495be126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad877cdc3401b81606c70901078bc42d2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#ad877cdc3401b81606c70901078bc42d2">ParseCommandLine</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:ad877cdc3401b81606c70901078bc42d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c048f529ede05f77fdc17183a91c4f5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a6c048f529ede05f77fdc17183a91c4f5">StartFramework</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a6c048f529ede05f77fdc17183a91c4f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77142064d27df2d5aa4c087fb66428d9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a77142064d27df2d5aa4c087fb66428d9">DeleteRebootCount</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a77142064d27df2d5aa4c087fb66428d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09398b9825219ef301acf113b93d2f5a"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a09398b9825219ef301acf113b93d2f5a">GetBootExpirePeriod</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a09398b9825219ef301acf113b93d2f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18284b813dde589f151e299c67e282aa"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a18284b813dde589f151e299c67e282aa">HandleRebootExpiry</a> (<a class="el" href="le__timer_8h.html#a763fa6992488cdce3b5a820817094838">le_timer_Ref_t</a> timer)</td></tr>
<tr class="separator:a18284b813dde589f151e299c67e282aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f98bb49964f85832c1a5be8e3540c57"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a2f98bb49964f85832c1a5be8e3540c57">StopSupervisor</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a2f98bb49964f85832c1a5be8e3540c57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4517f3bd1e19081e6ed9a84a23a618ac"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a4517f3bd1e19081e6ed9a84a23a618ac">PrepareFullShutdown</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a4517f3bd1e19081e6ed9a84a23a618ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb5700f525c6e25842cd53a818b329eb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#abb5700f525c6e25842cd53a818b329eb">ShutdownFramework</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:abb5700f525c6e25842cd53a818b329eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b0c6480b66c97058a6213df8cfa08f4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a4b0c6480b66c97058a6213df8cfa08f4">BeginShutdown</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a4b0c6480b66c97058a6213df8cfa08f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a658df2aee997986950110c30cfc100d8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a658df2aee997986950110c30cfc100d8">framework_Reboot</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a658df2aee997986950110c30cfc100d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a630d68371a52550fad0b48268f997439"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a630d68371a52550fad0b48268f997439">CaptureDebugData</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a630d68371a52550fad0b48268f997439"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02f348360211f77ef709b2f0427af38b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a02f348360211f77ef709b2f0427af38b">SigChildHandler</a> (int sigNum)</td></tr>
<tr class="separator:a02f348360211f77ef709b2f0427af38b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a976552bc58f2a1f99346795f74fcc544"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a976552bc58f2a1f99346795f74fcc544">le_framework_Stop</a> (le_framework_ServerCmdRef_t cmdRef)</td></tr>
<tr class="separator:a976552bc58f2a1f99346795f74fcc544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f7e88fa8e923152c80ad1dd4fac05c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a6f7e88fa8e923152c80ad1dd4fac05c4">le_framework_Restart</a> (le_framework_ServerCmdRef_t cmdRef, bool manualRestart)</td></tr>
<tr class="separator:a6f7e88fa8e923152c80ad1dd4fac05c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17b20e4ee9914896a3eed847c0c41f28"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a17b20e4ee9914896a3eed847c0c41f28">le_ima_ImportCert</a> (const char *certPath)</td></tr>
<tr class="separator:a17b20e4ee9914896a3eed847c0c41f28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a505304f96a2c4b53d783562ed78dc1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a1a505304f96a2c4b53d783562ed78dc1">framework_IsStopping</a> (<a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>)</td></tr>
<tr class="separator:a1a505304f96a2c4b53d783562ed78dc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3500b8d18fce384f77689e415e1243ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a3500b8d18fce384f77689e415e1243ad">le_framework_IsStopping</a> (le_framework_ServerCmdRef_t _cmdRef)</td></tr>
<tr class="separator:a3500b8d18fce384f77689e415e1243ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae139a6700cd90c01ba48982452c5d6d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#ae139a6700cd90c01ba48982452c5d6d0">le_framework_IsReadOnly</a> (le_framework_ServerCmdRef_t _cmdRef)</td></tr>
<tr class="separator:ae139a6700cd90c01ba48982452c5d6d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0838a24bc4dc957424ef46287a40dc2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#af0838a24bc4dc957424ef46287a40dc2">le_framework_NotifyExpectedReboot</a> (le_framework_ServerCmdRef_t _cmdRef)</td></tr>
<tr class="separator:af0838a24bc4dc957424ef46287a40dc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa9069e7bbdeed2332b5cbffbb472691"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#afa9069e7bbdeed2332b5cbffbb472691">le_sig_Block</a> (SIGPIPE)</td></tr>
<tr class="separator:afa9069e7bbdeed2332b5cbffbb472691"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff1baec97b758377b0f3a3c8d8f82cb0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#aff1baec97b758377b0f3a3c8d8f82cb0">LE_FATAL_IF</a> ((nice(LEGATO_FRAMEWORK_NICE_LEVEL)==-1)&amp;&amp;(errno!=0),&quot;Could not set the nice level.  %m.&quot;)</td></tr>
<tr class="separator:aff1baec97b758377b0f3a3c8d8f82cb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ed13d5f54a2f897c2fc6e97f1178c69"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a3ed13d5f54a2f897c2fc6e97f1178c69">if</a> (!<a class="el" href="supervisor_8c.html#a4c10b08f0c536290bd804816b578d448">ShouldNotDaemonize</a>)</td></tr>
<tr class="separator:a3ed13d5f54a2f897c2fc6e97f1178c69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27dedd1fac9e13c893261a34a0fc21a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a27dedd1fac9e13c893261a34a0fc21a7">LE_ASSERT</a> (<a class="el" href="dir_8c.html#a7ac7d25b67f2e47127084677626d5344">le_dir_Make</a>(<a class="el" href="le__basics_8h.html#a3428692efe6051ef30016ffde1a9f7bb">STRINGIZE</a>(LE_RUNTIME_DIR), S_IRWXU|S_IXOTH)!=<a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798">LE_FAULT</a>)</td></tr>
<tr class="separator:a27dedd1fac9e13c893261a34a0fc21a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6ded5bccde397fd6ffc85ea3de9d664"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#ae6ded5bccde397fd6ffc85ea3de9d664">if</a> (<a class="el" href="file_lock_8c.html#a4f7b134b467adb749401f2ef2ccd92d2">le_flock_TryCreate</a>(<a class="el" href="supervisor_8c.html#a242f0882c7f64ff0aeeaab983e3bc6a8">SUPERVISOR_INSTANCE_FILE</a>, <a class="el" href="le__file_lock_8h.html#a5e5400e33a5e10b7c624748a9ce11280a058867728a1de4773023f009c2934188">LE_FLOCK_WRITE</a>, <a class="el" href="le__file_lock_8h.html#a35d8c575df68d1da52a1048916f7e7d9a1bc49344dc291a19f7860fc850376153">LE_FLOCK_OPEN_IF_EXIST</a>, S_IRWXU)&lt; 0)</td></tr>
<tr class="separator:ae6ded5bccde397fd6ffc85ea3de9d664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2c77028b3adbf2aed592699085afca5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#ad2c77028b3adbf2aed592699085afca5">LE_CRIT</a> (&quot;Set Child Subreaper not supported. Applications with forked processes may not shutdown properly.&quot;)</td></tr>
<tr class="separator:ad2c77028b3adbf2aed592699085afca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e9284a065fbe4f65aad310617e311a4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a3e9284a065fbe4f65aad310617e311a4">user_Init</a> ()</td></tr>
<tr class="separator:a3e9284a065fbe4f65aad310617e311a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef51a606d699d4a7edcf09f56945c949"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#aef51a606d699d4a7edcf09f56945c949">kernelModules_Init</a> ()</td></tr>
<tr class="separator:aef51a606d699d4a7edcf09f56945c949"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ef39dc654a9abb357749ecd64e3db6f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a7ef39dc654a9abb357749ecd64e3db6f">smack_Init</a> ()</td></tr>
<tr class="separator:a7ef39dc654a9abb357749ecd64e3db6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1691a7fd4ff13d6ae15a99d1d579066a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a1691a7fd4ff13d6ae15a99d1d579066a">smack_SetRule</a> (&quot;_&quot;,&quot;rw&quot;,&quot;syslog&quot;)</td></tr>
<tr class="separator:a1691a7fd4ff13d6ae15a99d1d579066a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6654084a7c73e3b819d773b9278af6eb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a6654084a7c73e3b819d773b9278af6eb">smack_SetRule</a> (&quot;admin&quot;,&quot;rw&quot;,&quot;syslog&quot;)</td></tr>
<tr class="separator:a6654084a7c73e3b819d773b9278af6eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a886a7c537a56bbd91691ff9662e920f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a886a7c537a56bbd91691ff9662e920f3">smack_SetRule</a> (&quot;framework&quot;,&quot;rw&quot;,&quot;syslog&quot;)</td></tr>
<tr class="separator:a886a7c537a56bbd91691ff9662e920f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91a50aa8f77dc552f4b6b0c5bf5d6cd5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a91a50aa8f77dc552f4b6b0c5bf5d6cd5">cgrp_Init</a> ()</td></tr>
<tr class="separator:a91a50aa8f77dc552f4b6b0c5bf5d6cd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eb645189be654e43dfeb29c95143ed8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a2eb645189be654e43dfeb29c95143ed8">le_sig_SetEventHandler</a> (SIGCHLD, <a class="el" href="sbtrace_8c.html#a02f348360211f77ef709b2f0427af38b">SigChildHandler</a>)</td></tr>
<tr class="separator:a2eb645189be654e43dfeb29c95143ed8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b24a81c045be6ce791c367d34628e62"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a6b24a81c045be6ce791c367d34628e62">if</a> (!<a class="el" href="file_system_8h.html#aec3e9193acefbcf28d3fa96c53c8198b">fs_IsMountPoint</a>(<a class="el" href="sys_paths_8h.html#a9285d2ec5322a9e23d72df98aa34a845">CURRENT_SYSTEM_PATH</a>))</td></tr>
<tr class="separator:a6b24a81c045be6ce791c367d34628e62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d25990913d40212038035b1ee740e7a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a3d25990913d40212038035b1ee740e7a">if</a> (<a class="el" href="supervisor_8c.html#a7c8a10e4120b029cdd764e9fda140ed3">isReadOnly</a>)</td></tr>
<tr class="separator:a3d25990913d40212038035b1ee740e7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9b3199e99e5dd5c71195ab1d4c80fdb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#af9b3199e99e5dd5c71195ab1d4c80fdb">le_sig_Block</a> (SIGCHLD)</td></tr>
<tr class="separator:af9b3199e99e5dd5c71195ab1d4c80fdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac6126993d64c70627a6d9506c624485"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#aac6126993d64c70627a6d9506c624485">LE_FATAL_IF</a> (freopen(&quot;/dev/null&quot;,&quot;r&quot;, stdin)==NULL,&quot;Failed to redirect stdin to /dev/null.  %m.&quot;)</td></tr>
<tr class="separator:aac6126993d64c70627a6d9506c624485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addb8d7f5caa5c3ad4ef892eefa0c3dfa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#addb8d7f5caa5c3ad4ef892eefa0c3dfa">LE_FATAL_IF</a> ((unlink(&quot;/legato/SMACK_DISABLED&quot;)==-1)&amp;&amp;((errno!=ENOENT)&amp;&amp;(errno!=EROFS)),&quot;Cannot <a class="el" href="app_stop_client_8c.html#a5d172089e2e0c7a575dbb9681fcebe61">remove</a> /legato/SMACK_DISABLED. %m.&quot;)</td></tr>
<tr class="separator:addb8d7f5caa5c3ad4ef892eefa0c3dfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa866700c6c817e1580ad5a5e687df2e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#aa866700c6c817e1580ad5a5e687df2e5">le_sup_ctrl_StopLegato</a> (le_sup_ctrl_ServerCmdRef_t cmdRef)</td></tr>
<tr class="separator:aa866700c6c817e1580ad5a5e687df2e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bcca83375f59c1d64c8b5ea34140899"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a8bcca83375f59c1d64c8b5ea34140899">le_sup_ctrl_RestartLegato</a> (le_sup_ctrl_ServerCmdRef_t cmdRef, bool manualRestart)</td></tr>
<tr class="separator:a8bcca83375f59c1d64c8b5ea34140899"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1508da73938b4b955d9024c5bcaf8b25"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__timer_8h.html#a763fa6992488cdce3b5a820817094838">le_timer_Ref_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a1508da73938b4b955d9024c5bcaf8b25">RebootTimer</a></td></tr>
<tr class="separator:a1508da73938b4b955d9024c5bcaf8b25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affcf38f42b1f82a3591748cc753cd445"><td class="memItemLeft" align="right" valign="top">static enum  { ... } &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#affcf38f42b1f82a3591748cc753cd445">AppStartMode</a> = <a class="el" href="supervisor_8c.html#ac36f475ca5b446f4fde4c9b90bec77c8a54f49c44c860a80dc9f50cb8ab6fc93c">APP_START_AUTO</a></td></tr>
<tr class="separator:affcf38f42b1f82a3591748cc753cd445"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a8e8a75f06289f20c952e37c5c3e8f1"><td class="memItemLeft" align="right" valign="top">static le_framework_ServerCmdRef_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a1a8e8a75f06289f20c952e37c5c3e8f1">StopApiCmdRef</a> = NULL</td></tr>
<tr class="separator:a1a8e8a75f06289f20c952e37c5c3e8f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a562bcf86c53d12c4a5cea7fd55cea8f5"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a562bcf86c53d12c4a5cea7fd55cea8f5">UsingDeprecatedSupCtrlApi</a> = false</td></tr>
<tr class="separator:a562bcf86c53d12c4a5cea7fd55cea8f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b755e7c656a1d810c33c4ddb3732228"><td class="memItemLeft" align="right" valign="top">static enum  { ... } &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a6b755e7c656a1d810c33c4ddb3732228">State</a> = <a class="el" href="supervisor_8c.html#a05589fbab0657f08285ebdfe93f5ec9eaa5f51c4eb8c8eec3b16b058c5e29a037">STATE_STARTING</a></td></tr>
<tr class="separator:a6b755e7c656a1d810c33c4ddb3732228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c10b08f0c536290bd804816b578d448"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a4c10b08f0c536290bd804816b578d448">ShouldNotDaemonize</a> = false</td></tr>
<tr class="separator:a4c10b08f0c536290bd804816b578d448"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0392d452f926ce36c4852de26b5eca12"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a0392d452f926ce36c4852de26b5eca12">COMPONENT_INIT</a></td></tr>
<tr class="separator:a0392d452f926ce36c4852de26b5eca12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a4ccfdbe1cf7b37afc60d34e748b066"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a0a4ccfdbe1cf7b37afc60d34e748b066">errno</a> = 0</td></tr>
<tr class="separator:a0a4ccfdbe1cf7b37afc60d34e748b066"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0544c3fe466e421738dae463968b70ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a0544c3fe466e421738dae463968b70ba">else</a></td></tr>
<tr class="separator:a0544c3fe466e421738dae463968b70ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c8a10e4120b029cdd764e9fda140ed3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a7c8a10e4120b029cdd764e9fda140ed3">isReadOnly</a> = <a class="el" href="sys_status_8h.html#a6f5824e6461d9cf76a4568fdf3aca4ac">sysStatus_IsReadOnly</a>()</td></tr>
<tr class="separator:a7c8a10e4120b029cdd764e9fda140ed3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The Legato Supervisor is the first Legato framework process to start and is responsible for starting and monitoring all other framework processes as well as applications. The Supervisor has root privileges and administrative MAC rights.</p>
<ul>
<li><a class="el" href="supervisor_8c.html#c_sup_kernelModules">Kernel Modules</a></li>
<li><a class="el" href="supervisor_8c.html#c_sup_frameworkDaemons">Framework Daemons</a></li>
<li><a class="el" href="supervisor_8c.html#c_sup_appStarts">Starting Applications</a></li>
<li><a class="el" href="supervisor_8c.html#c_sup_sandboxedApps">Sandboxed Applications</a></li>
<li><a class="el" href="supervisor_8c.html#c_sup_nonSandboxedApps">Non-Sandboxed Applications</a></li>
<li><a class="el" href="supervisor_8c.html#c_sup_appUsers">Application Users and Groups</a></li>
<li><a class="el" href="supervisor_8c.html#c_sup_faultRecovery">Fault Recovery</a></li>
<li><a class="el" href="supervisor_8c.html#c_sup_faultLimits">Fault Limits</a></li>
<li><a class="el" href="supervisor_8c.html#c_sup_singleInstance">Single Instance</a></li>
<li><a class="el" href="supervisor_8c.html#c_sup_configLayout">Application Configuration</a></li>
<li><a class="el" href="supervisor_8c.html#c_sup_smack">SMACK</a></li>
</ul>
<h1><a class="anchor" id="c_sup_kernelModules"></a>
Kernel Modules</h1>
<p>Prior to starting any executables, Supervisor inserts kernel modules bundled with Legato app. Legato-supplied modules are considered to be self-contained and independent from each-other. They are inserted in alphabetical order, i.e. in the order in which they are listed in Legato's system/modules directory.</p>
<h1><a class="anchor" id="c_sup_frameworkDaemons"></a>
Framework Daemons</h1>
<p>Besides the Supervisor, the Legato runtime system consists of a number of framework daemons that must be started before any apps are started.</p>
<p>The framework daemons must be started in a specific order and must be given time to initialize properly.</p>
<p>After starting each framework daemon, the Supervisor waits for the daemon to signal that it's ready before continuing to the next daemon. Only after all framework daemons have been started and initialized, will apps be started.</p>
<h1><a class="anchor" id="c_sup_appStarts"></a>
Starting Applications</h1>
<p>Installed apps may be configured to start automatically or manually. If configured to start automatically, the Supervisor starts the app on start-up, after all framework daemons have been started.</p>
<p>All apps can be stopped and started manually by sending a request to the Supervisor. Only one instance of the app may be running at a time.</p>
<h1><a class="anchor" id="c_sup_sandboxedApps"></a>
Sandboxed Applications</h1>
<p>An app can be configured to be either sandboxed or non-sandboxed.</p>
<p>Sandboxed apps run in a chrooted environment and have no visibility to the rest of the system. Sandboxed apps also have strict resource limits.</p>
<h1><a class="anchor" id="c_sup_nonSandboxedApps"></a>
Non-Sandboxed Applications</h1>
<p>A non-sandboxed app is one that runs in the main file system.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000013">Todo:</a></b></dt><dd>Add capabilities to non-sandboxed apps.</dd></dl>
<h1><a class="anchor" id="c_sup_appUsers"></a>
Application Users and Groups</h1>
<p>When an app is installed it is assigned a user name, user ID, primary group name and primary group ID. The user and primary group names are the same and are derived from the app name.</p>
<p>Also, non-sandboxed apps may have a list of supplementary groups. If a supplementary group doesn't already exist in the system, the group is created.</p>
<p>An app's supplementary groups list isn't stored in the system's /etc/group file because the supplementary groups are already stored in the config DB added to the app's processes when the processes are started.</p>
<p>When an app starts, all the app's processes are given the app's user ID, primary group ID and, if applicable, supplementary groups ID.</p>
<h1><a class="anchor" id="c_sup_faultRecovery"></a>
Fault Recovery</h1>
<p>The Supervisor monitors all running app processes for faults. A fault is when a process terminates without returning EXIT_SUCCESS. When the Supervisor detects a fault, it will perform the configured fault recovery action.</p>
<h1><a class="anchor" id="c_sup_faultLimits"></a>
Fault Limits</h1>
<p>To prevent a process that is continually faulting from continually consuming resources, the Supervisor imposes a fault limit on all processes in the system. The fault limit is the minimum time interval between two faults; if more than one fault occurs within the fault limit time interval, the fault limit is reached.</p>
<p>If a process reaches the fault limit, a critical message is logged, the app the process belongs to is shutdown, and no further fault recovery action is taken.</p>
<p>The fault limits only prevent automatic recovery by the Supervisor, it doesn't prevent apps from being restarted manually even after the fault limit is exceeded.</p>
<h1><a class="anchor" id="c_sup_singleInstance"></a>
Single Instance</h1>
<p>The Supervisor uses a locked file to ensure there is only one instance of the Supervisor running.</p>
<h1><a class="anchor" id="c_sup_configLayout"></a>
Application Configuration</h1>
<p>All app configuration settings are stored in the Legato Configuration Database. See frameworkDB.</p>
<p>The Supervisor refers to the "apps" branch of the "system" config tree to determine what apps exist, how they should be started, and which ones should be started automatically when the framework comes up.</p>
<h1><a class="anchor" id="c_sup_smack"></a>
SMACK</h1>
<p>SMACK policies are set by the Legato startup scripts, the Legato Installer, and the Legato Supervisor.</p>
<p>By default system files have the "_" SMACK label meaning everyone has read and execute access to them. The Legato startup scripts are responsible for setting SMACK labels for system files that require special permission handling (e.g., <code>/dev/null</code> file is given the label "*" by the start up scripts so the file is fully accessible to everyone. The Legato startup scripts also ensure the Legato Supervisor and Installer have the 'admin' SMACK label.</p>
<p>The Legato Installer sets SMACK labels for all app bundled files. The SMACK label for each app is unique to the app.</p>
<p>The Supervisor sets SMACK labels for framework daemons, processes for apps, sandbox directories and SMACK rules for IPC bindings.</p>
<p>Framework daemons are given the SMACK label "framework".</p>
<p>All processes are given the same SMACK label as their app. All app labels are unique.</p>
<p>SMACK rules are set so IPC bindings between apps work. Here's a code sample of rules to set if a client app needs to access a server app:</p>
<div class="fragment"><div class="line"><span class="stringliteral">&#39;clientAppLabel&#39;</span> rw <span class="stringliteral">&#39;serverAppLabel&#39;</span>     <span class="comment">// client has read-write access to server.</span></div><div class="line"><span class="stringliteral">&#39;serverAppLabel&#39;</span> rw <span class="stringliteral">&#39;clientAppLabel&#39;</span>     <span class="comment">// server has read-write access to client.</span></div></div><!-- fragment --><p>Sandboxed directories are given labels corresponding to the app's access rights to those directory. Generally, an app only has read and execute permission to its sandboxes /bin directory. Its properties look like this:</p>
<p>owner = root group = root DAC permissions = ---&mdash;r-x SMACK label = 'AppLabelrx'</p>
<p>The Supervisor also sets up the SMACK rule so the app has the proper access to the directory:</p>
<p>'AppLabel' rx 'AppLabelrx'</p>
<p>App's directories are given different labels than the app itself so that if an IPC binding is present, the remote app has access to the local app but doesn't have direct access to the local app's files.</p>
<p>All bundled files within an app's sandbox are given the app's SMACK label. This supports passing file descriptors from one app to another. However, the file descriptor can't be passed onto a third app.</p>
<h1><a class="anchor" id="c_sup_smack_limitations"></a>
SMACK Limitations</h1>
<p>Extended attributes used to store the SMACK label are available on all file systems we currently use with one key feature missing: when a new file is created, the file should inherit the SMACK label of the creator. Because this feature is missing, our current implementation of SMACK has the following limitations:</p>
<ul>
<li>Mqueue file system will always set new files to "_" label. This means we can't control access between apps that use MQueues.</li>
<li>Tmpfs always sets new files to "*" label. This means we can't totally control access to files created in sandboxes because sandboxes use tmpfs. It's only an issue when file descriptors for the created files are passed over IPC to another app. The other app can then pass that fd onto a third app and so on.</li>
<li>Yaffs2 does not set any label for newly created files. This causes an issue with the config daemon that has the label "framework", but its created files don't have any labels. To work around this, the config daemon must run as root and the 'onlycap' SMACK file must not be set. This means there is limited protection because all root processes have the ability to change SMACK labels on files. Note that UBIFS no longer has this issue.</li>
<li>QMI sockets are currently set to "*" because some apps need to write to them. Ideally, the QMI socket file would be given a label such as "qmi" and a rule would be created to only allow access to the app that requires it. However, there currently isn't a way to specify this in the xdef file. This is not a limitation of SMACK or the file system but the xdef files.</li>
</ul>
<hr/>
<p>Copyright (C) Sierra Wireless Inc. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a1ee59325b14b86b372dd06ac0a534e3c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOOT_CFG_PATH&#160;&#160;&#160;&quot;/&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Boot configuration path </p>

</div>
</div>
<a class="anchor" id="af1e039d4cb1c5396a50dc1bc1da2ceda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOOT_TIMEOUT_PATH&#160;&#160;&#160;&quot;bootTimeout&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Location in boot configuration path to store user defined value for minimum allowable time (in milliseconds) between boots. If system restarts less than this time, it is treated as a boot loop. </p>

</div>
</div>
<a class="anchor" id="ab902f631495bb51d956038671d636d5c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_BOOT_PERIOD&#160;&#160;&#160;60000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Default value of minimum allowable time between boots. This value is taken if there is no user defined value. </p>

</div>
</div>
<a class="anchor" id="a242f0882c7f64ff0aeeaab983e3bc6a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SUPERVISOR_INSTANCE_FILE&#160;&#160;&#160;<a class="el" href="le__basics_8h.html#a3428692efe6051ef30016ffde1a9f7bb">STRINGIZE</a>(LE_RUNTIME_DIR) &quot;supervisorInst&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The file the Supervisor uses to ensure that only a single instance of the Supervisor is running. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ac36f475ca5b446f4fde4c9b90bec77c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enumerates the different application start options that can be provided on the command-line. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ac36f475ca5b446f4fde4c9b90bec77c8a54f49c44c860a80dc9f50cb8ab6fc93c"></a>APP_START_AUTO&#160;</td><td class="fielddoc">
<p>Start all apps that are marked for automatic start. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ac36f475ca5b446f4fde4c9b90bec77c8a3be0e407a33aa39247ac808f0eba8794"></a>APP_START_NONE&#160;</td><td class="fielddoc">
<p>Don't start any apps until told to do so through the App Control API. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="a05589fbab0657f08285ebdfe93f5ec9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Operating states. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a05589fbab0657f08285ebdfe93f5ec9eaa5f51c4eb8c8eec3b16b058c5e29a037"></a>STATE_STARTING&#160;</td><td class="fielddoc">
<p>Starting the framework. No apps running yet. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a05589fbab0657f08285ebdfe93f5ec9eae583c55c9f9a3aa9888e4ed771d6a9b6"></a>STATE_NORMAL&#160;</td><td class="fielddoc">
<p>Normal operation. Fully initialized. All framework daemons running. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a05589fbab0657f08285ebdfe93f5ec9eadadecf1f2baeff5ca52267cead15d340"></a>STATE_STOPPING&#160;</td><td class="fielddoc">
<p>Controlled shutdown of framework underway. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a05589fbab0657f08285ebdfe93f5ec9eaad614b6176e292c799a0897f72f2acc6"></a>STATE_RESTARTING&#160;</td><td class="fielddoc">
<p>Controlled shutdown and restart of framework underway. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a05589fbab0657f08285ebdfe93f5ec9eaaea971748b64fc1e16e4d6d969f39a76"></a>STATE_RESTARTING_MANUAL&#160;</td><td class="fielddoc">
<p>Manual shutdown and restart of framework underway. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a4b0c6480b66c97058a6213df8cfa08f4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> BeginShutdown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Shuts down all apps and all framework daemons. The shutdown process is asynchronous and this function kicks off the chain of handlers that will shutdown all apps and framework daemons. </p>

</div>
</div>
<a class="anchor" id="a630d68371a52550fad0b48268f997439"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> CaptureDebugData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called to capture any extra data that may help indicate what contributed to the fault that caused the framework to fail.</p>
<p>This function calls a shell script that will save a dump of the system log and any core files that have been generated into a known location. </p>

</div>
</div>
<a class="anchor" id="a91a50aa8f77dc552f4b6b0c5bf5d6cd5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cgrp_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes cgroups for the system. Sets up a hierarchy for each supported subsystem.</p>
<dl class="section note"><dt>Note</dt><dd>Should be called once for the entire system, subsequent calls to this function will have no effect. Must be called before any of the other functions in this API is called.</dd>
<dd>
Failures will cause the calling process to exit. </dd></dl>

</div>
</div>
<a class="anchor" id="a77142064d27df2d5aa4c087fb66428d9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> DeleteRebootCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Deletes the reboot count file </p>

</div>
</div>
<a class="anchor" id="a1a505304f96a2c4b53d783562ed78dc1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool framework_IsStopping </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reports if the Legato framework is stopping.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the framework is stopping or rebooting false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a658df2aee997986950110c30cfc100d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> framework_Reboot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reboot the system. </p>

</div>
</div>
<a class="anchor" id="a09398b9825219ef301acf113b93d2f5a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t GetBootExpirePeriod </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the boot timer period. Should be called after all framework daemons are running.</p>
<dl class="section return"><dt>Returns</dt><dd>The timer period, in milliseconds. </dd></dl>

</div>
</div>
<a class="anchor" id="a18284b813dde589f151e299c67e282aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> HandleRebootExpiry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="le__timer_8h.html#a763fa6992488cdce3b5a820817094838">le_timer_Ref_t</a>&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle fast reboot detect timer expiring.</p>
<p>Deletes the reboot count file </p>

</div>
</div>
<a class="anchor" id="a3ed13d5f54a2f897c2fc6e97f1178c69"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if </td>
          <td>(</td>
          <td class="paramtype">!&#160;</td>
          <td class="paramname"><em>ShouldNotDaemonize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>-1 = Never timeout. </p>

</div>
</div>
<a class="anchor" id="ae6ded5bccde397fd6ffc85ea3de9d664"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6b24a81c045be6ce791c367d34628e62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if </td>
          <td>(</td>
          <td class="paramtype">!&#160;</td>
          <td class="paramname"><em>fs_IsMountPoint</em>CURRENT_SYSTEM_PATH</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3d25990913d40212038035b1ee740e7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="supervisor_8c.html#a7c8a10e4120b029cdd764e9fda140ed3">isReadOnly</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aef51a606d699d4a7edcf09f56945c949"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">kernelModules_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize kernel module handler </p>

</div>
</div>
<a class="anchor" id="a27dedd1fac9e13c893261a34a0fc21a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LE_ASSERT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dir_8c.html#a7ac7d25b67f2e47127084677626d5344">le_dir_Make</a>(<a class="el" href="le__basics_8h.html#a3428692efe6051ef30016ffde1a9f7bb">STRINGIZE</a>(LE_RUNTIME_DIR), S_IRWXU|S_IXOTH)!&#160;</td>
          <td class="paramname"> = <code><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798">LE_FAULT</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad2c77028b3adbf2aed592699085afca5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LE_CRIT </td>
          <td>(</td>
          <td class="paramtype">&quot;Set Child Subreaper not supported. Applications with forked processes may not shutdown properly.&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aff1baec97b758377b0f3a3c8d8f82cb0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LE_FATAL_IF </td>
          <td>(</td>
          <td class="paramtype">(nice(LEGATO_FRAMEWORK_NICE_LEVEL)==-1)&amp;&amp;(errno!=0)&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Could not set the nice level. %m.&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aac6126993d64c70627a6d9506c624485"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LE_FATAL_IF </td>
          <td>(</td>
          <td class="paramtype">freopen(&quot;/dev/null&quot;,&quot;r&quot;, stdin)&#160;</td>
          <td class="paramname"> = <code>=NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Failed to redirect stdin to /dev/null. %m.&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="addb8d7f5caa5c3ad4ef892eefa0c3dfa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LE_FATAL_IF </td>
          <td>(</td>
          <td class="paramtype">(unlink(&quot;/legato/SMACK_DISABLED&quot;)==-1)&amp;&amp;((errno!=ENOENT)&amp;&amp;(errno!=EROFS))&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Cannot <a class="el" href="app_stop_client_8c.html#a5d172089e2e0c7a575dbb9681fcebe61">remove</a> /legato/SMACK_DISABLED. %m.&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae139a6700cd90c01ba48982452c5d6d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> le_framework_IsReadOnly </td>
          <td>(</td>
          <td class="paramtype">le_framework_ServerCmdRef_t&#160;</td>
          <td class="paramname"><em>_cmdRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks whether legato framework is Read-Only or not.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the framework is Read-Only false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a3500b8d18fce384f77689e415e1243ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> le_framework_IsStopping </td>
          <td>(</td>
          <td class="paramtype">le_framework_ServerCmdRef_t&#160;</td>
          <td class="paramname"><em>_cmdRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reports if the Legato framework is stopping.</p>
<p>API implementation function.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the framework is stopping or rebooting false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="af0838a24bc4dc957424ef46287a40dc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> le_framework_NotifyExpectedReboot </td>
          <td>(</td>
          <td class="paramtype">le_framework_ServerCmdRef_t&#160;</td>
          <td class="paramname"><em>_cmdRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Mark the next reboot as expected. Should be called by short lived app that shutdown platform after a small wakeup. This prevents system not to rollback on expected reboot. </p>

</div>
</div>
<a class="anchor" id="a6f7e88fa8e923152c80ad1dd4fac05c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> le_framework_Restart </td>
          <td>(</td>
          <td class="paramtype">le_framework_ServerCmdRef_t&#160;</td>
          <td class="paramname"><em>cmdRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>manualRestart</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Restarts the Legato framework.</p>
<p>Async API function. Calls le_framework_RestartRespond() to report results. </p>

</div>
</div>
<a class="anchor" id="a976552bc58f2a1f99346795f74fcc544"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> le_framework_Stop </td>
          <td>(</td>
          <td class="paramtype">le_framework_ServerCmdRef_t&#160;</td>
          <td class="paramname"><em>cmdRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stops the Legato framework.</p>
<p>Async API function. Calls le_framework_StopRespond() to report results. </p>

</div>
</div>
<a class="anchor" id="a17b20e4ee9914896a3eed847c0c41f28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_ima_ImportCert </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>certPath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Import a public certificate in linux keyring.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK if successful</li>
<li>LE_FAULT if there is a failure. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="afa9069e7bbdeed2332b5cbffbb472691"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">le_sig_Block </td>
          <td>(</td>
          <td class="paramtype">SIGPIPE&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af9b3199e99e5dd5c71195ab1d4c80fdb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">le_sig_Block </td>
          <td>(</td>
          <td class="paramtype">SIGCHLD&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2eb645189be654e43dfeb29c95143ed8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">le_sig_SetEventHandler </td>
          <td>(</td>
          <td class="paramtype">SIGCHLD&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sbtrace_8c.html#a02f348360211f77ef709b2f0427af38b">SigChildHandler</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8bcca83375f59c1d64c8b5ea34140899"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> le_sup_ctrl_RestartLegato </td>
          <td>(</td>
          <td class="paramtype">le_sup_ctrl_ServerCmdRef_t&#160;</td>
          <td class="paramname"><em>cmdRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>manualRestart</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Restarts the Legato framework.</p>
<p>Async API function. Calls le_sup_ctrl_RestartLegatoRespond() to report results. </p>

</div>
</div>
<a class="anchor" id="aa866700c6c817e1580ad5a5e687df2e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> le_sup_ctrl_StopLegato </td>
          <td>(</td>
          <td class="paramtype">le_sup_ctrl_ServerCmdRef_t&#160;</td>
          <td class="paramname"><em>cmdRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stops the Legato framework.</p>
<p>Async API function. Calls le_sup_ctrl_StopLegatoRespond() to report results. </p>

</div>
</div>
<a class="anchor" id="ad877cdc3401b81606c70901078bc42d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> ParseCommandLine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Parse the command-line arguments for options. </p>

</div>
</div>
<a class="anchor" id="a4517f3bd1e19081e6ed9a84a23a618ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> PrepareFullShutdown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Prepares for a full shutdown of the framework by responding to the Stop Legato command telling the requesting process the framework has shutdown and closing all services that the Supervisor has advertised.</p>
<p>This should be called only when all user apps and all framework daemons, except the Service Directory, are shutdown but before the Service Directory and Supervisor are shutdown. </p>

</div>
</div>
<a class="anchor" id="a4636a28aa35491d27d7c67d3495be126"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> PrintHelp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Prints man page style usage help to stdout. </p>

</div>
</div>
<a class="anchor" id="abb5700f525c6e25842cd53a818b329eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> ShutdownFramework </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Stops framework daemons. This function kicks off the chain of handlers that will stop all framework daemons. </p>

</div>
</div>
<a class="anchor" id="a02f348360211f77ef709b2f0427af38b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> SigChildHandler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sigNum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The signal event handler function for SIGCHLD called from the Legato event loop.</p>
<p>This is called for all framework daemon processes as well as most application processes. Application processes that were started by the Supervisor are children of the Supervisor and naturally generate a SIGCHILD to the Supervisor when they die. Application processes that were started by other processes in the same app would generate SIGCHILDs to their parent not the Supervisor. However, these lower level processes are still descendents of the Supervisor and if their parent were to die they would be reparented to the Supervisor. This is because the Supervisor is a sub-reaper.</p>
<p>Because SIGCHILD signals may come from either apps or framework daemons they are caught here first. In this function we do a <a class="el" href="wait_8c.html#a1eb272282bc9ebe3ac28970cfecf4f94">wait_Peek()</a> to get the PID of the process that generated the SIGCHILD without reaping the child. The PID is passed down to the apps SIGCHILD handler and framework daemon SIGCHILD handler for identification and processing. The lower layer handlers are assumed to reap the child only if it is going to handle the process death. If neither the apps or framework daemons recognize the child then we must reap it here. </p>

</div>
</div>
<a class="anchor" id="a7ef39dc654a9abb357749ecd64e3db6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">smack_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the SMACK system. Mounts the smack file system.</p>
<dl class="section note"><dt>Note</dt><dd>Should be called once for the entire system, subsequent calls to this function will have no effect. Must be called before any of the other functions in this API is called.</dd>
<dd>
Failures will cause the calling process to exit. </dd></dl>

</div>
</div>
<a class="anchor" id="a1691a7fd4ff13d6ae15a99d1d579066a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">smack_SetRule </td>
          <td>(</td>
          <td class="paramtype">&quot;_&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;rw&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;syslog&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6654084a7c73e3b819d773b9278af6eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">smack_SetRule </td>
          <td>(</td>
          <td class="paramtype">&quot;admin&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;rw&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;syslog&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a886a7c537a56bbd91691ff9662e920f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">smack_SetRule </td>
          <td>(</td>
          <td class="paramtype">&quot;framework&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;rw&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;syslog&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6c048f529ede05f77fdc17183a91c4f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StartFramework </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Starts all framework daemons and apps.</p>
<p>Closes stdin (reopens to /dev/null) when finished to signal any parent process that cares that the framework is started. </p>

</div>
</div>
<a class="anchor" id="a2f98bb49964f85832c1a5be8e3540c57"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> StopSupervisor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Stops the Supervisor. This should only be called after all user apps and framework daemons are shutdown. </p>

</div>
</div>
<a class="anchor" id="a3e9284a065fbe4f65aad310617e311a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">user_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_e_m_p_l_a_t_e__cdef_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the user system. This should be called before any other function in this API. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="affcf38f42b1f82a3591748cc753cd445"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum { ... } 
 AppStartMode</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enumerates the different application start options that can be provided on the command-line. </p>

</div>
</div>
<a class="anchor" id="a0392d452f926ce36c4852de26b5eca12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">COMPONENT_INIT</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">    <a class="code" href="supervisor_8c.html#ad877cdc3401b81606c70901078bc42d2">ParseCommandLine</a>()</div><div class="ttc" id="supervisor_8c_html_ad877cdc3401b81606c70901078bc42d2"><div class="ttname"><a href="supervisor_8c.html#ad877cdc3401b81606c70901078bc42d2">ParseCommandLine</a></div><div class="ttdeci">static void ParseCommandLine(void)</div><div class="ttdef"><b>Definition:</b> supervisor.c:368</div></div>
</div><!-- fragment --><p>The supervisor's initialization function. </p>

</div>
</div>
<a class="anchor" id="a0544c3fe466e421738dae463968b70ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">else</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">        </div><div class="line">        </div><div class="line">        <a class="code" href="update_daemon_8c.html#aa5c063c7e6dcd964c817f5fe9b1d72fc">umask</a>(0)</div><div class="ttc" id="update_daemon_8c_html_aa5c063c7e6dcd964c817f5fe9b1d72fc"><div class="ttname"><a href="update_daemon_8c.html#aa5c063c7e6dcd964c817f5fe9b1d72fc">umask</a></div><div class="ttdeci">umask(0)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0a4ccfdbe1cf7b37afc60d34e748b066"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">errno = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7c8a10e4120b029cdd764e9fda140ed3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isReadOnly = <a class="el" href="sys_status_8h.html#a6f5824e6461d9cf76a4568fdf3aca4ac">sysStatus_IsReadOnly</a>()</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1508da73938b4b955d9024c5bcaf8b25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__timer_8h.html#a763fa6992488cdce3b5a820817094838">le_timer_Ref_t</a> RebootTimer</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reboot timer </p>

</div>
</div>
<a class="anchor" id="a4c10b08f0c536290bd804816b578d448"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ShouldNotDaemonize = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>true if the process should NOT daemonize itself (i.e., it should remain attached to its controlling terminal and parent process) </p>

</div>
</div>
<a class="anchor" id="a6b755e7c656a1d810c33c4ddb3732228"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum { ... } 
 State</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Operating states. </p>

</div>
</div>
<a class="anchor" id="a1a8e8a75f06289f20c952e37c5c3e8f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">le_framework_ServerCmdRef_t StopApiCmdRef = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Command reference for asynchronous API commands <a class="el" href="supervisor_8c.html#a976552bc58f2a1f99346795f74fcc544">le_framework_Stop()</a>, <a class="el" href="supervisor_8c.html#a6f7e88fa8e923152c80ad1dd4fac05c4">le_framework_Restart()</a>. </p>

</div>
</div>
<a class="anchor" id="a562bcf86c53d12c4a5cea7fd55cea8f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool UsingDeprecatedSupCtrlApi = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Flag to indicate whether the deprecated API is being used. Delete this flag when the deprecated API is deleted. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.11
        </div>
    </div>
</body>
</html>
