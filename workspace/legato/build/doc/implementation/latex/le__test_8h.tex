\hypertarget{le__test_8h}{}\section{framework/include/le\+\_\+test.h File Reference}
\label{le__test_8h}\index{framework/include/le\+\_\+test.\+h@{framework/include/le\+\_\+test.\+h}}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{le__test_8h_a219d49d27a2a5a1a6dc63f31b0b66c23}{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+I\+N\+IT}~\hyperlink{test_8c_adae44bbfa6299b76dc232116908a8045}{\+\_\+le\+\_\+test\+\_\+\+Init}()
\item 
\#define \hyperlink{le__test_8h_a555300c0c5b3442572fbcafa6dd7994b}{L\+E\+\_\+\+T\+E\+ST}(test\+Result)
\item 
\#define \hyperlink{le__test_8h_a5f0517641049c368d0a55658c4f4ddec}{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+E\+X\+IT}~\hyperlink{xattr_8c_a310220604a584e112ba8f7aa3dfe23f1}{exit}(\hyperlink{test_8c_af25acd8593c2fe66f5b5c30804cb862c}{\+\_\+le\+\_\+test\+\_\+\+Get\+Num\+Failures}());
\item 
\#define \hyperlink{le__test_8h_a6854a523683637eaf983472360d6a275}{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+S\+U\+M\+M\+A\+RY}~\hyperlink{le__test_8h_a5f0517641049c368d0a55658c4f4ddec}{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+E\+X\+IT}
\begin{DoxyCompactList}\small\item\em {\bfseries  {\itshape D\+E\+P\+R\+E\+C\+A\+T\+ED} } old name for L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+E\+X\+IT. \end{DoxyCompactList}\item 
\#define \hyperlink{le__test_8h_ac0c538ca3dfcd072464385b2f7e2776f}{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+F\+O\+RK}(exe\+Path, ...)~\hyperlink{test_8c_a567cce7d9f3d3a66f1bca3575f4ef846}{\+\_\+le\+\_\+test\+\_\+\+Fork}(exe\+Path, \#\#\+\_\+\+\_\+\+V\+A\+\_\+\+A\+R\+G\+S\+\_\+\+\_\+, N\+U\+LL)
\item 
\#define \hyperlink{le__test_8h_ad6045dfae96da7c326024c784de3d207}{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+J\+O\+IN}(child)~\hyperlink{test_8c_a11f2785e8f09904c788cc847d1efde3a}{\+\_\+le\+\_\+test\+\_\+\+Join}(child)
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct le\+\_\+test\+\_\+\+Child $\ast$ \hyperlink{le__test_8h_ab2de7b7c51414646bad2bc4ec2dda444}{le\+\_\+test\+\_\+\+Child\+Ref\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{Indent}{\bf Local definitions that should not be used directly.}\par
\begin{DoxyCompactItemize}
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{le__test_8h_adae44bbfa6299b76dc232116908a8045}{\+\_\+le\+\_\+test\+\_\+\+Init} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{le__test_8h_ad793449c43650807ff598c2806074c11}{\+\_\+le\+\_\+test\+\_\+\+Fail} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
int \hyperlink{le__test_8h_af25acd8593c2fe66f5b5c30804cb862c}{\+\_\+le\+\_\+test\+\_\+\+Get\+Num\+Failures} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
\hyperlink{le__test_8h_ab2de7b7c51414646bad2bc4ec2dda444}{le\+\_\+test\+\_\+\+Child\+Ref\+\_\+t} \hyperlink{le__test_8h_a567cce7d9f3d3a66f1bca3575f4ef846}{\+\_\+le\+\_\+test\+\_\+\+Fork} (const char $\ast$exe\+Path,...)
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{le__test_8h_a11f2785e8f09904c788cc847d1efde3a}{\+\_\+le\+\_\+test\+\_\+\+Join} (\hyperlink{le__test_8h_ab2de7b7c51414646bad2bc4ec2dda444}{le\+\_\+test\+\_\+\+Child\+Ref\+\_\+t} child)
\end{DoxyCompactItemize}
\end{Indent}


\subsection{Detailed Description}
Legato \hyperlink{c_test}{Unit Testing A\+PI} include file.

Copyright (C) Sierra Wireless Inc. 

\subsection{Macro Definition Documentation}
\index{le\+\_\+test.\+h@{le\+\_\+test.\+h}!L\+E\+\_\+\+T\+E\+ST@{L\+E\+\_\+\+T\+E\+ST}}
\index{L\+E\+\_\+\+T\+E\+ST@{L\+E\+\_\+\+T\+E\+ST}!le\+\_\+test.\+h@{le\+\_\+test.\+h}}
\subsubsection[{\texorpdfstring{L\+E\+\_\+\+T\+E\+ST}{LE_TEST}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+E\+\_\+\+T\+E\+ST(
\begin{DoxyParamCaption}
\item[{}]{test\+Result}
\end{DoxyParamCaption}
)}\hypertarget{le__test_8h_a555300c0c5b3442572fbcafa6dd7994b}{}\label{le__test_8h_a555300c0c5b3442572fbcafa6dd7994b}
{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{keywordflow}{if} (testResult) \(\backslash\)
                                    \{ \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{\(\backslash\)}
\hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{                                        LE\_INFO}(\textcolor{stringliteral}{"Unit Test
       Passed: '%s'"}, #testResult); \(\backslash\)
                                    \} \hyperlink{supervisor_8c_a0544c3fe466e421738dae463968b70ba}{\(\backslash\)}
\hyperlink{supervisor_8c_a0544c3fe466e421738dae463968b70ba}{                                    else} \(\backslash\)
                                    \{ \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{\(\backslash\)}
\hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{                                        LE\_ERROR}(\textcolor{stringliteral}{"Unit Test
       Failed: '%s'"}, #testResult); \hyperlink{le__test_8h_ad793449c43650807ff598c2806074c11}{\(\backslash\)}
\hyperlink{le__test_8h_ad793449c43650807ff598c2806074c11}{                                        \_le\_test\_Fail}(
      ); \(\backslash\)
                                    \}
\end{DoxyCode}
Performs the test. If the test fails (test\+Result == false) then an error message is logged and the process either exits or the number of test failures is incremented depending on the operating mode. If the test passes (test\+Result == true) then an info message is logged and this macro just returns. \index{le\+\_\+test.\+h@{le\+\_\+test.\+h}!L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+E\+X\+IT@{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+E\+X\+IT}}
\index{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+E\+X\+IT@{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+E\+X\+IT}!le\+\_\+test.\+h@{le\+\_\+test.\+h}}
\subsubsection[{\texorpdfstring{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+E\+X\+IT}{LE_TEST_EXIT}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+E\+X\+IT~{\bf exit}({\bf \+\_\+le\+\_\+test\+\_\+\+Get\+Num\+Failures}());}\hypertarget{le__test_8h_a5f0517641049c368d0a55658c4f4ddec}{}\label{le__test_8h_a5f0517641049c368d0a55658c4f4ddec}
Exits the process and returns the number of failed tests. \index{le\+\_\+test.\+h@{le\+\_\+test.\+h}!L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+F\+O\+RK@{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+F\+O\+RK}}
\index{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+F\+O\+RK@{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+F\+O\+RK}!le\+\_\+test.\+h@{le\+\_\+test.\+h}}
\subsubsection[{\texorpdfstring{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+F\+O\+RK}{LE_TEST_FORK}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+F\+O\+RK(
\begin{DoxyParamCaption}
\item[{}]{exe\+Path, }
\item[{}]{...}
\end{DoxyParamCaption}
)~{\bf \+\_\+le\+\_\+test\+\_\+\+Fork}(exe\+Path, \#\#\+\_\+\+\_\+\+V\+A\+\_\+\+A\+R\+G\+S\+\_\+\+\_\+, N\+U\+LL)}\hypertarget{le__test_8h_ac0c538ca3dfcd072464385b2f7e2776f}{}\label{le__test_8h_ac0c538ca3dfcd072464385b2f7e2776f}
Fork a child process and have it execute a given program.


\begin{DoxyParams}{Parameters}
{\em exe\+Path} & \mbox{[}in\mbox{]} String containing the path to the program to be executed. If this is not an absolute path (doesn\textquotesingle{}t start with a slash \textquotesingle{}/\textquotesingle{}), then the P\+A\+TH environment variable will be used to search for the executable.\\
\hline
\end{DoxyParams}
A variable list of subsequent parameters is allowed, each of which will be passed as a command-\/line argument to the child program when it is executed.

\begin{DoxyReturn}{Returns}
A reference to the child process (see \hyperlink{le__test_8h_ad6045dfae96da7c326024c784de3d207}{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+J\+O\+I\+N()}). 
\end{DoxyReturn}
\index{le\+\_\+test.\+h@{le\+\_\+test.\+h}!L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+I\+N\+IT@{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+I\+N\+IT}}
\index{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+I\+N\+IT@{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+I\+N\+IT}!le\+\_\+test.\+h@{le\+\_\+test.\+h}}
\subsubsection[{\texorpdfstring{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+I\+N\+IT}{LE_TEST_INIT}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+I\+N\+IT~{\bf \+\_\+le\+\_\+test\+\_\+\+Init}()}\hypertarget{le__test_8h_a219d49d27a2a5a1a6dc63f31b0b66c23}{}\label{le__test_8h_a219d49d27a2a5a1a6dc63f31b0b66c23}
Initializes the testing framework. Must be called once before any tests are performed. \index{le\+\_\+test.\+h@{le\+\_\+test.\+h}!L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+J\+O\+IN@{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+J\+O\+IN}}
\index{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+J\+O\+IN@{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+J\+O\+IN}!le\+\_\+test.\+h@{le\+\_\+test.\+h}}
\subsubsection[{\texorpdfstring{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+J\+O\+IN}{LE_TEST_JOIN}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+J\+O\+IN(
\begin{DoxyParamCaption}
\item[{}]{child}
\end{DoxyParamCaption}
)~{\bf \+\_\+le\+\_\+test\+\_\+\+Join}(child)}\hypertarget{le__test_8h_ad6045dfae96da7c326024c784de3d207}{}\label{le__test_8h_ad6045dfae96da7c326024c784de3d207}
Wait for a given child process to terminate and add its results to the running test summary.


\begin{DoxyParams}{Parameters}
{\em child} & \mbox{[}IN\mbox{]} Child process reference returned by \hyperlink{le__test_8h_ac0c538ca3dfcd072464385b2f7e2776f}{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+F\+O\+R\+K()}. \\
\hline
\end{DoxyParams}
\index{le\+\_\+test.\+h@{le\+\_\+test.\+h}!L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+S\+U\+M\+M\+A\+RY@{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+S\+U\+M\+M\+A\+RY}}
\index{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+S\+U\+M\+M\+A\+RY@{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+S\+U\+M\+M\+A\+RY}!le\+\_\+test.\+h@{le\+\_\+test.\+h}}
\subsubsection[{\texorpdfstring{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+S\+U\+M\+M\+A\+RY}{LE_TEST_SUMMARY}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+S\+U\+M\+M\+A\+RY~{\bf L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+E\+X\+IT}}\hypertarget{le__test_8h_a6854a523683637eaf983472360d6a275}{}\label{le__test_8h_a6854a523683637eaf983472360d6a275}


{\bfseries  {\itshape D\+E\+P\+R\+E\+C\+A\+T\+ED} } old name for L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+E\+X\+IT. 



\subsection{Typedef Documentation}
\index{le\+\_\+test.\+h@{le\+\_\+test.\+h}!le\+\_\+test\+\_\+\+Child\+Ref\+\_\+t@{le\+\_\+test\+\_\+\+Child\+Ref\+\_\+t}}
\index{le\+\_\+test\+\_\+\+Child\+Ref\+\_\+t@{le\+\_\+test\+\_\+\+Child\+Ref\+\_\+t}!le\+\_\+test.\+h@{le\+\_\+test.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+test\+\_\+\+Child\+Ref\+\_\+t}{le_test_ChildRef_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct le\+\_\+test\+\_\+\+Child$\ast$ {\bf le\+\_\+test\+\_\+\+Child\+Ref\+\_\+t}}\hypertarget{le__test_8h_ab2de7b7c51414646bad2bc4ec2dda444}{}\label{le__test_8h_ab2de7b7c51414646bad2bc4ec2dda444}
Reference to a forked child process. See \hyperlink{le__test_8h_ac0c538ca3dfcd072464385b2f7e2776f}{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+F\+O\+R\+K()} and \hyperlink{le__test_8h_ad6045dfae96da7c326024c784de3d207}{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+J\+O\+I\+N()}. 

\subsection{Function Documentation}
\index{le\+\_\+test.\+h@{le\+\_\+test.\+h}!\+\_\+le\+\_\+test\+\_\+\+Fail@{\+\_\+le\+\_\+test\+\_\+\+Fail}}
\index{\+\_\+le\+\_\+test\+\_\+\+Fail@{\+\_\+le\+\_\+test\+\_\+\+Fail}!le\+\_\+test.\+h@{le\+\_\+test.\+h}}
\subsubsection[{\texorpdfstring{\+\_\+le\+\_\+test\+\_\+\+Fail(void)}{_le_test_Fail(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} \+\_\+le\+\_\+test\+\_\+\+Fail (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{le__test_8h_ad793449c43650807ff598c2806074c11}{}\label{le__test_8h_ad793449c43650807ff598c2806074c11}
Called when a test fails. Logs an error message and either exits right away or increments the number of failures. \index{le\+\_\+test.\+h@{le\+\_\+test.\+h}!\+\_\+le\+\_\+test\+\_\+\+Fork@{\+\_\+le\+\_\+test\+\_\+\+Fork}}
\index{\+\_\+le\+\_\+test\+\_\+\+Fork@{\+\_\+le\+\_\+test\+\_\+\+Fork}!le\+\_\+test.\+h@{le\+\_\+test.\+h}}
\subsubsection[{\texorpdfstring{\+\_\+le\+\_\+test\+\_\+\+Fork(const char $\ast$exe\+Path,...)}{_le_test_Fork(const char *exePath,...)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+test\+\_\+\+Child\+Ref\+\_\+t} \+\_\+le\+\_\+test\+\_\+\+Fork (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{exe\+Path, }
\item[{}]{...}
\end{DoxyParamCaption}
)}\hypertarget{le__test_8h_a567cce7d9f3d3a66f1bca3575f4ef846}{}\label{le__test_8h_a567cce7d9f3d3a66f1bca3575f4ef846}
Fork a child process to run a unit test program.

\begin{DoxyReturn}{Returns}
A reference to the child process.
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Terminates the calling process on failure to fork. 
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em exe\+Path} & String containing the path to the program to be executed. \\
\hline
\end{DoxyParams}
\index{le\+\_\+test.\+h@{le\+\_\+test.\+h}!\+\_\+le\+\_\+test\+\_\+\+Get\+Num\+Failures@{\+\_\+le\+\_\+test\+\_\+\+Get\+Num\+Failures}}
\index{\+\_\+le\+\_\+test\+\_\+\+Get\+Num\+Failures@{\+\_\+le\+\_\+test\+\_\+\+Get\+Num\+Failures}!le\+\_\+test.\+h@{le\+\_\+test.\+h}}
\subsubsection[{\texorpdfstring{\+\_\+le\+\_\+test\+\_\+\+Get\+Num\+Failures(void)}{_le_test_GetNumFailures(void)}}]{\setlength{\rightskip}{0pt plus 5cm}int \+\_\+le\+\_\+test\+\_\+\+Get\+Num\+Failures (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{le__test_8h_af25acd8593c2fe66f5b5c30804cb862c}{}\label{le__test_8h_af25acd8593c2fe66f5b5c30804cb862c}
Returns the number of test failures. \index{le\+\_\+test.\+h@{le\+\_\+test.\+h}!\+\_\+le\+\_\+test\+\_\+\+Init@{\+\_\+le\+\_\+test\+\_\+\+Init}}
\index{\+\_\+le\+\_\+test\+\_\+\+Init@{\+\_\+le\+\_\+test\+\_\+\+Init}!le\+\_\+test.\+h@{le\+\_\+test.\+h}}
\subsubsection[{\texorpdfstring{\+\_\+le\+\_\+test\+\_\+\+Init(void)}{_le_test_Init(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} \+\_\+le\+\_\+test\+\_\+\+Init (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{le__test_8h_adae44bbfa6299b76dc232116908a8045}{}\label{le__test_8h_adae44bbfa6299b76dc232116908a8045}
Initializes the Legato test framework. This should be called once at the beginning of test process. \index{le\+\_\+test.\+h@{le\+\_\+test.\+h}!\+\_\+le\+\_\+test\+\_\+\+Join@{\+\_\+le\+\_\+test\+\_\+\+Join}}
\index{\+\_\+le\+\_\+test\+\_\+\+Join@{\+\_\+le\+\_\+test\+\_\+\+Join}!le\+\_\+test.\+h@{le\+\_\+test.\+h}}
\subsubsection[{\texorpdfstring{\+\_\+le\+\_\+test\+\_\+\+Join(le\+\_\+test\+\_\+\+Child\+Ref\+\_\+t child)}{_le_test_Join(le_test_ChildRef_t child)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} \+\_\+le\+\_\+test\+\_\+\+Join (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+test\+\_\+\+Child\+Ref\+\_\+t}}]{child}
\end{DoxyParamCaption}
)}\hypertarget{le__test_8h_a11f2785e8f09904c788cc847d1efde3a}{}\label{le__test_8h_a11f2785e8f09904c788cc847d1efde3a}
Wait for a given child process to terminate and add its results to the running test summary. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em child} & Child process reference returned by \hyperlink{le__test_8h_ac0c538ca3dfcd072464385b2f7e2776f}{L\+E\+\_\+\+T\+E\+S\+T\+\_\+\+F\+O\+R\+K()}. \\
\hline
\end{DoxyParams}
