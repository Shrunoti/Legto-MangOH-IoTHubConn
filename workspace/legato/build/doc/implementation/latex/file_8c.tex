\hypertarget{file_8c}{}\section{framework/liblegato/linux/file.c File Reference}
\label{file_8c}\index{framework/liblegato/linux/file.\+c@{framework/liblegato/linux/file.\+c}}
{\ttfamily \#include $<$sys/sendfile.\+h$>$}\\*
{\ttfamily \#include \char`\"{}legato.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}smack.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}file\+Descriptor.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}file.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}file\+System.\+h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{file_8c_acf87ba4101e1adf0be86ce3479f1912b}{M\+A\+X\+\_\+\+X\+A\+T\+T\+R\+\_\+\+L\+I\+S\+T\+\_\+\+S\+I\+ZE}~1000
\item 
\#define \hyperlink{file_8c_aadcad4135f9a417f5649273e09a6c242}{M\+A\+X\+\_\+\+X\+A\+T\+T\+R\+\_\+\+V\+A\+L\+U\+E\+\_\+\+S\+I\+ZE}~255
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{file_8c_a82afc5bd5c90578bc65c47111ac41a6e}{file\+\_\+\+Exists} (const char $\ast$file\+Path)
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{file_8c_a1288aabdd53b3d32477c5ce1faa3d0bf}{file\+\_\+\+Delete} (const char $\ast$file\+Path)
\item 
ssize\+\_\+t \hyperlink{file_8c_a9b6a3d460373d55eea541131e1531603}{file\+\_\+\+Read\+Str} (const char $\ast$file\+Path, char $\ast$buffer, size\+\_\+t size)
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{file_8c_a3d37f190421b46ae5fac05ed5462f66e}{file\+\_\+\+Write\+Str} (const char $\ast$file\+Path, const char $\ast$string, mode\+\_\+t mode)
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{file_8c_acc665c3829f9b782c34cd50186b5a5c5}{file\+\_\+\+Write\+Str\+Atomic} (const char $\ast$file\+Path, const char $\ast$string, mode\+\_\+t mode)
\item 
static \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{file_8c_af4c2ed02684d6e8c8bad77336f30dc02}{Open\+Read} (const char $\ast$source\+Path\+Ptr, int $\ast$fd\+Ptr)
\item 
static \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{file_8c_a9c72d2f13486ebb342e91830b195208b}{Create\+Write} (const char $\ast$dest\+Path\+Ptr, mode\+\_\+t mode, int $\ast$fd\+Ptr)
\item 
static bool \hyperlink{file_8c_a386664ed925fb1e7a3b1d838c0dc24be}{Base\+Path\+Exists} (const char $\ast$path\+Ptr)
\item 
static \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{file_8c_ab521ed7d09adc61dbecf9533b3a7e604}{Stat\+Path} (const char $\ast$path\+Ptr, struct stat $\ast$status\+Ptr)
\item 
static \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{file_8c_a145dbd84150e867cee125ce7d1a2b430}{Copy\+Xattrs} (const char $\ast$src\+Path\+Ptr, const char $\ast$dest\+Path\+Ptr)
\item 
static \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{file_8c_ab0d7e3b57d17b5f96afca25f40a817c7}{Copy\+Attrs} (const char $\ast$src\+Path\+Ptr, const char $\ast$dest\+Path\+Ptr, const char $\ast$smack\+Label\+Ptr)
\item 
static \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{file_8c_ab4e6c8a01a47624ca0447d9402ad8b7c}{Create\+Dir} (const char $\ast$source\+Path\+Ptr, const char $\ast$dest\+Path\+Ptr, const char $\ast$smack\+Label\+Ptr)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{file_8c_af3a4a38822777e12150785d4bd79af6f}{file\+\_\+\+Copy} (const char $\ast$source\+Path\+Ptr, const char $\ast$dest\+Path\+Ptr, const char $\ast$smack\+Label\+Ptr)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{file_8c_ad37fc0b425ae75b0af7034a265aa4877}{file\+\_\+\+Copy\+Recursive} (const char $\ast$source\+Path\+Ptr, const char $\ast$dest\+Path\+Ptr, const char $\ast$smack\+Label\+Ptr)
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{file_8c_ad09c80a63dcb01e607fefde4086e3b56}{file\+\_\+\+Rename} (const char $\ast$src\+Path, const char $\ast$dest\+Path)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Routines for dealing with files. Checking for files, deleting files, doing simple reads, writes and copies are all handled here.

Copyright (C) Sierra Wireless Inc. 

\subsection{Macro Definition Documentation}
\index{file.\+c@{file.\+c}!M\+A\+X\+\_\+\+X\+A\+T\+T\+R\+\_\+\+L\+I\+S\+T\+\_\+\+S\+I\+ZE@{M\+A\+X\+\_\+\+X\+A\+T\+T\+R\+\_\+\+L\+I\+S\+T\+\_\+\+S\+I\+ZE}}
\index{M\+A\+X\+\_\+\+X\+A\+T\+T\+R\+\_\+\+L\+I\+S\+T\+\_\+\+S\+I\+ZE@{M\+A\+X\+\_\+\+X\+A\+T\+T\+R\+\_\+\+L\+I\+S\+T\+\_\+\+S\+I\+ZE}!file.\+c@{file.\+c}}
\subsubsection[{\texorpdfstring{M\+A\+X\+\_\+\+X\+A\+T\+T\+R\+\_\+\+L\+I\+S\+T\+\_\+\+S\+I\+ZE}{MAX_XATTR_LIST_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+A\+X\+\_\+\+X\+A\+T\+T\+R\+\_\+\+L\+I\+S\+T\+\_\+\+S\+I\+ZE~1000}\hypertarget{file_8c_acf87ba4101e1adf0be86ce3479f1912b}{}\label{file_8c_acf87ba4101e1adf0be86ce3479f1912b}
\index{file.\+c@{file.\+c}!M\+A\+X\+\_\+\+X\+A\+T\+T\+R\+\_\+\+V\+A\+L\+U\+E\+\_\+\+S\+I\+ZE@{M\+A\+X\+\_\+\+X\+A\+T\+T\+R\+\_\+\+V\+A\+L\+U\+E\+\_\+\+S\+I\+ZE}}
\index{M\+A\+X\+\_\+\+X\+A\+T\+T\+R\+\_\+\+V\+A\+L\+U\+E\+\_\+\+S\+I\+ZE@{M\+A\+X\+\_\+\+X\+A\+T\+T\+R\+\_\+\+V\+A\+L\+U\+E\+\_\+\+S\+I\+ZE}!file.\+c@{file.\+c}}
\subsubsection[{\texorpdfstring{M\+A\+X\+\_\+\+X\+A\+T\+T\+R\+\_\+\+V\+A\+L\+U\+E\+\_\+\+S\+I\+ZE}{MAX_XATTR_VALUE_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+A\+X\+\_\+\+X\+A\+T\+T\+R\+\_\+\+V\+A\+L\+U\+E\+\_\+\+S\+I\+ZE~255}\hypertarget{file_8c_aadcad4135f9a417f5649273e09a6c242}{}\label{file_8c_aadcad4135f9a417f5649273e09a6c242}


\subsection{Function Documentation}
\index{file.\+c@{file.\+c}!Base\+Path\+Exists@{Base\+Path\+Exists}}
\index{Base\+Path\+Exists@{Base\+Path\+Exists}!file.\+c@{file.\+c}}
\subsubsection[{\texorpdfstring{Base\+Path\+Exists(const char $\ast$path\+Ptr)}{BasePathExists(const char *pathPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}static bool Base\+Path\+Exists (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path\+Ptr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{file_8c_a386664ed925fb1e7a3b1d838c0dc24be}{}\label{file_8c_a386664ed925fb1e7a3b1d838c0dc24be}
Check to see if the parent of the filesystem object in question actually exists.

\begin{DoxyReturn}{Returns}
True if the parent directory exists, false if not. 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em path\+Ptr} & Check to see if the parent of this filesystem object actually exists. \\
\hline
\end{DoxyParams}
\index{file.\+c@{file.\+c}!Copy\+Attrs@{Copy\+Attrs}}
\index{Copy\+Attrs@{Copy\+Attrs}!file.\+c@{file.\+c}}
\subsubsection[{\texorpdfstring{Copy\+Attrs(const char $\ast$src\+Path\+Ptr, const char $\ast$dest\+Path\+Ptr, const char $\ast$smack\+Label\+Ptr)}{CopyAttrs(const char *srcPathPtr, const char *destPathPtr, const char *smackLabelPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf le\+\_\+result\+\_\+t} Copy\+Attrs (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{src\+Path\+Ptr, }
\item[{const char $\ast$}]{dest\+Path\+Ptr, }
\item[{const char $\ast$}]{smack\+Label\+Ptr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{file_8c_ab0d7e3b57d17b5f96afca25f40a817c7}{}\label{file_8c_ab0d7e3b57d17b5f96afca25f40a817c7}
Copies the owner, group and the extended attributes from the source to the destination file.

\begin{DoxyReturn}{Returns}
-\/ L\+E\+\_\+\+OK if all goes to plan.
\begin{DoxyItemize}
\item -\/ L\+E\+\_\+\+I\+O\+\_\+\+E\+R\+R\+OR if there is an error. 
\end{DoxyItemize}
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em src\+Path\+Ptr} & Path to source file. \\
\hline
\mbox{\tt in}  & {\em dest\+Path\+Ptr} & Path to destination file. \\
\hline
\mbox{\tt in}  & {\em smack\+Label\+Ptr} & If not N\+U\+LL, set the dest file to this smack label. \\
\hline
\end{DoxyParams}
\index{file.\+c@{file.\+c}!Copy\+Xattrs@{Copy\+Xattrs}}
\index{Copy\+Xattrs@{Copy\+Xattrs}!file.\+c@{file.\+c}}
\subsubsection[{\texorpdfstring{Copy\+Xattrs(const char $\ast$src\+Path\+Ptr, const char $\ast$dest\+Path\+Ptr)}{CopyXattrs(const char *srcPathPtr, const char *destPathPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf le\+\_\+result\+\_\+t} Copy\+Xattrs (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{src\+Path\+Ptr, }
\item[{const char $\ast$}]{dest\+Path\+Ptr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{file_8c_a145dbd84150e867cee125ce7d1a2b430}{}\label{file_8c_a145dbd84150e867cee125ce7d1a2b430}
Copies the extended attributes from the source to the destination file.

\begin{DoxyReturn}{Returns}
-\/ L\+E\+\_\+\+OK if all goes to plan.
\begin{DoxyItemize}
\item -\/ L\+E\+\_\+\+I\+O\+\_\+\+E\+R\+R\+OR if there is an error. 
\end{DoxyItemize}
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em src\+Path\+Ptr} & Path to source file. \\
\hline
\mbox{\tt in}  & {\em dest\+Path\+Ptr} & Path to destination file. \\
\hline
\end{DoxyParams}
\index{file.\+c@{file.\+c}!Create\+Dir@{Create\+Dir}}
\index{Create\+Dir@{Create\+Dir}!file.\+c@{file.\+c}}
\subsubsection[{\texorpdfstring{Create\+Dir(const char $\ast$source\+Path\+Ptr, const char $\ast$dest\+Path\+Ptr, const char $\ast$smack\+Label\+Ptr)}{CreateDir(const char *sourcePathPtr, const char *destPathPtr, const char *smackLabelPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf le\+\_\+result\+\_\+t} Create\+Dir (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{source\+Path\+Ptr, }
\item[{const char $\ast$}]{dest\+Path\+Ptr, }
\item[{const char $\ast$}]{smack\+Label\+Ptr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{file_8c_ab4e6c8a01a47624ca0447d9402ad8b7c}{}\label{file_8c_ab4e6c8a01a47624ca0447d9402ad8b7c}
Create a destination directory with the same owner, permissions and extended attributes as the source directory.

\begin{DoxyReturn}{Returns}
-\/ L\+E\+\_\+\+OK if the copy was successful.
\begin{DoxyItemize}
\item L\+E\+\_\+\+I\+O\+\_\+\+E\+R\+R\+OR if an IO error occurs during the copy operation.
\item L\+E\+\_\+\+N\+O\+T\+\_\+\+F\+O\+U\+ND if source file or the destination directory does not exist. 
\end{DoxyItemize}
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em source\+Path\+Ptr} & Source directory. \\
\hline
\mbox{\tt in}  & {\em dest\+Path\+Ptr} & Destination directory. \\
\hline
\mbox{\tt in}  & {\em smack\+Label\+Ptr} & If not N\+U\+LL, the directory will have this smack label set. \\
\hline
\end{DoxyParams}
\index{file.\+c@{file.\+c}!Create\+Write@{Create\+Write}}
\index{Create\+Write@{Create\+Write}!file.\+c@{file.\+c}}
\subsubsection[{\texorpdfstring{Create\+Write(const char $\ast$dest\+Path\+Ptr, mode\+\_\+t mode, int $\ast$fd\+Ptr)}{CreateWrite(const char *destPathPtr, mode_t mode, int *fdPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf le\+\_\+result\+\_\+t} Create\+Write (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{dest\+Path\+Ptr, }
\item[{mode\+\_\+t}]{mode, }
\item[{int $\ast$}]{fd\+Ptr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{file_8c_a9c72d2f13486ebb342e91830b195208b}{}\label{file_8c_a9c72d2f13486ebb342e91830b195208b}
Create and open new file for writing.

\begin{DoxyReturn}{Returns}
L\+E\+\_\+\+OK is successful, L\+E\+\_\+\+N\+O\+T\+\_\+\+P\+E\+R\+M\+I\+T\+T\+ED is returned otherwise. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em dest\+Path\+Ptr} & Path to the file to create. \\
\hline
\mbox{\tt in}  & {\em mode} & The mode bits to set for the file. \\
\hline
\mbox{\tt out}  & {\em fd\+Ptr} & The FD of the newly created and opened file. \\
\hline
\end{DoxyParams}
\index{file.\+c@{file.\+c}!file\+\_\+\+Copy@{file\+\_\+\+Copy}}
\index{file\+\_\+\+Copy@{file\+\_\+\+Copy}!file.\+c@{file.\+c}}
\subsubsection[{\texorpdfstring{file\+\_\+\+Copy(const char $\ast$source\+Path\+Ptr, const char $\ast$dest\+Path\+Ptr, const char $\ast$smack\+Label\+Ptr)}{file_Copy(const char *sourcePathPtr, const char *destPathPtr, const char *smackLabelPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} file\+\_\+\+Copy (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{source\+Path\+Ptr, }
\item[{const char $\ast$}]{dest\+Path\+Ptr, }
\item[{const char $\ast$}]{smack\+Label\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{file_8c_af3a4a38822777e12150785d4bd79af6f}{}\label{file_8c_af3a4a38822777e12150785d4bd79af6f}
Copy a file. This function copies the source file\textquotesingle{}s owner, permissions and extended attributes to the destination file as well.

\begin{DoxyReturn}{Returns}
-\/ L\+E\+\_\+\+OK if the copy was successful.
\begin{DoxyItemize}
\item L\+E\+\_\+\+N\+O\+T\+\_\+\+P\+E\+R\+M\+I\+T\+T\+ED if either the source or destination paths are not files or could not be opened.
\item L\+E\+\_\+\+I\+O\+\_\+\+E\+R\+R\+OR if an IO error occurs during the copy operation.
\item L\+E\+\_\+\+N\+O\+T\+\_\+\+F\+O\+U\+ND if source file or the destination directory does not exist. 
\end{DoxyItemize}
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em source\+Path\+Ptr} & Copy from this path... \\
\hline
\mbox{\tt in}  & {\em dest\+Path\+Ptr} & To this path. \\
\hline
\mbox{\tt in}  & {\em smack\+Label\+Ptr} & If not N\+U\+LL, the file will have this smack label set. \\
\hline
\end{DoxyParams}
\index{file.\+c@{file.\+c}!file\+\_\+\+Copy\+Recursive@{file\+\_\+\+Copy\+Recursive}}
\index{file\+\_\+\+Copy\+Recursive@{file\+\_\+\+Copy\+Recursive}!file.\+c@{file.\+c}}
\subsubsection[{\texorpdfstring{file\+\_\+\+Copy\+Recursive(const char $\ast$source\+Path\+Ptr, const char $\ast$dest\+Path\+Ptr, const char $\ast$smack\+Label\+Ptr)}{file_CopyRecursive(const char *sourcePathPtr, const char *destPathPtr, const char *smackLabelPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} file\+\_\+\+Copy\+Recursive (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{source\+Path\+Ptr, }
\item[{const char $\ast$}]{dest\+Path\+Ptr, }
\item[{const char $\ast$}]{smack\+Label\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{file_8c_ad37fc0b425ae75b0af7034a265aa4877}{}\label{file_8c_ad37fc0b425ae75b0af7034a265aa4877}
Copy a batch of files recursively from one directory into another. This function copies the source files\textquotesingle{} owner, permissions and extended attributes to the destination files as well.

\begin{DoxyNote}{Note}
Does not copy mounted files or any files under mounted directories. Does not copy anything if the source path directory is empty.
\end{DoxyNote}
\begin{DoxyReturn}{Returns}
-\/ L\+E\+\_\+\+OK if the copy was successful.
\begin{DoxyItemize}
\item L\+E\+\_\+\+N\+O\+T\+\_\+\+P\+E\+R\+M\+I\+T\+T\+ED if either the source or destination paths are not files or could not be opened.
\item L\+E\+\_\+\+I\+O\+\_\+\+E\+R\+R\+OR if an IO error occurs during the copy operation.
\item L\+E\+\_\+\+N\+O\+T\+\_\+\+F\+O\+U\+ND if source file or the destination directory does not exist. 
\end{DoxyItemize}
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em source\+Path\+Ptr} & Copy recursively from this path... \\
\hline
\mbox{\tt in}  & {\em dest\+Path\+Ptr} & To this path. \\
\hline
\mbox{\tt in}  & {\em smack\+Label\+Ptr} & If not N\+U\+LL, the file will have this smack label set. \\
\hline
\end{DoxyParams}
\index{file.\+c@{file.\+c}!file\+\_\+\+Delete@{file\+\_\+\+Delete}}
\index{file\+\_\+\+Delete@{file\+\_\+\+Delete}!file.\+c@{file.\+c}}
\subsubsection[{\texorpdfstring{file\+\_\+\+Delete(const char $\ast$file\+Path)}{file_Delete(const char *filePath)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} file\+\_\+\+Delete (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{file\+Path}
\end{DoxyParamCaption}
)}\hypertarget{file_8c_a1288aabdd53b3d32477c5ce1faa3d0bf}{}\label{file_8c_a1288aabdd53b3d32477c5ce1faa3d0bf}
Deletes a file at a given path. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em file\+Path} & Path to the file to delete. \\
\hline
\end{DoxyParams}
\index{file.\+c@{file.\+c}!file\+\_\+\+Exists@{file\+\_\+\+Exists}}
\index{file\+\_\+\+Exists@{file\+\_\+\+Exists}!file.\+c@{file.\+c}}
\subsubsection[{\texorpdfstring{file\+\_\+\+Exists(const char $\ast$file\+Path)}{file_Exists(const char *filePath)}}]{\setlength{\rightskip}{0pt plus 5cm}bool file\+\_\+\+Exists (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{file\+Path}
\end{DoxyParamCaption}
)}\hypertarget{file_8c_a82afc5bd5c90578bc65c47111ac41a6e}{}\label{file_8c_a82afc5bd5c90578bc65c47111ac41a6e}
Checks whether or not a file exists at a given file system path.

\begin{DoxyReturn}{Returns}
true if the file exists and is a normal file. false otherwise. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em file\+Path} & Path to the file in question. \\
\hline
\end{DoxyParams}
\index{file.\+c@{file.\+c}!file\+\_\+\+Read\+Str@{file\+\_\+\+Read\+Str}}
\index{file\+\_\+\+Read\+Str@{file\+\_\+\+Read\+Str}!file.\+c@{file.\+c}}
\subsubsection[{\texorpdfstring{file\+\_\+\+Read\+Str(const char $\ast$file\+Path, char $\ast$buffer, size\+\_\+t size)}{file_ReadStr(const char *filePath, char *buffer, size_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}ssize\+\_\+t file\+\_\+\+Read\+Str (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{file\+Path, }
\item[{char $\ast$}]{buffer, }
\item[{size\+\_\+t}]{size}
\end{DoxyParamCaption}
)}\hypertarget{file_8c_a9b6a3d460373d55eea541131e1531603}{}\label{file_8c_a9b6a3d460373d55eea541131e1531603}
Read a string from a file given by file\+Path into a buffer provided by the caller.

Will read up to size -\/ 1 bytes from the file.

On success the output string will always be null-\/terminated.

\begin{DoxyReturn}{Returns}
Number of bytes read (not including the null terminator) or -\/1 on failure. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em file\+Path} & Path to the file to read from. \\
\hline
\mbox{\tt out}  & {\em buffer} & The string is written to this buffer. \\
\hline
\mbox{\tt in}  & {\em size} & How big is this buffer (in bytes)? \\
\hline
\end{DoxyParams}
\index{file.\+c@{file.\+c}!file\+\_\+\+Rename@{file\+\_\+\+Rename}}
\index{file\+\_\+\+Rename@{file\+\_\+\+Rename}!file.\+c@{file.\+c}}
\subsubsection[{\texorpdfstring{file\+\_\+\+Rename(const char $\ast$src\+Path, const char $\ast$dest\+Path)}{file_Rename(const char *srcPath, const char *destPath)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} file\+\_\+\+Rename (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{src\+Path, }
\item[{const char $\ast$}]{dest\+Path}
\end{DoxyParamCaption}
)}\hypertarget{file_8c_ad09c80a63dcb01e607fefde4086e3b56}{}\label{file_8c_ad09c80a63dcb01e607fefde4086e3b56}
Rename a file or directory. \index{file.\+c@{file.\+c}!file\+\_\+\+Write\+Str@{file\+\_\+\+Write\+Str}}
\index{file\+\_\+\+Write\+Str@{file\+\_\+\+Write\+Str}!file.\+c@{file.\+c}}
\subsubsection[{\texorpdfstring{file\+\_\+\+Write\+Str(const char $\ast$file\+Path, const char $\ast$string, mode\+\_\+t mode)}{file_WriteStr(const char *filePath, const char *string, mode_t mode)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} file\+\_\+\+Write\+Str (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{file\+Path, }
\item[{const char $\ast$}]{string, }
\item[{mode\+\_\+t}]{mode}
\end{DoxyParamCaption}
)}\hypertarget{file_8c_a3d37f190421b46ae5fac05ed5462f66e}{}\label{file_8c_a3d37f190421b46ae5fac05ed5462f66e}
Write a null-\/terminated string to a file given by file\+Path. The null terminator will not be written. The file will be opened, the string will be written and the file will be closed. If the file does not exist, it will be created. If the file did previously exist, its previous contents will be discarded, but its previous D\+AC permissions will be kept. To replace the existing file completely, use \hyperlink{file_8c_acc665c3829f9b782c34cd50186b5a5c5}{file\+\_\+\+Write\+Str\+Atomic()}. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em file\+Path} & Path to the file to write. \\
\hline
\mbox{\tt in}  & {\em string} & A string to write to this file. \\
\hline
\mbox{\tt in}  & {\em mode} & D\+AC permission bits (see man 2 open). E.\+g., 0644 = rw-\/r--r-- \\
\hline
\end{DoxyParams}
\index{file.\+c@{file.\+c}!file\+\_\+\+Write\+Str\+Atomic@{file\+\_\+\+Write\+Str\+Atomic}}
\index{file\+\_\+\+Write\+Str\+Atomic@{file\+\_\+\+Write\+Str\+Atomic}!file.\+c@{file.\+c}}
\subsubsection[{\texorpdfstring{file\+\_\+\+Write\+Str\+Atomic(const char $\ast$file\+Path, const char $\ast$string, mode\+\_\+t mode)}{file_WriteStrAtomic(const char *filePath, const char *string, mode_t mode)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} file\+\_\+\+Write\+Str\+Atomic (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{file\+Path, }
\item[{const char $\ast$}]{string, }
\item[{mode\+\_\+t}]{mode}
\end{DoxyParamCaption}
)}\hypertarget{file_8c_acc665c3829f9b782c34cd50186b5a5c5}{}\label{file_8c_acc665c3829f9b782c34cd50186b5a5c5}
Atomically replace a file with another containing a string.

The string\textquotesingle{}s null terminator will not be written to the file.

file\+Path.\+new will be created with the contents of the string, then renamed to file\+Path. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em file\+Path} & Path to the file to write. \\
\hline
\mbox{\tt in}  & {\em string} & A string to write to this file. \\
\hline
\mbox{\tt in}  & {\em mode} & D\+AC permission bits (see man 2 open). E.\+g., 0644 = rw-\/r--r-- \\
\hline
\end{DoxyParams}
\index{file.\+c@{file.\+c}!Open\+Read@{Open\+Read}}
\index{Open\+Read@{Open\+Read}!file.\+c@{file.\+c}}
\subsubsection[{\texorpdfstring{Open\+Read(const char $\ast$source\+Path\+Ptr, int $\ast$fd\+Ptr)}{OpenRead(const char *sourcePathPtr, int *fdPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf le\+\_\+result\+\_\+t} Open\+Read (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{source\+Path\+Ptr, }
\item[{int $\ast$}]{fd\+Ptr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{file_8c_af4c2ed02684d6e8c8bad77336f30dc02}{}\label{file_8c_af4c2ed02684d6e8c8bad77336f30dc02}
Open an existing file for reading.

\begin{DoxyReturn}{Returns}
L\+E\+\_\+\+OK is successful, L\+E\+\_\+\+N\+O\+T\+\_\+\+P\+E\+R\+M\+I\+T\+T\+ED is returned otherwise. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em source\+Path\+Ptr} & The file to open. \\
\hline
\mbox{\tt out}  & {\em fd\+Ptr} & The file\textquotesingle{}s FD to use for future reading on this file. \\
\hline
\end{DoxyParams}
\index{file.\+c@{file.\+c}!Stat\+Path@{Stat\+Path}}
\index{Stat\+Path@{Stat\+Path}!file.\+c@{file.\+c}}
\subsubsection[{\texorpdfstring{Stat\+Path(const char $\ast$path\+Ptr, struct stat $\ast$status\+Ptr)}{StatPath(const char *pathPtr, struct stat *statusPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf le\+\_\+result\+\_\+t} Stat\+Path (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path\+Ptr, }
\item[{struct stat $\ast$}]{status\+Ptr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{file_8c_ab521ed7d09adc61dbecf9533b3a7e604}{}\label{file_8c_ab521ed7d09adc61dbecf9533b3a7e604}
Stat the given path.

\begin{DoxyReturn}{Returns}
-\/ L\+E\+\_\+\+OK if all goes to plan.
\begin{DoxyItemize}
\item L\+E\+\_\+\+N\+O\+T\+\_\+\+F\+O\+U\+ND if the specified file system object does not exist.
\end{DoxyItemize}
\end{DoxyReturn}

\begin{DoxyItemize}
\item -\/ L\+E\+\_\+\+I\+O\+\_\+\+E\+R\+R\+OR if the stat fails for any other reason. 
\end{DoxyItemize}
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path\+Ptr} & Stat this file system object. \\
\hline
\mbox{\tt out}  & {\em status\+Ptr} & If successful, populate this stat structure. \\
\hline
\end{DoxyParams}
