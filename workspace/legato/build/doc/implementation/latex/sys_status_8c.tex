\hypertarget{sys_status_8c}{}\section{framework/liblegato/linux/sys\+Status.c File Reference}
\label{sys_status_8c}\index{framework/liblegato/linux/sys\+Status.\+c@{framework/liblegato/linux/sys\+Status.\+c}}
{\ttfamily \#include \char`\"{}legato.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}limit.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sys\+Status.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}file.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}file\+Descriptor.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sys\+Paths.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}properties.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{sys_status_8h_ae25825ce432b365f8a57356b813abf6b}{sys\+Status\+\_\+\+Status\+\_\+t} \hyperlink{sys_status_8c_ae64b5d453d487eb1af75e1a401da989e}{sys\+Status\+\_\+\+Get\+Status} (const char $\ast$system\+Name\+Ptr)
\item 
\hyperlink{sys_status_8h_ae25825ce432b365f8a57356b813abf6b}{sys\+Status\+\_\+\+Status\+\_\+t} \hyperlink{sys_status_8c_a0529c9aefccbe735d1b6f3e246eedbb6}{sys\+Status\+\_\+\+Status} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{sys_status_8c_a4eb9774588e8a290f5e4897bcea544e5}{sys\+Status\+\_\+\+Set\+Untried} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
int \hyperlink{sys_status_8c_ab70a2e15aa63cf0c66ffaff1863e8567}{sys\+Status\+\_\+\+Try\+Count} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{sys_status_8c_a5bf638b904f525463eb0bd54c3988371}{sys\+Status\+\_\+\+Increment\+Try\+Count} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{sys_status_8c_a41388abc303a50c0b644b9cc74cb6636}{sys\+Status\+\_\+\+Decrement\+Try\+Count} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{sys_status_8c_aae545cc3e6156054d299823f69b488fb}{sys\+Status\+\_\+\+Mark\+Bad} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{sys_status_8c_a8c5b23f8a0ab29710eca3c252dbc4a65}{sys\+Status\+\_\+\+Mark\+Tried} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{sys_status_8c_aa4c9ca1016e23c710d736c70d892d075}{sys\+Status\+\_\+\+Mark\+Good} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
bool \hyperlink{sys_status_8c_abb7d2ac8a7d364a4b46c6e189bf55443}{sys\+Status\+\_\+\+Is\+Good} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
bool \hyperlink{sys_status_8c_a6f5824e6461d9cf76a4568fdf3aca4ac}{sys\+Status\+\_\+\+Is\+Read\+Only} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static const char $\ast$ \hyperlink{sys_status_8c_ac6ffc38d2dcb61353bb238c7b4f25e9e}{Current\+Status\+Path} = \hyperlink{sys_paths_8h_a9285d2ec5322a9e23d72df98aa34a845}{C\+U\+R\+R\+E\+N\+T\+\_\+\+S\+Y\+S\+T\+E\+M\+\_\+\+P\+A\+TH} \char`\"{}/status\char`\"{}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Functions to do with manipulating the status of a system (and typically the current system) used by update\+Daemon and supervisor

Copyright (C) Sierra Wireless Inc. 

\subsection{Function Documentation}
\index{sys\+Status.\+c@{sys\+Status.\+c}!sys\+Status\+\_\+\+Decrement\+Try\+Count@{sys\+Status\+\_\+\+Decrement\+Try\+Count}}
\index{sys\+Status\+\_\+\+Decrement\+Try\+Count@{sys\+Status\+\_\+\+Decrement\+Try\+Count}!sys\+Status.\+c@{sys\+Status.\+c}}
\subsubsection[{\texorpdfstring{sys\+Status\+\_\+\+Decrement\+Try\+Count(void)}{sysStatus_DecrementTryCount(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} sys\+Status\+\_\+\+Decrement\+Try\+Count (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{sys_status_8c_a41388abc303a50c0b644b9cc74cb6636}{}\label{sys_status_8c_a41388abc303a50c0b644b9cc74cb6636}
Decrement the try count. If the system is still under probation the try count will be decremented, else there is no effect. Will F\+A\+T\+AL if the system has already been marked bad. \index{sys\+Status.\+c@{sys\+Status.\+c}!sys\+Status\+\_\+\+Get\+Status@{sys\+Status\+\_\+\+Get\+Status}}
\index{sys\+Status\+\_\+\+Get\+Status@{sys\+Status\+\_\+\+Get\+Status}!sys\+Status.\+c@{sys\+Status.\+c}}
\subsubsection[{\texorpdfstring{sys\+Status\+\_\+\+Get\+Status(const char $\ast$system\+Name\+Ptr)}{sysStatus_GetStatus(const char *systemNamePtr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf sys\+Status\+\_\+\+Status\+\_\+t} sys\+Status\+\_\+\+Get\+Status (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{system\+Name\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{sys_status_8c_ae64b5d453d487eb1af75e1a401da989e}{}\label{sys_status_8c_ae64b5d453d487eb1af75e1a401da989e}
Get the status of the current system.

\begin{DoxyReturn}{Returns}
The system status (S\+Y\+S\+\_\+\+B\+AD on error). 
\end{DoxyReturn}
\index{sys\+Status.\+c@{sys\+Status.\+c}!sys\+Status\+\_\+\+Increment\+Try\+Count@{sys\+Status\+\_\+\+Increment\+Try\+Count}}
\index{sys\+Status\+\_\+\+Increment\+Try\+Count@{sys\+Status\+\_\+\+Increment\+Try\+Count}!sys\+Status.\+c@{sys\+Status.\+c}}
\subsubsection[{\texorpdfstring{sys\+Status\+\_\+\+Increment\+Try\+Count(void)}{sysStatus_IncrementTryCount(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} sys\+Status\+\_\+\+Increment\+Try\+Count (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{sys_status_8c_a5bf638b904f525463eb0bd54c3988371}{}\label{sys_status_8c_a5bf638b904f525463eb0bd54c3988371}
Increment the try count. \index{sys\+Status.\+c@{sys\+Status.\+c}!sys\+Status\+\_\+\+Is\+Good@{sys\+Status\+\_\+\+Is\+Good}}
\index{sys\+Status\+\_\+\+Is\+Good@{sys\+Status\+\_\+\+Is\+Good}!sys\+Status.\+c@{sys\+Status.\+c}}
\subsubsection[{\texorpdfstring{sys\+Status\+\_\+\+Is\+Good(void)}{sysStatus_IsGood(void)}}]{\setlength{\rightskip}{0pt plus 5cm}bool sys\+Status\+\_\+\+Is\+Good (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{sys_status_8c_abb7d2ac8a7d364a4b46c6e189bf55443}{}\label{sys_status_8c_abb7d2ac8a7d364a4b46c6e189bf55443}
Get the status of the current system.

\begin{DoxyReturn}{Returns}
true if the system is marked \char`\"{}good\char`\"{}, false otherwise (e.\+g., if \char`\"{}tried 2\char`\"{}). 
\end{DoxyReturn}
\index{sys\+Status.\+c@{sys\+Status.\+c}!sys\+Status\+\_\+\+Is\+Read\+Only@{sys\+Status\+\_\+\+Is\+Read\+Only}}
\index{sys\+Status\+\_\+\+Is\+Read\+Only@{sys\+Status\+\_\+\+Is\+Read\+Only}!sys\+Status.\+c@{sys\+Status.\+c}}
\subsubsection[{\texorpdfstring{sys\+Status\+\_\+\+Is\+Read\+Only(void)}{sysStatus_IsReadOnly(void)}}]{\setlength{\rightskip}{0pt plus 5cm}bool sys\+Status\+\_\+\+Is\+Read\+Only (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{sys_status_8c_a6f5824e6461d9cf76a4568fdf3aca4ac}{}\label{sys_status_8c_a6f5824e6461d9cf76a4568fdf3aca4ac}
Checks whether legato system is Read-\/\+Only or not.

\begin{DoxyReturn}{Returns}
true if the system is Read-\/\+Only false otherwise 
\end{DoxyReturn}
\index{sys\+Status.\+c@{sys\+Status.\+c}!sys\+Status\+\_\+\+Mark\+Bad@{sys\+Status\+\_\+\+Mark\+Bad}}
\index{sys\+Status\+\_\+\+Mark\+Bad@{sys\+Status\+\_\+\+Mark\+Bad}!sys\+Status.\+c@{sys\+Status.\+c}}
\subsubsection[{\texorpdfstring{sys\+Status\+\_\+\+Mark\+Bad(void)}{sysStatus_MarkBad(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} sys\+Status\+\_\+\+Mark\+Bad (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{sys_status_8c_aae545cc3e6156054d299823f69b488fb}{}\label{sys_status_8c_aae545cc3e6156054d299823f69b488fb}
Mark the system \char`\"{}bad\char`\"{}. \index{sys\+Status.\+c@{sys\+Status.\+c}!sys\+Status\+\_\+\+Mark\+Good@{sys\+Status\+\_\+\+Mark\+Good}}
\index{sys\+Status\+\_\+\+Mark\+Good@{sys\+Status\+\_\+\+Mark\+Good}!sys\+Status.\+c@{sys\+Status.\+c}}
\subsubsection[{\texorpdfstring{sys\+Status\+\_\+\+Mark\+Good(void)}{sysStatus_MarkGood(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} sys\+Status\+\_\+\+Mark\+Good (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{sys_status_8c_aa4c9ca1016e23c710d736c70d892d075}{}\label{sys_status_8c_aa4c9ca1016e23c710d736c70d892d075}
Mark the system \char`\"{}good\char`\"{}. \index{sys\+Status.\+c@{sys\+Status.\+c}!sys\+Status\+\_\+\+Mark\+Tried@{sys\+Status\+\_\+\+Mark\+Tried}}
\index{sys\+Status\+\_\+\+Mark\+Tried@{sys\+Status\+\_\+\+Mark\+Tried}!sys\+Status.\+c@{sys\+Status.\+c}}
\subsubsection[{\texorpdfstring{sys\+Status\+\_\+\+Mark\+Tried(void)}{sysStatus_MarkTried(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} sys\+Status\+\_\+\+Mark\+Tried (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{sys_status_8c_a8c5b23f8a0ab29710eca3c252dbc4a65}{}\label{sys_status_8c_a8c5b23f8a0ab29710eca3c252dbc4a65}
Mark the system \char`\"{}tried 1\char`\"{}. \index{sys\+Status.\+c@{sys\+Status.\+c}!sys\+Status\+\_\+\+Set\+Untried@{sys\+Status\+\_\+\+Set\+Untried}}
\index{sys\+Status\+\_\+\+Set\+Untried@{sys\+Status\+\_\+\+Set\+Untried}!sys\+Status.\+c@{sys\+Status.\+c}}
\subsubsection[{\texorpdfstring{sys\+Status\+\_\+\+Set\+Untried(void)}{sysStatus_SetUntried(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} sys\+Status\+\_\+\+Set\+Untried (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{sys_status_8c_a4eb9774588e8a290f5e4897bcea544e5}{}\label{sys_status_8c_a4eb9774588e8a290f5e4897bcea544e5}
Remove the status file thus setting the try status to untried \index{sys\+Status.\+c@{sys\+Status.\+c}!sys\+Status\+\_\+\+Status@{sys\+Status\+\_\+\+Status}}
\index{sys\+Status\+\_\+\+Status@{sys\+Status\+\_\+\+Status}!sys\+Status.\+c@{sys\+Status.\+c}}
\subsubsection[{\texorpdfstring{sys\+Status\+\_\+\+Status(void)}{sysStatus_Status(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf sys\+Status\+\_\+\+Status\+\_\+t} sys\+Status\+\_\+\+Status (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{sys_status_8c_a0529c9aefccbe735d1b6f3e246eedbb6}{}\label{sys_status_8c_a0529c9aefccbe735d1b6f3e246eedbb6}
Get the status of the current system.

\begin{DoxyReturn}{Returns}
the system status. 
\end{DoxyReturn}
\index{sys\+Status.\+c@{sys\+Status.\+c}!sys\+Status\+\_\+\+Try\+Count@{sys\+Status\+\_\+\+Try\+Count}}
\index{sys\+Status\+\_\+\+Try\+Count@{sys\+Status\+\_\+\+Try\+Count}!sys\+Status.\+c@{sys\+Status.\+c}}
\subsubsection[{\texorpdfstring{sys\+Status\+\_\+\+Try\+Count(void)}{sysStatus_TryCount(void)}}]{\setlength{\rightskip}{0pt plus 5cm}int sys\+Status\+\_\+\+Try\+Count (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{sys_status_8c_ab70a2e15aa63cf0c66ffaff1863e8567}{}\label{sys_status_8c_ab70a2e15aa63cf0c66ffaff1863e8567}
If the current system status is in Probation, then this returns the number of times the system has been tried while in probation.

Do not call this if you are not in probation!

\begin{DoxyReturn}{Returns}
A count of the number of times the system has been \char`\"{}tried.\char`\"{} 
\end{DoxyReturn}


\subsection{Variable Documentation}
\index{sys\+Status.\+c@{sys\+Status.\+c}!Current\+Status\+Path@{Current\+Status\+Path}}
\index{Current\+Status\+Path@{Current\+Status\+Path}!sys\+Status.\+c@{sys\+Status.\+c}}
\subsubsection[{\texorpdfstring{Current\+Status\+Path}{CurrentStatusPath}}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ Current\+Status\+Path = {\bf C\+U\+R\+R\+E\+N\+T\+\_\+\+S\+Y\+S\+T\+E\+M\+\_\+\+P\+A\+TH} \char`\"{}/status\char`\"{}\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{sys_status_8c_ac6ffc38d2dcb61353bb238c7b4f25e9e}{}\label{sys_status_8c_ac6ffc38d2dcb61353bb238c7b4f25e9e}
Absolute file system path to where the current running system\textquotesingle{}s \char`\"{}status\char`\"{} file is. 