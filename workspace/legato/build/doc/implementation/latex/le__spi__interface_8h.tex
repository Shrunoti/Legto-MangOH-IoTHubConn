\hypertarget{le__spi__interface_8h}{}\section{build/localhost/interfaces/le\+\_\+spi\+\_\+interface.h File Reference}
\label{le__spi__interface_8h}\index{build/localhost/interfaces/le\+\_\+spi\+\_\+interface.\+h@{build/localhost/interfaces/le\+\_\+spi\+\_\+interface.\+h}}
{\ttfamily \#include \char`\"{}legato.\+h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{le__spi__interface_8h_a837227617de95481966101f142b84496}{L\+E\+\_\+\+S\+P\+I\+\_\+\+M\+A\+X\+\_\+\+W\+R\+I\+T\+E\+\_\+\+S\+I\+ZE}~1024
\item 
\#define \hyperlink{le__spi__interface_8h_a831f171e10eba3e51446bbbe84fa1553}{L\+E\+\_\+\+S\+P\+I\+\_\+\+M\+A\+X\+\_\+\+R\+E\+A\+D\+\_\+\+S\+I\+ZE}~1024
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void}($\ast$ \hyperlink{le__spi__interface_8h_a098a067cda37bb783010bdb4b3da77aa}{le\+\_\+spi\+\_\+\+Disconnect\+Handler\+\_\+t}) (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} $\ast$)
\item 
typedef struct le\+\_\+spi\+\_\+\+Device\+Handle $\ast$ \hyperlink{le__spi__interface_8h_ab1a5ed47501bbdc56220294551b61a55}{le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{le__spi__interface_8h_a01d251731c155364d8b359d7e6128e33}{le\+\_\+spi\+\_\+\+Connect\+Service} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{le__spi__interface_8h_a0863fea7e98bb6951f59c305a4d06147}{le\+\_\+spi\+\_\+\+Try\+Connect\+Service} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{le__spi__interface_8h_a5f8f27883b1b576f520ef0aaa6e7c050}{le\+\_\+spi\+\_\+\+Set\+Server\+Disconnect\+Handler} (\hyperlink{le__spi__interface_8h_a098a067cda37bb783010bdb4b3da77aa}{le\+\_\+spi\+\_\+\+Disconnect\+Handler\+\_\+t} disconnect\+Handler, \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} $\ast$context\+Ptr)
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{le__spi__interface_8h_ae543871b53d986bdf5cf76a455e22163}{le\+\_\+spi\+\_\+\+Disconnect\+Service} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{le__spi__interface_8h_ae9939dceca4f2c55e83dbdf1a606f6a2}{le\+\_\+spi\+\_\+\+Open} (const char $\ast$\hyperlink{le__basics_8h_a760a74eea43e0fd498db39b33bc9396d}{L\+E\+\_\+\+N\+O\+N\+N\+U\+LL} device\+Name, \hyperlink{le__spi__interface_8h_ab1a5ed47501bbdc56220294551b61a55}{le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t} $\ast$handle\+Ptr)
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{le__spi__interface_8h_a1f0169ebdfea69a7fcf7135780bba77b}{le\+\_\+spi\+\_\+\+Close} (\hyperlink{le__spi__interface_8h_ab1a5ed47501bbdc56220294551b61a55}{le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t} handle)
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{le__spi__interface_8h_aa53821ac0c073abaa3a6ea26b4485373}{le\+\_\+spi\+\_\+\+Configure} (\hyperlink{le__spi__interface_8h_ab1a5ed47501bbdc56220294551b61a55}{le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t} handle, int32\+\_\+t mode, uint8\+\_\+t bits, uint32\+\_\+t speed, int32\+\_\+t msb)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{le__spi__interface_8h_a7d0cb1841e9b09359cda8815a3eeafa4}{le\+\_\+spi\+\_\+\+Write\+Read\+HD} (\hyperlink{le__spi__interface_8h_ab1a5ed47501bbdc56220294551b61a55}{le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t} handle, const uint8\+\_\+t $\ast$write\+Data\+Ptr, size\+\_\+t write\+Data\+Size, uint8\+\_\+t $\ast$read\+Data\+Ptr, size\+\_\+t $\ast$read\+Data\+Size\+Ptr)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{le__spi__interface_8h_a6ab76d3f7a02a7280ebabc32fea77c5e}{le\+\_\+spi\+\_\+\+Write\+HD} (\hyperlink{le__spi__interface_8h_ab1a5ed47501bbdc56220294551b61a55}{le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t} handle, const uint8\+\_\+t $\ast$write\+Data\+Ptr, size\+\_\+t write\+Data\+Size)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{le__spi__interface_8h_a6b0c7539dc823290b80dd17a03fa9a82}{le\+\_\+spi\+\_\+\+Read\+HD} (\hyperlink{le__spi__interface_8h_ab1a5ed47501bbdc56220294551b61a55}{le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t} handle, uint8\+\_\+t $\ast$read\+Data\+Ptr, size\+\_\+t $\ast$read\+Data\+Size\+Ptr)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{le__spi__interface_8h_ac9f0d5f2134da0a1906febc318ab8388}{le\+\_\+spi\+\_\+\+Write\+Read\+FD} (\hyperlink{le__spi__interface_8h_ab1a5ed47501bbdc56220294551b61a55}{le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t} handle, const uint8\+\_\+t $\ast$write\+Data\+Ptr, size\+\_\+t write\+Data\+Size, uint8\+\_\+t $\ast$read\+Data\+Ptr, size\+\_\+t $\ast$read\+Data\+Size\+Ptr)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Legato c\+\_\+le\+\_\+spi include file.

Copyright (C) Sierra Wireless Inc. 

\subsection{Macro Definition Documentation}
\index{le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}!L\+E\+\_\+\+S\+P\+I\+\_\+\+M\+A\+X\+\_\+\+R\+E\+A\+D\+\_\+\+S\+I\+ZE@{L\+E\+\_\+\+S\+P\+I\+\_\+\+M\+A\+X\+\_\+\+R\+E\+A\+D\+\_\+\+S\+I\+ZE}}
\index{L\+E\+\_\+\+S\+P\+I\+\_\+\+M\+A\+X\+\_\+\+R\+E\+A\+D\+\_\+\+S\+I\+ZE@{L\+E\+\_\+\+S\+P\+I\+\_\+\+M\+A\+X\+\_\+\+R\+E\+A\+D\+\_\+\+S\+I\+ZE}!le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}}
\subsubsection[{\texorpdfstring{L\+E\+\_\+\+S\+P\+I\+\_\+\+M\+A\+X\+\_\+\+R\+E\+A\+D\+\_\+\+S\+I\+ZE}{LE_SPI_MAX_READ_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+E\+\_\+\+S\+P\+I\+\_\+\+M\+A\+X\+\_\+\+R\+E\+A\+D\+\_\+\+S\+I\+ZE~1024}\hypertarget{le__spi__interface_8h_a831f171e10eba3e51446bbbe84fa1553}{}\label{le__spi__interface_8h_a831f171e10eba3e51446bbbe84fa1553}
Max byte storage size for read buffer \index{le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}!L\+E\+\_\+\+S\+P\+I\+\_\+\+M\+A\+X\+\_\+\+W\+R\+I\+T\+E\+\_\+\+S\+I\+ZE@{L\+E\+\_\+\+S\+P\+I\+\_\+\+M\+A\+X\+\_\+\+W\+R\+I\+T\+E\+\_\+\+S\+I\+ZE}}
\index{L\+E\+\_\+\+S\+P\+I\+\_\+\+M\+A\+X\+\_\+\+W\+R\+I\+T\+E\+\_\+\+S\+I\+ZE@{L\+E\+\_\+\+S\+P\+I\+\_\+\+M\+A\+X\+\_\+\+W\+R\+I\+T\+E\+\_\+\+S\+I\+ZE}!le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}}
\subsubsection[{\texorpdfstring{L\+E\+\_\+\+S\+P\+I\+\_\+\+M\+A\+X\+\_\+\+W\+R\+I\+T\+E\+\_\+\+S\+I\+ZE}{LE_SPI_MAX_WRITE_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+E\+\_\+\+S\+P\+I\+\_\+\+M\+A\+X\+\_\+\+W\+R\+I\+T\+E\+\_\+\+S\+I\+ZE~1024}\hypertarget{le__spi__interface_8h_a837227617de95481966101f142b84496}{}\label{le__spi__interface_8h_a837227617de95481966101f142b84496}
Max byte storage size for write buffer 

\subsection{Typedef Documentation}
\index{le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}!le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t@{le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t}}
\index{le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t@{le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t}!le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t}{le_spi_DeviceHandleRef_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct le\+\_\+spi\+\_\+\+Device\+Handle$\ast$ {\bf le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t}}\hypertarget{le__spi__interface_8h_ab1a5ed47501bbdc56220294551b61a55}{}\label{le__spi__interface_8h_ab1a5ed47501bbdc56220294551b61a55}
Handle for passing to related functions to access the S\+PI device \index{le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}!le\+\_\+spi\+\_\+\+Disconnect\+Handler\+\_\+t@{le\+\_\+spi\+\_\+\+Disconnect\+Handler\+\_\+t}}
\index{le\+\_\+spi\+\_\+\+Disconnect\+Handler\+\_\+t@{le\+\_\+spi\+\_\+\+Disconnect\+Handler\+\_\+t}!le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+spi\+\_\+\+Disconnect\+Handler\+\_\+t}{le_spi_DisconnectHandler_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf void}($\ast$ le\+\_\+spi\+\_\+\+Disconnect\+Handler\+\_\+t) ({\bf void} $\ast$)}\hypertarget{le__spi__interface_8h_a098a067cda37bb783010bdb4b3da77aa}{}\label{le__spi__interface_8h_a098a067cda37bb783010bdb4b3da77aa}
Type for handler called when a server disconnects. 

\subsection{Function Documentation}
\index{le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}!le\+\_\+spi\+\_\+\+Close@{le\+\_\+spi\+\_\+\+Close}}
\index{le\+\_\+spi\+\_\+\+Close@{le\+\_\+spi\+\_\+\+Close}!le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+spi\+\_\+\+Close(le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t handle)}{le_spi_Close(le_spi_DeviceHandleRef_t handle)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} le\+\_\+spi\+\_\+\+Close (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t}}]{handle}
\end{DoxyParamCaption}
)}\hypertarget{le__spi__interface_8h_a1f0169ebdfea69a7fcf7135780bba77b}{}\label{le__spi__interface_8h_a1f0169ebdfea69a7fcf7135780bba77b}
Closes the device associated with the given handle and frees the associated resources.

\begin{DoxyNote}{Note}
Once a handle is closed, it\textquotesingle{}s not permitted to use it for future S\+PI access without first calling Open. 
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em handle} & Handle for the S\+PI master to close \\
\hline
\end{DoxyParams}
\index{le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}!le\+\_\+spi\+\_\+\+Configure@{le\+\_\+spi\+\_\+\+Configure}}
\index{le\+\_\+spi\+\_\+\+Configure@{le\+\_\+spi\+\_\+\+Configure}!le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+spi\+\_\+\+Configure(le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t handle, int32\+\_\+t mode, uint8\+\_\+t bits, uint32\+\_\+t speed, int32\+\_\+t msb)}{le_spi_Configure(le_spi_DeviceHandleRef_t handle, int32_t mode, uint8_t bits, uint32_t speed, int32_t msb)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} le\+\_\+spi\+\_\+\+Configure (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t}}]{handle, }
\item[{int32\+\_\+t}]{mode, }
\item[{uint8\+\_\+t}]{bits, }
\item[{uint32\+\_\+t}]{speed, }
\item[{int32\+\_\+t}]{msb}
\end{DoxyParamCaption}
)}\hypertarget{le__spi__interface_8h_aa53821ac0c073abaa3a6ea26b4485373}{}\label{le__spi__interface_8h_aa53821ac0c073abaa3a6ea26b4485373}
Configures an S\+PI device\textquotesingle{}s data sample settings. The required values should be included in your target\textquotesingle{}s datasheet. Most common {\ttfamily Mode} values are {\ttfamily 0} and {\ttfamily 3}.

These are the S\+PI Mode options\+: \tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*4{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}\PBS\centering {\bf Mode }&\PBS\centering {\bf Clock Polarity }&\PBS\centering {\bf Clock Phase }&\PBS\centering {\bf Clock Edge  }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\PBS\centering {\bf Mode }&\PBS\centering {\bf Clock Polarity }&\PBS\centering {\bf Clock Phase }&\PBS\centering {\bf Clock Edge  }\\\cline{1-4}
\endhead
\PBS\centering 0 &\PBS\centering 0 &\PBS\centering 0 &\PBS\centering 1 \\\cline{1-4}
\PBS\centering 1 &\PBS\centering 0 &\PBS\centering 1 &\PBS\centering 0 \\\cline{1-4}
\PBS\centering 2 &\PBS\centering 1 &\PBS\centering 0 &\PBS\centering 1 \\\cline{1-4}
\PBS\centering 3 &\PBS\centering 1 &\PBS\centering 1 &\PBS\centering 0 \\\cline{1-4}
\end{longtabu}
\begin{DoxyNote}{Note}
This function should be called before any of the Read/\+Write functions to ensure the S\+PI bus configuration is in a known state. 
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em handle} & Handle for the S\+PI master to configure \\
\hline
\mbox{\tt in}  & {\em mode} & Choose mode options for the bus per above table \\
\hline
\mbox{\tt in}  & {\em bits} & bits per word, typically 8 bits per word \\
\hline
\mbox{\tt in}  & {\em speed} & max speed (Hz), this is slave dependant \\
\hline
\mbox{\tt in}  & {\em msb} & set as 0 for M\+SB as first bit or 1 for L\+SB as first bit \\
\hline
\end{DoxyParams}
\index{le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}!le\+\_\+spi\+\_\+\+Connect\+Service@{le\+\_\+spi\+\_\+\+Connect\+Service}}
\index{le\+\_\+spi\+\_\+\+Connect\+Service@{le\+\_\+spi\+\_\+\+Connect\+Service}!le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+spi\+\_\+\+Connect\+Service(void)}{le_spi_ConnectService(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} le\+\_\+spi\+\_\+\+Connect\+Service (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{le__spi__interface_8h_a01d251731c155364d8b359d7e6128e33}{}\label{le__spi__interface_8h_a01d251731c155364d8b359d7e6128e33}
Connect the current client thread to the service providing this A\+PI. Block until the service is available.

For each thread that wants to use this A\+PI, either Connect\+Service or Try\+Connect\+Service must be called before any other functions in this A\+PI. Normally, Connect\+Service is automatically called for the main thread, but not for any other thread. For details, see \hyperlink{apiFilesC_apiFilesC_client}{Client-\/specific Functions}.

This function is created automatically. \index{le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}!le\+\_\+spi\+\_\+\+Disconnect\+Service@{le\+\_\+spi\+\_\+\+Disconnect\+Service}}
\index{le\+\_\+spi\+\_\+\+Disconnect\+Service@{le\+\_\+spi\+\_\+\+Disconnect\+Service}!le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+spi\+\_\+\+Disconnect\+Service(void)}{le_spi_DisconnectService(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} le\+\_\+spi\+\_\+\+Disconnect\+Service (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{le__spi__interface_8h_ae543871b53d986bdf5cf76a455e22163}{}\label{le__spi__interface_8h_ae543871b53d986bdf5cf76a455e22163}
Disconnect the current client thread from the service providing this A\+PI.

Normally, this function doesn\textquotesingle{}t need to be called. After this function is called, there\textquotesingle{}s no longer a connection to the service, and the functions in this A\+PI can\textquotesingle{}t be used. For details, see \hyperlink{apiFilesC_apiFilesC_client}{Client-\/specific Functions}.

This function is created automatically. \index{le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}!le\+\_\+spi\+\_\+\+Open@{le\+\_\+spi\+\_\+\+Open}}
\index{le\+\_\+spi\+\_\+\+Open@{le\+\_\+spi\+\_\+\+Open}!le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+spi\+\_\+\+Open(const char $\ast$\+L\+E\+\_\+\+N\+O\+N\+N\+U\+L\+L device\+Name, le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t $\ast$handle\+Ptr)}{le_spi_Open(const char *LE_NONNULL deviceName, le_spi_DeviceHandleRef_t *handlePtr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} le\+\_\+spi\+\_\+\+Open (
\begin{DoxyParamCaption}
\item[{const char $\ast${\bf L\+E\+\_\+\+N\+O\+N\+N\+U\+LL}}]{device\+Name, }
\item[{{\bf le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t} $\ast$}]{handle\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{le__spi__interface_8h_ae9939dceca4f2c55e83dbdf1a606f6a2}{}\label{le__spi__interface_8h_ae9939dceca4f2c55e83dbdf1a606f6a2}
Opens an S\+PI device so that the attached device may be accessed.

\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item L\+E\+\_\+\+OK on success
\item L\+E\+\_\+\+B\+A\+D\+\_\+\+P\+A\+R\+A\+M\+E\+T\+ER if the device name string is bad
\item L\+E\+\_\+\+N\+O\+T\+\_\+\+F\+O\+U\+ND if the S\+PI device file could not be found
\item L\+E\+\_\+\+N\+O\+T\+\_\+\+P\+E\+R\+M\+I\+T\+T\+ED if the S\+PI device file can\textquotesingle{}t be opened for read/write
\item L\+E\+\_\+\+D\+U\+P\+L\+I\+C\+A\+TE if the given device file is already opened by another spi\+Service client
\item L\+E\+\_\+\+F\+A\+U\+LT for non-\/specific failures 
\end{DoxyItemize}
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em device\+Name} & Handle for the S\+PI master to open \\
\hline
\mbox{\tt out}  & {\em handle\+Ptr} & Handle for passing to related functions in order to access the S\+PI device \\
\hline
\end{DoxyParams}
\index{le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}!le\+\_\+spi\+\_\+\+Read\+HD@{le\+\_\+spi\+\_\+\+Read\+HD}}
\index{le\+\_\+spi\+\_\+\+Read\+HD@{le\+\_\+spi\+\_\+\+Read\+HD}!le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+spi\+\_\+\+Read\+H\+D(le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t handle, uint8\+\_\+t $\ast$read\+Data\+Ptr, size\+\_\+t $\ast$read\+Data\+Size\+Ptr)}{le_spi_ReadHD(le_spi_DeviceHandleRef_t handle, uint8_t *readDataPtr, size_t *readDataSizePtr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} le\+\_\+spi\+\_\+\+Read\+HD (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t}}]{handle, }
\item[{uint8\+\_\+t $\ast$}]{read\+Data\+Ptr, }
\item[{size\+\_\+t $\ast$}]{read\+Data\+Size\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{le__spi__interface_8h_a6b0c7539dc823290b80dd17a03fa9a82}{}\label{le__spi__interface_8h_a6b0c7539dc823290b80dd17a03fa9a82}
S\+PI Read for Half Duplex Communication

\begin{DoxyReturn}{Returns}
L\+E\+\_\+\+OK on success or L\+E\+\_\+\+F\+A\+U\+LT on failure. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em handle} & Handle for the S\+PI master to perform the read from \\
\hline
\mbox{\tt out}  & {\em read\+Data\+Ptr} & RX response from slave with number of bytes reserved on master \\
\hline
\mbox{\tt in,out}  & {\em read\+Data\+Size\+Ptr} & \\
\hline
\end{DoxyParams}
\index{le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}!le\+\_\+spi\+\_\+\+Set\+Server\+Disconnect\+Handler@{le\+\_\+spi\+\_\+\+Set\+Server\+Disconnect\+Handler}}
\index{le\+\_\+spi\+\_\+\+Set\+Server\+Disconnect\+Handler@{le\+\_\+spi\+\_\+\+Set\+Server\+Disconnect\+Handler}!le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+spi\+\_\+\+Set\+Server\+Disconnect\+Handler(le\+\_\+spi\+\_\+\+Disconnect\+Handler\+\_\+t disconnect\+Handler, void $\ast$context\+Ptr)}{le_spi_SetServerDisconnectHandler(le_spi_DisconnectHandler_t disconnectHandler, void *contextPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} le\+\_\+spi\+\_\+\+Set\+Server\+Disconnect\+Handler (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+spi\+\_\+\+Disconnect\+Handler\+\_\+t}}]{disconnect\+Handler, }
\item[{{\bf void} $\ast$}]{context\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{le__spi__interface_8h_a5f8f27883b1b576f520ef0aaa6e7c050}{}\label{le__spi__interface_8h_a5f8f27883b1b576f520ef0aaa6e7c050}
Set handler called when server disconnection is detected.

When a server connection is lost, call this handler then exit with L\+E\+\_\+\+F\+A\+T\+AL. If a program wants to continue without exiting, it should call longjmp() from inside the handler. \index{le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}!le\+\_\+spi\+\_\+\+Try\+Connect\+Service@{le\+\_\+spi\+\_\+\+Try\+Connect\+Service}}
\index{le\+\_\+spi\+\_\+\+Try\+Connect\+Service@{le\+\_\+spi\+\_\+\+Try\+Connect\+Service}!le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+spi\+\_\+\+Try\+Connect\+Service(void)}{le_spi_TryConnectService(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} le\+\_\+spi\+\_\+\+Try\+Connect\+Service (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{le__spi__interface_8h_a0863fea7e98bb6951f59c305a4d06147}{}\label{le__spi__interface_8h_a0863fea7e98bb6951f59c305a4d06147}
Try to connect the current client thread to the service providing this A\+PI. Return with an error if the service is not available.

For each thread that wants to use this A\+PI, either Connect\+Service or Try\+Connect\+Service must be called before any other functions in this A\+PI. Normally, Connect\+Service is automatically called for the main thread, but not for any other thread. For details, see \hyperlink{apiFilesC_apiFilesC_client}{Client-\/specific Functions}.

This function is created automatically.

\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item L\+E\+\_\+\+OK if the client connected successfully to the service.
\item L\+E\+\_\+\+U\+N\+A\+V\+A\+I\+L\+A\+B\+LE if the server is not currently offering the service to which the client is bound.
\item L\+E\+\_\+\+N\+O\+T\+\_\+\+P\+E\+R\+M\+I\+T\+T\+ED if the client interface is not bound to any service (doesn\textquotesingle{}t have a binding).
\item L\+E\+\_\+\+C\+O\+M\+M\+\_\+\+E\+R\+R\+OR if the Service Directory cannot be reached. 
\end{DoxyItemize}
\end{DoxyReturn}
\index{le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}!le\+\_\+spi\+\_\+\+Write\+HD@{le\+\_\+spi\+\_\+\+Write\+HD}}
\index{le\+\_\+spi\+\_\+\+Write\+HD@{le\+\_\+spi\+\_\+\+Write\+HD}!le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+spi\+\_\+\+Write\+H\+D(le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t handle, const uint8\+\_\+t $\ast$write\+Data\+Ptr, size\+\_\+t write\+Data\+Size)}{le_spi_WriteHD(le_spi_DeviceHandleRef_t handle, const uint8_t *writeDataPtr, size_t writeDataSize)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} le\+\_\+spi\+\_\+\+Write\+HD (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t}}]{handle, }
\item[{const uint8\+\_\+t $\ast$}]{write\+Data\+Ptr, }
\item[{size\+\_\+t}]{write\+Data\+Size}
\end{DoxyParamCaption}
)}\hypertarget{le__spi__interface_8h_a6ab76d3f7a02a7280ebabc32fea77c5e}{}\label{le__spi__interface_8h_a6ab76d3f7a02a7280ebabc32fea77c5e}
S\+PI Write for Half Duplex Communication

\begin{DoxyReturn}{Returns}
L\+E\+\_\+\+OK on success or L\+E\+\_\+\+F\+A\+U\+LT on failure. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em handle} & Handle for the S\+PI master to perform the write on \\
\hline
\mbox{\tt in}  & {\em write\+Data\+Ptr} & TX command/address being sent to slave with size \\
\hline
\mbox{\tt in}  & {\em write\+Data\+Size} & \\
\hline
\end{DoxyParams}
\index{le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}!le\+\_\+spi\+\_\+\+Write\+Read\+FD@{le\+\_\+spi\+\_\+\+Write\+Read\+FD}}
\index{le\+\_\+spi\+\_\+\+Write\+Read\+FD@{le\+\_\+spi\+\_\+\+Write\+Read\+FD}!le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+spi\+\_\+\+Write\+Read\+F\+D(le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t handle, const uint8\+\_\+t $\ast$write\+Data\+Ptr, size\+\_\+t write\+Data\+Size, uint8\+\_\+t $\ast$read\+Data\+Ptr, size\+\_\+t $\ast$read\+Data\+Size\+Ptr)}{le_spi_WriteReadFD(le_spi_DeviceHandleRef_t handle, const uint8_t *writeDataPtr, size_t writeDataSize, uint8_t *readDataPtr, size_t *readDataSizePtr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} le\+\_\+spi\+\_\+\+Write\+Read\+FD (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t}}]{handle, }
\item[{const uint8\+\_\+t $\ast$}]{write\+Data\+Ptr, }
\item[{size\+\_\+t}]{write\+Data\+Size, }
\item[{uint8\+\_\+t $\ast$}]{read\+Data\+Ptr, }
\item[{size\+\_\+t $\ast$}]{read\+Data\+Size\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{le__spi__interface_8h_ac9f0d5f2134da0a1906febc318ab8388}{}\label{le__spi__interface_8h_ac9f0d5f2134da0a1906febc318ab8388}
Simultaneous S\+PI Write and Read for full duplex communication

\begin{DoxyReturn}{Returns}
L\+E\+\_\+\+OK on success or L\+E\+\_\+\+F\+A\+U\+LT on failure. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em handle} & Handle for the S\+PI master to perform full duplex write-\/read on \\
\hline
\mbox{\tt in}  & {\em write\+Data\+Ptr} & TX command/address being sent to slave with size \\
\hline
\mbox{\tt in}  & {\em write\+Data\+Size} & \\
\hline
\mbox{\tt out}  & {\em read\+Data\+Ptr} & RX response from slave with same buffer size as TX \\
\hline
\mbox{\tt in,out}  & {\em read\+Data\+Size\+Ptr} & \\
\hline
\end{DoxyParams}
\index{le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}!le\+\_\+spi\+\_\+\+Write\+Read\+HD@{le\+\_\+spi\+\_\+\+Write\+Read\+HD}}
\index{le\+\_\+spi\+\_\+\+Write\+Read\+HD@{le\+\_\+spi\+\_\+\+Write\+Read\+HD}!le\+\_\+spi\+\_\+interface.\+h@{le\+\_\+spi\+\_\+interface.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+spi\+\_\+\+Write\+Read\+H\+D(le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t handle, const uint8\+\_\+t $\ast$write\+Data\+Ptr, size\+\_\+t write\+Data\+Size, uint8\+\_\+t $\ast$read\+Data\+Ptr, size\+\_\+t $\ast$read\+Data\+Size\+Ptr)}{le_spi_WriteReadHD(le_spi_DeviceHandleRef_t handle, const uint8_t *writeDataPtr, size_t writeDataSize, uint8_t *readDataPtr, size_t *readDataSizePtr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} le\+\_\+spi\+\_\+\+Write\+Read\+HD (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+spi\+\_\+\+Device\+Handle\+Ref\+\_\+t}}]{handle, }
\item[{const uint8\+\_\+t $\ast$}]{write\+Data\+Ptr, }
\item[{size\+\_\+t}]{write\+Data\+Size, }
\item[{uint8\+\_\+t $\ast$}]{read\+Data\+Ptr, }
\item[{size\+\_\+t $\ast$}]{read\+Data\+Size\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{le__spi__interface_8h_a7d0cb1841e9b09359cda8815a3eeafa4}{}\label{le__spi__interface_8h_a7d0cb1841e9b09359cda8815a3eeafa4}
Performs S\+PI Write\+Read Half Duplex. You can send send Read command/ address of data to read.

\begin{DoxyReturn}{Returns}
L\+E\+\_\+\+OK on success or L\+E\+\_\+\+F\+A\+U\+LT on failure. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em handle} & Handle for the S\+PI master to perform the write-\/read on \\
\hline
\mbox{\tt in}  & {\em write\+Data\+Ptr} & TX command/address being sent to slave with size \\
\hline
\mbox{\tt in}  & {\em write\+Data\+Size} & \\
\hline
\mbox{\tt out}  & {\em read\+Data\+Ptr} & RX response from slave with number of bytes reserved on master \\
\hline
\mbox{\tt in,out}  & {\em read\+Data\+Size\+Ptr} & \\
\hline
\end{DoxyParams}
