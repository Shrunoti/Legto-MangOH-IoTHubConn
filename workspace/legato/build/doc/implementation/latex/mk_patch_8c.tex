\hypertarget{mk_patch_8c}{}\section{framework/tools/mk\+Patch/mk\+Patch.c File Reference}
\label{mk_patch_8c}\index{framework/tools/mk\+Patch/mk\+Patch.\+c@{framework/tools/mk\+Patch/mk\+Patch.\+c}}
{\ttfamily \#include \char`\"{}legato.\+h\char`\"{}}\\*
{\ttfamily \#include $<$endian.\+h$>$}\\*
{\ttfamily \#include \char`\"{}flash-\/ubi.\+h\char`\"{}}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_delta_patch_meta_header__t}{Delta\+Patch\+Meta\+Header\+\_\+t}
\item 
struct \hyperlink{struct_delta_patch_header__t}{Delta\+Patch\+Header\+\_\+t}
\item 
struct \hyperlink{struct_part_to_spkg__t}{Part\+To\+Spkg\+\_\+t}
\item 
struct \hyperlink{struct_vtbl_map__t}{Vtbl\+Map\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{mk_patch_8c_a0e6d20c5075b52b0f0bc4858d51c8591}{\+\_\+\+L\+A\+R\+G\+E\+F\+I\+L\+E64\+\_\+\+S\+O\+U\+R\+CE}
\item 
\#define \hyperlink{mk_patch_8c_ad3ee1251e55e6cc01e9d24585f5c1f5a}{B\+S\+D\+I\+FF}~\char`\"{}bsdiff\char`\"{}
\item 
\#define \hyperlink{mk_patch_8c_adb9d72bb8070676ed0d9570d11a92684}{H\+D\+R\+C\+NV}~\char`\"{}hdrcnv\char`\"{}
\item 
\#define \hyperlink{mk_patch_8c_a4e9a6e1c42f1ef467bc9370d4e0dd414}{E\+R\+A\+S\+E\+D\+\_\+\+V\+A\+L\+UE}~0x\+F\+FU
\item 
\#define \hyperlink{mk_patch_8c_acbe07a3c3fe2056125230c357f85b870}{S\+E\+G\+M\+E\+N\+T\+\_\+\+S\+I\+ZE}~(1024\+U $\ast$ 1024\+U)
\item 
\#define \hyperlink{mk_patch_8c_af57be37082341eb950c783b9aef24e2d}{F\+L\+A\+S\+H\+\_\+\+P\+A\+G\+E\+S\+I\+Z\+E\+\_\+4K}~4096U
\item 
\#define \hyperlink{mk_patch_8c_a650549ac48361094259b8b598c9eed9f}{F\+L\+A\+S\+H\+\_\+\+P\+A\+G\+E\+S\+I\+Z\+E\+\_\+2K}~2048U
\item 
\#define \hyperlink{mk_patch_8c_ab46e9229c84db27388063ac287097f72}{F\+L\+A\+S\+H\+\_\+\+P\+E\+B\+S\+I\+Z\+E\+\_\+256K}~(256 $\ast$ 1024\+U)
\item 
\#define \hyperlink{mk_patch_8c_ac186512aae03dd7af4397a51518e98ef}{F\+L\+A\+S\+H\+\_\+\+P\+E\+B\+S\+I\+Z\+E\+\_\+128K}~(128 $\ast$ 1024\+U)
\item 
\#define \hyperlink{mk_patch_8c_af0a267249fc2d91fb1326d815ad644cf}{M\+I\+S\+C\+\_\+\+O\+P\+T\+S\+\_\+\+O\+F\+F\+S\+ET}~0x17C
\item 
\#define \hyperlink{mk_patch_8c_a7fa2c28a8dbd3786a4cb4861992070d2}{M\+I\+S\+C\+\_\+\+O\+P\+T\+S\+\_\+\+D\+E\+L\+T\+A\+P\+A\+T\+CH}~0x08
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{mk_patch_8c_a735de8d9891cf3f1f8b293a1797abe04}{Read\+Ec\+Header} (int \hyperlink{app_stop_client_8c_a44f21d5190b5a6df8089f54799628d7e}{fd}, off64\+\_\+t phys\+Erase\+Offset, struct ubi\+\_\+ec\+\_\+hdr $\ast$ec\+Header\+Ptr)
\item 
static \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{mk_patch_8c_a03b0a2f349832fe14f7903ec22e97188}{Read\+Vid\+Header} (int \hyperlink{app_stop_client_8c_a44f21d5190b5a6df8089f54799628d7e}{fd}, off64\+\_\+t phys\+Erase\+Offset, struct ubi\+\_\+vid\+\_\+hdr $\ast$vid\+Header\+Ptr, off64\+\_\+t vid\+Offset)
\item 
static \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{mk_patch_8c_a6283dc31374f1c18e546e3aed268b0c5}{Read\+Vtbl} (int \hyperlink{app_stop_client_8c_a44f21d5190b5a6df8089f54799628d7e}{fd}, off64\+\_\+t phys\+Erase\+Offset, struct ubi\+\_\+vtbl\+\_\+record $\ast$vtbl\+Ptr, off64\+\_\+t vtbl\+Offset)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{mk_patch_8c_a8fdfa398ad58dafd6c2b9038d5d7a089}{Scan\+Ubi} (int \hyperlink{app_stop_client_8c_a44f21d5190b5a6df8089f54799628d7e}{fd}, size\+\_\+t image\+Length, int $\ast$nb\+Volume\+Ptr)
\item 
static \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{mk_patch_8c_a3648171043156eec18e52ae297d4b794}{Extract\+Ubi\+Data} (int \hyperlink{app_stop_client_8c_a44f21d5190b5a6df8089f54799628d7e}{fd}, uint32\+\_\+t ubi\+Vol\+Id, char $\ast$file\+Name\+Ptr, size\+\_\+t $\ast$size\+Ptr, uint32\+\_\+t $\ast$crc32\+Ptr)
\item 
static \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{mk_patch_8c_ae39b01526b986d5ecb56b665c05fedea}{Exithandler} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
static \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{mk_patch_8c_a23e4cee136476439348a35efe6aec322}{Exec\+System} (char $\ast$cmd\+Ptr)
\item 
static \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{mk_patch_8c_acb1f53677c1f8f3b0ba13c456935e3da}{Usage} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
static \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{mk_patch_8c_a3121f2daca5f306b9d26468a0c496014}{Check\+For\+Tool} (char $\ast$tool\+Ptr, char $\ast$toolchain\+Ptr)
\item 
int \hyperlink{mk_patch_8c_a3c04138a5bfe5d72780bb7e82a18e627}{main} (int argc, char $\ast$$\ast$argv)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{struct_vtbl_map__t}{Vtbl\+Map\+\_\+t} \hyperlink{mk_patch_8c_aa5c9fee700e527a229ec7f62a4e8eb93}{Vtbl\+Map} \mbox{[}U\+B\+I\+\_\+\+M\+A\+X\+\_\+\+V\+O\+L\+U\+M\+ES\mbox{]}
\item 
static struct ubi\+\_\+vtbl\+\_\+record \hyperlink{mk_patch_8c_a14f51a41b2091c84b89f093bfcefb1b4}{Vtbl} \mbox{[}U\+B\+I\+\_\+\+M\+A\+X\+\_\+\+V\+O\+L\+U\+M\+ES\mbox{]}
\item 
static \hyperlink{struct_part_to_spkg__t}{Part\+To\+Spkg\+\_\+t} \hyperlink{mk_patch_8c_ab96839b19410c3119ffa11387f66e22d}{mdm9x40\+\_\+\+Part\+To\+Spkg} \mbox{[}$\,$\mbox{]}
\item 
static char $\ast$ \hyperlink{mk_patch_8c_a1b24350a8bc5e71582fb4adf001457db}{Prog\+Name}
\item 
static bool \hyperlink{mk_patch_8c_ad360b1747e5ed34eb6a2ccf63ee3c8d1}{Is\+Verbose} = false
\item 
static char $\ast$ \hyperlink{mk_patch_8c_aaf9e4b5bb5efc963d756d6bdb6df2932}{Orig\+Ptr}
\item 
static char $\ast$ \hyperlink{mk_patch_8c_a66e2e52257e89575e16d6a8f318c5c71}{Dest\+Ptr}
\item 
static char \hyperlink{mk_patch_8c_ae3a771919b402942d055e56ef6618a9a}{Orig\+Name} \mbox{[}P\+A\+T\+H\+\_\+\+M\+AX\mbox{]}
\item 
static char \hyperlink{mk_patch_8c_a10f6d31485c417dcb8dcddfb33ea4e82}{Dest\+Name} \mbox{[}P\+A\+T\+H\+\_\+\+M\+AX\mbox{]}
\item 
static \hyperlink{struct_delta_patch_meta_header__t}{Delta\+Patch\+Meta\+Header\+\_\+t} \hyperlink{mk_patch_8c_a378971cafc9137dd1b9db510a0e7a580}{Patch\+Meta\+Header}
\item 
static \hyperlink{struct_delta_patch_header__t}{Delta\+Patch\+Header\+\_\+t} \hyperlink{mk_patch_8c_ac2720a6febfbe609e66bc7bc1c06f989}{Patch\+Header}
\item 
static uint8\+\_\+t \hyperlink{mk_patch_8c_a82b7bfc602ff95ce08cc52a1dce73ac3}{Chunk} \mbox{[}\hyperlink{mk_patch_8c_acbe07a3c3fe2056125230c357f85b870}{S\+E\+G\+M\+E\+N\+T\+\_\+\+S\+I\+ZE}\mbox{]}
\item 
static uint8\+\_\+t \hyperlink{mk_patch_8c_ad94d6a46ed919e14bad1bb1b9a87b878}{Patched\+Chunk} \mbox{[}2 $\ast$\hyperlink{mk_patch_8c_acbe07a3c3fe2056125230c357f85b870}{S\+E\+G\+M\+E\+N\+T\+\_\+\+S\+I\+ZE}\mbox{]}
\item 
static int32\+\_\+t \hyperlink{mk_patch_8c_a7dcc4d79308987cf363790d29fb4c0cf}{Flash\+Page\+Size} = -\/1
\item 
static int32\+\_\+t \hyperlink{mk_patch_8c_a246a7db09d3c7367853233d56853ca3e}{Flash\+P\+E\+B\+Size} = -\/1
\item 
static char \hyperlink{mk_patch_8c_a0787899e4fe64a3eec9c2f3a6a9313e9}{Cmd\+Buf} \mbox{[}4096\mbox{]}
\item 
static char \hyperlink{mk_patch_8c_a66d5b1338a49fe91c6ad3965bc9fc54b}{Current\+Work\+Dir} \mbox{[}P\+A\+T\+H\+\_\+\+M\+AX\mbox{]}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Build delta patches between several images

Copyright (C) Sierra Wireless Inc. 

\subsection{Macro Definition Documentation}
\index{mk\+Patch.\+c@{mk\+Patch.\+c}!\+\_\+\+L\+A\+R\+G\+E\+F\+I\+L\+E64\+\_\+\+S\+O\+U\+R\+CE@{\+\_\+\+L\+A\+R\+G\+E\+F\+I\+L\+E64\+\_\+\+S\+O\+U\+R\+CE}}
\index{\+\_\+\+L\+A\+R\+G\+E\+F\+I\+L\+E64\+\_\+\+S\+O\+U\+R\+CE@{\+\_\+\+L\+A\+R\+G\+E\+F\+I\+L\+E64\+\_\+\+S\+O\+U\+R\+CE}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+\+L\+A\+R\+G\+E\+F\+I\+L\+E64\+\_\+\+S\+O\+U\+R\+CE}{_LARGEFILE64_SOURCE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define \+\_\+\+L\+A\+R\+G\+E\+F\+I\+L\+E64\+\_\+\+S\+O\+U\+R\+CE}\hypertarget{mk_patch_8c_a0e6d20c5075b52b0f0bc4858d51c8591}{}\label{mk_patch_8c_a0e6d20c5075b52b0f0bc4858d51c8591}
\index{mk\+Patch.\+c@{mk\+Patch.\+c}!B\+S\+D\+I\+FF@{B\+S\+D\+I\+FF}}
\index{B\+S\+D\+I\+FF@{B\+S\+D\+I\+FF}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{B\+S\+D\+I\+FF}{BSDIFF}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B\+S\+D\+I\+FF~\char`\"{}bsdiff\char`\"{}}\hypertarget{mk_patch_8c_ad3ee1251e55e6cc01e9d24585f5c1f5a}{}\label{mk_patch_8c_ad3ee1251e55e6cc01e9d24585f5c1f5a}
Defines some executables requested by the tool \index{mk\+Patch.\+c@{mk\+Patch.\+c}!E\+R\+A\+S\+E\+D\+\_\+\+V\+A\+L\+UE@{E\+R\+A\+S\+E\+D\+\_\+\+V\+A\+L\+UE}}
\index{E\+R\+A\+S\+E\+D\+\_\+\+V\+A\+L\+UE@{E\+R\+A\+S\+E\+D\+\_\+\+V\+A\+L\+UE}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{E\+R\+A\+S\+E\+D\+\_\+\+V\+A\+L\+UE}{ERASED_VALUE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define E\+R\+A\+S\+E\+D\+\_\+\+V\+A\+L\+UE~0x\+F\+FU}\hypertarget{mk_patch_8c_a4e9a6e1c42f1ef467bc9370d4e0dd414}{}\label{mk_patch_8c_a4e9a6e1c42f1ef467bc9370d4e0dd414}
Defines the value of flash erased byte, ie, all bits to 1 \index{mk\+Patch.\+c@{mk\+Patch.\+c}!F\+L\+A\+S\+H\+\_\+\+P\+A\+G\+E\+S\+I\+Z\+E\+\_\+2K@{F\+L\+A\+S\+H\+\_\+\+P\+A\+G\+E\+S\+I\+Z\+E\+\_\+2K}}
\index{F\+L\+A\+S\+H\+\_\+\+P\+A\+G\+E\+S\+I\+Z\+E\+\_\+2K@{F\+L\+A\+S\+H\+\_\+\+P\+A\+G\+E\+S\+I\+Z\+E\+\_\+2K}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{F\+L\+A\+S\+H\+\_\+\+P\+A\+G\+E\+S\+I\+Z\+E\+\_\+2K}{FLASH_PAGESIZE_2K}}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\+L\+A\+S\+H\+\_\+\+P\+A\+G\+E\+S\+I\+Z\+E\+\_\+2K~2048U}\hypertarget{mk_patch_8c_a650549ac48361094259b8b598c9eed9f}{}\label{mk_patch_8c_a650549ac48361094259b8b598c9eed9f}
\index{mk\+Patch.\+c@{mk\+Patch.\+c}!F\+L\+A\+S\+H\+\_\+\+P\+A\+G\+E\+S\+I\+Z\+E\+\_\+4K@{F\+L\+A\+S\+H\+\_\+\+P\+A\+G\+E\+S\+I\+Z\+E\+\_\+4K}}
\index{F\+L\+A\+S\+H\+\_\+\+P\+A\+G\+E\+S\+I\+Z\+E\+\_\+4K@{F\+L\+A\+S\+H\+\_\+\+P\+A\+G\+E\+S\+I\+Z\+E\+\_\+4K}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{F\+L\+A\+S\+H\+\_\+\+P\+A\+G\+E\+S\+I\+Z\+E\+\_\+4K}{FLASH_PAGESIZE_4K}}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\+L\+A\+S\+H\+\_\+\+P\+A\+G\+E\+S\+I\+Z\+E\+\_\+4K~4096U}\hypertarget{mk_patch_8c_af57be37082341eb950c783b9aef24e2d}{}\label{mk_patch_8c_af57be37082341eb950c783b9aef24e2d}
Defines the page size of flash device. This is the minimum I/O size for writing \index{mk\+Patch.\+c@{mk\+Patch.\+c}!F\+L\+A\+S\+H\+\_\+\+P\+E\+B\+S\+I\+Z\+E\+\_\+128K@{F\+L\+A\+S\+H\+\_\+\+P\+E\+B\+S\+I\+Z\+E\+\_\+128K}}
\index{F\+L\+A\+S\+H\+\_\+\+P\+E\+B\+S\+I\+Z\+E\+\_\+128K@{F\+L\+A\+S\+H\+\_\+\+P\+E\+B\+S\+I\+Z\+E\+\_\+128K}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{F\+L\+A\+S\+H\+\_\+\+P\+E\+B\+S\+I\+Z\+E\+\_\+128K}{FLASH_PEBSIZE_128K}}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\+L\+A\+S\+H\+\_\+\+P\+E\+B\+S\+I\+Z\+E\+\_\+128K~(128 $\ast$ 1024\+U)}\hypertarget{mk_patch_8c_ac186512aae03dd7af4397a51518e98ef}{}\label{mk_patch_8c_ac186512aae03dd7af4397a51518e98ef}
\index{mk\+Patch.\+c@{mk\+Patch.\+c}!F\+L\+A\+S\+H\+\_\+\+P\+E\+B\+S\+I\+Z\+E\+\_\+256K@{F\+L\+A\+S\+H\+\_\+\+P\+E\+B\+S\+I\+Z\+E\+\_\+256K}}
\index{F\+L\+A\+S\+H\+\_\+\+P\+E\+B\+S\+I\+Z\+E\+\_\+256K@{F\+L\+A\+S\+H\+\_\+\+P\+E\+B\+S\+I\+Z\+E\+\_\+256K}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{F\+L\+A\+S\+H\+\_\+\+P\+E\+B\+S\+I\+Z\+E\+\_\+256K}{FLASH_PEBSIZE_256K}}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\+L\+A\+S\+H\+\_\+\+P\+E\+B\+S\+I\+Z\+E\+\_\+256K~(256 $\ast$ 1024\+U)}\hypertarget{mk_patch_8c_ab46e9229c84db27388063ac287097f72}{}\label{mk_patch_8c_ab46e9229c84db27388063ac287097f72}
Defines the P\+EB size of flash device. This is the size of physical erase block (P\+EB) \index{mk\+Patch.\+c@{mk\+Patch.\+c}!H\+D\+R\+C\+NV@{H\+D\+R\+C\+NV}}
\index{H\+D\+R\+C\+NV@{H\+D\+R\+C\+NV}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{H\+D\+R\+C\+NV}{HDRCNV}}]{\setlength{\rightskip}{0pt plus 5cm}\#define H\+D\+R\+C\+NV~\char`\"{}hdrcnv\char`\"{}}\hypertarget{mk_patch_8c_adb9d72bb8070676ed0d9570d11a92684}{}\label{mk_patch_8c_adb9d72bb8070676ed0d9570d11a92684}
\index{mk\+Patch.\+c@{mk\+Patch.\+c}!M\+I\+S\+C\+\_\+\+O\+P\+T\+S\+\_\+\+D\+E\+L\+T\+A\+P\+A\+T\+CH@{M\+I\+S\+C\+\_\+\+O\+P\+T\+S\+\_\+\+D\+E\+L\+T\+A\+P\+A\+T\+CH}}
\index{M\+I\+S\+C\+\_\+\+O\+P\+T\+S\+\_\+\+D\+E\+L\+T\+A\+P\+A\+T\+CH@{M\+I\+S\+C\+\_\+\+O\+P\+T\+S\+\_\+\+D\+E\+L\+T\+A\+P\+A\+T\+CH}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{M\+I\+S\+C\+\_\+\+O\+P\+T\+S\+\_\+\+D\+E\+L\+T\+A\+P\+A\+T\+CH}{MISC_OPTS_DELTAPATCH}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+I\+S\+C\+\_\+\+O\+P\+T\+S\+\_\+\+D\+E\+L\+T\+A\+P\+A\+T\+CH~0x08}\hypertarget{mk_patch_8c_a7fa2c28a8dbd3786a4cb4861992070d2}{}\label{mk_patch_8c_a7fa2c28a8dbd3786a4cb4861992070d2}
\index{mk\+Patch.\+c@{mk\+Patch.\+c}!M\+I\+S\+C\+\_\+\+O\+P\+T\+S\+\_\+\+O\+F\+F\+S\+ET@{M\+I\+S\+C\+\_\+\+O\+P\+T\+S\+\_\+\+O\+F\+F\+S\+ET}}
\index{M\+I\+S\+C\+\_\+\+O\+P\+T\+S\+\_\+\+O\+F\+F\+S\+ET@{M\+I\+S\+C\+\_\+\+O\+P\+T\+S\+\_\+\+O\+F\+F\+S\+ET}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{M\+I\+S\+C\+\_\+\+O\+P\+T\+S\+\_\+\+O\+F\+F\+S\+ET}{MISC_OPTS_OFFSET}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+I\+S\+C\+\_\+\+O\+P\+T\+S\+\_\+\+O\+F\+F\+S\+ET~0x17C}\hypertarget{mk_patch_8c_af0a267249fc2d91fb1326d815ad644cf}{}\label{mk_patch_8c_af0a267249fc2d91fb1326d815ad644cf}
Defines the offset and the flag bits used to mark the delta patch \index{mk\+Patch.\+c@{mk\+Patch.\+c}!S\+E\+G\+M\+E\+N\+T\+\_\+\+S\+I\+ZE@{S\+E\+G\+M\+E\+N\+T\+\_\+\+S\+I\+ZE}}
\index{S\+E\+G\+M\+E\+N\+T\+\_\+\+S\+I\+ZE@{S\+E\+G\+M\+E\+N\+T\+\_\+\+S\+I\+ZE}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{S\+E\+G\+M\+E\+N\+T\+\_\+\+S\+I\+ZE}{SEGMENT_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+E\+G\+M\+E\+N\+T\+\_\+\+S\+I\+ZE~(1024\+U $\ast$ 1024\+U)}\hypertarget{mk_patch_8c_acbe07a3c3fe2056125230c357f85b870}{}\label{mk_patch_8c_acbe07a3c3fe2056125230c357f85b870}
Defines the size of the patch segment for binary images 

\subsection{Function Documentation}
\index{mk\+Patch.\+c@{mk\+Patch.\+c}!Check\+For\+Tool@{Check\+For\+Tool}}
\index{Check\+For\+Tool@{Check\+For\+Tool}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Check\+For\+Tool(char $\ast$tool\+Ptr, char $\ast$toolchain\+Ptr)}{CheckForTool(char *toolPtr, char *toolchainPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf void} Check\+For\+Tool (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{tool\+Ptr, }
\item[{char $\ast$}]{toolchain\+Ptr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_a3121f2daca5f306b9d26468a0c496014}{}\label{mk_patch_8c_a3121f2daca5f306b9d26468a0c496014}
Check if tool exists inside the P\+A\+TH list and is executable. Else raise a message explaining the missing tool and the way to solve it. \index{mk\+Patch.\+c@{mk\+Patch.\+c}!Exec\+System@{Exec\+System}}
\index{Exec\+System@{Exec\+System}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Exec\+System(char $\ast$cmd\+Ptr)}{ExecSystem(char *cmdPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf void} Exec\+System (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{cmd\+Ptr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_a23e4cee136476439348a35efe6aec322}{}\label{mk_patch_8c_a23e4cee136476439348a35efe6aec322}
Call system(3) with the command given. In case of error, call exit(3). Return only if system(3) has succeed \index{mk\+Patch.\+c@{mk\+Patch.\+c}!Exithandler@{Exithandler}}
\index{Exithandler@{Exithandler}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Exithandler(void)}{Exithandler(void)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf void} Exithandler (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_ae39b01526b986d5ecb56b665c05fedea}{}\label{mk_patch_8c_ae39b01526b986d5ecb56b665c05fedea}
Call at exit(3) to perform all clean-\/up actions \index{mk\+Patch.\+c@{mk\+Patch.\+c}!Extract\+Ubi\+Data@{Extract\+Ubi\+Data}}
\index{Extract\+Ubi\+Data@{Extract\+Ubi\+Data}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Extract\+Ubi\+Data(int fd, uint32\+\_\+t ubi\+Vol\+Id, char $\ast$file\+Name\+Ptr, size\+\_\+t $\ast$size\+Ptr, uint32\+\_\+t $\ast$crc32\+Ptr)}{ExtractUbiData(int fd, uint32_t ubiVolId, char *fileNamePtr, size_t *sizePtr, uint32_t *crc32Ptr)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf le\+\_\+result\+\_\+t} Extract\+Ubi\+Data (
\begin{DoxyParamCaption}
\item[{int}]{fd, }
\item[{uint32\+\_\+t}]{ubi\+Vol\+Id, }
\item[{char $\ast$}]{file\+Name\+Ptr, }
\item[{size\+\_\+t $\ast$}]{size\+Ptr, }
\item[{uint32\+\_\+t $\ast$}]{crc32\+Ptr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_a3648171043156eec18e52ae297d4b794}{}\label{mk_patch_8c_a3648171043156eec18e52ae297d4b794}
Extract the data image belonging to an U\+BI volume ID.

\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item L\+E\+\_\+\+OK On success
\item L\+E\+\_\+\+F\+A\+U\+LT On failure 
\end{DoxyItemize}
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em fd} & Minor of the M\+TD device to check \\
\hline
\mbox{\tt in}  & {\em ubi\+Vol\+Id} & U\+BI Volume ID to check \\
\hline
\mbox{\tt in}  & {\em file\+Name\+Ptr} & File name where to store the extracted image from U\+BI volume \\
\hline
\mbox{\tt out}  & {\em size\+Ptr} & Returned size of the extracted image \\
\hline
\mbox{\tt out}  & {\em crc32\+Ptr} & Returned computed C\+R\+C32 of the extracted image \\
\hline
\end{DoxyParams}
\index{mk\+Patch.\+c@{mk\+Patch.\+c}!main@{main}}
\index{main@{main}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{main(int argc, char $\ast$$\ast$argv)}{main(int argc, char **argv)}}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$$\ast$}]{argv}
\end{DoxyParamCaption}
)}\hypertarget{mk_patch_8c_a3c04138a5bfe5d72780bb7e82a18e627}{}\label{mk_patch_8c_a3c04138a5bfe5d72780bb7e82a18e627}
Main \+:) \index{mk\+Patch.\+c@{mk\+Patch.\+c}!Read\+Ec\+Header@{Read\+Ec\+Header}}
\index{Read\+Ec\+Header@{Read\+Ec\+Header}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Read\+Ec\+Header(int fd, off64\+\_\+t phys\+Erase\+Offset, struct ubi\+\_\+ec\+\_\+hdr $\ast$ec\+Header\+Ptr)}{ReadEcHeader(int fd, off64_t physEraseOffset, struct ubi_ec_hdr *ecHeaderPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf le\+\_\+result\+\_\+t} Read\+Ec\+Header (
\begin{DoxyParamCaption}
\item[{int}]{fd, }
\item[{off64\+\_\+t}]{phys\+Erase\+Offset, }
\item[{struct ubi\+\_\+ec\+\_\+hdr $\ast$}]{ec\+Header\+Ptr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_a735de8d9891cf3f1f8b293a1797abe04}{}\label{mk_patch_8c_a735de8d9891cf3f1f8b293a1797abe04}
Functions to handle big-\/endian $<$$>$ little-\/endian conversion Read the U\+BI EC (Erase Count) header at the given block, check for validity and store it into the buffer pointer.

\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item L\+E\+\_\+\+OK On success
\item L\+E\+\_\+\+F\+A\+U\+LT On failure 
\end{DoxyItemize}
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em fd} & File descriptor to the flash device \\
\hline
\mbox{\tt in}  & {\em phys\+Erase\+Offset} & Physcal erase block (P\+EB) to read \\
\hline
\mbox{\tt in}  & {\em ec\+Header\+Ptr} & Buffer to store read data \\
\hline
\end{DoxyParams}
\index{mk\+Patch.\+c@{mk\+Patch.\+c}!Read\+Vid\+Header@{Read\+Vid\+Header}}
\index{Read\+Vid\+Header@{Read\+Vid\+Header}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Read\+Vid\+Header(int fd, off64\+\_\+t phys\+Erase\+Offset, struct ubi\+\_\+vid\+\_\+hdr $\ast$vid\+Header\+Ptr, off64\+\_\+t vid\+Offset)}{ReadVidHeader(int fd, off64_t physEraseOffset, struct ubi_vid_hdr *vidHeaderPtr, off64_t vidOffset)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf le\+\_\+result\+\_\+t} Read\+Vid\+Header (
\begin{DoxyParamCaption}
\item[{int}]{fd, }
\item[{off64\+\_\+t}]{phys\+Erase\+Offset, }
\item[{struct ubi\+\_\+vid\+\_\+hdr $\ast$}]{vid\+Header\+Ptr, }
\item[{off64\+\_\+t}]{vid\+Offset}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_a03b0a2f349832fe14f7903ec22e97188}{}\label{mk_patch_8c_a03b0a2f349832fe14f7903ec22e97188}
Read the U\+BI Volume ID header at the given block + offset, check for validity and store it into the buffer pointer.

\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item L\+E\+\_\+\+OK On success
\item L\+E\+\_\+\+F\+A\+U\+LT On failure 
\end{DoxyItemize}
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em fd} & File descriptor to the flash device \\
\hline
\mbox{\tt in}  & {\em phys\+Erase\+Offset} & Physcal erase block (P\+EB) to read \\
\hline
\mbox{\tt in}  & {\em vid\+Header\+Ptr} & Pointer to the V\+ID header \\
\hline
\mbox{\tt in}  & {\em vid\+Offset} & Offset of V\+ID header in physical block \\
\hline
\end{DoxyParams}
\index{mk\+Patch.\+c@{mk\+Patch.\+c}!Read\+Vtbl@{Read\+Vtbl}}
\index{Read\+Vtbl@{Read\+Vtbl}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Read\+Vtbl(int fd, off64\+\_\+t phys\+Erase\+Offset, struct ubi\+\_\+vtbl\+\_\+record $\ast$vtbl\+Ptr, off64\+\_\+t vtbl\+Offset)}{ReadVtbl(int fd, off64_t physEraseOffset, struct ubi_vtbl_record *vtblPtr, off64_t vtblOffset)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf le\+\_\+result\+\_\+t} Read\+Vtbl (
\begin{DoxyParamCaption}
\item[{int}]{fd, }
\item[{off64\+\_\+t}]{phys\+Erase\+Offset, }
\item[{struct ubi\+\_\+vtbl\+\_\+record $\ast$}]{vtbl\+Ptr, }
\item[{off64\+\_\+t}]{vtbl\+Offset}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_a6283dc31374f1c18e546e3aed268b0c5}{}\label{mk_patch_8c_a6283dc31374f1c18e546e3aed268b0c5}
Read the U\+BI Volume Table at the given block + offset, check for validity and store it into the buffer pointer.

\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item L\+E\+\_\+\+OK On success
\item L\+E\+\_\+\+F\+A\+U\+LT On failure 
\end{DoxyItemize}
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em fd} & File descriptor to the flash device \\
\hline
\mbox{\tt in}  & {\em phys\+Erase\+Offset} & Physcal erase block (P\+EB) to read \\
\hline
\mbox{\tt in}  & {\em vtbl\+Ptr} & Pointer to the V\+T\+BL \\
\hline
\mbox{\tt in}  & {\em vtbl\+Offset} & Offset of V\+T\+BL in physical block \\
\hline
\end{DoxyParams}
\index{mk\+Patch.\+c@{mk\+Patch.\+c}!Scan\+Ubi@{Scan\+Ubi}}
\index{Scan\+Ubi@{Scan\+Ubi}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Scan\+Ubi(int fd, size\+\_\+t image\+Length, int $\ast$nb\+Volume\+Ptr)}{ScanUbi(int fd, size_t imageLength, int *nbVolumePtr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} Scan\+Ubi (
\begin{DoxyParamCaption}
\item[{int}]{fd, }
\item[{size\+\_\+t}]{image\+Length, }
\item[{int $\ast$}]{nb\+Volume\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{mk_patch_8c_a8fdfa398ad58dafd6c2b9038d5d7a089}{}\label{mk_patch_8c_a8fdfa398ad58dafd6c2b9038d5d7a089}
Scan a partition for the U\+BI volume ID given. Update the Leb\+To\+Peb array field with L\+EB for this volume ID.

\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item L\+E\+\_\+\+OK On success
\item L\+E\+\_\+\+F\+A\+U\+LT On failure
\item L\+E\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+E\+R\+R\+OR If the flash is not in U\+BI format 
\end{DoxyItemize}
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em fd} & Private flash descriptor \\
\hline
\mbox{\tt in}  & {\em image\+Length} & Length of U\+BI image to scan \\
\hline
\mbox{\tt out}  & {\em nb\+Volume\+Ptr} & Number of U\+BI volume found \\
\hline
\end{DoxyParams}
\index{mk\+Patch.\+c@{mk\+Patch.\+c}!Usage@{Usage}}
\index{Usage@{Usage}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Usage(void)}{Usage(void)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf void} Usage (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_acb1f53677c1f8f3b0ba13c456935e3da}{}\label{mk_patch_8c_acb1f53677c1f8f3b0ba13c456935e3da}
Print usage and exit... 

\subsection{Variable Documentation}
\index{mk\+Patch.\+c@{mk\+Patch.\+c}!Chunk@{Chunk}}
\index{Chunk@{Chunk}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Chunk}{Chunk}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t Chunk\mbox{[}{\bf S\+E\+G\+M\+E\+N\+T\+\_\+\+S\+I\+ZE}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_a82b7bfc602ff95ce08cc52a1dce73ac3}{}\label{mk_patch_8c_a82b7bfc602ff95ce08cc52a1dce73ac3}
Buffer for the segment to read \index{mk\+Patch.\+c@{mk\+Patch.\+c}!Cmd\+Buf@{Cmd\+Buf}}
\index{Cmd\+Buf@{Cmd\+Buf}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Cmd\+Buf}{CmdBuf}}]{\setlength{\rightskip}{0pt plus 5cm}char Cmd\+Buf\mbox{[}4096\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_a0787899e4fe64a3eec9c2f3a6a9313e9}{}\label{mk_patch_8c_a0787899e4fe64a3eec9c2f3a6a9313e9}
Buffer for the commands launched by system(3) \index{mk\+Patch.\+c@{mk\+Patch.\+c}!Current\+Work\+Dir@{Current\+Work\+Dir}}
\index{Current\+Work\+Dir@{Current\+Work\+Dir}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Current\+Work\+Dir}{CurrentWorkDir}}]{\setlength{\rightskip}{0pt plus 5cm}char Current\+Work\+Dir\mbox{[}P\+A\+T\+H\+\_\+\+M\+AX\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_a66d5b1338a49fe91c6ad3965bc9fc54b}{}\label{mk_patch_8c_a66d5b1338a49fe91c6ad3965bc9fc54b}
Original working directory. The tool creates and goes to a temporary work directory due to some tools issues with global path. \index{mk\+Patch.\+c@{mk\+Patch.\+c}!Dest\+Name@{Dest\+Name}}
\index{Dest\+Name@{Dest\+Name}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Dest\+Name}{DestName}}]{\setlength{\rightskip}{0pt plus 5cm}char Dest\+Name\mbox{[}P\+A\+T\+H\+\_\+\+M\+AX\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_a10f6d31485c417dcb8dcddfb33ea4e82}{}\label{mk_patch_8c_a10f6d31485c417dcb8dcddfb33ea4e82}
Destination name path \index{mk\+Patch.\+c@{mk\+Patch.\+c}!Dest\+Ptr@{Dest\+Ptr}}
\index{Dest\+Ptr@{Dest\+Ptr}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Dest\+Ptr}{DestPtr}}]{\setlength{\rightskip}{0pt plus 5cm}char $\ast$ Dest\+Ptr\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_a66e2e52257e89575e16d6a8f318c5c71}{}\label{mk_patch_8c_a66e2e52257e89575e16d6a8f318c5c71}
\index{mk\+Patch.\+c@{mk\+Patch.\+c}!Flash\+Page\+Size@{Flash\+Page\+Size}}
\index{Flash\+Page\+Size@{Flash\+Page\+Size}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Flash\+Page\+Size}{FlashPageSize}}]{\setlength{\rightskip}{0pt plus 5cm}int32\+\_\+t Flash\+Page\+Size = -\/1\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_a7dcc4d79308987cf363790d29fb4c0cf}{}\label{mk_patch_8c_a7dcc4d79308987cf363790d29fb4c0cf}
Flash device page size \index{mk\+Patch.\+c@{mk\+Patch.\+c}!Flash\+P\+E\+B\+Size@{Flash\+P\+E\+B\+Size}}
\index{Flash\+P\+E\+B\+Size@{Flash\+P\+E\+B\+Size}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Flash\+P\+E\+B\+Size}{FlashPEBSize}}]{\setlength{\rightskip}{0pt plus 5cm}int32\+\_\+t Flash\+P\+E\+B\+Size = -\/1\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_a246a7db09d3c7367853233d56853ca3e}{}\label{mk_patch_8c_a246a7db09d3c7367853233d56853ca3e}
Flash device Physical Erase Block size \index{mk\+Patch.\+c@{mk\+Patch.\+c}!Is\+Verbose@{Is\+Verbose}}
\index{Is\+Verbose@{Is\+Verbose}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Is\+Verbose}{IsVerbose}}]{\setlength{\rightskip}{0pt plus 5cm}bool Is\+Verbose = false\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_ad360b1747e5ed34eb6a2ccf63ee3c8d1}{}\label{mk_patch_8c_ad360b1747e5ed34eb6a2ccf63ee3c8d1}
Verbose mode enabled or disabled (default) \index{mk\+Patch.\+c@{mk\+Patch.\+c}!mdm9x40\+\_\+\+Part\+To\+Spkg@{mdm9x40\+\_\+\+Part\+To\+Spkg}}
\index{mdm9x40\+\_\+\+Part\+To\+Spkg@{mdm9x40\+\_\+\+Part\+To\+Spkg}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{mdm9x40\+\_\+\+Part\+To\+Spkg}{mdm9x40_PartToSpkg}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Part\+To\+Spkg\+\_\+t} mdm9x40\+\_\+\+Part\+To\+Spkg\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_ab96839b19410c3119ffa11387f66e22d}{}\label{mk_patch_8c_ab96839b19410c3119ffa11387f66e22d}
{\bfseries Initial value\+:}
\begin{DoxyCode}
=
\{
    \{ \textcolor{stringliteral}{"lefwkro"},   \textcolor{stringliteral}{"USER"}, \textcolor{stringliteral}{"APPL"}, \textcolor{keyword}{true},  \},
    \{ \textcolor{stringliteral}{"system"},    \textcolor{stringliteral}{"SYST"}, \textcolor{stringliteral}{"APPL"}, \textcolor{keyword}{true},  \},
    \{ \textcolor{stringliteral}{"boot"},      \textcolor{stringliteral}{"APPS"}, \textcolor{stringliteral}{"APPL"}, \textcolor{keyword}{false}, \},
    \{ \textcolor{stringliteral}{"aboot"},     \textcolor{stringliteral}{"APBL"}, \textcolor{stringliteral}{"APPL"}, \textcolor{keyword}{false}, \},
    \{ \textcolor{stringliteral}{"modem"},     \textcolor{stringliteral}{"DSP2"}, \textcolor{stringliteral}{"MODM"}, \textcolor{keyword}{true},  \},
    \{ \textcolor{stringliteral}{"sbl"},       \textcolor{stringliteral}{"SBL1"}, \textcolor{stringliteral}{"BOOT"}, \textcolor{keyword}{false}, \},
    \{ \textcolor{stringliteral}{"aboot"},     \textcolor{stringliteral}{"APBL"}, \textcolor{stringliteral}{"BOOT"}, \textcolor{keyword}{false}, \},
    \{ \textcolor{stringliteral}{"tz"},        \textcolor{stringliteral}{"TZON"}, \textcolor{stringliteral}{"BOOT"}, \textcolor{keyword}{false}, \},
    \{ \textcolor{stringliteral}{"rpm"},       \textcolor{stringliteral}{"QRPM"}, \textcolor{stringliteral}{"BOOT"}, \textcolor{keyword}{false}, \},
    \{ \textcolor{stringliteral}{"customer0"}, \textcolor{stringliteral}{"CUS0"}, \textcolor{stringliteral}{"APPL"}, \textcolor{keyword}{false}, \},
    \{ \textcolor{stringliteral}{"customer1"}, \textcolor{stringliteral}{"CUS1"}, \textcolor{stringliteral}{"APPL"}, \textcolor{keyword}{false}, \},
    \{ NULL,        NULL,   NULL,   \textcolor{keyword}{false}, \},
\}
\end{DoxyCode}
M\+D\+M9x40 and M\+D\+M9x28 partition scheme. This is platform dependant \index{mk\+Patch.\+c@{mk\+Patch.\+c}!Orig\+Name@{Orig\+Name}}
\index{Orig\+Name@{Orig\+Name}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Orig\+Name}{OrigName}}]{\setlength{\rightskip}{0pt plus 5cm}char Orig\+Name\mbox{[}P\+A\+T\+H\+\_\+\+M\+AX\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_ae3a771919b402942d055e56ef6618a9a}{}\label{mk_patch_8c_ae3a771919b402942d055e56ef6618a9a}
Original name path \index{mk\+Patch.\+c@{mk\+Patch.\+c}!Orig\+Ptr@{Orig\+Ptr}}
\index{Orig\+Ptr@{Orig\+Ptr}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Orig\+Ptr}{OrigPtr}}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ Orig\+Ptr\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_aaf9e4b5bb5efc963d756d6bdb6df2932}{}\label{mk_patch_8c_aaf9e4b5bb5efc963d756d6bdb6df2932}
Original and destination name pointer \index{mk\+Patch.\+c@{mk\+Patch.\+c}!Patched\+Chunk@{Patched\+Chunk}}
\index{Patched\+Chunk@{Patched\+Chunk}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Patched\+Chunk}{PatchedChunk}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t Patched\+Chunk\mbox{[}2 $\ast${\bf S\+E\+G\+M\+E\+N\+T\+\_\+\+S\+I\+ZE}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_ad94d6a46ed919e14bad1bb1b9a87b878}{}\label{mk_patch_8c_ad94d6a46ed919e14bad1bb1b9a87b878}
Buffer for the segment patch \index{mk\+Patch.\+c@{mk\+Patch.\+c}!Patch\+Header@{Patch\+Header}}
\index{Patch\+Header@{Patch\+Header}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Patch\+Header}{PatchHeader}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Delta\+Patch\+Header\+\_\+t} Patch\+Header\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_ac2720a6febfbe609e66bc7bc1c06f989}{}\label{mk_patch_8c_ac2720a6febfbe609e66bc7bc1c06f989}
Header for a segment patch \index{mk\+Patch.\+c@{mk\+Patch.\+c}!Patch\+Meta\+Header@{Patch\+Meta\+Header}}
\index{Patch\+Meta\+Header@{Patch\+Meta\+Header}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Patch\+Meta\+Header}{PatchMetaHeader}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Delta\+Patch\+Meta\+Header\+\_\+t} Patch\+Meta\+Header\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_a378971cafc9137dd1b9db510a0e7a580}{}\label{mk_patch_8c_a378971cafc9137dd1b9db510a0e7a580}
Meta header for the delta patch \index{mk\+Patch.\+c@{mk\+Patch.\+c}!Prog\+Name@{Prog\+Name}}
\index{Prog\+Name@{Prog\+Name}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Prog\+Name}{ProgName}}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ Prog\+Name\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_a1b24350a8bc5e71582fb4adf001457db}{}\label{mk_patch_8c_a1b24350a8bc5e71582fb4adf001457db}
Our name \index{mk\+Patch.\+c@{mk\+Patch.\+c}!Vtbl@{Vtbl}}
\index{Vtbl@{Vtbl}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Vtbl}{Vtbl}}]{\setlength{\rightskip}{0pt plus 5cm}struct ubi\+\_\+vtbl\+\_\+record Vtbl\mbox{[}U\+B\+I\+\_\+\+M\+A\+X\+\_\+\+V\+O\+L\+U\+M\+ES\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_a14f51a41b2091c84b89f093bfcefb1b4}{}\label{mk_patch_8c_a14f51a41b2091c84b89f093bfcefb1b4}
Array for all volumes records of an U\+BI image \index{mk\+Patch.\+c@{mk\+Patch.\+c}!Vtbl\+Map@{Vtbl\+Map}}
\index{Vtbl\+Map@{Vtbl\+Map}!mk\+Patch.\+c@{mk\+Patch.\+c}}
\subsubsection[{\texorpdfstring{Vtbl\+Map}{VtblMap}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Vtbl\+Map\+\_\+t} Vtbl\+Map\mbox{[}U\+B\+I\+\_\+\+M\+A\+X\+\_\+\+V\+O\+L\+U\+M\+ES\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mk_patch_8c_aa5c9fee700e527a229ec7f62a4e8eb93}{}\label{mk_patch_8c_aa5c9fee700e527a229ec7f62a4e8eb93}
Map array for all volumes of an U\+BI image 