\hypertarget{safe_ref_8c}{}\section{framework/liblegato/linux/safe\+Ref.c File Reference}
\label{safe_ref_8c}\index{framework/liblegato/linux/safe\+Ref.\+c@{framework/liblegato/linux/safe\+Ref.\+c}}
{\ttfamily \#include \char`\"{}legato.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}limit.\+h\char`\"{}}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_map__t}{Map\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{safe_ref_8c_ab66a1b76292b571536c72e3795a5640d}{M\+A\+X\+\_\+\+N\+A\+M\+E\+\_\+\+B\+Y\+T\+ES}~\hyperlink{limit_8h_a089f06d273b054f909c21c092d4b3918}{L\+I\+M\+I\+T\+\_\+\+M\+A\+X\+\_\+\+M\+E\+M\+\_\+\+P\+O\+O\+L\+\_\+\+N\+A\+M\+E\+\_\+\+B\+Y\+T\+ES}
\item 
\#define \hyperlink{safe_ref_8c_a2b3956490cad51b02c75a52f67e8d9df}{D\+E\+F\+A\+U\+L\+T\+\_\+\+M\+A\+P\+\_\+\+P\+O\+O\+L\+\_\+\+S\+I\+ZE}~10
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
size\+\_\+t \hyperlink{safe_ref_8c_a3a9337274ab6e8f0c58313e46f07b24b}{hash\+Safe\+Ref} (const \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} $\ast$safe\+Ref\+Ptr)
\item 
bool \hyperlink{safe_ref_8c_ac5f38bf90e1a8c874a91dedf20205408}{equals\+Safe\+Ref} (const \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} $\ast$first\+Safe\+Ref, const \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} $\ast$second\+Safe\+Ref)
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{safe_ref_8c_a5408b7a68a03491a52910b9eb4213ed2}{safe\+Ref\+\_\+\+Init} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
\hyperlink{le__safe_ref_8h_aaf8fb3412fb840cb50366856affaf69b}{le\+\_\+ref\+\_\+\+Map\+Ref\+\_\+t} \hyperlink{safe_ref_8c_a85faf3c75723a1af0e1adf720d9c9dca}{le\+\_\+ref\+\_\+\+Create\+Map} (const char $\ast$name, size\+\_\+t max\+Refs)
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} $\ast$ \hyperlink{safe_ref_8c_a458597757cbce48e03413b49f52ec240}{le\+\_\+ref\+\_\+\+Create\+Ref} (\hyperlink{le__safe_ref_8h_aaf8fb3412fb840cb50366856affaf69b}{le\+\_\+ref\+\_\+\+Map\+Ref\+\_\+t} map\+Ref, \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} $\ast$ptr)
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} $\ast$ \hyperlink{safe_ref_8c_a488dddfd579f4a20f39be392c4d7d2e0}{le\+\_\+ref\+\_\+\+Lookup} (\hyperlink{le__safe_ref_8h_aaf8fb3412fb840cb50366856affaf69b}{le\+\_\+ref\+\_\+\+Map\+Ref\+\_\+t} map\+Ref, \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} $\ast$safe\+Ref)
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{safe_ref_8c_a438e18b8ace1d4dda3ca5144a27bd424}{le\+\_\+ref\+\_\+\+Delete\+Ref} (\hyperlink{le__safe_ref_8h_aaf8fb3412fb840cb50366856affaf69b}{le\+\_\+ref\+\_\+\+Map\+Ref\+\_\+t} map\+Ref, \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} $\ast$safe\+Ref)
\item 
\hyperlink{le__safe_ref_8h_a01b183aea234146b2df8a0ade1451539}{le\+\_\+ref\+\_\+\+Iter\+Ref\+\_\+t} \hyperlink{safe_ref_8c_ab7d9ebce866a3ad49a967e2eb8def2cc}{le\+\_\+ref\+\_\+\+Get\+Iterator} (\hyperlink{le__safe_ref_8h_aaf8fb3412fb840cb50366856affaf69b}{le\+\_\+ref\+\_\+\+Map\+Ref\+\_\+t} map\+Ref)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{safe_ref_8c_ac6304fc29d2ce7c82f5ca3b210931783}{le\+\_\+ref\+\_\+\+Next\+Node} (\hyperlink{le__safe_ref_8h_a01b183aea234146b2df8a0ade1451539}{le\+\_\+ref\+\_\+\+Iter\+Ref\+\_\+t} iterator\+Ref)
\item 
const \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} $\ast$ \hyperlink{safe_ref_8c_a6ed3823acb88746e745d21cb1bfecc5d}{le\+\_\+ref\+\_\+\+Get\+Safe\+Ref} (\hyperlink{le__safe_ref_8h_a01b183aea234146b2df8a0ade1451539}{le\+\_\+ref\+\_\+\+Iter\+Ref\+\_\+t} iterator\+Ref)
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} $\ast$ \hyperlink{safe_ref_8c_acc77218e165d9d2456acff38280f8194}{le\+\_\+ref\+\_\+\+Get\+Value} (\hyperlink{le__safe_ref_8h_a01b183aea234146b2df8a0ade1451539}{le\+\_\+ref\+\_\+\+Iter\+Ref\+\_\+t} iterator\+Ref)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static const char \hyperlink{safe_ref_8c_a0c83598a14e76718c956e0bd12022d73}{Module\+Name} \mbox{[}$\,$\mbox{]} = \char`\"{}ref\char`\"{}
\begin{DoxyCompactList}\small\item\em Name used for diagnostics. \end{DoxyCompactList}\item 
static \hyperlink{le__mem_8h_a44a896f6a0a1a8c733e8038eb332989e}{le\+\_\+mem\+\_\+\+Pool\+Ref\+\_\+t} \hyperlink{safe_ref_8c_a64f5c18fd67fd6fae3512e7ada26751a}{Map\+Pool}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Legato \hyperlink{c_safeRef}{Safe References A\+PI} implementation.

\begin{DoxyNote}{Note}
We use only odd numbers for Safe References. This ensures that it will not be a word-\/aligned memory address modern systems (which are always even). This prevents Safe References from getting confused with pointers. If someone tries to dereference a Safe Reference, they will get a bus error on most processor architectures. Also, if they try to use a memory address as a Safe Ref, the memory address is guaranteed to be detected as an invalid Safe Reference.
\end{DoxyNote}
Copyright (C) Sierra Wireless Inc. 

\subsection{Macro Definition Documentation}
\index{safe\+Ref.\+c@{safe\+Ref.\+c}!D\+E\+F\+A\+U\+L\+T\+\_\+\+M\+A\+P\+\_\+\+P\+O\+O\+L\+\_\+\+S\+I\+ZE@{D\+E\+F\+A\+U\+L\+T\+\_\+\+M\+A\+P\+\_\+\+P\+O\+O\+L\+\_\+\+S\+I\+ZE}}
\index{D\+E\+F\+A\+U\+L\+T\+\_\+\+M\+A\+P\+\_\+\+P\+O\+O\+L\+\_\+\+S\+I\+ZE@{D\+E\+F\+A\+U\+L\+T\+\_\+\+M\+A\+P\+\_\+\+P\+O\+O\+L\+\_\+\+S\+I\+ZE}!safe\+Ref.\+c@{safe\+Ref.\+c}}
\subsubsection[{\texorpdfstring{D\+E\+F\+A\+U\+L\+T\+\_\+\+M\+A\+P\+\_\+\+P\+O\+O\+L\+\_\+\+S\+I\+ZE}{DEFAULT_MAP_POOL_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define D\+E\+F\+A\+U\+L\+T\+\_\+\+M\+A\+P\+\_\+\+P\+O\+O\+L\+\_\+\+S\+I\+ZE~10}\hypertarget{safe_ref_8c_a2b3956490cad51b02c75a52f67e8d9df}{}\label{safe_ref_8c_a2b3956490cad51b02c75a52f67e8d9df}
Default number of Map objects in the Map Pool. \begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000051}{Todo}]Make this configurable. \end{DoxyRefDesc}
\index{safe\+Ref.\+c@{safe\+Ref.\+c}!M\+A\+X\+\_\+\+N\+A\+M\+E\+\_\+\+B\+Y\+T\+ES@{M\+A\+X\+\_\+\+N\+A\+M\+E\+\_\+\+B\+Y\+T\+ES}}
\index{M\+A\+X\+\_\+\+N\+A\+M\+E\+\_\+\+B\+Y\+T\+ES@{M\+A\+X\+\_\+\+N\+A\+M\+E\+\_\+\+B\+Y\+T\+ES}!safe\+Ref.\+c@{safe\+Ref.\+c}}
\subsubsection[{\texorpdfstring{M\+A\+X\+\_\+\+N\+A\+M\+E\+\_\+\+B\+Y\+T\+ES}{MAX_NAME_BYTES}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+A\+X\+\_\+\+N\+A\+M\+E\+\_\+\+B\+Y\+T\+ES~{\bf L\+I\+M\+I\+T\+\_\+\+M\+A\+X\+\_\+\+M\+E\+M\+\_\+\+P\+O\+O\+L\+\_\+\+N\+A\+M\+E\+\_\+\+B\+Y\+T\+ES}}\hypertarget{safe_ref_8c_ab66a1b76292b571536c72e3795a5640d}{}\label{safe_ref_8c_ab66a1b76292b571536c72e3795a5640d}


\subsection{Function Documentation}
\index{safe\+Ref.\+c@{safe\+Ref.\+c}!equals\+Safe\+Ref@{equals\+Safe\+Ref}}
\index{equals\+Safe\+Ref@{equals\+Safe\+Ref}!safe\+Ref.\+c@{safe\+Ref.\+c}}
\subsubsection[{\texorpdfstring{equals\+Safe\+Ref(const void $\ast$first\+Safe\+Ref, const void $\ast$second\+Safe\+Ref)}{equalsSafeRef(const void *firstSafeRef, const void *secondSafeRef)}}]{\setlength{\rightskip}{0pt plus 5cm}bool equals\+Safe\+Ref (
\begin{DoxyParamCaption}
\item[{const {\bf void} $\ast$}]{first\+Safe\+Ref, }
\item[{const {\bf void} $\ast$}]{second\+Safe\+Ref}
\end{DoxyParamCaption}
)}\hypertarget{safe_ref_8c_ac5f38bf90e1a8c874a91dedf20205408}{}\label{safe_ref_8c_ac5f38bf90e1a8c874a91dedf20205408}
Safe\+Ref equality function.

\begin{DoxyReturn}{Returns}
Returns true if the integers are equal, false otherwise 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em first\+Safe\+Ref} & First Safe\+Ref for comparing. \\
\hline
\mbox{\tt in}  & {\em second\+Safe\+Ref} & Second Safe\+Ref for comparing. \\
\hline
\end{DoxyParams}
\index{safe\+Ref.\+c@{safe\+Ref.\+c}!hash\+Safe\+Ref@{hash\+Safe\+Ref}}
\index{hash\+Safe\+Ref@{hash\+Safe\+Ref}!safe\+Ref.\+c@{safe\+Ref.\+c}}
\subsubsection[{\texorpdfstring{hash\+Safe\+Ref(const void $\ast$safe\+Ref\+Ptr)}{hashSafeRef(const void *safeRefPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}size\+\_\+t hash\+Safe\+Ref (
\begin{DoxyParamCaption}
\item[{const {\bf void} $\ast$}]{safe\+Ref\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{safe_ref_8c_a3a9337274ab6e8f0c58313e46f07b24b}{}\label{safe_ref_8c_a3a9337274ab6e8f0c58313e46f07b24b}
Safe\+Ref hashing function.

\begin{DoxyReturn}{Returns}
Returns the Safe\+Ref itself as it can used as a hash 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em safe\+Ref\+Ptr} & Safe Ref to be hashed \\
\hline
\end{DoxyParams}
\index{safe\+Ref.\+c@{safe\+Ref.\+c}!le\+\_\+ref\+\_\+\+Create\+Map@{le\+\_\+ref\+\_\+\+Create\+Map}}
\index{le\+\_\+ref\+\_\+\+Create\+Map@{le\+\_\+ref\+\_\+\+Create\+Map}!safe\+Ref.\+c@{safe\+Ref.\+c}}
\subsubsection[{\texorpdfstring{le\+\_\+ref\+\_\+\+Create\+Map(const char $\ast$name, size\+\_\+t max\+Refs)}{le_ref_CreateMap(const char *name, size_t maxRefs)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+ref\+\_\+\+Map\+Ref\+\_\+t} le\+\_\+ref\+\_\+\+Create\+Map (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{name, }
\item[{size\+\_\+t}]{max\+Refs}
\end{DoxyParamCaption}
)}\hypertarget{safe_ref_8c_a85faf3c75723a1af0e1adf720d9c9dca}{}\label{safe_ref_8c_a85faf3c75723a1af0e1adf720d9c9dca}
Create a Reference Map that can hold mappings from Safe References to pointers.

\begin{DoxyReturn}{Returns}
A reference to the Reference Map object. 
\end{DoxyReturn}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000052}{Todo}]Make this a random number so that using a reference from another Map is unlikely to get by undetected. \end{DoxyRefDesc}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em name} & The name of the map (for diagnostics). \\
\hline
\mbox{\tt in}  & {\em max\+Refs} & The maximum number of Safe References expected to be kept in this Reference Map at any one time. \\
\hline
\end{DoxyParams}
\index{safe\+Ref.\+c@{safe\+Ref.\+c}!le\+\_\+ref\+\_\+\+Create\+Ref@{le\+\_\+ref\+\_\+\+Create\+Ref}}
\index{le\+\_\+ref\+\_\+\+Create\+Ref@{le\+\_\+ref\+\_\+\+Create\+Ref}!safe\+Ref.\+c@{safe\+Ref.\+c}}
\subsubsection[{\texorpdfstring{le\+\_\+ref\+\_\+\+Create\+Ref(le\+\_\+ref\+\_\+\+Map\+Ref\+\_\+t map\+Ref, void $\ast$ptr)}{le_ref_CreateRef(le_ref_MapRef_t mapRef, void *ptr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void}$\ast$ le\+\_\+ref\+\_\+\+Create\+Ref (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+ref\+\_\+\+Map\+Ref\+\_\+t}}]{map\+Ref, }
\item[{{\bf void} $\ast$}]{ptr}
\end{DoxyParamCaption}
)}\hypertarget{safe_ref_8c_a458597757cbce48e03413b49f52ec240}{}\label{safe_ref_8c_a458597757cbce48e03413b49f52ec240}
Creates a Safe Reference, storing a mapping between that reference and a given pointer for future lookup.

\begin{DoxyReturn}{Returns}
The Safe Reference. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em map\+Ref} & The Reference Map in which the mapping should be kept. \\
\hline
\mbox{\tt in}  & {\em ptr} & Pointer value to which the new Safe Reference will be mapped. \\
\hline
\end{DoxyParams}
\index{safe\+Ref.\+c@{safe\+Ref.\+c}!le\+\_\+ref\+\_\+\+Delete\+Ref@{le\+\_\+ref\+\_\+\+Delete\+Ref}}
\index{le\+\_\+ref\+\_\+\+Delete\+Ref@{le\+\_\+ref\+\_\+\+Delete\+Ref}!safe\+Ref.\+c@{safe\+Ref.\+c}}
\subsubsection[{\texorpdfstring{le\+\_\+ref\+\_\+\+Delete\+Ref(le\+\_\+ref\+\_\+\+Map\+Ref\+\_\+t map\+Ref, void $\ast$safe\+Ref)}{le_ref_DeleteRef(le_ref_MapRef_t mapRef, void *safeRef)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} le\+\_\+ref\+\_\+\+Delete\+Ref (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+ref\+\_\+\+Map\+Ref\+\_\+t}}]{map\+Ref, }
\item[{{\bf void} $\ast$}]{safe\+Ref}
\end{DoxyParamCaption}
)}\hypertarget{safe_ref_8c_a438e18b8ace1d4dda3ca5144a27bd424}{}\label{safe_ref_8c_a438e18b8ace1d4dda3ca5144a27bd424}
Deletes a Safe Reference. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em map\+Ref} & The Reference Map to delete the mapping from. \\
\hline
\mbox{\tt in}  & {\em safe\+Ref} & The Safe Reference to be deleted (invalidated). \\
\hline
\end{DoxyParams}
\index{safe\+Ref.\+c@{safe\+Ref.\+c}!le\+\_\+ref\+\_\+\+Get\+Iterator@{le\+\_\+ref\+\_\+\+Get\+Iterator}}
\index{le\+\_\+ref\+\_\+\+Get\+Iterator@{le\+\_\+ref\+\_\+\+Get\+Iterator}!safe\+Ref.\+c@{safe\+Ref.\+c}}
\subsubsection[{\texorpdfstring{le\+\_\+ref\+\_\+\+Get\+Iterator(le\+\_\+ref\+\_\+\+Map\+Ref\+\_\+t map\+Ref)}{le_ref_GetIterator(le_ref_MapRef_t mapRef)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+ref\+\_\+\+Iter\+Ref\+\_\+t} le\+\_\+ref\+\_\+\+Get\+Iterator (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+ref\+\_\+\+Map\+Ref\+\_\+t}}]{map\+Ref}
\end{DoxyParamCaption}
)}\hypertarget{safe_ref_8c_ab7d9ebce866a3ad49a967e2eb8def2cc}{}\label{safe_ref_8c_ab7d9ebce866a3ad49a967e2eb8def2cc}
Gets an interator for step-\/by-\/step iteration over the map. In this mode the iteration is controlled by the calling function using the \hyperlink{safe_ref_8c_ac6304fc29d2ce7c82f5ca3b210931783}{le\+\_\+ref\+\_\+\+Next\+Node()} function. There is one iterator per map, and calling this function resets the iterator position to the start of the map. The iterator is not ready for data access until \hyperlink{safe_ref_8c_ac6304fc29d2ce7c82f5ca3b210931783}{le\+\_\+ref\+\_\+\+Next\+Node()} has been called at least once.

\begin{DoxyReturn}{Returns}
Returns A reference to a hashmap iterator which is ready for \hyperlink{le__hashmap_8h_a601b7d3e5d92e91e4090d726e5b190ca}{le\+\_\+hashmap\+\_\+\+Next\+Node()} to be called on it. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em map\+Ref} & Reference to the map. \\
\hline
\end{DoxyParams}
\index{safe\+Ref.\+c@{safe\+Ref.\+c}!le\+\_\+ref\+\_\+\+Get\+Safe\+Ref@{le\+\_\+ref\+\_\+\+Get\+Safe\+Ref}}
\index{le\+\_\+ref\+\_\+\+Get\+Safe\+Ref@{le\+\_\+ref\+\_\+\+Get\+Safe\+Ref}!safe\+Ref.\+c@{safe\+Ref.\+c}}
\subsubsection[{\texorpdfstring{le\+\_\+ref\+\_\+\+Get\+Safe\+Ref(le\+\_\+ref\+\_\+\+Iter\+Ref\+\_\+t iterator\+Ref)}{le_ref_GetSafeRef(le_ref_IterRef_t iteratorRef)}}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf void}$\ast$ le\+\_\+ref\+\_\+\+Get\+Safe\+Ref (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+ref\+\_\+\+Iter\+Ref\+\_\+t}}]{iterator\+Ref}
\end{DoxyParamCaption}
)}\hypertarget{safe_ref_8c_a6ed3823acb88746e745d21cb1bfecc5d}{}\label{safe_ref_8c_a6ed3823acb88746e745d21cb1bfecc5d}
Retrieves a pointer to the safe ref iterator is currently pointing at. If the iterator has just been initialized and \hyperlink{le__hashmap_8h_a601b7d3e5d92e91e4090d726e5b190ca}{le\+\_\+hashmap\+\_\+\+Next\+Node()} has not been called, or if the iterator has been invalidated then this will return N\+U\+LL.

\begin{DoxyReturn}{Returns}
A pointer to the current key, or N\+U\+LL if the iterator has been invalidated or is not ready. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em iterator\+Ref} & Reference to the iterator. \\
\hline
\end{DoxyParams}
\index{safe\+Ref.\+c@{safe\+Ref.\+c}!le\+\_\+ref\+\_\+\+Get\+Value@{le\+\_\+ref\+\_\+\+Get\+Value}}
\index{le\+\_\+ref\+\_\+\+Get\+Value@{le\+\_\+ref\+\_\+\+Get\+Value}!safe\+Ref.\+c@{safe\+Ref.\+c}}
\subsubsection[{\texorpdfstring{le\+\_\+ref\+\_\+\+Get\+Value(le\+\_\+ref\+\_\+\+Iter\+Ref\+\_\+t iterator\+Ref)}{le_ref_GetValue(le_ref_IterRef_t iteratorRef)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void}$\ast$ le\+\_\+ref\+\_\+\+Get\+Value (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+ref\+\_\+\+Iter\+Ref\+\_\+t}}]{iterator\+Ref}
\end{DoxyParamCaption}
)}\hypertarget{safe_ref_8c_acc77218e165d9d2456acff38280f8194}{}\label{safe_ref_8c_acc77218e165d9d2456acff38280f8194}
Retrieves a pointer to the value which the iterator is currently pointing at. If the iterator has just been initialized and \hyperlink{safe_ref_8c_ac6304fc29d2ce7c82f5ca3b210931783}{le\+\_\+ref\+\_\+\+Next\+Node()} has not been called, or if the iterator has been invalidated then this will return N\+U\+LL.

\begin{DoxyReturn}{Returns}
A pointer to the current value, or N\+U\+LL if the iterator has been invalidated or is not ready. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em iterator\+Ref} & Reference to the iterator. \\
\hline
\end{DoxyParams}
\index{safe\+Ref.\+c@{safe\+Ref.\+c}!le\+\_\+ref\+\_\+\+Lookup@{le\+\_\+ref\+\_\+\+Lookup}}
\index{le\+\_\+ref\+\_\+\+Lookup@{le\+\_\+ref\+\_\+\+Lookup}!safe\+Ref.\+c@{safe\+Ref.\+c}}
\subsubsection[{\texorpdfstring{le\+\_\+ref\+\_\+\+Lookup(le\+\_\+ref\+\_\+\+Map\+Ref\+\_\+t map\+Ref, void $\ast$safe\+Ref)}{le_ref_Lookup(le_ref_MapRef_t mapRef, void *safeRef)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void}$\ast$ le\+\_\+ref\+\_\+\+Lookup (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+ref\+\_\+\+Map\+Ref\+\_\+t}}]{map\+Ref, }
\item[{{\bf void} $\ast$}]{safe\+Ref}
\end{DoxyParamCaption}
)}\hypertarget{safe_ref_8c_a488dddfd579f4a20f39be392c4d7d2e0}{}\label{safe_ref_8c_a488dddfd579f4a20f39be392c4d7d2e0}
Translates a Safe Reference back into the pointer that was given when the Safe Reference was created.

\begin{DoxyReturn}{Returns}
The pointer that the Safe Reference maps to, or N\+U\+LL if the Safe Reference has been deleted or is invalid. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em map\+Ref} & The Reference Map to do the lookup in. \\
\hline
\mbox{\tt in}  & {\em safe\+Ref} & The Safe Reference to be translated into a pointer. \\
\hline
\end{DoxyParams}
\index{safe\+Ref.\+c@{safe\+Ref.\+c}!le\+\_\+ref\+\_\+\+Next\+Node@{le\+\_\+ref\+\_\+\+Next\+Node}}
\index{le\+\_\+ref\+\_\+\+Next\+Node@{le\+\_\+ref\+\_\+\+Next\+Node}!safe\+Ref.\+c@{safe\+Ref.\+c}}
\subsubsection[{\texorpdfstring{le\+\_\+ref\+\_\+\+Next\+Node(le\+\_\+ref\+\_\+\+Iter\+Ref\+\_\+t iterator\+Ref)}{le_ref_NextNode(le_ref_IterRef_t iteratorRef)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} le\+\_\+ref\+\_\+\+Next\+Node (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+ref\+\_\+\+Iter\+Ref\+\_\+t}}]{iterator\+Ref}
\end{DoxyParamCaption}
)}\hypertarget{safe_ref_8c_ac6304fc29d2ce7c82f5ca3b210931783}{}\label{safe_ref_8c_ac6304fc29d2ce7c82f5ca3b210931783}
Moves the iterator to the next key/value pair in the map.

\begin{DoxyReturn}{Returns}
Returns L\+E\+\_\+\+OK unless you go past the end of the map, then returns L\+E\+\_\+\+N\+O\+T\+\_\+\+F\+O\+U\+ND. If the iterator has been invalidated by the map changing or you have previously received a L\+E\+\_\+\+N\+O\+T\+\_\+\+F\+O\+U\+ND then this returns L\+E\+\_\+\+F\+A\+U\+LT. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em iterator\+Ref} & Reference to the iterator. \\
\hline
\end{DoxyParams}
\index{safe\+Ref.\+c@{safe\+Ref.\+c}!safe\+Ref\+\_\+\+Init@{safe\+Ref\+\_\+\+Init}}
\index{safe\+Ref\+\_\+\+Init@{safe\+Ref\+\_\+\+Init}!safe\+Ref.\+c@{safe\+Ref.\+c}}
\subsubsection[{\texorpdfstring{safe\+Ref\+\_\+\+Init(void)}{safeRef_Init(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} safe\+Ref\+\_\+\+Init (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{safe_ref_8c_a5408b7a68a03491a52910b9eb4213ed2}{}\label{safe_ref_8c_a5408b7a68a03491a52910b9eb4213ed2}
Initialize the Safe Reference Module.

This function must be called exactly once at process start-\/up, before any Safe Reference A\+PI functions are called. 

\subsection{Variable Documentation}
\index{safe\+Ref.\+c@{safe\+Ref.\+c}!Map\+Pool@{Map\+Pool}}
\index{Map\+Pool@{Map\+Pool}!safe\+Ref.\+c@{safe\+Ref.\+c}}
\subsubsection[{\texorpdfstring{Map\+Pool}{MapPool}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+mem\+\_\+\+Pool\+Ref\+\_\+t} Map\+Pool\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{safe_ref_8c_a64f5c18fd67fd6fae3512e7ada26751a}{}\label{safe_ref_8c_a64f5c18fd67fd6fae3512e7ada26751a}
Pool of Map objects. \index{safe\+Ref.\+c@{safe\+Ref.\+c}!Module\+Name@{Module\+Name}}
\index{Module\+Name@{Module\+Name}!safe\+Ref.\+c@{safe\+Ref.\+c}}
\subsubsection[{\texorpdfstring{Module\+Name}{ModuleName}}]{\setlength{\rightskip}{0pt plus 5cm}const char Module\+Name\mbox{[}$\,$\mbox{]} = \char`\"{}ref\char`\"{}\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{safe_ref_8c_a0c83598a14e76718c956e0bd12022d73}{}\label{safe_ref_8c_a0c83598a14e76718c956e0bd12022d73}


Name used for diagnostics. 

