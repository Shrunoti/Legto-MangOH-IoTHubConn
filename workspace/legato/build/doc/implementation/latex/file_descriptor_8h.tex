\hypertarget{file_descriptor_8h}{}\section{framework/liblegato/linux/file\+Descriptor.h File Reference}
\label{file_descriptor_8h}\index{framework/liblegato/linux/file\+Descriptor.\+h@{framework/liblegato/linux/file\+Descriptor.\+h}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{file_descriptor_8h_a07ba8e6c1bcceb28e655dcdeb332860c}{fd\+\_\+\+Set\+Non\+Blocking} (int \hyperlink{app_stop_client_8c_a44f21d5190b5a6df8089f54799628d7e}{fd})
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{file_descriptor_8h_a2114ffb66d1fa95330d919633f98ba92}{fd\+\_\+\+Set\+Blocking} (int \hyperlink{app_stop_client_8c_a44f21d5190b5a6df8089f54799628d7e}{fd})
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{file_descriptor_8h_ac66047067b00ef0ccc70e0ee7d70dd79}{fd\+\_\+\+Close} (int \hyperlink{app_stop_client_8c_a44f21d5190b5a6df8089f54799628d7e}{fd})
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{file_descriptor_8h_a9024aef97329b0f56b68da8d30ab82aa}{fd\+\_\+\+Close\+All\+Non\+Std} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
ssize\+\_\+t \hyperlink{file_descriptor_8h_a6f30fc98ed38a21b76dbb3c7b3f7916b}{fd\+\_\+\+Read\+Size} (int \hyperlink{app_stop_client_8c_a44f21d5190b5a6df8089f54799628d7e}{fd}, \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} $\ast$buf\+Ptr, size\+\_\+t buf\+Size)
\item 
ssize\+\_\+t \hyperlink{file_descriptor_8h_a0efc9de96e00253602e3d69b31e870f3}{fd\+\_\+\+Write\+Size} (int \hyperlink{app_stop_client_8c_a44f21d5190b5a6df8089f54799628d7e}{fd}, \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} $\ast$buf\+Ptr, size\+\_\+t buf\+Size)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{file_descriptor_8h_a2c659a262dd8b24b53cc3ae406e4fe74}{fd\+\_\+\+Read\+Line} (int \hyperlink{app_stop_client_8c_a44f21d5190b5a6df8089f54799628d7e}{fd}, char $\ast$buf, size\+\_\+t buf\+Size)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{file_descriptor_8h_ae4cf039aa45f3c089aa1a7676d9fd057}{fd\+\_\+\+Read\+From\+Offset} (int \hyperlink{app_stop_client_8c_a44f21d5190b5a6df8089f54799628d7e}{fd}, off\+\_\+t offset, \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} $\ast$buf\+Ptr, size\+\_\+t buf\+Size)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Declaration of the framework\textquotesingle{}s internal handy file descriptor manipulation functions.

Copyright (C) Sierra Wireless Inc. 

\subsection{Function Documentation}
\index{file\+Descriptor.\+h@{file\+Descriptor.\+h}!fd\+\_\+\+Close@{fd\+\_\+\+Close}}
\index{fd\+\_\+\+Close@{fd\+\_\+\+Close}!file\+Descriptor.\+h@{file\+Descriptor.\+h}}
\subsubsection[{\texorpdfstring{fd\+\_\+\+Close(int fd)}{fd_Close(int fd)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} fd\+\_\+\+Close (
\begin{DoxyParamCaption}
\item[{int}]{fd}
\end{DoxyParamCaption}
)}\hypertarget{file_descriptor_8h_ac66047067b00ef0ccc70e0ee7d70dd79}{}\label{file_descriptor_8h_ac66047067b00ef0ccc70e0ee7d70dd79}
Closes a file descriptor.

\begin{DoxyNote}{Note}
This is a wrapper around \hyperlink{app_stop_client_8c_ac9aa243805b0ac0687f9c2e9b5bdb8ef}{close()} that takes care of retrying if interrupted by a signal, and logging a critical error if \hyperlink{app_stop_client_8c_ac9aa243805b0ac0687f9c2e9b5bdb8ef}{close()} fails. 
\end{DoxyNote}
\index{file\+Descriptor.\+h@{file\+Descriptor.\+h}!fd\+\_\+\+Close\+All\+Non\+Std@{fd\+\_\+\+Close\+All\+Non\+Std}}
\index{fd\+\_\+\+Close\+All\+Non\+Std@{fd\+\_\+\+Close\+All\+Non\+Std}!file\+Descriptor.\+h@{file\+Descriptor.\+h}}
\subsubsection[{\texorpdfstring{fd\+\_\+\+Close\+All\+Non\+Std(void)}{fd_CloseAllNonStd(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} fd\+\_\+\+Close\+All\+Non\+Std (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{file_descriptor_8h_a9024aef97329b0f56b68da8d30ab82aa}{}\label{file_descriptor_8h_a9024aef97329b0f56b68da8d30ab82aa}
Closes all file descriptors in the calling process except for the file descriptors 0, 1 and 2 which are usually the standard file descriptors, stdin, stdout, stderr. \index{file\+Descriptor.\+h@{file\+Descriptor.\+h}!fd\+\_\+\+Read\+From\+Offset@{fd\+\_\+\+Read\+From\+Offset}}
\index{fd\+\_\+\+Read\+From\+Offset@{fd\+\_\+\+Read\+From\+Offset}!file\+Descriptor.\+h@{file\+Descriptor.\+h}}
\subsubsection[{\texorpdfstring{fd\+\_\+\+Read\+From\+Offset(int fd, off\+\_\+t offset, void $\ast$buf\+Ptr, size\+\_\+t buf\+Size)}{fd_ReadFromOffset(int fd, off_t offset, void *bufPtr, size_t bufSize)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} fd\+\_\+\+Read\+From\+Offset (
\begin{DoxyParamCaption}
\item[{int}]{fd, }
\item[{off\+\_\+t}]{offset, }
\item[{{\bf void} $\ast$}]{buf\+Ptr, }
\item[{size\+\_\+t}]{buf\+Size}
\end{DoxyParamCaption}
)}\hypertarget{file_descriptor_8h_ae4cf039aa45f3c089aa1a7676d9fd057}{}\label{file_descriptor_8h_ae4cf039aa45f3c089aa1a7676d9fd057}
Reads buf\+Size bytes from the open file descriptor specified by fd, starting at offset, and stores the bytes in the provided buffer. This function will fail and return L\+E\+\_\+\+F\+A\+U\+LT if fewer than buf\+Size bytes are available from the file.

\begin{DoxyReturn}{Returns}
L\+E\+\_\+\+OK if successful. L\+E\+\_\+\+F\+A\+U\+LT if there was an error. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em fd} & File to read. \\
\hline
\mbox{\tt in}  & {\em offset} & Offset from the beginning of the file to start reading from. \\
\hline
\mbox{\tt out}  & {\em buf\+Ptr} & Buffer to store the read bytes in. \\
\hline
\mbox{\tt in}  & {\em buf\+Size} & Size of the buffer. \\
\hline
\end{DoxyParams}
\index{file\+Descriptor.\+h@{file\+Descriptor.\+h}!fd\+\_\+\+Read\+Line@{fd\+\_\+\+Read\+Line}}
\index{fd\+\_\+\+Read\+Line@{fd\+\_\+\+Read\+Line}!file\+Descriptor.\+h@{file\+Descriptor.\+h}}
\subsubsection[{\texorpdfstring{fd\+\_\+\+Read\+Line(int fd, char $\ast$buf, size\+\_\+t buf\+Size)}{fd_ReadLine(int fd, char *buf, size_t bufSize)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} fd\+\_\+\+Read\+Line (
\begin{DoxyParamCaption}
\item[{int}]{fd, }
\item[{char $\ast$}]{buf, }
\item[{size\+\_\+t}]{buf\+Size}
\end{DoxyParamCaption}
)}\hypertarget{file_descriptor_8h_a2c659a262dd8b24b53cc3ae406e4fe74}{}\label{file_descriptor_8h_a2c659a262dd8b24b53cc3ae406e4fe74}
Reads a line of text from the opened file descriptor specified up to the first newline or eof character. The output buffer will always be N\+U\+L\+L-\/terminated and will not include the newline or eof character.

\begin{DoxyReturn}{Returns}
L\+E\+\_\+\+OK if successful. L\+E\+\_\+\+O\+V\+E\+R\+F\+L\+OW if the buffer is too small. As much of the line as possible will be copied to buf. L\+E\+\_\+\+O\+U\+T\+\_\+\+O\+F\+\_\+\+R\+A\+N\+GE if there is nothing else to read from the file. L\+E\+\_\+\+F\+A\+U\+LT if there was an error. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em fd} & File to read from. \\
\hline
\mbox{\tt out}  & {\em buf} & Buffer to store the line. \\
\hline
\mbox{\tt in}  & {\em buf\+Size} & Buffer size. \\
\hline
\end{DoxyParams}
\index{file\+Descriptor.\+h@{file\+Descriptor.\+h}!fd\+\_\+\+Read\+Size@{fd\+\_\+\+Read\+Size}}
\index{fd\+\_\+\+Read\+Size@{fd\+\_\+\+Read\+Size}!file\+Descriptor.\+h@{file\+Descriptor.\+h}}
\subsubsection[{\texorpdfstring{fd\+\_\+\+Read\+Size(int fd, void $\ast$buf\+Ptr, size\+\_\+t buf\+Size)}{fd_ReadSize(int fd, void *bufPtr, size_t bufSize)}}]{\setlength{\rightskip}{0pt plus 5cm}ssize\+\_\+t fd\+\_\+\+Read\+Size (
\begin{DoxyParamCaption}
\item[{int}]{fd, }
\item[{{\bf void} $\ast$}]{buf\+Ptr, }
\item[{size\+\_\+t}]{buf\+Size}
\end{DoxyParamCaption}
)}\hypertarget{file_descriptor_8h_a6f30fc98ed38a21b76dbb3c7b3f7916b}{}\label{file_descriptor_8h_a6f30fc98ed38a21b76dbb3c7b3f7916b}
Reads a specified number of bytes from the provided file descriptor into the provided buffer. This function will block until the specified number of bytes is read or an E\+OF is reached.

\begin{DoxyReturn}{Returns}
Number of bytes read. L\+E\+\_\+\+F\+A\+U\+LT if there is an error. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em fd} & File to read. \\
\hline
\mbox{\tt out}  & {\em buf\+Ptr} & Buffer to store the read bytes in. \\
\hline
\mbox{\tt in}  & {\em buf\+Size} & Size of the buffer. \\
\hline
\end{DoxyParams}
\index{file\+Descriptor.\+h@{file\+Descriptor.\+h}!fd\+\_\+\+Set\+Blocking@{fd\+\_\+\+Set\+Blocking}}
\index{fd\+\_\+\+Set\+Blocking@{fd\+\_\+\+Set\+Blocking}!file\+Descriptor.\+h@{file\+Descriptor.\+h}}
\subsubsection[{\texorpdfstring{fd\+\_\+\+Set\+Blocking(int fd)}{fd_SetBlocking(int fd)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} fd\+\_\+\+Set\+Blocking (
\begin{DoxyParamCaption}
\item[{int}]{fd}
\end{DoxyParamCaption}
)}\hypertarget{file_descriptor_8h_a2114ffb66d1fa95330d919633f98ba92}{}\label{file_descriptor_8h_a2114ffb66d1fa95330d919633f98ba92}
Sets a file descriptor blocking. \index{file\+Descriptor.\+h@{file\+Descriptor.\+h}!fd\+\_\+\+Set\+Non\+Blocking@{fd\+\_\+\+Set\+Non\+Blocking}}
\index{fd\+\_\+\+Set\+Non\+Blocking@{fd\+\_\+\+Set\+Non\+Blocking}!file\+Descriptor.\+h@{file\+Descriptor.\+h}}
\subsubsection[{\texorpdfstring{fd\+\_\+\+Set\+Non\+Blocking(int fd)}{fd_SetNonBlocking(int fd)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} fd\+\_\+\+Set\+Non\+Blocking (
\begin{DoxyParamCaption}
\item[{int}]{fd}
\end{DoxyParamCaption}
)}\hypertarget{file_descriptor_8h_a07ba8e6c1bcceb28e655dcdeb332860c}{}\label{file_descriptor_8h_a07ba8e6c1bcceb28e655dcdeb332860c}
Sets a file descriptor non-\/blocking.

\begin{DoxyNote}{Note}
This function is used for both clients and servers. 
\end{DoxyNote}
\index{file\+Descriptor.\+h@{file\+Descriptor.\+h}!fd\+\_\+\+Write\+Size@{fd\+\_\+\+Write\+Size}}
\index{fd\+\_\+\+Write\+Size@{fd\+\_\+\+Write\+Size}!file\+Descriptor.\+h@{file\+Descriptor.\+h}}
\subsubsection[{\texorpdfstring{fd\+\_\+\+Write\+Size(int fd, void $\ast$buf\+Ptr, size\+\_\+t buf\+Size)}{fd_WriteSize(int fd, void *bufPtr, size_t bufSize)}}]{\setlength{\rightskip}{0pt plus 5cm}ssize\+\_\+t fd\+\_\+\+Write\+Size (
\begin{DoxyParamCaption}
\item[{int}]{fd, }
\item[{{\bf void} $\ast$}]{buf\+Ptr, }
\item[{size\+\_\+t}]{buf\+Size}
\end{DoxyParamCaption}
)}\hypertarget{file_descriptor_8h_a0efc9de96e00253602e3d69b31e870f3}{}\label{file_descriptor_8h_a0efc9de96e00253602e3d69b31e870f3}
Writes a specified number of bytes from the provided buffer to the provided file descriptor. This function will block until the specified number of bytes is written.

\begin{DoxyReturn}{Returns}
Number of bytes written. L\+E\+\_\+\+F\+A\+U\+LT if there is an error. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em fd} & File to write. \\
\hline
\mbox{\tt in}  & {\em buf\+Ptr} & Buffer which will be written to file. \\
\hline
\mbox{\tt in}  & {\em buf\+Size} & Size of the buffer. \\
\hline
\end{DoxyParams}
