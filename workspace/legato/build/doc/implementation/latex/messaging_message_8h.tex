\hypertarget{messaging_message_8h}{}\section{framework/liblegato/linux/messaging\+Message.h File Reference}
\label{messaging_message_8h}\index{framework/liblegato/linux/messaging\+Message.\+h@{framework/liblegato/linux/messaging\+Message.\+h}}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_message__t}{Message\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{messaging_message_8h_a0fc936bdc80c2ef5c88e5e7ae34d4add}{msg\+Message\+\_\+\+Init} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
\hyperlink{le__mem_8h_a44a896f6a0a1a8c733e8038eb332989e}{le\+\_\+mem\+\_\+\+Pool\+Ref\+\_\+t} \hyperlink{messaging_message_8h_a7cfc6f2fb2e30652542d896f83f8f2c9}{msg\+Message\+\_\+\+Create\+Pool} (const char $\ast$name, size\+\_\+t largest\+Msg\+Size)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{messaging_message_8h_a817e963a9d1b288ea99ef565a9cea0a9}{msg\+Message\+\_\+\+Send} (int socket\+Fd, \hyperlink{struct_message__t}{Message\+\_\+t} $\ast$msg\+Ptr)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{messaging_message_8h_a2038202f6a4e6c7fe63295050ecf5483}{msg\+Message\+\_\+\+Receive} (int socket\+Fd, \hyperlink{le__messaging_8h_a1e5c37fdd50a4d6d24cad82cb166f770}{le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t} \hyperlink{log_tool_8c_a42c1c76c43e8d3aac1aaa1dcd535b278}{msg\+Ref})
\item 
static \hyperlink{structle__dls___link__t}{le\+\_\+dls\+\_\+\+Link\+\_\+t} $\ast$ \hyperlink{messaging_message_8h_aff780f150e23c07e05dc260c4990724a}{msg\+Message\+\_\+\+Get\+Queue\+Link\+Ptr} (\hyperlink{le__messaging_8h_a1e5c37fdd50a4d6d24cad82cb166f770}{le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t} \hyperlink{log_tool_8c_a42c1c76c43e8d3aac1aaa1dcd535b278}{msg\+Ref})
\item 
static \hyperlink{le__messaging_8h_a1e5c37fdd50a4d6d24cad82cb166f770}{le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t} \hyperlink{messaging_message_8h_a31410b0913ecc6d0e2105ebae2732ba5}{msg\+Message\+\_\+\+Get\+Message\+Containing\+Link} (\hyperlink{structle__dls___link__t}{le\+\_\+dls\+\_\+\+Link\+\_\+t} $\ast$link\+Ptr)
\item 
static \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{messaging_message_8h_a867e6195e798680330a801c540d97032}{msg\+Message\+\_\+\+Set\+Txn\+Id} (\hyperlink{le__messaging_8h_a1e5c37fdd50a4d6d24cad82cb166f770}{le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t} \hyperlink{log_tool_8c_a42c1c76c43e8d3aac1aaa1dcd535b278}{msg\+Ref}, \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} $\ast$txn\+Id)
\item 
static \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} $\ast$ \hyperlink{messaging_message_8h_ac6dfd8281465e940d7176fa313b4b50f}{msg\+Message\+\_\+\+Get\+Txn\+Id} (\hyperlink{le__messaging_8h_a1e5c37fdd50a4d6d24cad82cb166f770}{le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t} \hyperlink{log_tool_8c_a42c1c76c43e8d3aac1aaa1dcd535b278}{msg\+Ref})
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{messaging_message_8h_aac9cc357d6f742f7f55d615205837cc9}{msg\+Message\+\_\+\+Call\+Completion\+Callback} (\hyperlink{le__messaging_8h_a1e5c37fdd50a4d6d24cad82cb166f770}{le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t} request\+Msg\+Ref, \hyperlink{le__messaging_8h_a1e5c37fdd50a4d6d24cad82cb166f770}{le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t} response\+Msg\+Ref)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{c_messaging}{Low-\/level Messaging A\+PI} implementation\textquotesingle{}s \char`\"{}\+Message\char`\"{} module\textquotesingle{}s inter-\/module interface definitions.

Copyright (C) Sierra Wireless Inc. 

\subsection{Function Documentation}
\index{messaging\+Message.\+h@{messaging\+Message.\+h}!msg\+Message\+\_\+\+Call\+Completion\+Callback@{msg\+Message\+\_\+\+Call\+Completion\+Callback}}
\index{msg\+Message\+\_\+\+Call\+Completion\+Callback@{msg\+Message\+\_\+\+Call\+Completion\+Callback}!messaging\+Message.\+h@{messaging\+Message.\+h}}
\subsubsection[{\texorpdfstring{msg\+Message\+\_\+\+Call\+Completion\+Callback(le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t request\+Msg\+Ref, le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t response\+Msg\+Ref)}{msgMessage_CallCompletionCallback(le_msg_MessageRef_t requestMsgRef, le_msg_MessageRef_t responseMsgRef)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} msg\+Message\+\_\+\+Call\+Completion\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t}}]{request\+Msg\+Ref, }
\item[{{\bf le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t}}]{response\+Msg\+Ref}
\end{DoxyParamCaption}
)}\hypertarget{messaging_message_8h_aac9cc357d6f742f7f55d615205837cc9}{}\label{messaging_message_8h_aac9cc357d6f742f7f55d615205837cc9}
Call the completion callback function for a given message.

Call the completion callback function for a given message, if it has one. \index{messaging\+Message.\+h@{messaging\+Message.\+h}!msg\+Message\+\_\+\+Create\+Pool@{msg\+Message\+\_\+\+Create\+Pool}}
\index{msg\+Message\+\_\+\+Create\+Pool@{msg\+Message\+\_\+\+Create\+Pool}!messaging\+Message.\+h@{messaging\+Message.\+h}}
\subsubsection[{\texorpdfstring{msg\+Message\+\_\+\+Create\+Pool(const char $\ast$name, size\+\_\+t largest\+Msg\+Size)}{msgMessage_CreatePool(const char *name, size_t largestMsgSize)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+mem\+\_\+\+Pool\+Ref\+\_\+t} msg\+Message\+\_\+\+Create\+Pool (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{name, }
\item[{size\+\_\+t}]{largest\+Msg\+Size}
\end{DoxyParamCaption}
)}\hypertarget{messaging_message_8h_a7cfc6f2fb2e30652542d896f83f8f2c9}{}\label{messaging_message_8h_a7cfc6f2fb2e30652542d896f83f8f2c9}
Create a Message Pool.

\begin{DoxyReturn}{Returns}
A reference to the pool. 
\end{DoxyReturn}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000046}{Todo}]Make this configurable. \end{DoxyRefDesc}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em name} & Name of the pool. \\
\hline
\mbox{\tt in}  & {\em largest\+Msg\+Size} & Size of the largest message payload, in bytes. \\
\hline
\end{DoxyParams}
\index{messaging\+Message.\+h@{messaging\+Message.\+h}!msg\+Message\+\_\+\+Get\+Message\+Containing\+Link@{msg\+Message\+\_\+\+Get\+Message\+Containing\+Link}}
\index{msg\+Message\+\_\+\+Get\+Message\+Containing\+Link@{msg\+Message\+\_\+\+Get\+Message\+Containing\+Link}!messaging\+Message.\+h@{messaging\+Message.\+h}}
\subsubsection[{\texorpdfstring{msg\+Message\+\_\+\+Get\+Message\+Containing\+Link(le\+\_\+dls\+\_\+\+Link\+\_\+t $\ast$link\+Ptr)}{msgMessage_GetMessageContainingLink(le_dls_Link_t *linkPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t} msg\+Message\+\_\+\+Get\+Message\+Containing\+Link (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+dls\+\_\+\+Link\+\_\+t} $\ast$}]{link\+Ptr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\hypertarget{messaging_message_8h_a31410b0913ecc6d0e2105ebae2732ba5}{}\label{messaging_message_8h_a31410b0913ecc6d0e2105ebae2732ba5}
Gets a reference to the Message object in which a given queue link exists.

\begin{DoxyReturn}{Returns}
The reference. 
\end{DoxyReturn}
\index{messaging\+Message.\+h@{messaging\+Message.\+h}!msg\+Message\+\_\+\+Get\+Queue\+Link\+Ptr@{msg\+Message\+\_\+\+Get\+Queue\+Link\+Ptr}}
\index{msg\+Message\+\_\+\+Get\+Queue\+Link\+Ptr@{msg\+Message\+\_\+\+Get\+Queue\+Link\+Ptr}!messaging\+Message.\+h@{messaging\+Message.\+h}}
\subsubsection[{\texorpdfstring{msg\+Message\+\_\+\+Get\+Queue\+Link\+Ptr(le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t msg\+Ref)}{msgMessage_GetQueueLinkPtr(le_msg_MessageRef_t msgRef)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf le\+\_\+dls\+\_\+\+Link\+\_\+t}$\ast$ msg\+Message\+\_\+\+Get\+Queue\+Link\+Ptr (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t}}]{msg\+Ref}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\hypertarget{messaging_message_8h_aff780f150e23c07e05dc260c4990724a}{}\label{messaging_message_8h_aff780f150e23c07e05dc260c4990724a}
Gets a pointer to the queue link inside a Message object.

\begin{DoxyReturn}{Returns}
The pointer. 
\end{DoxyReturn}
\index{messaging\+Message.\+h@{messaging\+Message.\+h}!msg\+Message\+\_\+\+Get\+Txn\+Id@{msg\+Message\+\_\+\+Get\+Txn\+Id}}
\index{msg\+Message\+\_\+\+Get\+Txn\+Id@{msg\+Message\+\_\+\+Get\+Txn\+Id}!messaging\+Message.\+h@{messaging\+Message.\+h}}
\subsubsection[{\texorpdfstring{msg\+Message\+\_\+\+Get\+Txn\+Id(le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t msg\+Ref)}{msgMessage_GetTxnId(le_msg_MessageRef_t msgRef)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf void}$\ast$ msg\+Message\+\_\+\+Get\+Txn\+Id (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t}}]{msg\+Ref}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\hypertarget{messaging_message_8h_ac6dfd8281465e940d7176fa313b4b50f}{}\label{messaging_message_8h_ac6dfd8281465e940d7176fa313b4b50f}
Gets a Message object\textquotesingle{}s transaction ID.

\begin{DoxyReturn}{Returns}
The ID. (Zero = the message is not part of a request-\/response transaction.) 
\end{DoxyReturn}
\index{messaging\+Message.\+h@{messaging\+Message.\+h}!msg\+Message\+\_\+\+Init@{msg\+Message\+\_\+\+Init}}
\index{msg\+Message\+\_\+\+Init@{msg\+Message\+\_\+\+Init}!messaging\+Message.\+h@{messaging\+Message.\+h}}
\subsubsection[{\texorpdfstring{msg\+Message\+\_\+\+Init(void)}{msgMessage_Init(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} msg\+Message\+\_\+\+Init (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{messaging_message_8h_a0fc936bdc80c2ef5c88e5e7ae34d4add}{}\label{messaging_message_8h_a0fc936bdc80c2ef5c88e5e7ae34d4add}
Initializes this module. This must be called only once at start-\/up, before any other functions in this module are called. \index{messaging\+Message.\+h@{messaging\+Message.\+h}!msg\+Message\+\_\+\+Receive@{msg\+Message\+\_\+\+Receive}}
\index{msg\+Message\+\_\+\+Receive@{msg\+Message\+\_\+\+Receive}!messaging\+Message.\+h@{messaging\+Message.\+h}}
\subsubsection[{\texorpdfstring{msg\+Message\+\_\+\+Receive(int socket\+Fd, le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t msg\+Ref)}{msgMessage_Receive(int socketFd, le_msg_MessageRef_t msgRef)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} msg\+Message\+\_\+\+Receive (
\begin{DoxyParamCaption}
\item[{int}]{socket\+Fd, }
\item[{{\bf le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t}}]{msg\+Ref}
\end{DoxyParamCaption}
)}\hypertarget{messaging_message_8h_a2038202f6a4e6c7fe63295050ecf5483}{}\label{messaging_message_8h_a2038202f6a4e6c7fe63295050ecf5483}
Receive a single message from a connected socket.

\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item L\+E\+\_\+\+OK if successful.
\item L\+E\+\_\+\+W\+O\+U\+L\+D\+\_\+\+B\+L\+O\+CK if there\textquotesingle{}s nothing there to receive and the socket is set non-\/blocking.
\item L\+E\+\_\+\+C\+L\+O\+S\+ED if the connection has closed.
\item L\+E\+\_\+\+C\+O\+M\+M\+\_\+\+E\+R\+R\+OR if an error was encountered. 
\end{DoxyItemize}
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em socket\+Fd} & The socket\textquotesingle{}s file descriptor. \\
\hline
\mbox{\tt in}  & {\em msg\+Ref} & Message object to store the received message in. \\
\hline
\end{DoxyParams}
\index{messaging\+Message.\+h@{messaging\+Message.\+h}!msg\+Message\+\_\+\+Send@{msg\+Message\+\_\+\+Send}}
\index{msg\+Message\+\_\+\+Send@{msg\+Message\+\_\+\+Send}!messaging\+Message.\+h@{messaging\+Message.\+h}}
\subsubsection[{\texorpdfstring{msg\+Message\+\_\+\+Send(int socket\+Fd, Message\+\_\+t $\ast$msg\+Ptr)}{msgMessage_Send(int socketFd, Message_t *msgPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} msg\+Message\+\_\+\+Send (
\begin{DoxyParamCaption}
\item[{int}]{socket\+Fd, }
\item[{{\bf Message\+\_\+t} $\ast$}]{msg\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{messaging_message_8h_a817e963a9d1b288ea99ef565a9cea0a9}{}\label{messaging_message_8h_a817e963a9d1b288ea99ef565a9cea0a9}
Send a single message over a connected socket.

\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item L\+E\+\_\+\+OK if successful.
\item L\+E\+\_\+\+N\+O\+\_\+\+M\+E\+M\+O\+RY if the socket doesn\textquotesingle{}t have enough send buffer space available right now.
\item L\+E\+\_\+\+C\+O\+M\+M\+\_\+\+E\+R\+R\+OR if the socket reported an error on the send operation.
\end{DoxyItemize}
\end{DoxyReturn}
Send a single message over a connected socket.

\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item L\+E\+\_\+\+OK if successful.
\item L\+E\+\_\+\+N\+O\+\_\+\+M\+E\+M\+O\+RY if the socket doesn\textquotesingle{}t have enough send buffer space available right now.
\item L\+E\+\_\+\+C\+O\+M\+M\+\_\+\+E\+R\+R\+OR if the local\+Socket\+Fd is not connected.
\item L\+E\+\_\+\+F\+A\+U\+LT if failed for some other reason (check your logs).
\end{DoxyItemize}
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Won\textquotesingle{}t return L\+E\+\_\+\+N\+O\+\_\+\+M\+E\+M\+O\+RY if the socket is in blocking mode. 
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em socket\+Fd} & Connected socket\textquotesingle{}s file descriptor. \\
\hline
 & {\em msg\+Ptr} & The Message to be sent. \\
\hline
\end{DoxyParams}
\index{messaging\+Message.\+h@{messaging\+Message.\+h}!msg\+Message\+\_\+\+Set\+Txn\+Id@{msg\+Message\+\_\+\+Set\+Txn\+Id}}
\index{msg\+Message\+\_\+\+Set\+Txn\+Id@{msg\+Message\+\_\+\+Set\+Txn\+Id}!messaging\+Message.\+h@{messaging\+Message.\+h}}
\subsubsection[{\texorpdfstring{msg\+Message\+\_\+\+Set\+Txn\+Id(le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t msg\+Ref, void $\ast$txn\+Id)}{msgMessage_SetTxnId(le_msg_MessageRef_t msgRef, void *txnId)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf void} msg\+Message\+\_\+\+Set\+Txn\+Id (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t}}]{msg\+Ref, }
\item[{{\bf void} $\ast$}]{txn\+Id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\hypertarget{messaging_message_8h_a867e6195e798680330a801c540d97032}{}\label{messaging_message_8h_a867e6195e798680330a801c540d97032}
Sets a Message object\textquotesingle{}s transaction ID. 