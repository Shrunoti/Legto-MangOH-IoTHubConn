\hypertarget{dir_8c}{}\section{framework/liblegato/linux/dir.c File Reference}
\label{dir_8c}\index{framework/liblegato/linux/dir.\+c@{framework/liblegato/linux/dir.\+c}}
{\ttfamily \#include \char`\"{}legato.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}limit.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}smack.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{dir_8c_a2bd42c2d1c81c23e3d2efd99ec992246}{dir\+\_\+\+Make\+Smack} (const char $\ast$path\+Name\+Ptr, mode\+\_\+t mode, const char $\ast$label\+Ptr)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{dir_8c_a3140de3abfbf79494ce39df097437dbd}{dir\+\_\+\+Make\+Path\+Smack} (const char $\ast$path\+Name\+Ptr, mode\+\_\+t mode, const char $\ast$label\+Ptr)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{dir_8c_a7ac7d25b67f2e47127084677626d5344}{le\+\_\+dir\+\_\+\+Make} (const char $\ast$path\+Name\+Ptr, mode\+\_\+t mode)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{dir_8c_a41fc915e2a21ea91dabe335f1316df74}{le\+\_\+dir\+\_\+\+Make\+Path} (const char $\ast$path\+Name\+Ptr, mode\+\_\+t mode)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{dir_8c_a9eca51d0e3031f9dee7b875a62c8b1e0}{le\+\_\+dir\+\_\+\+Remove\+Recursive} (const char $\ast$path\+Name\+Ptr)
\item 
bool \hyperlink{dir_8c_a21759e0bd1e3aeae2664b955c36baa58}{le\+\_\+dir\+\_\+\+Is\+Dir} (const char $\ast$path\+Name\+Ptr)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Copyright (C) Sierra Wireless Inc. 

\subsection{Function Documentation}
\index{dir.\+c@{dir.\+c}!dir\+\_\+\+Make\+Path\+Smack@{dir\+\_\+\+Make\+Path\+Smack}}
\index{dir\+\_\+\+Make\+Path\+Smack@{dir\+\_\+\+Make\+Path\+Smack}!dir.\+c@{dir.\+c}}
\subsubsection[{\texorpdfstring{dir\+\_\+\+Make\+Path\+Smack(const char $\ast$path\+Name\+Ptr, mode\+\_\+t mode, const char $\ast$label\+Ptr)}{dir_MakePathSmack(const char *pathNamePtr, mode_t mode, const char *labelPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} dir\+\_\+\+Make\+Path\+Smack (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path\+Name\+Ptr, }
\item[{mode\+\_\+t}]{mode, }
\item[{const char $\ast$}]{label\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{dir_8c_a3140de3abfbf79494ce39df097437dbd}{}\label{dir_8c_a3140de3abfbf79494ce39df097437dbd}
Creates all directories in the path. If some (or all) directories in the path already exists those directories are left as they are. All created directories are given the specified permissions and S\+M\+A\+CK label.

\begin{DoxyNote}{Note}
The actual permissions for the created directories will depend on the calling process\textquotesingle{} umask.
\end{DoxyNote}
\begin{DoxyReturn}{Returns}
L\+E\+\_\+\+OK if successful. L\+E\+\_\+\+F\+A\+U\+LT if there was an error. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path\+Name\+Ptr} & A path containing all the directories to create. \\
\hline
\mbox{\tt in}  & {\em mode} & The permissions for all created directories. \\
\hline
\mbox{\tt in}  & {\em label\+Ptr} & S\+M\+A\+CK label for all created directories. If N\+U\+LL, no label is given. \\
\hline
\end{DoxyParams}
\index{dir.\+c@{dir.\+c}!dir\+\_\+\+Make\+Smack@{dir\+\_\+\+Make\+Smack}}
\index{dir\+\_\+\+Make\+Smack@{dir\+\_\+\+Make\+Smack}!dir.\+c@{dir.\+c}}
\subsubsection[{\texorpdfstring{dir\+\_\+\+Make\+Smack(const char $\ast$path\+Name\+Ptr, mode\+\_\+t mode, const char $\ast$label\+Ptr)}{dir_MakeSmack(const char *pathNamePtr, mode_t mode, const char *labelPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} dir\+\_\+\+Make\+Smack (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path\+Name\+Ptr, }
\item[{mode\+\_\+t}]{mode, }
\item[{const char $\ast$}]{label\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{dir_8c_a2bd42c2d1c81c23e3d2efd99ec992246}{}\label{dir_8c_a2bd42c2d1c81c23e3d2efd99ec992246}
Creates a directory with the specified permissions and S\+M\+A\+CK label.

\begin{DoxyNote}{Note}
Permissions for the created directory will depend on the calling process\textquotesingle{} umask.
\end{DoxyNote}
\begin{DoxyReturn}{Returns}
L\+E\+\_\+\+OK if successful. L\+E\+\_\+\+D\+U\+P\+L\+I\+C\+A\+TE if the directory already exists. L\+E\+\_\+\+F\+A\+U\+LT if there was an error. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path\+Name\+Ptr} & Path name to the directory to create. \\
\hline
\mbox{\tt in}  & {\em mode} & Permissions for the directory. \\
\hline
\mbox{\tt in}  & {\em label\+Ptr} & S\+M\+A\+CK label for the directory. If N\+U\+LL, no label is given. \\
\hline
\end{DoxyParams}
\index{dir.\+c@{dir.\+c}!le\+\_\+dir\+\_\+\+Is\+Dir@{le\+\_\+dir\+\_\+\+Is\+Dir}}
\index{le\+\_\+dir\+\_\+\+Is\+Dir@{le\+\_\+dir\+\_\+\+Is\+Dir}!dir.\+c@{dir.\+c}}
\subsubsection[{\texorpdfstring{le\+\_\+dir\+\_\+\+Is\+Dir(const char $\ast$path\+Name\+Ptr)}{le_dir_IsDir(const char *pathNamePtr)}}]{\setlength{\rightskip}{0pt plus 5cm}bool le\+\_\+dir\+\_\+\+Is\+Dir (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path\+Name\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{dir_8c_a21759e0bd1e3aeae2664b955c36baa58}{}\label{dir_8c_a21759e0bd1e3aeae2664b955c36baa58}
Checks if the path refers to a directory.

\begin{DoxyReturn}{Returns}
true if the path refers to a directory. false otherwise. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path\+Name\+Ptr} & The path to the directory. \\
\hline
\end{DoxyParams}
\index{dir.\+c@{dir.\+c}!le\+\_\+dir\+\_\+\+Make@{le\+\_\+dir\+\_\+\+Make}}
\index{le\+\_\+dir\+\_\+\+Make@{le\+\_\+dir\+\_\+\+Make}!dir.\+c@{dir.\+c}}
\subsubsection[{\texorpdfstring{le\+\_\+dir\+\_\+\+Make(const char $\ast$path\+Name\+Ptr, mode\+\_\+t mode)}{le_dir_Make(const char *pathNamePtr, mode_t mode)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} le\+\_\+dir\+\_\+\+Make (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path\+Name\+Ptr, }
\item[{mode\+\_\+t}]{mode}
\end{DoxyParamCaption}
)}\hypertarget{dir_8c_a7ac7d25b67f2e47127084677626d5344}{}\label{dir_8c_a7ac7d25b67f2e47127084677626d5344}
Creates a directory with permissions specified in mode.

\begin{DoxyNote}{Note}
The actual permissions for the created directory will depend on the calling process\textquotesingle{} umask.
\end{DoxyNote}
\begin{DoxyReturn}{Returns}
L\+E\+\_\+\+OK if successful. L\+E\+\_\+\+D\+U\+P\+L\+I\+C\+A\+TE if the directory already exists. L\+E\+\_\+\+F\+A\+U\+LT if there was an error. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path\+Name\+Ptr} & The path name to the directory to create. \\
\hline
\mbox{\tt in}  & {\em mode} & The permissions for the directory. \\
\hline
\end{DoxyParams}
\index{dir.\+c@{dir.\+c}!le\+\_\+dir\+\_\+\+Make\+Path@{le\+\_\+dir\+\_\+\+Make\+Path}}
\index{le\+\_\+dir\+\_\+\+Make\+Path@{le\+\_\+dir\+\_\+\+Make\+Path}!dir.\+c@{dir.\+c}}
\subsubsection[{\texorpdfstring{le\+\_\+dir\+\_\+\+Make\+Path(const char $\ast$path\+Name\+Ptr, mode\+\_\+t mode)}{le_dir_MakePath(const char *pathNamePtr, mode_t mode)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} le\+\_\+dir\+\_\+\+Make\+Path (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path\+Name\+Ptr, }
\item[{mode\+\_\+t}]{mode}
\end{DoxyParamCaption}
)}\hypertarget{dir_8c_a41fc915e2a21ea91dabe335f1316df74}{}\label{dir_8c_a41fc915e2a21ea91dabe335f1316df74}
Creates all directories in the path. If some (or all) directories in the path already exists those directories are left as they are. All created directories have the same permissions (specified in mode).

\begin{DoxyNote}{Note}
The actual permissions for the created directories will depend on the calling process\textquotesingle{} umask.
\end{DoxyNote}
\begin{DoxyReturn}{Returns}
L\+E\+\_\+\+OK if successful. L\+E\+\_\+\+F\+A\+U\+LT if there was an error. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path\+Name\+Ptr} & A path containing all the directories to create. \\
\hline
\mbox{\tt in}  & {\em mode} & The permissions for all created directories. \\
\hline
\end{DoxyParams}
\index{dir.\+c@{dir.\+c}!le\+\_\+dir\+\_\+\+Remove\+Recursive@{le\+\_\+dir\+\_\+\+Remove\+Recursive}}
\index{le\+\_\+dir\+\_\+\+Remove\+Recursive@{le\+\_\+dir\+\_\+\+Remove\+Recursive}!dir.\+c@{dir.\+c}}
\subsubsection[{\texorpdfstring{le\+\_\+dir\+\_\+\+Remove\+Recursive(const char $\ast$path\+Name\+Ptr)}{le_dir_RemoveRecursive(const char *pathNamePtr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} le\+\_\+dir\+\_\+\+Remove\+Recursive (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path\+Name\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{dir_8c_a9eca51d0e3031f9dee7b875a62c8b1e0}{}\label{dir_8c_a9eca51d0e3031f9dee7b875a62c8b1e0}
Removes a directory by first recursively removing sub-\/directories, files, symlinks, hardlinks, devices, etc. Symlinks are not followed, only the links themselves are deleted.

A file or device may not be able to be removed if it is busy, in which case an error message is logged and L\+E\+\_\+\+F\+A\+U\+LT is returned.

\begin{DoxyReturn}{Returns}
L\+E\+\_\+\+OK if successful. L\+E\+\_\+\+F\+A\+U\+LT if there was an error. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path\+Name\+Ptr} & The path to the directory to remove. \\
\hline
\end{DoxyParams}
