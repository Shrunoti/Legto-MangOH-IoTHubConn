\hypertarget{mutex_8c}{}\section{framework/liblegato/linux/mutex.c File Reference}
\label{mutex_8c}\index{framework/liblegato/linux/mutex.\+c@{framework/liblegato/linux/mutex.\+c}}
{\ttfamily \#include \char`\"{}legato.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}limit.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mutex.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}thread.\+h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{mutex_8c_a3987ee819c0689005c181d154233ce1c}{D\+E\+F\+A\+U\+L\+T\+\_\+\+P\+O\+O\+L\+\_\+\+S\+I\+ZE}~4
\item 
\#define \hyperlink{mutex_8c_ac14e09cf9bbd3b524369a164e881f5a8}{L\+O\+C\+K\+\_\+\+M\+U\+T\+E\+X\+\_\+\+L\+I\+ST}()~\hyperlink{sbtrace_8c_a7c6c2e5e914cf8eca19d150e90f3b106}{L\+E\+\_\+\+A\+S\+S\+E\+RT}(pthread\+\_\+mutex\+\_\+lock(\&\hyperlink{mutex_8c_a84cda88f43c1b32c40ec4449df6012f1}{Mutex\+List\+Mutex}) == 0)
\begin{DoxyCompactList}\small\item\em Lock the Mutex List Mutex. \end{DoxyCompactList}\item 
\#define \hyperlink{mutex_8c_a9151f7436d51bd112769d4b61d28a4be}{U\+N\+L\+O\+C\+K\+\_\+\+M\+U\+T\+E\+X\+\_\+\+L\+I\+ST}()~\hyperlink{sbtrace_8c_a7c6c2e5e914cf8eca19d150e90f3b106}{L\+E\+\_\+\+A\+S\+S\+E\+RT}(pthread\+\_\+mutex\+\_\+unlock(\&\hyperlink{mutex_8c_a84cda88f43c1b32c40ec4449df6012f1}{Mutex\+List\+Mutex}) == 0)
\begin{DoxyCompactList}\small\item\em Unlock the Mutex List Mutex. \end{DoxyCompactList}\item 
\#define \hyperlink{mutex_8c_afbe88a32e7d4e74f088387798a3000f6}{L\+O\+C\+K\+\_\+\+W\+A\+I\+T\+I\+N\+G\+\_\+\+L\+I\+ST}(mutex\+Ptr)~\hyperlink{sbtrace_8c_a7c6c2e5e914cf8eca19d150e90f3b106}{L\+E\+\_\+\+A\+S\+S\+E\+RT}(pthread\+\_\+mutex\+\_\+lock(\&(mutex\+Ptr)-\/$>$waiting\+List\+Mutex) == 0)
\begin{DoxyCompactList}\small\item\em Lock a mutex\textquotesingle{}s Waiting List Mutex. \end{DoxyCompactList}\item 
\#define \hyperlink{mutex_8c_a234fa1ff40fa1088c1b21fb4da2ff508}{U\+N\+L\+O\+C\+K\+\_\+\+W\+A\+I\+T\+I\+N\+G\+\_\+\+L\+I\+ST}(mutex\+Ptr)~\hyperlink{sbtrace_8c_a7c6c2e5e914cf8eca19d150e90f3b106}{L\+E\+\_\+\+A\+S\+S\+E\+RT}(pthread\+\_\+mutex\+\_\+unlock(\&(mutex\+Ptr)-\/$>$waiting\+List\+Mutex) == 0)
\begin{DoxyCompactList}\small\item\em Unlock a mutex\textquotesingle{}s Waiting List Mutex. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{le__mutex_8h_ab2af11e2077e6bed9962eb7dfd54eb03}{le\+\_\+mutex\+\_\+\+Ref\+\_\+t} \hyperlink{mutex_8c_a6353a81aa4de12dcb996de0e652fad97}{Create\+Mutex} (const char $\ast$name\+Str, bool is\+Recursive)
\item 
static \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{mutex_8c_ae388e85a6dddbeb3cec04dc8521fddab}{Add\+To\+Waiting\+List} (\hyperlink{struct_mutex__t}{Mutex\+\_\+t} $\ast$mutex\+Ptr, \hyperlink{structmutex___thread_rec__t}{mutex\+\_\+\+Thread\+Rec\+\_\+t} $\ast$per\+Thread\+Rec\+Ptr)
\item 
static \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{mutex_8c_a4158b88875b63497ed622a45df0bb5ed}{Remove\+From\+Waiting\+List} (\hyperlink{struct_mutex__t}{Mutex\+\_\+t} $\ast$mutex\+Ptr, \hyperlink{structmutex___thread_rec__t}{mutex\+\_\+\+Thread\+Rec\+\_\+t} $\ast$per\+Thread\+Rec\+Ptr)
\item 
static \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{mutex_8c_a413fc9713776689f756f3ada7a09ca52}{Mark\+Locked} (\hyperlink{structmutex___thread_rec__t}{mutex\+\_\+\+Thread\+Rec\+\_\+t} $\ast$per\+Thread\+Rec\+Ptr, \hyperlink{struct_mutex__t}{Mutex\+\_\+t} $\ast$mutex\+Ptr)
\item 
static \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{mutex_8c_a8e72556291cf9262e2afbb9140ccd52b}{Mark\+Unlocked} (\hyperlink{struct_mutex__t}{Mutex\+\_\+t} $\ast$mutex\+Ptr)
\item 
static \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{mutex_8c_ab792586c70a16e4f6d8494f96c9d3dea}{Thread\+Death\+Clean\+Up} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} $\ast$context\+Ptr)
\item 
size\+\_\+t $\ast$$\ast$ \hyperlink{mutex_8c_ab006face5401adf5f42dafc81083d032}{mutex\+\_\+\+Get\+Mutex\+List\+Chg\+Cnt\+Ref} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{mutex_8c_adfdcb3ebf7e84c69dcb348f55ae39b48}{mutex\+\_\+\+Init} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{mutex_8c_ab46b9e4a013dbd3a698cc475d669a9e7}{mutex\+\_\+\+Thread\+Init} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
\hyperlink{le__mutex_8h_ab2af11e2077e6bed9962eb7dfd54eb03}{le\+\_\+mutex\+\_\+\+Ref\+\_\+t} \hyperlink{mutex_8c_ac7dd2b69f4b905d56df969c9085a570b}{le\+\_\+mutex\+\_\+\+Create\+Recursive} (const char $\ast$name\+Str)
\item 
\hyperlink{le__mutex_8h_ab2af11e2077e6bed9962eb7dfd54eb03}{le\+\_\+mutex\+\_\+\+Ref\+\_\+t} \hyperlink{mutex_8c_a602e2c18e646db7af0d68bb5fb103207}{le\+\_\+mutex\+\_\+\+Create\+Non\+Recursive} (const char $\ast$name\+Str)
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{mutex_8c_a38571fa1d9c15d5f30ea9c480d8810c6}{le\+\_\+mutex\+\_\+\+Delete} (\hyperlink{le__mutex_8h_ab2af11e2077e6bed9962eb7dfd54eb03}{le\+\_\+mutex\+\_\+\+Ref\+\_\+t} mutex\+Ref)
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{mutex_8c_ad5b7d94710f420cd945229648e7a80e7}{le\+\_\+mutex\+\_\+\+Lock} (\hyperlink{le__mutex_8h_ab2af11e2077e6bed9962eb7dfd54eb03}{le\+\_\+mutex\+\_\+\+Ref\+\_\+t} mutex\+Ref)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{mutex_8c_a43864999f70f0a825cf8ca87f9a2ee2c}{le\+\_\+mutex\+\_\+\+Try\+Lock} (\hyperlink{le__mutex_8h_ab2af11e2077e6bed9962eb7dfd54eb03}{le\+\_\+mutex\+\_\+\+Ref\+\_\+t} mutex\+Ref)
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{mutex_8c_aae68b71222e20c55ff3bf2d7b52e3009}{le\+\_\+mutex\+\_\+\+Unlock} (\hyperlink{le__mutex_8h_ab2af11e2077e6bed9962eb7dfd54eb03}{le\+\_\+mutex\+\_\+\+Ref\+\_\+t} mutex\+Ref)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static size\+\_\+t \hyperlink{mutex_8c_aa03f1e65089e0ea063a2f9f9ee291786}{Mutex\+List\+Change\+Count} = 0
\item 
static size\+\_\+t $\ast$ \hyperlink{mutex_8c_a84088269ad5035d7db0f8f8067734617}{Mutex\+List\+Change\+Count\+Ref} = \&\hyperlink{mutex_8c_aa03f1e65089e0ea063a2f9f9ee291786}{Mutex\+List\+Change\+Count}
\item 
static \hyperlink{le__mem_8h_a44a896f6a0a1a8c733e8038eb332989e}{le\+\_\+mem\+\_\+\+Pool\+Ref\+\_\+t} \hyperlink{mutex_8c_a150bbca48b8dd85e46fa06f943b81ea5}{Mutex\+Pool\+Ref}
\item 
static \hyperlink{structle__dls___list__t}{le\+\_\+dls\+\_\+\+List\+\_\+t} \hyperlink{mutex_8c_adbe7a6ac34ac9ea94f4f526018a1949a}{Mutex\+List} = \hyperlink{le__doubly_linked_list_8h_a68f28b61cdfd004591f24730b4d5a740}{L\+E\+\_\+\+D\+L\+S\+\_\+\+L\+I\+S\+T\+\_\+\+I\+N\+IT}
\item 
static pthread\+\_\+mutex\+\_\+t \hyperlink{mutex_8c_a84cda88f43c1b32c40ec4449df6012f1}{Mutex\+List\+Mutex} = P\+T\+H\+R\+E\+A\+D\+\_\+\+R\+E\+C\+U\+R\+S\+I\+V\+E\+\_\+\+M\+U\+T\+E\+X\+\_\+\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+E\+R\+\_\+\+NP
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Legato \hyperlink{c_mutex}{Mutex A\+PI} implementation.

Each mutex is represented by a {\bfseries  Mutex object }. They are dynamically allocated from the {\bfseries  Mutex Pool } and are stored on the {\bfseries  Mutex List } until they are destroyed.

In addition, each thread has a {\bfseries  Per-\/\+Thread Mutex Record }, which is kept in the Thread object inside the thread module and is fetched through a call to \hyperlink{thread_8c_adeb861f6f893d73375d4817a1a8a5fcc}{thread\+\_\+\+Get\+Mutex\+Rec\+Ptr()}. That Per-\/\+Thread Mutex Record holds a pointer to a mutex that the thread is waiting on (or N\+U\+LL if not waiting on a mutex). It also holds a list of mutexes that the thread currently holds the lock for.

Some of the tricky features of the Mutexes have to do with the diagnostic capabilities provided by command-\/line tools. That is, the command-\/line tools can ask\+:
\begin{DoxyEnumerate}
\item What mutexes are currently held by a given thread?
\begin{DoxyItemize}
\item To support this, a list of locked mutexes is kept per-\/thread.
\end{DoxyItemize}
\item What mutex is a given thread currently waiting on?
\begin{DoxyItemize}
\item A single mutex reference per thread keeps track of this (N\+U\+LL if not waiting).
\end{DoxyItemize}
\item What mutexes currently exist in the process?
\begin{DoxyItemize}
\item A single per-\/process list of all mutexes keeps track of this (the Mutex List).
\end{DoxyItemize}
\item What threads, if any, are currently waiting on a given mutex?
\begin{DoxyItemize}
\item Each Mutex object has a list of Per-\/\+Thread Mutex Records for this.
\end{DoxyItemize}
\item What thread holds the lock on a given mutex?
\begin{DoxyItemize}
\item Each Mutex object has a single thread reference for this (N\+U\+LL if no one holds the lock).
\end{DoxyItemize}
\item What is a given mutex\textquotesingle{}s lock count?
\begin{DoxyItemize}
\item Each Mutex object keeps track of its lock count.
\end{DoxyItemize}
\item What type of mutex is a given mutex? (recursive?)
\begin{DoxyItemize}
\item Stored in each Mutex object as a boolean flag.
\end{DoxyItemize}
\end{DoxyEnumerate}

Copyright (C) Sierra Wireless Inc. 

\subsection{Macro Definition Documentation}
\index{mutex.\+c@{mutex.\+c}!D\+E\+F\+A\+U\+L\+T\+\_\+\+P\+O\+O\+L\+\_\+\+S\+I\+ZE@{D\+E\+F\+A\+U\+L\+T\+\_\+\+P\+O\+O\+L\+\_\+\+S\+I\+ZE}}
\index{D\+E\+F\+A\+U\+L\+T\+\_\+\+P\+O\+O\+L\+\_\+\+S\+I\+ZE@{D\+E\+F\+A\+U\+L\+T\+\_\+\+P\+O\+O\+L\+\_\+\+S\+I\+ZE}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{D\+E\+F\+A\+U\+L\+T\+\_\+\+P\+O\+O\+L\+\_\+\+S\+I\+ZE}{DEFAULT_POOL_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define D\+E\+F\+A\+U\+L\+T\+\_\+\+P\+O\+O\+L\+\_\+\+S\+I\+ZE~4}\hypertarget{mutex_8c_a3987ee819c0689005c181d154233ce1c}{}\label{mutex_8c_a3987ee819c0689005c181d154233ce1c}
Number of objects in the Mutex Pool to start with. T\+O\+DO\+: Change this to be configurable per-\/process. \index{mutex.\+c@{mutex.\+c}!L\+O\+C\+K\+\_\+\+M\+U\+T\+E\+X\+\_\+\+L\+I\+ST@{L\+O\+C\+K\+\_\+\+M\+U\+T\+E\+X\+\_\+\+L\+I\+ST}}
\index{L\+O\+C\+K\+\_\+\+M\+U\+T\+E\+X\+\_\+\+L\+I\+ST@{L\+O\+C\+K\+\_\+\+M\+U\+T\+E\+X\+\_\+\+L\+I\+ST}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{L\+O\+C\+K\+\_\+\+M\+U\+T\+E\+X\+\_\+\+L\+I\+ST}{LOCK_MUTEX_LIST}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+O\+C\+K\+\_\+\+M\+U\+T\+E\+X\+\_\+\+L\+I\+ST(
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)~{\bf L\+E\+\_\+\+A\+S\+S\+E\+RT}(pthread\+\_\+mutex\+\_\+lock(\&{\bf Mutex\+List\+Mutex}) == 0)}\hypertarget{mutex_8c_ac14e09cf9bbd3b524369a164e881f5a8}{}\label{mutex_8c_ac14e09cf9bbd3b524369a164e881f5a8}


Lock the Mutex List Mutex. 

\index{mutex.\+c@{mutex.\+c}!L\+O\+C\+K\+\_\+\+W\+A\+I\+T\+I\+N\+G\+\_\+\+L\+I\+ST@{L\+O\+C\+K\+\_\+\+W\+A\+I\+T\+I\+N\+G\+\_\+\+L\+I\+ST}}
\index{L\+O\+C\+K\+\_\+\+W\+A\+I\+T\+I\+N\+G\+\_\+\+L\+I\+ST@{L\+O\+C\+K\+\_\+\+W\+A\+I\+T\+I\+N\+G\+\_\+\+L\+I\+ST}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{L\+O\+C\+K\+\_\+\+W\+A\+I\+T\+I\+N\+G\+\_\+\+L\+I\+ST}{LOCK_WAITING_LIST}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+O\+C\+K\+\_\+\+W\+A\+I\+T\+I\+N\+G\+\_\+\+L\+I\+ST(
\begin{DoxyParamCaption}
\item[{}]{mutex\+Ptr}
\end{DoxyParamCaption}
)~{\bf L\+E\+\_\+\+A\+S\+S\+E\+RT}(pthread\+\_\+mutex\+\_\+lock(\&(mutex\+Ptr)-\/$>$waiting\+List\+Mutex) == 0)}\hypertarget{mutex_8c_afbe88a32e7d4e74f088387798a3000f6}{}\label{mutex_8c_afbe88a32e7d4e74f088387798a3000f6}


Lock a mutex\textquotesingle{}s Waiting List Mutex. 

\index{mutex.\+c@{mutex.\+c}!U\+N\+L\+O\+C\+K\+\_\+\+M\+U\+T\+E\+X\+\_\+\+L\+I\+ST@{U\+N\+L\+O\+C\+K\+\_\+\+M\+U\+T\+E\+X\+\_\+\+L\+I\+ST}}
\index{U\+N\+L\+O\+C\+K\+\_\+\+M\+U\+T\+E\+X\+\_\+\+L\+I\+ST@{U\+N\+L\+O\+C\+K\+\_\+\+M\+U\+T\+E\+X\+\_\+\+L\+I\+ST}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{U\+N\+L\+O\+C\+K\+\_\+\+M\+U\+T\+E\+X\+\_\+\+L\+I\+ST}{UNLOCK_MUTEX_LIST}}]{\setlength{\rightskip}{0pt plus 5cm}\#define U\+N\+L\+O\+C\+K\+\_\+\+M\+U\+T\+E\+X\+\_\+\+L\+I\+ST(
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)~{\bf L\+E\+\_\+\+A\+S\+S\+E\+RT}(pthread\+\_\+mutex\+\_\+unlock(\&{\bf Mutex\+List\+Mutex}) == 0)}\hypertarget{mutex_8c_a9151f7436d51bd112769d4b61d28a4be}{}\label{mutex_8c_a9151f7436d51bd112769d4b61d28a4be}


Unlock the Mutex List Mutex. 

\index{mutex.\+c@{mutex.\+c}!U\+N\+L\+O\+C\+K\+\_\+\+W\+A\+I\+T\+I\+N\+G\+\_\+\+L\+I\+ST@{U\+N\+L\+O\+C\+K\+\_\+\+W\+A\+I\+T\+I\+N\+G\+\_\+\+L\+I\+ST}}
\index{U\+N\+L\+O\+C\+K\+\_\+\+W\+A\+I\+T\+I\+N\+G\+\_\+\+L\+I\+ST@{U\+N\+L\+O\+C\+K\+\_\+\+W\+A\+I\+T\+I\+N\+G\+\_\+\+L\+I\+ST}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{U\+N\+L\+O\+C\+K\+\_\+\+W\+A\+I\+T\+I\+N\+G\+\_\+\+L\+I\+ST}{UNLOCK_WAITING_LIST}}]{\setlength{\rightskip}{0pt plus 5cm}\#define U\+N\+L\+O\+C\+K\+\_\+\+W\+A\+I\+T\+I\+N\+G\+\_\+\+L\+I\+ST(
\begin{DoxyParamCaption}
\item[{}]{mutex\+Ptr}
\end{DoxyParamCaption}
)~{\bf L\+E\+\_\+\+A\+S\+S\+E\+RT}(pthread\+\_\+mutex\+\_\+unlock(\&(mutex\+Ptr)-\/$>$waiting\+List\+Mutex) == 0)}\hypertarget{mutex_8c_a234fa1ff40fa1088c1b21fb4da2ff508}{}\label{mutex_8c_a234fa1ff40fa1088c1b21fb4da2ff508}


Unlock a mutex\textquotesingle{}s Waiting List Mutex. 



\subsection{Function Documentation}
\index{mutex.\+c@{mutex.\+c}!Add\+To\+Waiting\+List@{Add\+To\+Waiting\+List}}
\index{Add\+To\+Waiting\+List@{Add\+To\+Waiting\+List}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{Add\+To\+Waiting\+List(\+Mutex\+\_\+t $\ast$mutex\+Ptr, mutex\+\_\+\+Thread\+Rec\+\_\+t $\ast$per\+Thread\+Rec\+Ptr)}{AddToWaitingList(Mutex_t *mutexPtr, mutex_ThreadRec_t *perThreadRecPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf void} Add\+To\+Waiting\+List (
\begin{DoxyParamCaption}
\item[{{\bf Mutex\+\_\+t} $\ast$}]{mutex\+Ptr, }
\item[{{\bf mutex\+\_\+\+Thread\+Rec\+\_\+t} $\ast$}]{per\+Thread\+Rec\+Ptr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mutex_8c_ae388e85a6dddbeb3cec04dc8521fddab}{}\label{mutex_8c_ae388e85a6dddbeb3cec04dc8521fddab}
Adds a thread\textquotesingle{}s Mutex Record to a Mutex object\textquotesingle{}s waiting list. \index{mutex.\+c@{mutex.\+c}!Create\+Mutex@{Create\+Mutex}}
\index{Create\+Mutex@{Create\+Mutex}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{Create\+Mutex(const char $\ast$name\+Str, bool is\+Recursive)}{CreateMutex(const char *nameStr, bool isRecursive)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+mutex\+\_\+\+Ref\+\_\+t} Create\+Mutex (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{name\+Str, }
\item[{bool}]{is\+Recursive}
\end{DoxyParamCaption}
)}\hypertarget{mutex_8c_a6353a81aa4de12dcb996de0e652fad97}{}\label{mutex_8c_a6353a81aa4de12dcb996de0e652fad97}
Creates a mutex.

\begin{DoxyReturn}{Returns}
Returns a reference to the mutex.
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Terminates the process on failure, so no need to check the return value for errors. 
\end{DoxyNote}
\index{mutex.\+c@{mutex.\+c}!le\+\_\+mutex\+\_\+\+Create\+Non\+Recursive@{le\+\_\+mutex\+\_\+\+Create\+Non\+Recursive}}
\index{le\+\_\+mutex\+\_\+\+Create\+Non\+Recursive@{le\+\_\+mutex\+\_\+\+Create\+Non\+Recursive}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{le\+\_\+mutex\+\_\+\+Create\+Non\+Recursive(const char $\ast$name\+Str)}{le_mutex_CreateNonRecursive(const char *nameStr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+mutex\+\_\+\+Ref\+\_\+t} le\+\_\+mutex\+\_\+\+Create\+Non\+Recursive (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{name\+Str}
\end{DoxyParamCaption}
)}\hypertarget{mutex_8c_a602e2c18e646db7af0d68bb5fb103207}{}\label{mutex_8c_a602e2c18e646db7af0d68bb5fb103207}
Create a Non-\/\+Recursive mutex

\begin{DoxyReturn}{Returns}
Returns a reference to the mutex.
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Terminates the process on failure, so no need to check the return value for errors. 
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em name\+Str} & Name of the mutex \\
\hline
\end{DoxyParams}
\index{mutex.\+c@{mutex.\+c}!le\+\_\+mutex\+\_\+\+Create\+Recursive@{le\+\_\+mutex\+\_\+\+Create\+Recursive}}
\index{le\+\_\+mutex\+\_\+\+Create\+Recursive@{le\+\_\+mutex\+\_\+\+Create\+Recursive}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{le\+\_\+mutex\+\_\+\+Create\+Recursive(const char $\ast$name\+Str)}{le_mutex_CreateRecursive(const char *nameStr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+mutex\+\_\+\+Ref\+\_\+t} le\+\_\+mutex\+\_\+\+Create\+Recursive (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{name\+Str}
\end{DoxyParamCaption}
)}\hypertarget{mutex_8c_ac7dd2b69f4b905d56df969c9085a570b}{}\label{mutex_8c_ac7dd2b69f4b905d56df969c9085a570b}
Create a Recursive mutex

\begin{DoxyReturn}{Returns}
Returns a reference to the mutex.
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Terminates the process on failure, so no need to check the return value for errors. 
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em name\+Str} & Name of the mutex \\
\hline
\end{DoxyParams}
\index{mutex.\+c@{mutex.\+c}!le\+\_\+mutex\+\_\+\+Delete@{le\+\_\+mutex\+\_\+\+Delete}}
\index{le\+\_\+mutex\+\_\+\+Delete@{le\+\_\+mutex\+\_\+\+Delete}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{le\+\_\+mutex\+\_\+\+Delete(le\+\_\+mutex\+\_\+\+Ref\+\_\+t mutex\+Ref)}{le_mutex_Delete(le_mutex_Ref_t mutexRef)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} le\+\_\+mutex\+\_\+\+Delete (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+mutex\+\_\+\+Ref\+\_\+t}}]{mutex\+Ref}
\end{DoxyParamCaption}
)}\hypertarget{mutex_8c_a38571fa1d9c15d5f30ea9c480d8810c6}{}\label{mutex_8c_a38571fa1d9c15d5f30ea9c480d8810c6}
Delete a mutex 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em mutex\+Ref} & Mutex reference \\
\hline
\end{DoxyParams}
\index{mutex.\+c@{mutex.\+c}!le\+\_\+mutex\+\_\+\+Lock@{le\+\_\+mutex\+\_\+\+Lock}}
\index{le\+\_\+mutex\+\_\+\+Lock@{le\+\_\+mutex\+\_\+\+Lock}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{le\+\_\+mutex\+\_\+\+Lock(le\+\_\+mutex\+\_\+\+Ref\+\_\+t mutex\+Ref)}{le_mutex_Lock(le_mutex_Ref_t mutexRef)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} le\+\_\+mutex\+\_\+\+Lock (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+mutex\+\_\+\+Ref\+\_\+t}}]{mutex\+Ref}
\end{DoxyParamCaption}
)}\hypertarget{mutex_8c_ad5b7d94710f420cd945229648e7a80e7}{}\label{mutex_8c_ad5b7d94710f420cd945229648e7a80e7}
Lock a mutex 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em mutex\+Ref} & Mutex reference \\
\hline
\end{DoxyParams}
\index{mutex.\+c@{mutex.\+c}!le\+\_\+mutex\+\_\+\+Try\+Lock@{le\+\_\+mutex\+\_\+\+Try\+Lock}}
\index{le\+\_\+mutex\+\_\+\+Try\+Lock@{le\+\_\+mutex\+\_\+\+Try\+Lock}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{le\+\_\+mutex\+\_\+\+Try\+Lock(le\+\_\+mutex\+\_\+\+Ref\+\_\+t mutex\+Ref)}{le_mutex_TryLock(le_mutex_Ref_t mutexRef)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} le\+\_\+mutex\+\_\+\+Try\+Lock (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+mutex\+\_\+\+Ref\+\_\+t}}]{mutex\+Ref}
\end{DoxyParamCaption}
)}\hypertarget{mutex_8c_a43864999f70f0a825cf8ca87f9a2ee2c}{}\label{mutex_8c_a43864999f70f0a825cf8ca87f9a2ee2c}
Try a lock on a mutex

Locks a mutex, if no other thread holds the mutex. Otherwise, returns without locking.

\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item L\+E\+\_\+\+OK if mutex was locked.
\item L\+E\+\_\+\+W\+O\+U\+L\+D\+\_\+\+B\+L\+O\+CK if mutex was already held by someone else. 
\end{DoxyItemize}
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em mutex\+Ref} & Mutex reference \\
\hline
\end{DoxyParams}
\index{mutex.\+c@{mutex.\+c}!le\+\_\+mutex\+\_\+\+Unlock@{le\+\_\+mutex\+\_\+\+Unlock}}
\index{le\+\_\+mutex\+\_\+\+Unlock@{le\+\_\+mutex\+\_\+\+Unlock}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{le\+\_\+mutex\+\_\+\+Unlock(le\+\_\+mutex\+\_\+\+Ref\+\_\+t mutex\+Ref)}{le_mutex_Unlock(le_mutex_Ref_t mutexRef)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} le\+\_\+mutex\+\_\+\+Unlock (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+mutex\+\_\+\+Ref\+\_\+t}}]{mutex\+Ref}
\end{DoxyParamCaption}
)}\hypertarget{mutex_8c_aae68b71222e20c55ff3bf2d7b52e3009}{}\label{mutex_8c_aae68b71222e20c55ff3bf2d7b52e3009}
Unlock a mutex 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em mutex\+Ref} & Mutex reference \\
\hline
\end{DoxyParams}
\index{mutex.\+c@{mutex.\+c}!Mark\+Locked@{Mark\+Locked}}
\index{Mark\+Locked@{Mark\+Locked}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{Mark\+Locked(mutex\+\_\+\+Thread\+Rec\+\_\+t $\ast$per\+Thread\+Rec\+Ptr, Mutex\+\_\+t $\ast$mutex\+Ptr)}{MarkLocked(mutex_ThreadRec_t *perThreadRecPtr, Mutex_t *mutexPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf void} Mark\+Locked (
\begin{DoxyParamCaption}
\item[{{\bf mutex\+\_\+\+Thread\+Rec\+\_\+t} $\ast$}]{per\+Thread\+Rec\+Ptr, }
\item[{{\bf Mutex\+\_\+t} $\ast$}]{mutex\+Ptr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mutex_8c_a413fc9713776689f756f3ada7a09ca52}{}\label{mutex_8c_a413fc9713776689f756f3ada7a09ca52}
Mark a mutex \char`\"{}locked\char`\"{}.

This updates all the data structures to reflect the fact that this mutex was just locked by the calling thread.

\begin{DoxyNote}{Note}
Assumes that the lock count has already been updated before this function was called.
\end{DoxyNote}
\begin{DoxyWarning}{Warning}
Assumes that the calling thread already holds the pthreads mutex lock. 
\end{DoxyWarning}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em per\+Thread\+Rec\+Ptr} & Pointer to the thread\textquotesingle{}s mutex info record. \\
\hline
\mbox{\tt in}  & {\em mutex\+Ptr} & Pointer to the Mutex object that was locked. \\
\hline
\end{DoxyParams}
\index{mutex.\+c@{mutex.\+c}!Mark\+Unlocked@{Mark\+Unlocked}}
\index{Mark\+Unlocked@{Mark\+Unlocked}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{Mark\+Unlocked(\+Mutex\+\_\+t $\ast$mutex\+Ptr)}{MarkUnlocked(Mutex_t *mutexPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf void} Mark\+Unlocked (
\begin{DoxyParamCaption}
\item[{{\bf Mutex\+\_\+t} $\ast$}]{mutex\+Ptr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mutex_8c_a8e72556291cf9262e2afbb9140ccd52b}{}\label{mutex_8c_a8e72556291cf9262e2afbb9140ccd52b}
Mark a mutex \char`\"{}unlocked\char`\"{}.

This updates all the data structures to reflect the fact that this mutex is about to be unlocked by the calling thread.

\begin{DoxyNote}{Note}
Assumes that the lock count has already been updated before this function was called.
\end{DoxyNote}
\begin{DoxyWarning}{Warning}
Assumes that the calling thread actually still holds the pthreads mutex lock. 
\end{DoxyWarning}
\index{mutex.\+c@{mutex.\+c}!mutex\+\_\+\+Get\+Mutex\+List\+Chg\+Cnt\+Ref@{mutex\+\_\+\+Get\+Mutex\+List\+Chg\+Cnt\+Ref}}
\index{mutex\+\_\+\+Get\+Mutex\+List\+Chg\+Cnt\+Ref@{mutex\+\_\+\+Get\+Mutex\+List\+Chg\+Cnt\+Ref}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{mutex\+\_\+\+Get\+Mutex\+List\+Chg\+Cnt\+Ref(void)}{mutex_GetMutexListChgCntRef(void)}}]{\setlength{\rightskip}{0pt plus 5cm}size\+\_\+t$\ast$$\ast$ mutex\+\_\+\+Get\+Mutex\+List\+Chg\+Cnt\+Ref (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{mutex_8c_ab006face5401adf5f42dafc81083d032}{}\label{mutex_8c_ab006face5401adf5f42dafc81083d032}
Exposing the mutex list change counter; mainly for the Inspect tool. \index{mutex.\+c@{mutex.\+c}!mutex\+\_\+\+Init@{mutex\+\_\+\+Init}}
\index{mutex\+\_\+\+Init@{mutex\+\_\+\+Init}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{mutex\+\_\+\+Init(void)}{mutex_Init(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} mutex\+\_\+\+Init (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{mutex_8c_adfdcb3ebf7e84c69dcb348f55ae39b48}{}\label{mutex_8c_adfdcb3ebf7e84c69dcb348f55ae39b48}
Initialize the Mutex module.

This function must be called exactly once at process start-\/up before any other mutex module functions are called. \index{mutex.\+c@{mutex.\+c}!mutex\+\_\+\+Thread\+Init@{mutex\+\_\+\+Thread\+Init}}
\index{mutex\+\_\+\+Thread\+Init@{mutex\+\_\+\+Thread\+Init}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{mutex\+\_\+\+Thread\+Init(void)}{mutex_ThreadInit(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} mutex\+\_\+\+Thread\+Init (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{mutex_8c_ab46b9e4a013dbd3a698cc475d669a9e7}{}\label{mutex_8c_ab46b9e4a013dbd3a698cc475d669a9e7}
Initialize the thread-\/specific parts of the mutex module.

This function must be called once by each thread when it starts, before any other mutex module functions are called by that thread. \index{mutex.\+c@{mutex.\+c}!Remove\+From\+Waiting\+List@{Remove\+From\+Waiting\+List}}
\index{Remove\+From\+Waiting\+List@{Remove\+From\+Waiting\+List}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{Remove\+From\+Waiting\+List(\+Mutex\+\_\+t $\ast$mutex\+Ptr, mutex\+\_\+\+Thread\+Rec\+\_\+t $\ast$per\+Thread\+Rec\+Ptr)}{RemoveFromWaitingList(Mutex_t *mutexPtr, mutex_ThreadRec_t *perThreadRecPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf void} Remove\+From\+Waiting\+List (
\begin{DoxyParamCaption}
\item[{{\bf Mutex\+\_\+t} $\ast$}]{mutex\+Ptr, }
\item[{{\bf mutex\+\_\+\+Thread\+Rec\+\_\+t} $\ast$}]{per\+Thread\+Rec\+Ptr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mutex_8c_a4158b88875b63497ed622a45df0bb5ed}{}\label{mutex_8c_a4158b88875b63497ed622a45df0bb5ed}
Removes a thread\textquotesingle{}s Mutex Record from a Mutex object\textquotesingle{}s waiting list. \index{mutex.\+c@{mutex.\+c}!Thread\+Death\+Clean\+Up@{Thread\+Death\+Clean\+Up}}
\index{Thread\+Death\+Clean\+Up@{Thread\+Death\+Clean\+Up}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{Thread\+Death\+Clean\+Up(void $\ast$context\+Ptr)}{ThreadDeathCleanUp(void *contextPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf void} Thread\+Death\+Clean\+Up (
\begin{DoxyParamCaption}
\item[{{\bf void} $\ast$}]{context\+Ptr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mutex_8c_ab792586c70a16e4f6d8494f96c9d3dea}{}\label{mutex_8c_ab792586c70a16e4f6d8494f96c9d3dea}
The thread is dying. Make sure no mutexes are held by it and clean up thread-\/specific data. 

\subsection{Variable Documentation}
\index{mutex.\+c@{mutex.\+c}!Mutex\+List@{Mutex\+List}}
\index{Mutex\+List@{Mutex\+List}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{Mutex\+List}{MutexList}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+dls\+\_\+\+List\+\_\+t} Mutex\+List = {\bf L\+E\+\_\+\+D\+L\+S\+\_\+\+L\+I\+S\+T\+\_\+\+I\+N\+IT}\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mutex_8c_adbe7a6ac34ac9ea94f4f526018a1949a}{}\label{mutex_8c_adbe7a6ac34ac9ea94f4f526018a1949a}
Mutex List.

List on which all Mutex objects in the process are kept. \index{mutex.\+c@{mutex.\+c}!Mutex\+List\+Change\+Count@{Mutex\+List\+Change\+Count}}
\index{Mutex\+List\+Change\+Count@{Mutex\+List\+Change\+Count}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{Mutex\+List\+Change\+Count}{MutexListChangeCount}}]{\setlength{\rightskip}{0pt plus 5cm}size\+\_\+t Mutex\+List\+Change\+Count = 0\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mutex_8c_aa03f1e65089e0ea063a2f9f9ee291786}{}\label{mutex_8c_aa03f1e65089e0ea063a2f9f9ee291786}
A counter that increments every time a change is made to the mutex list. \index{mutex.\+c@{mutex.\+c}!Mutex\+List\+Change\+Count\+Ref@{Mutex\+List\+Change\+Count\+Ref}}
\index{Mutex\+List\+Change\+Count\+Ref@{Mutex\+List\+Change\+Count\+Ref}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{Mutex\+List\+Change\+Count\+Ref}{MutexListChangeCountRef}}]{\setlength{\rightskip}{0pt plus 5cm}size\+\_\+t$\ast$ Mutex\+List\+Change\+Count\+Ref = \&{\bf Mutex\+List\+Change\+Count}\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mutex_8c_a84088269ad5035d7db0f8f8067734617}{}\label{mutex_8c_a84088269ad5035d7db0f8f8067734617}
\index{mutex.\+c@{mutex.\+c}!Mutex\+List\+Mutex@{Mutex\+List\+Mutex}}
\index{Mutex\+List\+Mutex@{Mutex\+List\+Mutex}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{Mutex\+List\+Mutex}{MutexListMutex}}]{\setlength{\rightskip}{0pt plus 5cm}pthread\+\_\+mutex\+\_\+t Mutex\+List\+Mutex = P\+T\+H\+R\+E\+A\+D\+\_\+\+R\+E\+C\+U\+R\+S\+I\+V\+E\+\_\+\+M\+U\+T\+E\+X\+\_\+\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+E\+R\+\_\+\+NP\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mutex_8c_a84cda88f43c1b32c40ec4449df6012f1}{}\label{mutex_8c_a84cda88f43c1b32c40ec4449df6012f1}
Mutex List Mutex.

Basic pthreads mutex used to protect the Mutex List from multi-\/threaded race conditions. Helper macro functions \hyperlink{mutex_8c_ac14e09cf9bbd3b524369a164e881f5a8}{L\+O\+C\+K\+\_\+\+M\+U\+T\+E\+X\+\_\+\+L\+I\+S\+T()} and \hyperlink{mutex_8c_a9151f7436d51bd112769d4b61d28a4be}{U\+N\+L\+O\+C\+K\+\_\+\+M\+U\+T\+E\+X\+\_\+\+L\+I\+S\+T()} are provided to lock and unlock this mutex respectively. \index{mutex.\+c@{mutex.\+c}!Mutex\+Pool\+Ref@{Mutex\+Pool\+Ref}}
\index{Mutex\+Pool\+Ref@{Mutex\+Pool\+Ref}!mutex.\+c@{mutex.\+c}}
\subsubsection[{\texorpdfstring{Mutex\+Pool\+Ref}{MutexPoolRef}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+mem\+\_\+\+Pool\+Ref\+\_\+t} Mutex\+Pool\+Ref\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{mutex_8c_a150bbca48b8dd85e46fa06f943b81ea5}{}\label{mutex_8c_a150bbca48b8dd85e46fa06f943b81ea5}
Mutex Pool.

Memory pool from which Mutex objects are allocated. 