The Legato Application Framework works with a supporting platform to connect your applications to the cloud. {\bfseries  User Applications, Platform Services, Platform Adapters and the Application Framework } are built into a Runtime Environment that provides a cohesive system to run and monitor your applications and send and receive data from external sources.



Module Vendors provide the {\bfseries  Firmware, OS, Toolchain, Platform Adapters, Platform Services and a base Legato Runtime Environment } to ease the burden of getting started with your target. Developers install the {\bfseries  Legato Application Framework (source code, build tools and A\+P\+Is) } and the target device\textquotesingle{}s build specific toolchain on a development machine to start developing and building user apps.

Your target device comes preloaded with a default Legato Runtime Environment, OS and Firmware preloaded. Check with your target device vendor for updates.

\section*{Firmware }

Each target device needs Firmware specific to its module and is provided by the Vendor. Firmware may contain telecom firmware, carrier specific configuration and other software that can\textquotesingle{}t be customized or configured by a user.

\section*{OS and Toolchains }

\subsection*{Operating System }

The Legato AF is designed to run on top of an embedded Linux Distribution. Each vendor maintains it\textquotesingle{}s own customized Linux Distribution that contains a customized kernel and drivers to work within the constraints of the target device.

Sierra Wireless modules use an embedded Linux distribution created using the \href{https://www.yoctoproject.org/}{\tt Yocto Project}.

Raspberry Pi use \href{https://www.raspberrypi.org/downloads/raspbian/}{\tt Raspbian}, its own Linux Distribution.

\subsection*{Toolchains }

Toolchains include all the tools and libraries needed to build the runtime environment for a target device. The toolchain is specific to the Linux Distribution and the Module so each module that you are building for must have its own toolchain installed. Toolchains can be downloaded from your vendor.

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*2{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf Module }&{\bf Download Site  }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf Module }&{\bf Download Site  }\\\cline{1-2}
\endhead
W\+P\+X5\+XX &\href{https://source.sierrawireless.com/resources/airprime/software/wpx5xx/wpx5xx-firmware-latest-release/}{\tt W\+P\+X5\+XX Firmware Download Page} \\\cline{1-2}
W\+P76\+XX &\href{https://source.sierrawireless.com/resources/airprime/software/wp76xx/wp76xx-firmware-latest-release/}{\tt W\+P76\+XX Firmware Download Page} \\\cline{1-2}
W\+P77\+XX &\href{https://source.sierrawireless.com/resources/airprime/software/wp77xx/wp77xx-firmware-latest-release/}{\tt W\+P76\+XX Firmware Download Page} \\\cline{1-2}
Raspberry Pi &Clone from github\+: (git clone)\href{https://github.com/raspberrypi/tools}{\tt https\+://github.\+com/raspberrypi/tools} \\\cline{1-2}
All AR Modules &See your F\+AE to download and install the toolchain for your module \\\cline{1-2}
\end{longtabu}


\section*{Platform Services and Platform Adapters }

Platform Services are a set of applications that are included with the Legato Application Framework. They configure features on the target device and expose A\+P\+Is that developers can use to bind to their applications and use those features. The Platform Services are generally created by the vendors but can be customized or added on to by any developer. \hyperlink{legatoServices}{Platform Services} provide A\+P\+Is to include services like location sensing, audio connections, cellular and data network connections into your applications. To use the A\+PI within your application your application must be built into a system that includes the Platform Service and your application. Many of the Platform Services are included in the default build for each target device.

Platform Adapters are code that is specifically created for a target device that provides specific communication functions. It calls the function needed to perform the operation on the target including opening sockets and formatting packets. Where the Platform Service is designed to be generic, the Platform Adapters contain the target specific code. At build time the Legato AF system knows how to build the appropriate Platform Adapter for the target. This enables developers to build apps for multiple different types of targets and lets the build system include the Platform Adapters needed to build the application for each model of target.



For example, if a developer wants to use G\+N\+SS (Global Positioning System) within their application they need to include {\ttfamily positioning\+Service} app in their target\textquotesingle{}s build and then bind to the {\ttfamily le\+\_\+gnss} A\+PI within their app. The {\ttfamily position\+Service} app knows how to talk to the Platform Adapter {\ttfamily le\+\_\+pa\+\_\+gnss} which then communicates with the OS and Firmware to provide the required information to the developers application. The developer can use the functions in the A\+PI without having to know how to communicate directly with the G\+N\+SS hardware peripherals or it\textquotesingle{}s driver firmware.

\begin{DoxyNote}{Note}
Not all functions in an A\+PI are supported by all Platforms. Visit our list of \hyperlink{platformConstraints}{Platform Constraints} to make sure that function you are implementing are supported by your target.
\end{DoxyNote}
\section*{Setup and Configure }

For further information and help on setting up and configuring specific modules\+:

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*2{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf Section }&{\bf Description  }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf Section }&{\bf Description  }\\\cline{1-2}
\endhead
\hyperlink{basicTarget}{Configure S\+WI Target} &Configure Sierra Wireless Targets \\\cline{1-2}
\hyperlink{raspbianMain}{Configure Raspberry Pi} &Configure Raspbian for Legato AF \\\cline{1-2}
\end{longtabu}
\hypertarget{platformConstraints}{}\section{Platform Constraints}\label{platformConstraints}
\hypertarget{platformConstraints_AtPlatforms}{}\subsection{A\+T-\/command based platforms}\label{platformConstraints_AtPlatforms}
The A\+T-\/command based platforms (e.\+g. Raspberry Pi) only support a limited set of functions, please refer to \hyperlink{platformConstraintsAtCmd}{Supported functions on A\+T-\/command based platforms} section.\hypertarget{platformConstraints_SwiPlatforms}{}\subsection{Sierra Wireless platforms}\label{platformConstraints_SwiPlatforms}

\begin{DoxyItemize}
\item {\bfseries \textquotesingle{}X\textquotesingle{}} means the platform is impacted by limitations on the feature, i.\+e. by using the A\+PI, the User must consider the constraints described in the corresponding page.
\item {\bfseries \textquotesingle{}NA\textquotesingle{}} means the feature is not applicable to the platform
\end{DoxyItemize}

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*8{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf Features }&\PBS\centering {\bf A\+R755x }&\PBS\centering {\bf A\+R758x }&\PBS\centering {\bf A\+R759x }&\PBS\centering {\bf A\+R8652 }&\PBS\centering {\bf W\+Px5xx }&\PBS\centering {\bf W\+P76xx }&\PBS\centering {\bf W\+P77xx  }\\\cline{1-8}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf Features }&\PBS\centering {\bf A\+R755x }&\PBS\centering {\bf A\+R758x }&\PBS\centering {\bf A\+R759x }&\PBS\centering {\bf A\+R8652 }&\PBS\centering {\bf W\+Px5xx }&\PBS\centering {\bf W\+P76xx }&\PBS\centering {\bf W\+P77xx  }\\\cline{1-8}
\endhead
\hyperlink{platformConstraintsAdc}{Analog to Digital Converter} (\hyperlink{c_adc}{le\+\_\+adc}) &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X \\\cline{1-8}
\hyperlink{platformConstraintsAudio}{Audio} (\hyperlink{c_audio}{le\+\_\+audio}) &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X \\\cline{1-8}
\hyperlink{platformConstraintsGnss}{G\+N\+SS platform constraints} (\hyperlink{c_gnss}{le\+\_\+gnss}) &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X \\\cline{1-8}
\hyperlink{platformConstraintsPositioning}{Positioning platform constraints} (\hyperlink{c_pos}{le\+\_\+pos}) &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X \\\cline{1-8}
\hyperlink{platformConstraintsSecStorage}{Secure Storage} (\hyperlink{c_secStore}{le\+\_\+sec\+Store}) &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X \\\cline{1-8}
\hyperlink{platformConstraintsSim}{S\+IM} (\hyperlink{c_sim}{le\+\_\+sim}) &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X \\\cline{1-8}
\hyperlink{platformConstraintsStk}{S\+IM Toolkit} (\hyperlink{c_sim_le_sim_stk}{le\+\_\+sim for S\+TK}) &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X \\\cline{1-8}
\hyperlink{platformConstraintsTemperature}{Temperature Monitoring} (\hyperlink{c_temp}{le\+\_\+temp}) &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X \\\cline{1-8}
\hyperlink{platformConstraintsReadOnly}{Legato Read Only R/O} &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X \\\cline{1-8}
\hyperlink{platformConstraintsMdc}{Modem Control platform constraints} &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X \\\cline{1-8}
\hyperlink{platformConstraintsDualSys}{Dual System mechanism} (\hyperlink{c_fwupdate}{le\+\_\+fwupdate}) &\PBS\centering NA &\PBS\centering X &\PBS\centering X &\PBS\centering NA &\PBS\centering NA &\PBS\centering NA &\PBS\centering NA \\\cline{1-8}
\hyperlink{platformConstraintsInfo}{Information} (\hyperlink{c_info}{le\+\_\+info}) &\PBS\centering NA &\PBS\centering X &\PBS\centering X &\PBS\centering NA &\PBS\centering NA &\PBS\centering X &\PBS\centering X \\\cline{1-8}
\hyperlink{platformConstraintsmdmCfg}{Modem} &\PBS\centering NA &\PBS\centering X &\PBS\centering X &\PBS\centering NA &\PBS\centering NA &\PBS\centering NA &\PBS\centering NA \\\cline{1-8}
\hyperlink{platformConstraintsSpecificErrorCodes}{Platform specific error codes} &\PBS\centering NA &\PBS\centering X &\PBS\centering NA &\PBS\centering NA &\PBS\centering NA &\PBS\centering NA &\PBS\centering NA \\\cline{1-8}
\end{longtabu}


Copyright (C) Sierra Wireless Inc. \hypertarget{platformConstraintsAtCmd}{}\subsection{Supported functions on A\+T-\/command based platforms}\label{platformConstraintsAtCmd}
{\bfseries \hyperlink{c_info}{Modem Information} \+:}
\begin{DoxyItemize}
\item \hyperlink{le__info__interface_8h_ab3121512fdb89b67e2a892707a4f0b30}{le\+\_\+info\+\_\+\+Get\+Imei()}
\item \hyperlink{le__info__interface_8h_acde97300eedb261f4f456fba2c770935}{le\+\_\+info\+\_\+\+Get\+Firmware\+Version()}
\item \hyperlink{le__info__interface_8h_aaa2f254bbfcec747c66103d28f65d314}{le\+\_\+info\+\_\+\+Get\+Device\+Model()}
\item \hyperlink{le__info__interface_8h_a94b60d7b13674b4253bebaa52401747d}{le\+\_\+info\+\_\+\+Get\+Manufacturer\+Name()}
\end{DoxyItemize}

{\bfseries \hyperlink{c_mcc}{Modem Call Control} \+:}
\begin{DoxyItemize}
\item \hyperlink{le__mcc__interface_8h_a42130fc6b1d69413a387e3292117b3d3}{le\+\_\+mcc\+\_\+\+Create()}
\item \hyperlink{le__mcc__interface_8h_a1a016e6443df2d3ee99113649f4f34ae}{le\+\_\+mcc\+\_\+\+Delete()}
\item \hyperlink{le__mcc__interface_8h_a72a32869bb23864b3e86c606368bed70}{le\+\_\+mcc\+\_\+\+Start()}
\item \hyperlink{le__mcc__interface_8h_a07e4856dffdbf887f51879e39ec43e42}{le\+\_\+mcc\+\_\+\+Is\+Connected()}
\item \hyperlink{le__mcc__interface_8h_a6b5922dc325e4f45c90b2ecfd0f0a74f}{le\+\_\+mcc\+\_\+\+Get\+Remote\+Tel()}
\item \hyperlink{le__mcc__interface_8h_ab16921abc02e0569b129f4a7d92bf3c9}{le\+\_\+mcc\+\_\+\+Get\+Termination\+Reason()}
\item \hyperlink{le__mcc__interface_8h_a598349c6ccfa151dbd1d2f2a9c293ca4}{le\+\_\+mcc\+\_\+\+Answer()}
\item \hyperlink{le__mcc__interface_8h_a7b9567715a3cd30c83a3b6886eeb2044}{le\+\_\+mcc\+\_\+\+Hang\+Up()}
\item \hyperlink{le__mcc__interface_8h_a38ac8543a579ecc81430c121a64bd346}{le\+\_\+mcc\+\_\+\+Hang\+Up\+All()}
\item \hyperlink{le__mcc__interface_8h_ab826cf4b9e3911e659a90d483081e7fe}{le\+\_\+mcc\+\_\+\+Add\+Call\+Event\+Handler()}
\item \hyperlink{le__mcc__interface_8h_aa7682ff49924db10aefee547fcb0b4d8}{le\+\_\+mcc\+\_\+\+Remove\+Call\+Event\+Handler()}
\end{DoxyItemize}

{\bfseries \hyperlink{c_mdc}{Modem Data Control} \+:}
\begin{DoxyItemize}
\item \hyperlink{le__mdc__interface_8h_a638b693cd5f644fa5c24f81e1e36483c}{le\+\_\+mdc\+\_\+\+Get\+Profile()}
\item \hyperlink{le__mdc__interface_8h_a108f7c3db74a377c2ae5482543d4e0d9}{le\+\_\+mdc\+\_\+\+Get\+Profile\+Index()}
\item \hyperlink{le__mdc__interface_8h_a2ea0573e6e9cd16c04e95146f2b2e693}{le\+\_\+mdc\+\_\+\+Get\+Profile\+From\+Apn()}
\item \hyperlink{le__mdc__interface_8h_a0a51125579f1d5009dac03c79ddff498}{le\+\_\+mdc\+\_\+\+Get\+P\+D\+P()}
\item \hyperlink{le__mdc__interface_8h_afc0c149bfa4455f3e9a8ccc06f0c5fed}{le\+\_\+mdc\+\_\+\+Get\+A\+P\+N()}
\item \hyperlink{le__mdc__interface_8h_a3f83b1b922271091e3f1da418a4f39ca}{le\+\_\+mdc\+\_\+\+Get\+Authentication()}
\item \hyperlink{le__mdc__interface_8h_a73e66a7a63dc95d7f261fc2a26470386}{le\+\_\+mdc\+\_\+\+Set\+P\+D\+P()}
\item \hyperlink{le__mdc__interface_8h_ae8ebd11b9cb9afb9b6b5745903f50156}{le\+\_\+mdc\+\_\+\+Set\+A\+P\+N()}
\item \hyperlink{le__mdc__interface_8h_a9f69d0751927b5ead6c756202179b222}{le\+\_\+mdc\+\_\+\+Set\+Authentication()}
\item \hyperlink{le__mdc__interface_8h_a2cb08d5c3e6c43297d80448891719649}{le\+\_\+mdc\+\_\+\+Start\+Session()} (only I\+Pv4)
\item \hyperlink{le__mdc__interface_8h_aa03d6e31263ddf8bf1d94b183c9934d9}{le\+\_\+mdc\+\_\+\+Start\+Session\+Async()}
\item \hyperlink{le__mdc__interface_8h_aa3912e94864a6e5862e07f58b3772cba}{le\+\_\+mdc\+\_\+\+Is\+I\+Pv4()}
\item \hyperlink{le__mdc__interface_8h_adde11de0b17b2c937acca6355b6fba11}{le\+\_\+mdc\+\_\+\+Is\+I\+Pv6()}
\item \hyperlink{le__mdc__interface_8h_a53453f85065c3cace0922150b7e3d869}{le\+\_\+mdc\+\_\+\+Stop\+Session()}
\item \hyperlink{le__mdc__interface_8h_ac5b357f7437c9e253fa17b2511fa14ef}{le\+\_\+mdc\+\_\+\+Stop\+Session\+Async()}
\item \hyperlink{le__mdc__interface_8h_add91c364e8b3e4e82a0ce64e480c016b}{le\+\_\+mdc\+\_\+\+Get\+Session\+State()}
\item \hyperlink{le__mdc__interface_8h_a4c22a8691d6e6a69270a7ed6ab9974af}{le\+\_\+mdc\+\_\+\+Get\+Interface\+Name()}
\item \hyperlink{le__mdc__interface_8h_a0b5e11efda06472fc6c525101fceafe6}{le\+\_\+mdc\+\_\+\+Get\+I\+Pv4\+Address()}
\item \hyperlink{le__mdc__interface_8h_a290cff563b19ee4891bcd5c8908c54f9}{le\+\_\+mdc\+\_\+\+Get\+I\+Pv4\+Gateway\+Address()}
\item \hyperlink{le__mdc__interface_8h_a0dd0dcf60d647388fa3e1973917a6161}{le\+\_\+mdc\+\_\+\+Get\+I\+Pv4\+D\+N\+S\+Addresses()}
\item \hyperlink{le__mdc__interface_8h_a594c85c1ccb56ddfbaf36496f35f681e}{le\+\_\+mdc\+\_\+\+Add\+Session\+State\+Handler()}
\item \hyperlink{le__mdc__interface_8h_af223a193b73ce6f870947557f69136dc}{le\+\_\+mdc\+\_\+\+Remove\+Session\+State\+Handler()}
\end{DoxyItemize}

{\bfseries \hyperlink{c_mrc}{Modem Radio Control} \+:}
\begin{DoxyItemize}
\item \hyperlink{le__mrc__interface_8h_a78bd27d92337e2122320f41bcaa5480f}{le\+\_\+mrc\+\_\+\+Set\+Radio\+Power()}
\item \hyperlink{le__mrc__interface_8h_aac51332c6c84e460746eb1ad45c064d6}{le\+\_\+mrc\+\_\+\+Get\+Radio\+Power()}
\item \hyperlink{le__mrc__interface_8h_a929745b84719754d28f539540f71a552}{le\+\_\+mrc\+\_\+\+Add\+Net\+Reg\+State\+Event\+Handler()}
\item \hyperlink{le__mrc__interface_8h_a619adffdee5b1760348a1aa1331ac108}{le\+\_\+mrc\+\_\+\+Remove\+Net\+Reg\+State\+Event\+Handler()}
\item \hyperlink{le__mrc__interface_8h_a4f11e27862fef384c0023f5b538e543d}{le\+\_\+mrc\+\_\+\+Get\+Net\+Reg\+State()}
\item \hyperlink{le__mrc__interface_8h_a717aa0f4e4dc9a83b6adc2f26f3f0258}{le\+\_\+mrc\+\_\+\+Get\+Signal\+Qual()}
\item \hyperlink{le__mrc__interface_8h_a45fe1941f520c1e4a23b2794dd2a8232}{le\+\_\+mrc\+\_\+\+Get\+Current\+Network\+Name()}
\item \hyperlink{le__mrc__interface_8h_ac1a0c4fad80538c7df63176576e1d9a3}{le\+\_\+mrc\+\_\+\+Get\+Current\+Network\+Mcc\+Mnc()}
\item \hyperlink{le__mrc__interface_8h_acb434a9f91afb5b6639baf3678ee9388}{le\+\_\+mrc\+\_\+\+Set\+Automatic\+Register\+Mode()}
\item \hyperlink{le__mrc__interface_8h_a9ad2729c28e97ae450f7aee0865197f6}{le\+\_\+mrc\+\_\+\+Get\+Register\+Mode()}
\item \hyperlink{le__mrc__interface_8h_a3ad9533c467cec0902d5d165bb32d67b}{le\+\_\+mrc\+\_\+\+Get\+Radio\+Access\+Tech\+In\+Use()}
\item \hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\+\_\+mrc\+\_\+\+Set\+Rat\+Preferences()}
\item \hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\+\_\+mrc\+\_\+\+Get\+Rat\+Preferences()}
\item \hyperlink{le__mrc__interface_8h_ad3662723a7ed47cf45d9a2eaaa1fb16e}{le\+\_\+mrc\+\_\+\+Measure\+Signal\+Metrics()} (only signal strength)
\item \hyperlink{le__mrc__interface_8h_a20addd98ee6cb07f9ee1a45be01b5203}{le\+\_\+mrc\+\_\+\+Delete\+Signal\+Metrics()} (only signal strength)
\item \hyperlink{le__mrc__interface_8h_a5564bace31c937bcef096e597f33d3a4}{le\+\_\+mrc\+\_\+\+Get\+Rat\+Of\+Signal\+Metrics()} (only signal strength)
\item \hyperlink{le__mrc__interface_8h_a9d7243b29bf4c705c4eba83fa3799582}{le\+\_\+mrc\+\_\+\+Get\+Gsm\+Signal\+Metrics()} (only signal strength)
\item \hyperlink{le__mrc__interface_8h_a456648564abfc8e9711b60a5d8bddc9b}{le\+\_\+mrc\+\_\+\+Get\+Umts\+Signal\+Metrics()} (only signal strength)
\item \hyperlink{le__mrc__interface_8h_a7cb0a206729c652692701cd24226d34f}{le\+\_\+mrc\+\_\+\+Get\+Band\+Capabilities()}
\end{DoxyItemize}

{\bfseries \hyperlink{c_sim}{S\+IM} \+:}
\begin{DoxyItemize}
\item \hyperlink{le__sim__interface_8h_a7b43e4e8713af665657e15ae0f5bc1e8}{le\+\_\+sim\+\_\+\+Get\+I\+C\+C\+I\+D()}
\item \hyperlink{le__sim__interface_8h_acc0f801f268630ea496377077a366374}{le\+\_\+sim\+\_\+\+Get\+I\+M\+S\+I()}
\item \hyperlink{le__sim__interface_8h_ace457890856d3692ecb4176f0e892558}{le\+\_\+sim\+\_\+\+Is\+Ready()}
\item \hyperlink{le__sim__interface_8h_aa3255a29cec4358c5e0d68b9ac62ff88}{le\+\_\+sim\+\_\+\+Is\+Present()}
\item \hyperlink{le__sim__interface_8h_a16b06f266471d81f772e5439ec570144}{le\+\_\+sim\+\_\+\+Get\+State()}
\item \hyperlink{le__sim__interface_8h_a8e296a7cd35edd99cb1dc21232e280dd}{le\+\_\+sim\+\_\+\+Add\+New\+State\+Handler()}
\item \hyperlink{le__sim__interface_8h_a0286578e9aa46ba864df1878263b9f84}{le\+\_\+sim\+\_\+\+Remove\+New\+State\+Handler()}
\item \hyperlink{le__sim__interface_8h_ac9cafacb5affb0b531534e3fc547ebd2}{le\+\_\+sim\+\_\+\+Enter\+P\+I\+N()}
\item \hyperlink{le__sim__interface_8h_a234634c9789cdbc8f76629a2272bd2dd}{le\+\_\+sim\+\_\+\+Unblock()}
\item \hyperlink{le__sim__interface_8h_a50b6ce8bae5a073307d1d12550b22c1e}{le\+\_\+sim\+\_\+\+Change\+P\+I\+N()}
\item \hyperlink{le__sim__interface_8h_a6fab9b258f5af39645b9a200ed202a27}{le\+\_\+sim\+\_\+\+Lock()}
\item \hyperlink{le__sim__interface_8h_a4397d51c42ba894f0fa4206341a0dc64}{le\+\_\+sim\+\_\+\+Unlock()}
\item \hyperlink{le__sim__interface_8h_a2fa95e7fdaaff2fd000e676b9cc34344}{le\+\_\+sim\+\_\+\+Get\+Home\+Network\+Operator()}
\end{DoxyItemize}

{\bfseries \hyperlink{c_sms}{S\+MS} \+:}
\begin{DoxyItemize}
\item \hyperlink{le__sms__interface_8h_a668abcbcff2f1f3c5cdf799315a81058}{le\+\_\+sms\+\_\+\+Create()}
\item \hyperlink{le__sms__interface_8h_a2b14febf0e2285b0b3c2dbcd1c2bb7b0}{le\+\_\+sms\+\_\+\+Set\+Timeout()}
\item \hyperlink{le__sms__interface_8h_aca1691010c88995cb47225f2889910fa}{le\+\_\+sms\+\_\+\+Delete()}
\item \hyperlink{le__sms__interface_8h_a5c2b8ce7043b4732c7b0ede7c5d7118c}{le\+\_\+sms\+\_\+\+Get\+Format()}
\item \hyperlink{le__sms__interface_8h_a2a63c6b5179025a80fb86c7f188e1eb7}{le\+\_\+sms\+\_\+\+Get\+Type()}
\item \hyperlink{le__sms__interface_8h_a6fda3e193c9662c394412816ae508c23}{le\+\_\+sms\+\_\+\+Set\+Destination()}
\item \hyperlink{le__sms__interface_8h_aa4651e8dc97aa01df80ed6d9a7a486c6}{le\+\_\+sms\+\_\+\+Get\+Sender\+Tel()}
\item \hyperlink{le__sms__interface_8h_af018ca1bc2085a48e4b6d4691bef3cc7}{le\+\_\+sms\+\_\+\+Get\+Time\+Stamp()}
\item \hyperlink{le__sms__interface_8h_a6165464dd3502b3c76b79b32206ba10f}{le\+\_\+sms\+\_\+\+Get\+Userdata\+Len()}
\item \hyperlink{le__sms__interface_8h_abb89b302e564f3d55d604bb0c0dda022}{le\+\_\+sms\+\_\+\+Get\+P\+D\+U\+Len()}
\item \hyperlink{le__sms__interface_8h_adafdc63a36a6a50c8e942bf69958789f}{le\+\_\+sms\+\_\+\+Get\+U\+C\+S2()}
\item \hyperlink{le__sms__interface_8h_aa5468a01069d8c8d03e5204453560d9a}{le\+\_\+sms\+\_\+\+Set\+Text()}
\item \hyperlink{le__sms__interface_8h_ad135130755ab2979a265f65178a3ae0d}{le\+\_\+sms\+\_\+\+Set\+Binary()}
\item \hyperlink{le__sms__interface_8h_a0fc5c9da622cc48ef5f9d908dbcbbf92}{le\+\_\+sms\+\_\+\+Set\+P\+D\+U()}
\item \hyperlink{le__sms__interface_8h_ac351541bd51f008551a55ea645e31599}{le\+\_\+sms\+\_\+\+Set\+U\+C\+S2()}
\item \hyperlink{le__sms__interface_8h_aebf0c28efce6ec0b9616ffa8ecb80782}{le\+\_\+sms\+\_\+\+Get\+Text()}
\item \hyperlink{le__sms__interface_8h_af652a15437db583f333257ff5cef808d}{le\+\_\+sms\+\_\+\+Get\+Binary()}
\item \hyperlink{le__sms__interface_8h_a77555788d56f73fa52f56904cd39cd2f}{le\+\_\+sms\+\_\+\+Get\+P\+D\+U()}
\item \hyperlink{le__sms__interface_8h_a0ba61dcf10157e9982702373577c6b45}{le\+\_\+sms\+\_\+\+Send\+Async()}
\item \hyperlink{le__sms__interface_8h_ab7dee7d2c74cfcadd9ea0d5fe1786dfc}{le\+\_\+sms\+\_\+\+Send()}
\item \hyperlink{le__sms__interface_8h_a275932e7f318db06cd1d1cbc8e3f573f}{le\+\_\+sms\+\_\+\+Send\+Text()}
\item \hyperlink{le__sms__interface_8h_a6c45951342396e9c4bc0e995b4e70784}{le\+\_\+sms\+\_\+\+Send\+Pdu()}
\item \hyperlink{le__sms__interface_8h_a844d595f3ae8d170b2fff80d854abb8d}{le\+\_\+sms\+\_\+\+Add\+Rx\+Message\+Handler()}
\item \hyperlink{le__sms__interface_8h_a469a4d08b9ccb8b61ed7b8294e6ee3ef}{le\+\_\+sms\+\_\+\+Remove\+Rx\+Message\+Handler()}
\item \hyperlink{le__sms__interface_8h_aee4328f9e417108fa16794cc135073d0}{le\+\_\+sms\+\_\+\+Create\+Rx\+Msg\+List()}
\item \hyperlink{le__sms__interface_8h_a4027c05c4ee7552ab0e081caa315c8a2}{le\+\_\+sms\+\_\+\+Delete\+List()}
\item \hyperlink{le__sms__interface_8h_a934253dee33a6090656876cff853b2c6}{le\+\_\+sms\+\_\+\+Get\+First()}
\item \hyperlink{le__sms__interface_8h_ac3b6a30a6d4e4f21749b536184b836ec}{le\+\_\+sms\+\_\+\+Get\+Next()}
\item \hyperlink{le__sms__interface_8h_ae1843c72eca77cd6da94cb686e5c2ae8}{le\+\_\+sms\+\_\+\+Get\+Status()}
\item \hyperlink{le__sms__interface_8h_aff755186b683b94ba2788b48e28284a3}{le\+\_\+sms\+\_\+\+Delete\+From\+Storage()}
\item \hyperlink{le__sms__interface_8h_ae46b8ea579c788950049948edf1110b6}{le\+\_\+sms\+\_\+\+Get\+Sms\+Center\+Address()}
\end{DoxyItemize}





Copyright (C) Sierra Wireless Inc. \hypertarget{c_info}{}\subsubsection{Modem Information}\label{c_info}
\hyperlink{le__info__interface_8h}{A\+PI Reference}





This file contains prototype definitions for Modem Information A\+P\+Is.\hypertarget{c_info_le_info_binding}{}\paragraph{I\+P\+C interfaces binding}\label{c_info_le_info_binding}
All the functions of this A\+PI are provided by the {\bfseries modem\+Service}.

Here\textquotesingle{}s a code sample binding to modem services\+: \begin{DoxyVerb}bindings:
{
   clientExe.clientComponent.le_info -> modemService.le_info
}
\end{DoxyVerb}
\hypertarget{c_info_le_info_version}{}\paragraph{Query Firmware Version}\label{c_info_le_info_version}
\hyperlink{le__info__interface_8h_acde97300eedb261f4f456fba2c770935}{le\+\_\+info\+\_\+\+Get\+Firmware\+Version()} is used to query the current firmware version. \hyperlink{le__info__interface_8h_ad5a8e43d2863aee57f9f2c2bfa875c7e}{le\+\_\+info\+\_\+\+Get\+Bootloader\+Version()} is used to query the current bootloader version. In both cases, the version is returned as a human readable string.

The linux kernel version can be queried using standard linux methods, such as the uname command, or the uname() A\+PI.\hypertarget{c_info_le_info_model}{}\paragraph{Query Device information}\label{c_info_le_info_model}
\hyperlink{le__info__interface_8h_aaa2f254bbfcec747c66103d28f65d314}{le\+\_\+info\+\_\+\+Get\+Device\+Model()} is used to retrieve the target hardware platform identity.

\hyperlink{le__info__interface_8h_ab3121512fdb89b67e2a892707a4f0b30}{le\+\_\+info\+\_\+\+Get\+Imei()} is used to retrieve the International Mobile Equipment Identity (I\+M\+EI).

\hyperlink{le__info__interface_8h_a307b5d3ada4ee4b65ecaa3c5154aa953}{le\+\_\+info\+\_\+\+Get\+Imei\+Sv()} is used to retrieve the International Mobile Equipment Identity software version number(\+I\+M\+E\+I\+S\+V).

\hyperlink{le__info__interface_8h_a5c4c25da0020bba0a08237391ff711a9}{le\+\_\+info\+\_\+\+Get\+Meid()} is used to retrieve the C\+D\+MA device Mobile Equipment Identifier (M\+E\+ID).

\hyperlink{le__info__interface_8h_abbbe2b953dce20ce396539026981fe2c}{le\+\_\+info\+\_\+\+Get\+Esn()} is used to retrieve Electronic Serial Number (E\+SN) of the device.

\hyperlink{le__info__interface_8h_afa231bb29b3dde844dfe6df40862eddb}{le\+\_\+info\+\_\+\+Get\+Mdn()} is used to retrieve the Mobile Directory Number (M\+DN) of the device.

\hyperlink{le__info__interface_8h_a0fcb57f7979c32961b1a026f438d936c}{le\+\_\+info\+\_\+\+Get\+Min()} is used to retrieve the C\+D\+MA Mobile Identification Number (M\+IN).

\hyperlink{le__info__interface_8h_ab12105ea6f654c3124ec812234e0f1fa}{le\+\_\+info\+\_\+\+Get\+Prl\+Version()} is used to retrieve the C\+D\+MA version of Preferred Roaming List (P\+RL).

\hyperlink{le__info__interface_8h_a3f2f3ea1720f9ff173483046966ebdb3}{le\+\_\+info\+\_\+\+Get\+Prl\+Only\+Preference()} is used to retrieve the C\+D\+MA Preferred Roaming List (P\+RL) only preferences status.

\hyperlink{le__info__interface_8h_ad01af666fff5fd43a2616e4391ae29e8}{le\+\_\+info\+\_\+\+Get\+Nai()} is used to retrieve the C\+D\+MA Network Access Identifier (N\+AI) string.

\hyperlink{le__info__interface_8h_a94b60d7b13674b4253bebaa52401747d}{le\+\_\+info\+\_\+\+Get\+Manufacturer\+Name()} is used to retrieve the Manufacturer name.

\hyperlink{le__info__interface_8h_ae2cc81573158df20f6196c43dc4b936d}{le\+\_\+info\+\_\+\+Get\+Pri\+Id()} is used to retrieve the Product Requirement Information Identifier (P\+RI ID) Part Number and the Revision Number.

\hyperlink{le__info__interface_8h_a943165dadc90bf9cef367b707eb9bcab}{le\+\_\+info\+\_\+\+Get\+Carrier\+Pri()} is used to retrieve the Carrier Product Requirement Information (C\+A\+P\+RI) Name and the Revision number. Revision Number string is in major.\+minor\+\_\+buildver format.

\hyperlink{le__info__interface_8h_a362c28ae862ed00b43a69a44a20dc782}{le\+\_\+info\+\_\+\+Get\+Sku()} is used to retrieve the product stock keeping unit number (S\+KU).

\hyperlink{le__info__interface_8h_ab61ead104b938d1b5ba038bcde7f1954}{le\+\_\+info\+\_\+\+Get\+Platform\+Serial\+Number()} is used to retrieve the Platform Serial Number (P\+SN) string.

\hyperlink{le__info__interface_8h_ac84294095316b12bb28aaeb4de82e660}{le\+\_\+info\+\_\+\+Get\+Rf\+Device\+Status()} is used to retrieve the RF devices working status (i.\+e. working or broken) of modem\textquotesingle{}s RF devices such as power amplifier, antenna switch and transceiver. That status is updated every time the module power on.\hypertarget{c_info_le_info_reset}{}\paragraph{Query Reset Information}\label{c_info_le_info_reset}
\hyperlink{le__info__interface_8h_a39f1a1db52b1e153466859b0cfa46898}{le\+\_\+info\+\_\+\+Get\+Reset\+Information()} is used to retrieve the last reset reason. For each reset reason, an information string is provided to specify the reset cause. These strings are listed in the table below. This list may be partially supported by some plateforms.

\begin{DoxyNote}{Note}
See platform constraints \hyperlink{platformConstraintsInfo}{Information}
\end{DoxyNote}
\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*3{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}\PBS\centering {\bf Reset type }&\PBS\centering {\bf Information string }&\PBS\centering {\bf Description  }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\PBS\centering {\bf Reset type }&\PBS\centering {\bf Information string }&\PBS\centering {\bf Description  }\\\cline{1-3}
\endhead
\PBS\centering L\+E\+\_\+\+I\+N\+F\+O\+\_\+\+R\+E\+S\+E\+T\+\_\+\+U\+S\+ER &\PBS\centering \char`\"{}\+Reset, User Requested\char`\"{} &\PBS\centering User requested the reboot \\\cline{1-3}
\PBS\centering L\+E\+\_\+\+I\+N\+F\+O\+\_\+\+R\+E\+S\+E\+T\+\_\+\+H\+A\+RD &\PBS\centering \char`\"{}\+Reset, Hardware Switch\char`\"{} &\PBS\centering Hardware switch pushed \\\cline{1-3}
\PBS\centering L\+E\+\_\+\+I\+N\+F\+O\+\_\+\+R\+E\+S\+E\+T\+\_\+\+U\+P\+D\+A\+TE &\PBS\centering \char`\"{}\+Reset, Swap\char`\"{} &\PBS\centering System Swap (dual platforms) \\\cline{1-3}
\PBS\centering L\+E\+\_\+\+I\+N\+F\+O\+\_\+\+R\+E\+S\+E\+T\+\_\+\+U\+P\+D\+A\+TE &\PBS\centering \char`\"{}\+Reset, Swap\+\_\+sync\char`\"{} &\PBS\centering System Swap and synchronize (dual platforms) \\\cline{1-3}
\PBS\centering L\+E\+\_\+\+I\+N\+F\+O\+\_\+\+R\+E\+S\+E\+T\+\_\+\+U\+P\+D\+A\+TE &\PBS\centering \char`\"{}\+Reset, Software Update\char`\"{} &\PBS\centering Software Update \\\cline{1-3}
\PBS\centering L\+E\+\_\+\+I\+N\+F\+O\+\_\+\+R\+E\+S\+E\+T\+\_\+\+U\+P\+D\+A\+TE &\PBS\centering \char`\"{}\+Reset, Configuration Update\char`\"{} &\PBS\centering Reset caused by a configuration update \\\cline{1-3}
\PBS\centering L\+E\+\_\+\+I\+N\+F\+O\+\_\+\+R\+E\+S\+E\+T\+\_\+\+U\+P\+D\+A\+TE &\PBS\centering \char`\"{}\+Reset, L\+W\+M2\+M Update\char`\"{} &\PBS\centering Reset caused by a L\+W\+M2M update \\\cline{1-3}
\PBS\centering L\+E\+\_\+\+I\+N\+F\+O\+\_\+\+R\+E\+S\+E\+T\+\_\+\+U\+P\+D\+A\+TE &\PBS\centering \char`\"{}\+Reset, O\+M\+A-\/\+D\+M Update\char`\"{} &\PBS\centering Reset caused by a O\+M\+A-\/\+DM update \\\cline{1-3}
\PBS\centering L\+E\+\_\+\+I\+N\+F\+O\+\_\+\+R\+E\+S\+E\+T\+\_\+\+U\+P\+D\+A\+TE &\PBS\centering \char`\"{}\+Reset, F\+O\+T\+A Update\char`\"{} &\PBS\centering Reset caused by a F\+O\+TA update \\\cline{1-3}
\PBS\centering L\+E\+\_\+\+I\+N\+F\+O\+\_\+\+P\+O\+W\+E\+R\+\_\+\+D\+O\+WN &\PBS\centering \char`\"{}\+Reset, Crash\char`\"{} &\PBS\centering Software crash \\\cline{1-3}
\PBS\centering L\+E\+\_\+\+I\+N\+F\+O\+\_\+\+P\+O\+W\+E\+R\+\_\+\+D\+O\+WN &\PBS\centering \char`\"{}\+Power Down\char`\"{} &\PBS\centering Power source unplugged \\\cline{1-3}
\PBS\centering L\+E\+\_\+\+I\+N\+F\+O\+\_\+\+T\+E\+M\+P\+\_\+\+C\+R\+IT &\PBS\centering \char`\"{}\+Power Down, Critical Temp\char`\"{} &\PBS\centering Power down due to a critical voltage level \\\cline{1-3}
\PBS\centering L\+E\+\_\+\+I\+N\+F\+O\+\_\+\+V\+O\+L\+T\+\_\+\+C\+R\+IT &\PBS\centering \char`\"{}\+Power Down, Critical Voltage\char`\"{} &\PBS\centering Power down due to a ciritcal temperature level \\\cline{1-3}
\end{longtabu}


\hyperlink{le__info__interface_8h_a0138b4b751972abd92dfe6fe438e40da}{le\+\_\+info\+\_\+\+Get\+Expected\+Resets\+Count()} returns the number of expected resets

Expected resets can be due to normal system shutdown/restart or a software update

\hyperlink{le__info__interface_8h_a71ea52532f32cd8c3a5b9cf292289299}{le\+\_\+info\+\_\+\+Get\+Unexpected\+Resets\+Count()} return the number of unexpected resets

Unexpected resets can be due to software crash, a critical voltage level or a critical temperature level





Copyright (C) Sierra Wireless Inc. \hypertarget{platformConstraintsInfo}{}\paragraph{Information}\label{platformConstraintsInfo}
{\ttfamily \hyperlink{le__info__interface_8h_a39f1a1db52b1e153466859b0cfa46898}{le\+\_\+info\+\_\+\+Get\+Reset\+Information()}} A\+PI provides the last reset reason. This A\+PI is supported by the following platforms\+:

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*9{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf A\+PI }&\PBS\centering {\bf A\+R755x }&\PBS\centering {\bf A\+R758x }&\PBS\centering {\bf A\+R759x }&\PBS\centering {\bf A\+R8652 }&\PBS\centering {\bf W\+P750x }&\PBS\centering {\bf W\+P76xx }&\PBS\centering {\bf W\+P77xx }&\PBS\centering {\bf W\+P8548  }\\\cline{1-9}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf A\+PI }&\PBS\centering {\bf A\+R755x }&\PBS\centering {\bf A\+R758x }&\PBS\centering {\bf A\+R759x }&\PBS\centering {\bf A\+R8652 }&\PBS\centering {\bf W\+P750x }&\PBS\centering {\bf W\+P76xx }&\PBS\centering {\bf W\+P77xx }&\PBS\centering {\bf W\+P8548  }\\\cline{1-9}
\endhead
\hyperlink{le__info__interface_8h_a39f1a1db52b1e153466859b0cfa46898}{le\+\_\+info\+\_\+\+Get\+Reset\+Information()} &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering \\\cline{1-9}
\end{longtabu}


Since {\ttfamily \hyperlink{le__info__interface_8h_a39f1a1db52b1e153466859b0cfa46898}{le\+\_\+info\+\_\+\+Get\+Reset\+Information()}} A\+PI is generic across supported targets, reset causes may be partially supported by some platforms. The table below lists the supported reset sources for each platform. Note that when a reset source is not supported, it is reported as \hyperlink{le__info__interface_8h_ade02c6bc81df0f95a321ba3823d34ae1a4799a9657a2822c209fc18d3ae8e5f0f}{L\+E\+\_\+\+I\+N\+F\+O\+\_\+\+R\+E\+S\+E\+T\+\_\+\+U\+N\+K\+N\+O\+WN}.

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*9{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf Reset cause }&\PBS\centering {\bf A\+R755x }&\PBS\centering {\bf A\+R758x }&\PBS\centering {\bf A\+R759x }&\PBS\centering {\bf A\+R8652 }&\PBS\centering {\bf W\+P750x }&\PBS\centering {\bf W\+P76xx }&\PBS\centering {\bf W\+P77xx }&\PBS\centering {\bf W\+P8548  }\\\cline{1-9}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf Reset cause }&\PBS\centering {\bf A\+R755x }&\PBS\centering {\bf A\+R758x }&\PBS\centering {\bf A\+R759x }&\PBS\centering {\bf A\+R8652 }&\PBS\centering {\bf W\+P750x }&\PBS\centering {\bf W\+P76xx }&\PBS\centering {\bf W\+P77xx }&\PBS\centering {\bf W\+P8548  }\\\cline{1-9}
\endhead
\char`\"{}\+Reset, User Requested\char`\"{} &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering \\\cline{1-9}
\char`\"{}\+Reset, Hardware Switch\char`\"{} &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering \\\cline{1-9}
\char`\"{}\+Reset, Swap\char`\"{} &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering \\\cline{1-9}
\char`\"{}\+Reset, Swap\+\_\+sync\char`\"{} &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering \\\cline{1-9}
\char`\"{}\+Reset, Software Update\char`\"{} &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering \\\cline{1-9}
\char`\"{}\+Reset, Configuration Update\char`\"{} &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering \\\cline{1-9}
\char`\"{}\+Reset, L\+W\+M2\+M Update\char`\"{} &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering \\\cline{1-9}
\char`\"{}\+Reset, O\+M\+A-\/\+D\+M Update\char`\"{} &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering \\\cline{1-9}
\char`\"{}\+Reset, F\+O\+T\+A Update\char`\"{} &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering \\\cline{1-9}
\char`\"{}\+Reset, Crash\char`\"{} &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering \\\cline{1-9}
\char`\"{}\+Power Down\char`\"{} &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering \\\cline{1-9}
\char`\"{}\+Power Down, Critical Temp\char`\"{} &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering \\\cline{1-9}
\char`\"{}\+Power Down, Critical Voltage\char`\"{} &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering \\\cline{1-9}
\end{longtabu}
See \hyperlink{c_info}{Modem Information} A\+PI {\ttfamily \hyperlink{le__info__interface_8h_a39f1a1db52b1e153466859b0cfa46898}{le\+\_\+info\+\_\+\+Get\+Reset\+Information()}} for further information about reset sources.

Copyright (C) Sierra Wireless Inc. \hypertarget{c_mcc}{}\subsubsection{Modem Call Control}\label{c_mcc}
\hyperlink{le__mcc__interface_8h}{A\+PI Reference}





The Modem Call Control (mcc) A\+PI functions of this A\+PI are provided by the {\bfseries modem\+Service} service.\hypertarget{c_mcc_le_mcc_binding}{}\paragraph{I\+P\+C interfaces binding}\label{c_mcc_le_mcc_binding}
Here\textquotesingle{}s a code sample binding to modem services\+: \begin{DoxyVerb}bindings:
{
   clientExe.clientComponent.le_mcc -> modemService.le_mcc
}
\end{DoxyVerb}
\hypertarget{c_mcc_le_mcc_starting_a_call}{}\paragraph{Starting a Call}\label{c_mcc_le_mcc_starting_a_call}
To initiate a call, create a new call object with a destination telephone number calling the \hyperlink{le__mcc__interface_8h_a42130fc6b1d69413a387e3292117b3d3}{le\+\_\+mcc\+\_\+\+Create()} function.

\hyperlink{le__mcc__interface_8h_a72a32869bb23864b3e86c606368bed70}{le\+\_\+mcc\+\_\+\+Start()} must still initiate the call when ready.

The \hyperlink{le__mcc__interface_8h_a72a32869bb23864b3e86c606368bed70}{le\+\_\+mcc\+\_\+\+Start()} function initiates a call attempt (it\textquotesingle{}s asynchronous because it can take time for a call to connect). If function failed, the \hyperlink{le__mcc__interface_8h_ab16921abc02e0569b129f4a7d92bf3c9}{le\+\_\+mcc\+\_\+\+Get\+Termination\+Reason()} A\+PI can be used to retrieve the terminal reason.

It\textquotesingle{}s essential to register a handler function to get the call events. Use \hyperlink{le__mcc__interface_8h_ab826cf4b9e3911e659a90d483081e7fe}{le\+\_\+mcc\+\_\+\+Add\+Call\+Event\+Handler()} A\+PI to install that handler function. The handler will be called for all calls\textquotesingle{} events (incoming and outgoing).

The \hyperlink{le__mcc__interface_8h_aa7682ff49924db10aefee547fcb0b4d8}{le\+\_\+mcc\+\_\+\+Remove\+Call\+Event\+Handler()} A\+PI uninstalls the handler function.

The following A\+P\+Is can be used to manage incoming or outgoing calls\+:
\begin{DoxyItemize}
\item \hyperlink{le__mcc__interface_8h_ab16921abc02e0569b129f4a7d92bf3c9}{le\+\_\+mcc\+\_\+\+Get\+Termination\+Reason()} -\/ termination reason.
\item \hyperlink{le__mcc__interface_8h_a68b9b8ed1b221924dcea1be0fd610a54}{le\+\_\+mcc\+\_\+\+Get\+Platform\+Specific\+Termination\+Code()} -\/ let you get the platform specific termination code by retrieving the termination code from {\ttfamily le\+\_\+mcc\+\_\+\+Call\+Ref\+\_\+t}. Please refer to \hyperlink{platformConstraintsSpecificErrorCodes}{Platform specific error codes} for platform specific termination code description.
\item \hyperlink{le__mcc__interface_8h_a07e4856dffdbf887f51879e39ec43e42}{le\+\_\+mcc\+\_\+\+Is\+Connected()} -\/ connection status.
\item \hyperlink{le__mcc__interface_8h_a6b5922dc325e4f45c90b2ecfd0f0a74f}{le\+\_\+mcc\+\_\+\+Get\+Remote\+Tel()} -\/ displays remote party telephone number associated with the call.
\item \hyperlink{le__mcc__interface_8h_a7b9567715a3cd30c83a3b6886eeb2044}{le\+\_\+mcc\+\_\+\+Hang\+Up()} will disconnect this call.
\end{DoxyItemize}

When finished with the call object, call \hyperlink{le__mcc__interface_8h_a1a016e6443df2d3ee99113649f4f34ae}{le\+\_\+mcc\+\_\+\+Delete()} to free all the allocated resources associated with the object.

Multi-\/threading/multi-\/application behaviour\+: the call\+Ref is linked to a specific client (i.\+e. connection with the mcc service). Each client will have its own call\+Ref for a same call. That is, if a call event handler is registered by one thread but \hyperlink{le__mcc__interface_8h_a42130fc6b1d69413a387e3292117b3d3}{le\+\_\+mcc\+\_\+\+Create()} is called by another thread, they will each get different call references for the same call. So, when multiple threads are being used to work with the same call, a comparison of the call references themselves can\textquotesingle{}t be used to tell whether or not they refer to the same call.

The Adaptive Multi Rate (A\+MR) is an audio compression format optimized for speech coding and used during a voice call. Two A\+M\+Rs are supported\+: An A\+MR Narrowband that encodes a bandwidth of 200–3400 Hz signals at variable bitrates ranging from 4.\+75 to 12.\+2 kbit/s and an A\+MR Wideband that encodes a wider bandwidth of 50–7000 Hz and thus improves the speech quality.

\hyperlink{le__mcc__interface_8h_ab2df0040963d964f360cb2b7148f9277}{le\+\_\+mcc\+\_\+\+Set\+Amr\+Wb\+Capability()} function enables or disables the A\+MR Wideband supported capability. \hyperlink{le__mcc__interface_8h_a3762311b9860dc66c52b00f4324dc140}{le\+\_\+mcc\+\_\+\+Get\+Amr\+Wb\+Capability()} function returns the A\+MR Wideband capability status.\hypertarget{c_mcc_le_mcc_answering_a_call}{}\paragraph{Answering a call}\label{c_mcc_le_mcc_answering_a_call}
Receiving calls is similar sending calls. Add a handler through \hyperlink{le__mcc__interface_8h_ab826cf4b9e3911e659a90d483081e7fe}{le\+\_\+mcc\+\_\+\+Add\+Call\+Event\+Handler()} to be notified of incoming calls.

To answer, call \hyperlink{le__mcc__interface_8h_a598349c6ccfa151dbd1d2f2a9c293ca4}{le\+\_\+mcc\+\_\+\+Answer()}. To reject it, call \hyperlink{le__mcc__interface_8h_a7b9567715a3cd30c83a3b6886eeb2044}{le\+\_\+mcc\+\_\+\+Hang\+Up()}.\hypertarget{c_mcc_le_mcc_ending_all_call}{}\paragraph{Ending all calls}\label{c_mcc_le_mcc_ending_all_call}
A special function can be used to hang-\/up all the ongoing calls\+: \hyperlink{le__mcc__interface_8h_a38ac8543a579ecc81430c121a64bd346}{le\+\_\+mcc\+\_\+\+Hang\+Up\+All()}. This function can be used to hang-\/up any calls that have been initiated through another client like AT commands.\hypertarget{c_mcc_le_mcc_ss}{}\paragraph{Supplementary service}\label{c_mcc_le_mcc_ss}
Calling Line Identification Restriction (C\+L\+IR) can be activated or deactivated by \hyperlink{le__mcc__interface_8h_a6b7fda9b1d0f0208a99b4bdcafe97538}{le\+\_\+mcc\+\_\+\+Set\+Caller\+Id\+Restrict()} A\+PI. The status is independent for each call object reference. Status can be read with the \hyperlink{le__mcc__interface_8h_a54093f7d51cae9a186a97aa799ac3ddc}{le\+\_\+mcc\+\_\+\+Get\+Caller\+Id\+Restrict()} A\+PI. If the status is not set, \hyperlink{le__mcc__interface_8h_a54093f7d51cae9a186a97aa799ac3ddc}{le\+\_\+mcc\+\_\+\+Get\+Caller\+Id\+Restrict()} A\+PI returns L\+E\+\_\+\+U\+N\+A\+V\+A\+I\+L\+A\+B\+LE. By default the C\+L\+IR status is not set.

Call waiting supplementary service can be activated or deactivated by \hyperlink{le__mcc__interface_8h_ac637e687387a5b8cf9c5b02cbb7816fa}{le\+\_\+mcc\+\_\+\+Set\+Call\+Waiting\+Service()}. Its status can be given by \hyperlink{le__mcc__interface_8h_acdf73f5a2e498ee201d8a11c416de29b}{le\+\_\+mcc\+\_\+\+Get\+Call\+Waiting\+Service()}. A call waiting can be answered using \hyperlink{le__mcc__interface_8h_a62626d9db0d9bf56fb2660d9acfdfcc5}{le\+\_\+mcc\+\_\+\+Activate\+Call()} A\+PI. This A\+PI is also used to activate an on hold call (current call is then placed on hold). An activated, waiting or on hold call can be released using \hyperlink{le__mcc__interface_8h_a7b9567715a3cd30c83a3b6886eeb2044}{le\+\_\+mcc\+\_\+\+Hang\+Up()} function. See 3\+G\+PP TS 02.\+83 / 22.\+083 for any details concerning call waiting / call hold supplementary services.

\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000063}{Todo}]Other Supplementary services will be available in a future release. Create simpler examples.\end{DoxyRefDesc}
\hypertarget{c_mcc_le_mcc_samples}{}\paragraph{Sample codes}\label{c_mcc_le_mcc_samples}
A sample code that implements a dialing call can be found in {\bfseries le\+\_\+mcc\+Test.\+c} file (please refer to \hyperlink{c_mccTest}{Sample code of Modem Call control} page).





Copyright (C) Sierra Wireless Inc. \hypertarget{c_mdc}{}\subsubsection{Modem Data Control}\label{c_mdc}
\hyperlink{le__mdc__interface_8h}{A\+PI Reference}





A data session is useful for applications that need to send or receive data over a network where S\+MS messages are insufficient. To start a data session, a data profile must be configured as specified by the target network.

The Modem Data Control (mdc) A\+PI is used to manage data profiles and data sessions.\hypertarget{c_mdc_le_mdc_binding}{}\paragraph{I\+P\+C interfaces binding}\label{c_mdc_le_mdc_binding}
All the functions of this A\+PI are provided by the {\bfseries modem\+Service} service.

Here\textquotesingle{}s a code sample binding to modem services\+: \begin{DoxyVerb}bindings:
{
   clientExe.clientComponent.le_mdc -> modemService.le_mdc
}
\end{DoxyVerb}
\hypertarget{c_mdc_le_mdc_profile}{}\paragraph{Data Profiles}\label{c_mdc_le_mdc_profile}
If a pre-\/defined data profile has been configured then this profile can be loaded using \hyperlink{le__mdc__interface_8h_a638b693cd5f644fa5c24f81e1e36483c}{le\+\_\+mdc\+\_\+\+Get\+Profile()}. \hyperlink{le__mdc__interface_8h_a638b693cd5f644fa5c24f81e1e36483c}{le\+\_\+mdc\+\_\+\+Get\+Profile()} must be called with {\ttfamily L\+E\+\_\+\+M\+D\+C\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+P\+R\+O\+F\+I\+LE} to retrieve the default index used by the modem for data connection. \hyperlink{le__mdc__interface_8h_a638b693cd5f644fa5c24f81e1e36483c}{le\+\_\+mdc\+\_\+\+Get\+Profile()} must be called with {\ttfamily L\+E\+\_\+\+M\+D\+C\+\_\+\+S\+I\+M\+T\+O\+O\+L\+K\+I\+T\+\_\+\+B\+I\+P\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+P\+R\+O\+F\+I\+LE} to retrieve the default index used by the modem for Bearer Independent Protocol (B\+IP). The maximum number of data profiles supported is modem dependent and can be retrieved with \hyperlink{le__mdc__interface_8h_a790602f1b17d7bf9626a51eac5599439}{le\+\_\+mdc\+\_\+\+Num\+Profiles()}.

\begin{DoxyNote}{Note}
\hyperlink{le__mdc__interface_8h_a638b693cd5f644fa5c24f81e1e36483c}{le\+\_\+mdc\+\_\+\+Get\+Profile()} creates a new profile if the profile\textquotesingle{}s index can\textquotesingle{}t be found.
\end{DoxyNote}
\begin{DoxyWarning}{Warning}
0 is not a valid index.
\end{DoxyWarning}
A pre-\/defined data profile can be retrieved using \hyperlink{le__mdc__interface_8h_a2ea0573e6e9cd16c04e95146f2b2e693}{le\+\_\+mdc\+\_\+\+Get\+Profile\+From\+Apn()} thanks to its A\+PN.

A default A\+PN can be set for a defined profile with \hyperlink{le__mdc__interface_8h_ad44bd756fd5cbfd43a5b348054786a4d}{le\+\_\+mdc\+\_\+\+Set\+Default\+A\+P\+N()}, based on the S\+IM identification number (I\+C\+C\+ID). If no match is found in the database using the I\+C\+C\+ID, the search falls back on the home network (M\+C\+C/\+M\+NC) to determine the default A\+PN.

\begin{DoxyWarning}{Warning}
Ensure to check the list of supported data profiles for your specific platform.
\end{DoxyWarning}
The following data profile parameters can be retrieved\+:
\begin{DoxyItemize}
\item Packet Data Protocol using \hyperlink{le__mdc__interface_8h_a0a51125579f1d5009dac03c79ddff498}{le\+\_\+mdc\+\_\+\+Get\+P\+D\+P()}.
\item Access Point Name using \hyperlink{le__mdc__interface_8h_afc0c149bfa4455f3e9a8ccc06f0c5fed}{le\+\_\+mdc\+\_\+\+Get\+A\+P\+N()}.
\item Authentication settings using \hyperlink{le__mdc__interface_8h_a3f83b1b922271091e3f1da418a4f39ca}{le\+\_\+mdc\+\_\+\+Get\+Authentication()}.
\end{DoxyItemize}

The following data profile parameters can be set\+:
\begin{DoxyItemize}
\item Packet Data Protocol using \hyperlink{le__mdc__interface_8h_a73e66a7a63dc95d7f261fc2a26470386}{le\+\_\+mdc\+\_\+\+Set\+P\+D\+P()}.
\item Access Point Name using \hyperlink{le__mdc__interface_8h_ae8ebd11b9cb9afb9b6b5745903f50156}{le\+\_\+mdc\+\_\+\+Set\+A\+P\+N()}.
\item Authentication settings using \hyperlink{le__mdc__interface_8h_a9f69d0751927b5ead6c756202179b222}{le\+\_\+mdc\+\_\+\+Set\+Authentication()}.
\end{DoxyItemize}

\begin{DoxyWarning}{Warning}
The maximum A\+PN length might be limited by the platform. Please refer to the platform documentation.
\end{DoxyWarning}
A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mdcDataProfiles}{Sample code for Data Profiles}
\end{DoxyItemize}\hypertarget{c_mdc_le_mdc_session}{}\paragraph{Data Sessions}\label{c_mdc_le_mdc_session}
\hypertarget{c_mdc_le_mdc_session_MO}{}\subparagraph{Mobile Originated (\+M\+O-\/\+P\+D\+P context activation)}\label{c_mdc_le_mdc_session_MO}
\hyperlink{le__mdc__interface_8h_a56cd547a4e2b9cc98c1f0d052aeb92e6}{le\+\_\+mdc\+\_\+\+Map\+Profile\+On\+Network\+Interface()} may be used to map a data session with a network interface. To take effect, this A\+PI has to be called before starting the data session. Otherwise, the mapping will be taken into account at the next start of the data profile.

A data session can be started using \hyperlink{le__mdc__interface_8h_a2cb08d5c3e6c43297d80448891719649}{le\+\_\+mdc\+\_\+\+Start\+Session()}. To start a data session, a data profile must be created and written to the modem, or an existing data profile can be used. A data session can be stopped using \hyperlink{le__mdc__interface_8h_a53453f85065c3cace0922150b7e3d869}{le\+\_\+mdc\+\_\+\+Stop\+Session()}. The number of simultaneous data sessions supported is dependent on the modem, but cannot be more than the maximum number of supported profiles.

A data session can be started using \hyperlink{le__mdc__interface_8h_aa03d6e31263ddf8bf1d94b183c9934d9}{le\+\_\+mdc\+\_\+\+Start\+Session\+Async()} and stopped using \hyperlink{le__mdc__interface_8h_ac5b357f7437c9e253fa17b2511fa14ef}{le\+\_\+mdc\+\_\+\+Stop\+Session\+Async()}. These functions are not blocking. The response will be returned with the {\ttfamily le\+\_\+mdc\+\_\+\+Session\+Handler\+Func\+\_\+t} handler function.

The current state of a data session can be queried using \hyperlink{le__mdc__interface_8h_add91c364e8b3e4e82a0ce64e480c016b}{le\+\_\+mdc\+\_\+\+Get\+Session\+State()}. An application can also a register handler to be notified when the session state changes. The handler can be managed using \hyperlink{le__mdc__interface_8h_a594c85c1ccb56ddfbaf36496f35f681e}{le\+\_\+mdc\+\_\+\+Add\+Session\+State\+Handler()} and \hyperlink{le__mdc__interface_8h_af223a193b73ce6f870947557f69136dc}{le\+\_\+mdc\+\_\+\+Remove\+Session\+State\+Handler()}.\hypertarget{c_mdc_le_mdc_session_MT}{}\subparagraph{Mobile Terminated (\+M\+T-\/\+P\+D\+P context activation)}\label{c_mdc_le_mdc_session_MT}
To be notified by the M\+T-\/\+P\+DP context request, the application has to subscribe to the state handler using \hyperlink{le__mdc__interface_8h_ada19c2a399ba8c0aa038e27c21689472}{le\+\_\+mdc\+\_\+\+Add\+Mt\+Pdp\+Session\+State\+Handler()}. When the incoming M\+T-\/\+P\+DP context request is notified, the application takes responsibility to trigger the data session for that MT P\+DP request using \hyperlink{le__mdc__interface_8h_a2cb08d5c3e6c43297d80448891719649}{le\+\_\+mdc\+\_\+\+Start\+Session()}. That data session can be stopped using \hyperlink{le__mdc__interface_8h_a53453f85065c3cace0922150b7e3d869}{le\+\_\+mdc\+\_\+\+Stop\+Session()}.

The network interface settings of that M\+T-\/\+P\+DP context can be retrieved using the provided Data Profile. Please refer to \hyperlink{c_mdc_le_mdc_session_networkItf}{Network interface settings}.

A data session can be rejected using \hyperlink{le__mdc__interface_8h_ae3b49edad910960b84a9012ecc33c66a}{le\+\_\+mdc\+\_\+\+Reject\+Mt\+Pdp\+Session()}. The number of simultaneous data sessions supported is dependent on the modem, but cannot be more than the maximum number of supported profiles.

The handler can be released using \hyperlink{le__mdc__interface_8h_a68b03606241ea2215e076966a7c08d99}{le\+\_\+mdc\+\_\+\+Remove\+Mt\+Pdp\+Session\+State\+Handler()}.

\begin{DoxyWarning}{Warning}
The M\+T-\/\+P\+DP context activation feature is not supported on all platforms. Please refer to \hyperlink{platformConstraintsMdc_MT-PDP_context}{Mobile Terminated P\+DP context} section for full details.
\end{DoxyWarning}
\hypertarget{c_mdc_le_mdc_session_networkItf}{}\subparagraph{Network interface settings}\label{c_mdc_le_mdc_session_networkItf}
Once a data session starts, a Linux network interface is created. It\textquotesingle{}s the application\textquotesingle{}s responsibility to configure the network interface, usually through a D\+H\+CP client. Query the interface name using \hyperlink{le__mdc__interface_8h_a4c22a8691d6e6a69270a7ed6ab9974af}{le\+\_\+mdc\+\_\+\+Get\+Interface\+Name()}. The IP Preference can be checked with \hyperlink{le__mdc__interface_8h_aa3912e94864a6e5862e07f58b3772cba}{le\+\_\+mdc\+\_\+\+Is\+I\+Pv4()} or \hyperlink{le__mdc__interface_8h_adde11de0b17b2c937acca6355b6fba11}{le\+\_\+mdc\+\_\+\+Is\+I\+Pv6()} when the profile is connected. The IP address for the current data session can be retrieved by \hyperlink{le__mdc__interface_8h_a0b5e11efda06472fc6c525101fceafe6}{le\+\_\+mdc\+\_\+\+Get\+I\+Pv4\+Address()} or \hyperlink{le__mdc__interface_8h_a73ef38d4d2399580d552b12c62f1c508}{le\+\_\+mdc\+\_\+\+Get\+I\+Pv6\+Address()}. The Gateway and D\+NS addresses can be retrieved using \hyperlink{le__mdc__interface_8h_a290cff563b19ee4891bcd5c8908c54f9}{le\+\_\+mdc\+\_\+\+Get\+I\+Pv4\+Gateway\+Address()}, \hyperlink{le__mdc__interface_8h_a0dd0dcf60d647388fa3e1973917a6161}{le\+\_\+mdc\+\_\+\+Get\+I\+Pv4\+D\+N\+S\+Addresses()} or \hyperlink{le__mdc__interface_8h_a3bb60671304e2b4d3b23d8e623f9940c}{le\+\_\+mdc\+\_\+\+Get\+I\+Pv6\+Gateway\+Address()}, \hyperlink{le__mdc__interface_8h_ad9cb7d3299620d9dcde551cec45389a1}{le\+\_\+mdc\+\_\+\+Get\+I\+Pv6\+D\+N\+S\+Addresses()}. The Access Point Name can be retrieved by \hyperlink{le__mdc__interface_8h_afc0c149bfa4455f3e9a8ccc06f0c5fed}{le\+\_\+mdc\+\_\+\+Get\+A\+P\+N()}. The Data bearer Technology can be retrieved by \hyperlink{le__mdc__interface_8h_a1b17bb87b347162013b5ad608cdcda2d}{le\+\_\+mdc\+\_\+\+Get\+Data\+Bearer\+Technology()}.

\hyperlink{le__mdc__interface_8h_afe73f44c23b1bd120dd82a85b36c6059}{le\+\_\+mdc\+\_\+\+Get\+Disconnection\+Reason()} or \hyperlink{le__mdc__interface_8h_a3e3a92b0f5e3edab9400412170517a62}{le\+\_\+mdc\+\_\+\+Get\+Platform\+Specific\+Disconnection\+Code()} let you get the reason for disconnection of data session by retrieving the call end failure code from {\ttfamily le\+\_\+mdc\+\_\+\+Profile\+Ref\+\_\+t}.

\hyperlink{le__mdc__interface_8h_a438ff354100b5020ace1059635b740b4}{le\+\_\+mdc\+\_\+\+Get\+Platform\+Specific\+Failure\+Connection\+Reason()} let you get the data session connection failure reason by retrieving the call connection failure code and type from {\ttfamily le\+\_\+mdc\+\_\+\+Profile\+Ref\+\_\+t}.

Please refer to \hyperlink{platformConstraintsSpecificErrorCodes}{Platform specific error codes} for platform specific disconnection code description.

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mdcDataSessions}{Sample code for network interface settings}
\end{DoxyItemize}\hypertarget{c_SDD_mdc_le_mdc_dataStatistics}{}\paragraph{Data Statistics}\label{c_SDD_mdc_le_mdc_dataStatistics}
The amount of received and transmitted data can be retrieved through \hyperlink{le__mdc__interface_8h_aaad833c105f7d0ae77f18195d6739080}{le\+\_\+mdc\+\_\+\+Get\+Bytes\+Counters()}. The returned values correspond to the number of received and transmitted bytes since the last call to \hyperlink{le__mdc__interface_8h_a63636b2779d2ee6a6520ebfb2d26666c}{le\+\_\+mdc\+\_\+\+Reset\+Bytes\+Counter()}.

The data statistics collection can be enabled with \hyperlink{le__mdc__interface_8h_a30f390941d98c9e9c4144a5e035da3aa}{le\+\_\+mdc\+\_\+\+Start\+Bytes\+Counter()} and disabled without resetting the counters with \hyperlink{le__mdc__interface_8h_a1d6007bc8f84e5e4869af4af11b7363f}{le\+\_\+mdc\+\_\+\+Stop\+Bytes\+Counter()}.

\begin{DoxyNote}{Note}
The data statistics collection activation and the data counters are persistent even after a reboot of the platform.
\end{DoxyNote}
A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mdcDataStatistics}{Sample code for Data Statistics}
\end{DoxyItemize}





Copyright (C) Sierra Wireless Inc. \hypertarget{c_mdcDataProfiles}{}\paragraph{Sample code for Data Profiles}\label{c_mdcDataProfiles}

\begin{DoxyCodeInclude}
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} DefaultCid[] = \textcolor{stringliteral}{"default"};
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} automaticApn[] = \textcolor{stringliteral}{"auto"};
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} PdpIpv4[] = \textcolor{stringliteral}{"ipv4"};
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} PdpIpv6[] = \textcolor{stringliteral}{"ipv6"};
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} PdpIpv4v6[] = \textcolor{stringliteral}{"ipv4v6"};
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} AuthPap[] = \textcolor{stringliteral}{"pap"};
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} AuthChap[] = \textcolor{stringliteral}{"chap"};
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} AuthPapChap[] = \textcolor{stringliteral}{"pap-chap"};
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} Map[] = \textcolor{stringliteral}{"map"};
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} Cid[] = \textcolor{stringliteral}{"cid"};
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} Rmnet[] = \textcolor{stringliteral}{"rmnet"};

\textcolor{comment}{// Structure used to set the configuration}
\textcolor{keyword}{typedef} \textcolor{keyword}{struct}
\{
    \textcolor{keywordtype}{char}   cid[10];                                 \textcolor{comment}{// profile identifier}
    \textcolor{keywordtype}{char}   pdp[10];                                 \textcolor{comment}{// packet data protocol}
    \textcolor{keywordtype}{char}   apn[\hyperlink{le__mdc__interface_8h_a94003147532b5c18b83cac9a4e1eb054}{LE\_MDC\_APN\_NAME\_MAX\_LEN}];            \textcolor{comment}{// access point network}
    \textcolor{keywordtype}{char}   auth[10];                                \textcolor{comment}{// authentication level}
    \textcolor{keywordtype}{char}   userName[\hyperlink{le__mdc__interface_8h_ad246bc94c8c69c08d2765cc0570aa3cf}{LE\_MDC\_USER\_NAME\_MAX\_LEN}];      \textcolor{comment}{// username for authentication}
    \textcolor{keywordtype}{char}   password[\hyperlink{le__mdc__interface_8h_a37643c42ade5141861f6c19c17378c2f}{LE\_MDC\_PASSWORD\_NAME\_MAX\_LEN}];  \textcolor{comment}{// password for
       authentication}
\}
Configuration\_t;

\textcolor{comment}{// Tests cases}
\textcolor{keyword}{typedef} \textcolor{keyword}{enum}
\{
    TEST\_SYNC,
    TEST\_ASYNC,
    TEST\_MAX
\} Testcase\_t;

\textcolor{comment}{// Tests definition}
\textcolor{keyword}{struct}
\{
    \textcolor{keywordtype}{char} testName[20];
    Testcase\_t  testCase;
\} testsDef[] = \{
                    TEST\_DEF(TEST\_SYNC),
                    TEST\_DEF(TEST\_ASYNC),
                    TEST\_DEF(TEST\_MAX)
\};

\textcolor{comment}{}
\textcolor{comment}{//! [Data\_session]}
\textcolor{comment}{}\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Session handler response for connection and disconnection.}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} SessionHandlerFunc
(
    \hyperlink{le__mdc__interface_8h_a91074d8f0d88c6645e3085dfadf87011}{le\_mdc\_ProfileRef\_t} profileRef,
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} result,
    \textcolor{keywordtype}{void}* contextPtr
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t}* activationPtr = contextPtr;
    *activationPtr = result;

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Session result %d for profile %d"}, result, 
      \hyperlink{le__mdc__interface_8h_a108f7c3db74a377c2ae5482543d4e0d9}{le\_mdc\_GetProfileIndex}(profileRef));

    \hyperlink{le__semaphore_8h_abb859411cc58fbcc576c986ef52083b2}{le\_sem\_Post}(AsyncTestSemaphore);
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Start asynchronous session.}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} SessionStartAsync
(
    \textcolor{keywordtype}{void}* param1Ptr,
    \textcolor{keywordtype}{void}* param2Ptr
)
\{
    \hyperlink{le__mdc__interface_8h_a91074d8f0d88c6645e3085dfadf87011}{le\_mdc\_ProfileRef\_t} profileRef = param1Ptr;

    \hyperlink{le__mdc__interface_8h_aa03d6e31263ddf8bf1d94b183c9934d9}{le\_mdc\_StartSessionAsync}(profileRef, SessionHandlerFunc, param2Ptr);
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Stop asynchronous session.}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} SessionStopAsync
(
    \textcolor{keywordtype}{void}* param1Ptr,
    \textcolor{keywordtype}{void}* param2Ptr
)
\{
    \hyperlink{le__mdc__interface_8h_a91074d8f0d88c6645e3085dfadf87011}{le\_mdc\_ProfileRef\_t} profileRef = param1Ptr;

    \hyperlink{le__mdc__interface_8h_ac5b357f7437c9e253fa17b2511fa14ef}{le\_mdc\_StopSessionAsync}(profileRef, SessionHandlerFunc, param2Ptr);
\}
\textcolor{comment}{}
\textcolor{comment}{//! [Data\_session]}
\textcolor{comment}{}\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Set the configuration.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} SetConfiguration
(
    \hyperlink{le__mdc__interface_8h_a91074d8f0d88c6645e3085dfadf87011}{le\_mdc\_ProfileRef\_t}* profileRefPtr
)
\{
    \textcolor{comment}{// Check the configuration file}
    FILE* configFilePtr = fopen(\textcolor{stringliteral}{"/tmp/config.txt"},\textcolor{stringliteral}{"r"});
    Configuration\_t configuration;

    memset(&configuration, 0, \textcolor{keyword}{sizeof}(Configuration\_t));

    \textcolor{comment}{// if configuration file absent, use default settings}
    \textcolor{keywordflow}{if} (NULL == configFilePtr)
    \{
        \hyperlink{le__utf8_8h_aa5ae72c01396c106fdf3b4741ead7477}{le\_utf8\_Copy}(configuration.cid, DefaultCid, \textcolor{keyword}{sizeof}(configuration.cid), NULL);
        \hyperlink{le__utf8_8h_aa5ae72c01396c106fdf3b4741ead7477}{le\_utf8\_Copy}(configuration.pdp, PdpIpv4, \textcolor{keyword}{sizeof}(configuration.pdp), NULL);
        \hyperlink{le__utf8_8h_aa5ae72c01396c106fdf3b4741ead7477}{le\_utf8\_Copy}(configuration.apn, automaticApn, \textcolor{keyword}{sizeof}(configuration.apn), NULL);
    \}
    \textcolor{keywordflow}{else}
    \{
        \textcolor{comment}{// Get the configuration from the file}
        fseek(configFilePtr, 0, SEEK\_END);
        uint32\_t len = ftell(configFilePtr);
        \textcolor{keywordtype}{char} cmdLine[ len + 1 ];
        \textcolor{keywordtype}{char}* saveLinePtr;
        \textcolor{keywordtype}{char}* saveParamPtr;
        \textcolor{keywordtype}{char}* cmdLinePtr;

        memset(cmdLine,0,len+1);
        fseek(configFilePtr, 0, SEEK\_SET);
        fread(cmdLine, 1, len, configFilePtr);
        fclose(configFilePtr);

        \textcolor{comment}{// Get first line}
        cmdLinePtr = strtok\_r(cmdLine, \textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"}, &saveLinePtr);

        \textcolor{comment}{// Get profile number}
        \textcolor{keywordtype}{char}* cidPtr =  strtok\_r(cmdLinePtr, \textcolor{stringliteral}{" "}, &saveParamPtr);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(NULL != cidPtr);
        \hyperlink{le__utf8_8h_aa5ae72c01396c106fdf3b4741ead7477}{le\_utf8\_Copy}(configuration.cid, cidPtr, \textcolor{keyword}{sizeof}(configuration.cid), NULL);

        \textcolor{comment}{// Get pdp type}
        \textcolor{keywordtype}{char}* pdpPtr = strtok\_r(NULL, \textcolor{stringliteral}{" "}, &saveParamPtr);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(NULL != pdpPtr);
        \hyperlink{le__utf8_8h_aa5ae72c01396c106fdf3b4741ead7477}{le\_utf8\_Copy}(configuration.pdp, pdpPtr, \textcolor{keyword}{sizeof}(configuration.pdp), NULL);

        \textcolor{comment}{// Get apn}
        \textcolor{keywordtype}{char}* apnPtr = strtok\_r(NULL, \textcolor{stringliteral}{" "}, &saveParamPtr);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(NULL != apnPtr);
        \hyperlink{le__utf8_8h_aa5ae72c01396c106fdf3b4741ead7477}{le\_utf8\_Copy}(configuration.apn, apnPtr, \textcolor{keyword}{sizeof}(configuration.apn), NULL);

        \textcolor{comment}{// Get authentication}
        \textcolor{keywordtype}{char}* authPtr = strtok\_r(NULL, \textcolor{stringliteral}{" "}, &saveParamPtr);
        \textcolor{keywordflow}{if} (NULL != authPtr)
        \{
            \hyperlink{le__utf8_8h_aa5ae72c01396c106fdf3b4741ead7477}{le\_utf8\_Copy}(configuration.auth, authPtr, \textcolor{keyword}{sizeof}(configuration.auth), NULL);
        \}

        \textcolor{comment}{// Get username}
        \textcolor{keywordtype}{char}* userNamePtr = strtok\_r(NULL, \textcolor{stringliteral}{" "}, &saveParamPtr);
        \textcolor{keywordflow}{if} (NULL != userNamePtr)
        \{
            \hyperlink{le__utf8_8h_aa5ae72c01396c106fdf3b4741ead7477}{le\_utf8\_Copy}(configuration.userName, userNamePtr, \textcolor{keyword}{sizeof}(configuration.userName), 
      NULL);
        \}

        \textcolor{comment}{// Get password}
        \textcolor{keywordtype}{char}* passwordPtr = strtok\_r(NULL, \textcolor{stringliteral}{" "}, &saveParamPtr);
        \textcolor{keywordflow}{if} (NULL != passwordPtr)
        \{
            \hyperlink{le__utf8_8h_aa5ae72c01396c106fdf3b4741ead7477}{le\_utf8\_Copy}(configuration.password, passwordPtr, \textcolor{keyword}{sizeof}(configuration.password), 
      NULL);
        \}

        \textcolor{comment}{// Get optional lines}
        cmdLinePtr = strtok\_r(NULL, \textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"}, &saveLinePtr);

        \textcolor{keywordflow}{while} (cmdLinePtr)
        \{
            \textcolor{keywordtype}{char}* optionPtr = strtok\_r(cmdLinePtr, \textcolor{stringliteral}{" "}, &saveParamPtr);

            \textcolor{comment}{// Check mapping cid}
            \textcolor{keywordflow}{if} (strncmp(optionPtr, Map, strlen(Map)) == 0)
            \{
                \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"mapping cid"});
                \textcolor{keywordtype}{char}* cidPtr = strtok\_r(NULL, \textcolor{stringliteral}{" "}, &saveParamPtr);

                \textcolor{keywordflow}{if} (strncmp(cidPtr, Cid, strlen(Cid)) == 0)
                \{
                    \textcolor{keywordtype}{int} cid = strtol((\textcolor{keyword}{const} \textcolor{keywordtype}{char}*) cidPtr+strlen(Cid), NULL, 10);

                    \textcolor{keywordflow}{if} (0 != \hyperlink{supervisor_8c_a0a4ccfdbe1cf7b37afc60d34e748b066}{errno})
                    \{
                        \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"Bad cid %d %m"}, \hyperlink{supervisor_8c_a0a4ccfdbe1cf7b37afc60d34e748b066}{errno});
                        \hyperlink{app_stop_client_8c_a310220604a584e112ba8f7aa3dfe23f1}{exit}(EXIT\_FAILURE);
                    \}

                    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"map cid %d"}, cid);

                    \textcolor{keywordtype}{char}* rmnetPtr = strtok\_r(NULL, \textcolor{stringliteral}{" "}, &saveParamPtr);

                    \textcolor{keywordflow}{if} (0 == strncmp(rmnetPtr, Rmnet, strlen(Rmnet)))
                    \{
                        \textcolor{keywordtype}{int} rmnet = strtol(rmnetPtr+strlen(Rmnet), NULL, 10);

                        \textcolor{keywordflow}{if} (0 != \hyperlink{supervisor_8c_a0a4ccfdbe1cf7b37afc60d34e748b066}{errno})
                        \{
                            \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"Bad rmnet %d %m"}, \hyperlink{supervisor_8c_a0a4ccfdbe1cf7b37afc60d34e748b066}{errno});
                            \hyperlink{app_stop_client_8c_a310220604a584e112ba8f7aa3dfe23f1}{exit}(EXIT\_FAILURE);
                        \}

                        \hyperlink{le__mdc__interface_8h_a91074d8f0d88c6645e3085dfadf87011}{le\_mdc\_ProfileRef\_t} profileRef = 
      \hyperlink{le__mdc__interface_8h_a638b693cd5f644fa5c24f81e1e36483c}{le\_mdc\_GetProfile}(cid);

                        \textcolor{keywordtype}{char} \textcolor{keywordtype}{string}[20];
                        memset(\textcolor{keywordtype}{string},0,\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{string}));
                        \hyperlink{app_stop_client_8c_a2b6c4b2a795957a91039524b524be480}{snprintf}(\textcolor{keywordtype}{string},\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{string}),\textcolor{stringliteral}{"rmnet\_data%d"}, rmnet);
                        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"cid %d rmnet: %s"}, cid, \textcolor{keywordtype}{string});

                        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mdc__interface_8h_a56cd547a4e2b9cc98c1f0d052aeb92e6}{le\_mdc\_MapProfileOnNetworkInterface}
      (profileRef, \textcolor{keywordtype}{string}) == LE\_OK);
                    \}
                \}
            \}

            cmdLinePtr = strtok\_r(NULL, \textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"}, &saveLinePtr);
        \}
    \}

    uint32\_t profile;

    \textcolor{keywordflow}{if} ( strncmp(configuration.cid, DefaultCid, \textcolor{keyword}{sizeof}(DefaultCid)) == 0 )
    \{
        profile = \hyperlink{le__mdc__interface_8h_abf72eaa8891f7591477e229bb4ad5723}{LE\_MDC\_DEFAULT\_PROFILE};
    \}
    \textcolor{keywordflow}{else}
    \{
        profile = strtol(configuration.cid, NULL, 10);

        \textcolor{keywordflow}{if} (\hyperlink{supervisor_8c_a0a4ccfdbe1cf7b37afc60d34e748b066}{errno} != 0)
        \{
            \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"Bad profile %d %m"}, \hyperlink{supervisor_8c_a0a4ccfdbe1cf7b37afc60d34e748b066}{errno});
            \hyperlink{app_stop_client_8c_a310220604a584e112ba8f7aa3dfe23f1}{exit}(EXIT\_FAILURE);
        \}
    \}
\textcolor{comment}{}
\textcolor{comment}{//! [Profile\_parameters]}
\textcolor{comment}{}
    \textcolor{comment}{// Get the profile reference}
    *profileRefPtr = \hyperlink{le__mdc__interface_8h_a638b693cd5f644fa5c24f81e1e36483c}{le\_mdc\_GetProfile}(profile);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(NULL != *profileRefPtr);

    \textcolor{comment}{// Check the current state of the cid}
    \hyperlink{le__mdc__interface_8h_a0727e543d0394422963c8d6297947333}{le\_mdc\_ConState\_t} state = \hyperlink{le__mdc__interface_8h_a0727e543d0394422963c8d6297947333a6d11ee963528c79d73a269eb85202ba7}{LE\_MDC\_DISCONNECTED};

    \textcolor{comment}{// Check the state}
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(LE\_OK == \hyperlink{le__mdc__interface_8h_add91c364e8b3e4e82a0ce64e480c016b}{le\_mdc\_GetSessionState}(*profileRefPtr, &state));

    \textcolor{comment}{// If already connected, disconnect the session}
    \textcolor{keywordflow}{if} (\hyperlink{le__mdc__interface_8h_a0727e543d0394422963c8d6297947333a0a8a2113935b881b76c59b94cf7223b8}{LE\_MDC\_CONNECTED} == state)
    \{
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mdc__interface_8h_a53453f85065c3cace0922150b7e3d869}{le\_mdc\_StopSession}(*profileRefPtr) == LE\_OK);
    \}

    \textcolor{comment}{// Set pdp type}
    \hyperlink{le__mdc__interface_8h_a85721ec6046140c2f87c23f877dce247}{le\_mdc\_Pdp\_t} pdp = \hyperlink{le__mdc__interface_8h_a85721ec6046140c2f87c23f877dce247a590fd5c933c3751e42053f996d530987}{LE\_MDC\_PDP\_UNKNOWN};

    \textcolor{keywordflow}{if} (0 == strncmp(configuration.pdp, PdpIpv4, \textcolor{keyword}{sizeof}(PdpIpv4)))
    \{
        pdp = \hyperlink{le__mdc__interface_8h_a85721ec6046140c2f87c23f877dce247af550adf5bcecb680294f92f28496a830}{LE\_MDC\_PDP\_IPV4};
    \}
    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (0 == strncmp(configuration.pdp, PdpIpv6, \textcolor{keyword}{sizeof}(PdpIpv6)))
    \{
        pdp = \hyperlink{le__mdc__interface_8h_a85721ec6046140c2f87c23f877dce247ac2d2a34bad2d18be1ea8facef0effad0}{LE\_MDC\_PDP\_IPV6};
    \}
    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (0 == strncmp(configuration.pdp, PdpIpv4v6, \textcolor{keyword}{sizeof}(PdpIpv4v6)))
    \{
        pdp = \hyperlink{le__mdc__interface_8h_a85721ec6046140c2f87c23f877dce247a4427db8ba7a89ebf66c7b62eacfc8275}{LE\_MDC\_PDP\_IPV4V6};
    \}

    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(LE\_OK == \hyperlink{le__mdc__interface_8h_a73e66a7a63dc95d7f261fc2a26470386}{le\_mdc\_SetPDP}(*profileRefPtr, pdp));

    \textcolor{comment}{// Set APN}
    \textcolor{keywordflow}{if} (0 == strncmp(configuration.apn, automaticApn, \textcolor{keyword}{sizeof}(automaticApn)))
    \{
        \textcolor{comment}{// Set default APN}
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(LE\_OK == \hyperlink{le__mdc__interface_8h_ad44bd756fd5cbfd43a5b348054786a4d}{le\_mdc\_SetDefaultAPN}(*profileRefPtr));
    \}
    \textcolor{keywordflow}{else}
    \{
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(LE\_OK == \hyperlink{le__mdc__interface_8h_ae8ebd11b9cb9afb9b6b5745903f50156}{le\_mdc\_SetAPN}(*profileRefPtr, configuration.apn));
    \}

    \hyperlink{le__mdc__interface_8h_ae9758eecfab89fbc1bc01341393a7723}{le\_mdc\_Auth\_t} auth = \hyperlink{le__mdc__interface_8h_ae9758eecfab89fbc1bc01341393a7723a10fb016f4d6f7a7e893cf66846c24de2}{LE\_MDC\_AUTH\_NONE};
    \textcolor{keywordflow}{if} (\textcolor{charliteral}{'\(\backslash\)0'} != configuration.auth[0])
    \{
        \textcolor{comment}{// Set the authentication, username and password}
        \textcolor{keywordflow}{if} (0 == strncmp(configuration.auth, AuthPapChap, \textcolor{keyword}{sizeof}(AuthPapChap)))
        \{
            auth = \hyperlink{le__mdc__interface_8h_ae9758eecfab89fbc1bc01341393a7723a151065be441aa8f065d0ead3d739b6f0}{LE\_MDC\_AUTH\_PAP} | \hyperlink{le__mdc__interface_8h_ae9758eecfab89fbc1bc01341393a7723ae93a464a7ee2f31346aa01676afc7054}{LE\_MDC\_AUTH\_CHAP};
        \}
        \textcolor{comment}{// Set the authentication, username and password}
        \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (0 == strncmp(configuration.auth, AuthPap, \textcolor{keyword}{sizeof}(AuthPap)))
        \{
            auth = \hyperlink{le__mdc__interface_8h_ae9758eecfab89fbc1bc01341393a7723a151065be441aa8f065d0ead3d739b6f0}{LE\_MDC\_AUTH\_PAP};
        \}
        \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (0 == strncmp(configuration.auth, AuthChap, \textcolor{keyword}{sizeof}(AuthChap)))
        \{
            auth = \hyperlink{le__mdc__interface_8h_ae9758eecfab89fbc1bc01341393a7723ae93a464a7ee2f31346aa01676afc7054}{LE\_MDC\_AUTH\_CHAP};
        \}

        \textcolor{keywordflow}{if} (\hyperlink{le__mdc__interface_8h_ae9758eecfab89fbc1bc01341393a7723a10fb016f4d6f7a7e893cf66846c24de2}{LE\_MDC\_AUTH\_NONE} != auth)
        \{
            \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(LE\_OK == \hyperlink{le__mdc__interface_8h_a9f69d0751927b5ead6c756202179b222}{le\_mdc\_SetAuthentication}(*profileRefPtr,
                                                auth,
                                                configuration.userName,
                                                configuration.password));
        \}
    \}

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"cid: %d pdp: %d apn: %s auth: %d username: %s password: %s"},
            \hyperlink{le__mdc__interface_8h_a108f7c3db74a377c2ae5482543d4e0d9}{le\_mdc\_GetProfileIndex}(*profileRefPtr), pdp, configuration.apn, auth,
            configuration.userName, configuration.password);
\}
\end{DoxyCodeInclude}
\hypertarget{c_mdcDataSessions}{}\paragraph{Sample code for network interface settings}\label{c_mdcDataSessions}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Set the network configuration.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} SetNetworkConfiguration
(
    \hyperlink{le__mdc__interface_8h_a91074d8f0d88c6645e3085dfadf87011}{le\_mdc\_ProfileRef\_t} profileRef
)
\{
    \textcolor{keywordtype}{char} ipAddr[100] = \{0\};
    \textcolor{keywordtype}{char} gatewayAddr[100] = \{0\};
    \textcolor{keywordtype}{char} dns1Addr[100] = \{0\};
    \textcolor{keywordtype}{char} dns2Addr[100] = \{0\};
    \textcolor{keywordtype}{char} systemCmd[200] = \{0\};
    FILE* resolvFilePtr;
    \hyperlink{le__mdc__interface_8h_a0727e543d0394422963c8d6297947333}{le\_mdc\_ConState\_t} state = \hyperlink{le__mdc__interface_8h_a0727e543d0394422963c8d6297947333a6d11ee963528c79d73a269eb85202ba7}{LE\_MDC\_DISCONNECTED};
    mode\_t oldMask;

    \textcolor{comment}{// Check the state}
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}( \hyperlink{le__mdc__interface_8h_add91c364e8b3e4e82a0ce64e480c016b}{le\_mdc\_GetSessionState}(profileRef, &state) == LE\_OK );
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}( state == \hyperlink{le__mdc__interface_8h_a0727e543d0394422963c8d6297947333a0a8a2113935b881b76c59b94cf7223b8}{LE\_MDC\_CONNECTED} );

    \textcolor{comment}{// Get IP, gateway and DNS addresses for IPv4 or IPv6 connectivity}
    \textcolor{keywordflow}{if} ( \hyperlink{le__mdc__interface_8h_aa3912e94864a6e5862e07f58b3772cba}{le\_mdc\_IsIPv4}(profileRef) )
    \{
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mdc__interface_8h_a0b5e11efda06472fc6c525101fceafe6}{le\_mdc\_GetIPv4Address}(profileRef, ipAddr, \textcolor{keyword}{sizeof}(ipAddr)) 
      == LE\_OK);
        \hyperlink{le__print_8h_a1a6709c55d8d08c496846ba2295138b7}{LE\_PRINT\_VALUE}(\textcolor{stringliteral}{"%s"}, ipAddr);

        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mdc__interface_8h_a290cff563b19ee4891bcd5c8908c54f9}{le\_mdc\_GetIPv4GatewayAddress}(profileRef, gatewayAddr
      , \textcolor{keyword}{sizeof}(gatewayAddr))
                                                                                          == LE\_OK);
        \hyperlink{le__print_8h_a1a6709c55d8d08c496846ba2295138b7}{LE\_PRINT\_VALUE}(\textcolor{stringliteral}{"%s"}, gatewayAddr);

        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mdc__interface_8h_a0dd0dcf60d647388fa3e1973917a6161}{le\_mdc\_GetIPv4DNSAddresses}( profileRef,
                                              dns1Addr, \textcolor{keyword}{sizeof}(dns1Addr),
                                              dns2Addr, \textcolor{keyword}{sizeof}(dns2Addr)) == LE\_OK );
        \hyperlink{le__print_8h_a1a6709c55d8d08c496846ba2295138b7}{LE\_PRINT\_VALUE}(\textcolor{stringliteral}{"%s"}, dns1Addr);
        \hyperlink{le__print_8h_a1a6709c55d8d08c496846ba2295138b7}{LE\_PRINT\_VALUE}(\textcolor{stringliteral}{"%s"}, dns2Addr);

        \hyperlink{app_stop_client_8c_a2b6c4b2a795957a91039524b524be480}{snprintf}(systemCmd, \textcolor{keyword}{sizeof}(systemCmd), \textcolor{stringliteral}{"/sbin/route add default gw %s"}, gatewayAddr);
    \}
    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( \hyperlink{le__mdc__interface_8h_adde11de0b17b2c937acca6355b6fba11}{le\_mdc\_IsIPv6}(profileRef) )
    \{
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mdc__interface_8h_a73ef38d4d2399580d552b12c62f1c508}{le\_mdc\_GetIPv6Address}(profileRef, ipAddr, \textcolor{keyword}{sizeof}(ipAddr)) 
      == LE\_OK);
        \hyperlink{le__print_8h_a1a6709c55d8d08c496846ba2295138b7}{LE\_PRINT\_VALUE}(\textcolor{stringliteral}{"%s"}, ipAddr);

        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mdc__interface_8h_a3bb60671304e2b4d3b23d8e623f9940c}{le\_mdc\_GetIPv6GatewayAddress}(profileRef, gatewayAddr
      , \textcolor{keyword}{sizeof}(gatewayAddr))
                                                                                          == LE\_OK);
        \hyperlink{le__print_8h_a1a6709c55d8d08c496846ba2295138b7}{LE\_PRINT\_VALUE}(\textcolor{stringliteral}{"%s"}, gatewayAddr);

        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mdc__interface_8h_ad9cb7d3299620d9dcde551cec45389a1}{le\_mdc\_GetIPv6DNSAddresses}( profileRef,
                                              dns1Addr, \textcolor{keyword}{sizeof}(dns1Addr),
                                              dns2Addr, \textcolor{keyword}{sizeof}(dns2Addr)) == LE\_OK );
        \hyperlink{le__print_8h_a1a6709c55d8d08c496846ba2295138b7}{LE\_PRINT\_VALUE}(\textcolor{stringliteral}{"%s"}, dns1Addr);
        \hyperlink{le__print_8h_a1a6709c55d8d08c496846ba2295138b7}{LE\_PRINT\_VALUE}(\textcolor{stringliteral}{"%s"}, dns2Addr);

        \hyperlink{app_stop_client_8c_a2b6c4b2a795957a91039524b524be480}{snprintf}(systemCmd, \textcolor{keyword}{sizeof}(systemCmd), \textcolor{stringliteral}{"/sbin/route -A inet6 add default gw %s"},
                                                gatewayAddr);
    \}

    sleep(5);

    \hyperlink{le__log_8h_a2a91ea8857cf190fde71d85ba930a498}{LE\_DEBUG}(\textcolor{stringliteral}{"%s"}, systemCmd);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}( system(systemCmd) == 0 );

    \textcolor{comment}{// allow fopen to create file with mode=644}
    oldMask = \hyperlink{update_daemon_8c_aa5c063c7e6dcd964c817f5fe9b1d72fc}{umask}(022);

    \textcolor{comment}{// open the resolver configuration}
    resolvFilePtr = fopen(\textcolor{stringliteral}{"/etc/resolv.conf"}, \textcolor{stringliteral}{"w+"});

    \textcolor{keywordflow}{if} (resolvFilePtr == NULL)
    \{
        \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"Unable to open resolv.conf: %m"});
    \}
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}( resolvFilePtr != NULL );

    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}( fprintf(resolvFilePtr, \textcolor{stringliteral}{"nameserver %s\(\backslash\)n"}, dns1Addr) > 0 );

    \textcolor{keywordflow}{if} (dns2Addr[0] != \textcolor{charliteral}{'\(\backslash\)0'})
    \{
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}( fprintf(resolvFilePtr, \textcolor{stringliteral}{"nameserver %s\(\backslash\)n"}, dns2Addr) > 0 );
    \}

    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}( fclose(resolvFilePtr) == 0 );

    \textcolor{comment}{// restore old mask}
    \hyperlink{update_daemon_8c_aa5c063c7e6dcd964c817f5fe9b1d72fc}{umask}(oldMask);
\}
\end{DoxyCodeInclude}
\hypertarget{c_mdcDataStatistics}{}\paragraph{Sample code for Data Statistics}\label{c_mdcDataStatistics}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test the connectivity.}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keywordtype}{void} TestConnectivity
(
    \hyperlink{le__mdc__interface_8h_a91074d8f0d88c6645e3085dfadf87011}{le\_mdc\_ProfileRef\_t} profileRef
)
\{
    \textcolor{keywordtype}{int} status;
    \textcolor{keywordtype}{char} systemCmd[200] = \{0\};
    \textcolor{keywordtype}{char} itfName[\hyperlink{le__mdc__interface_8h_a33ebf9afd03f0ffc91a80c32c15afb42}{LE\_MDC\_INTERFACE\_NAME\_MAX\_BYTES}] = \textcolor{stringliteral}{"\(\backslash\)0"};
    \hyperlink{le__mdc__interface_8h_a7a9d8c4b2053b048a53257ed810f527e}{le\_mdc\_DataBearerTechnology\_t} downlinkDataBearerTech;
    \hyperlink{le__mdc__interface_8h_a7a9d8c4b2053b048a53257ed810f527e}{le\_mdc\_DataBearerTechnology\_t} uplinkDataBearerTech;
    uint64\_t rxBytes = 0, txBytes = 0;
    uint64\_t latestRxBytes = 0, latestTxBytes = 0;

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mdc__interface_8h_a1b17bb87b347162013b5ad608cdcda2d}{le\_mdc\_GetDataBearerTechnology}(profileRef,
                                                &downlinkDataBearerTech,
                                                &uplinkDataBearerTech));

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"downlinkDataBearerTech %d, uplinkDataBearerTech %d"},
            downlinkDataBearerTech, uplinkDataBearerTech);

    \textcolor{comment}{// Get interface name}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mdc__interface_8h_a4c22a8691d6e6a69270a7ed6ab9974af}{le\_mdc\_GetInterfaceName}(profileRef, itfName, 
      \hyperlink{le__mdc__interface_8h_a33ebf9afd03f0ffc91a80c32c15afb42}{LE\_MDC\_INTERFACE\_NAME\_MAX\_BYTES}));

    \textcolor{keywordflow}{if} (\hyperlink{le__mdc__interface_8h_aa3912e94864a6e5862e07f58b3772cba}{le\_mdc\_IsIPv4}(profileRef))
    \{
        \hyperlink{app_stop_client_8c_a2b6c4b2a795957a91039524b524be480}{snprintf}(systemCmd, \textcolor{keyword}{sizeof}(systemCmd), \textcolor{stringliteral}{"ping -c 4 www.sierrawireless.com -I %s"}, itfName);
    \}
    \textcolor{keywordflow}{else}
    \{
        \textcolor{comment}{// TODO ping6 needs raw access to socket and therefore root permissions => find a different}
        \textcolor{comment}{// way to test the connectivity}
        \hyperlink{app_stop_client_8c_a2b6c4b2a795957a91039524b524be480}{snprintf}(systemCmd, \textcolor{keyword}{sizeof}(systemCmd), \textcolor{stringliteral}{"ping6 -c 4 www.sierrawireless.com -I %s"}, itfName);
    \}

    \textcolor{comment}{// Ping to test the connectivity}
    status = system(systemCmd);
    \textcolor{keywordflow}{if} (WEXITSTATUS(status))
    \{
        \hyperlink{le__mdc__interface_8h_a53453f85065c3cace0922150b7e3d869}{le\_mdc\_StopSession}(profileRef);
    \}
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(!WEXITSTATUS(status));

    \textcolor{comment}{// Get data counters}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mdc__interface_8h_aaad833c105f7d0ae77f18195d6739080}{le\_mdc\_GetBytesCounters}(&rxBytes, &txBytes));
    latestRxBytes = rxBytes;
    latestTxBytes = txBytes;
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"rxBytes %"}PRIu64\textcolor{stringliteral}{", txBytes %"}PRIu64, rxBytes, txBytes);

    \textcolor{comment}{// Stop data counters and ping to test the connectivity}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mdc__interface_8h_a1d6007bc8f84e5e4869af4af11b7363f}{le\_mdc\_StopBytesCounter}());
    status = system(systemCmd);
    \textcolor{keywordflow}{if} (WEXITSTATUS(status))
    \{
        \hyperlink{le__mdc__interface_8h_a53453f85065c3cace0922150b7e3d869}{le\_mdc\_StopSession}(profileRef);
    \}
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(!WEXITSTATUS(status));

    \textcolor{comment}{// Get data counters}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mdc__interface_8h_aaad833c105f7d0ae77f18195d6739080}{le\_mdc\_GetBytesCounters}(&rxBytes, &txBytes));
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"rxBytes %"}PRIu64\textcolor{stringliteral}{", txBytes %"}PRIu64, rxBytes, txBytes);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(latestRxBytes == rxBytes);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(latestTxBytes == txBytes);

    \textcolor{comment}{// Start data counters}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mdc__interface_8h_a30f390941d98c9e9c4144a5e035da3aa}{le\_mdc\_StartBytesCounter}());
\}
\end{DoxyCodeInclude}
\hypertarget{c_mrc}{}\subsubsection{Modem Radio Control}\label{c_mrc}
\hyperlink{le__mrc__interface_8h}{A\+PI Reference}





The Modem Radio Control (M\+RC) A\+P\+Is is used to control cellular network environments.

It\textquotesingle{}s important for many M2M apps to know details about cellular network environments (like network registration and signal quality). It allows you to limit some M2M services based on the reliability of the network environment, and provides information to control power consumption (power on or shutdown the radio module).\hypertarget{c_mrc_le_mrc_binding}{}\paragraph{I\+P\+C interfaces binding}\label{c_mrc_le_mrc_binding}
All the functions of this A\+PI are provided by the {\bfseries modem\+Service} service.

Here\textquotesingle{}s a code sample binding to modem services\+: \begin{DoxyVerb}bindings:
{
   clientExe.clientComponent.le_mrc -> modemService.le_mrc
}
\end{DoxyVerb}
\hypertarget{c_mrc_le_mrc_power}{}\paragraph{Radio Power Management}\label{c_mrc_le_mrc_power}
\hyperlink{le__mrc__interface_8h_a78bd27d92337e2122320f41bcaa5480f}{le\+\_\+mrc\+\_\+\+Set\+Radio\+Power()} A\+PI allows the application to power up or shutdown the radio module.

\hyperlink{le__mrc__interface_8h_aac51332c6c84e460746eb1ad45c064d6}{le\+\_\+mrc\+\_\+\+Get\+Radio\+Power()} A\+PI displays radio module power state.

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mrcRadioPower}{Sample code for Radio Power Management}
\end{DoxyItemize}\hypertarget{c_mrc_le_mrc_configuration}{}\paragraph{Radio Configuration preferences}\label{c_mrc_le_mrc_configuration}
The following functions let you configure and retrieve the radio configuration preferences\+: \hyperlink{le__mrc__interface_8h_acb434a9f91afb5b6639baf3678ee9388}{le\+\_\+mrc\+\_\+\+Set\+Automatic\+Register\+Mode()}, \hyperlink{le__mrc__interface_8h_ac694b8aa7543eb9f058e77a844a5c0bf}{le\+\_\+mrc\+\_\+\+Set\+Manual\+Register\+Mode()} and \hyperlink{le__mrc__interface_8h_a9ad2729c28e97ae450f7aee0865197f6}{le\+\_\+mrc\+\_\+\+Get\+Register\+Mode()} let you set/get the selected Scan mode.

\hyperlink{le__mrc__interface_8h_ac808b4dc721e031566da92e00663c027}{le\+\_\+mrc\+\_\+\+Set\+Band\+Preferences()}, \hyperlink{le__mrc__interface_8h_a04418f56480070ba6c4f3d176dafaa37}{le\+\_\+mrc\+\_\+\+Get\+Band\+Preferences()} let you set/get the 2\+G/3G band preferences by using a bit mask built with {\ttfamily le\+\_\+mrc\+\_\+\+Band\+Bit\+Mask\+\_\+t} 

The 2\+G/3G band preferences can be\+:
\begin{DoxyItemize}
\item Band-\/\+Class-\/0-\/\+A-\/\+System
\item Band-\/\+Class-\/0-\/\+B-\/\+System
\item Band-\/\+Class-\/1-\/\+All-\/\+Blocks
\item Band-\/\+Class-\/2-\/\+Placeholder
\item Band-\/\+Class-\/3-\/\+A-\/\+System
\item Band-\/\+Class-\/4-\/\+All-\/\+Blocks
\item Band-\/\+Class-\/5-\/\+All-\/\+Blocks
\item Band-\/\+Class-\/6
\item Band-\/\+Class-\/7
\item Band-\/\+Class-\/8
\item Band-\/\+Class-\/9
\item Band-\/\+Class-\/10
\item Band-\/\+Class-\/11
\item Band-\/\+Class-\/12
\item Band-\/\+Class-\/13
\item Band-\/\+Class-\/14
\item Band-\/\+Class-\/15
\item Band-\/\+Class-\/16
\item Band-\/\+Class-\/17
\item Band-\/\+Class-\/18
\item Band-\/\+Class-\/19
\item G\+S\+M-\/\+D\+C\+S-\/1800
\item E-\/\+G\+S\+M-\/900 (for Extended G\+SM 900 band)
\item Primary-\/\+G\+S\+M-\/900
\item G\+S\+M-\/450
\item G\+S\+M-\/480
\item G\+S\+M-\/750
\item G\+S\+M-\/850
\item G\+S\+M\+R-\/900 (for G\+SM Railways G\+SM 900 band)
\item G\+S\+M-\/\+P\+C\+S-\/1900
\item W\+C\+D\+M\+A-\/\+E\+U-\/\+J-\/\+C\+H-\/\+I\+M\+T-\/2100 (for W\+C\+D\+MA Europe, Japan, and China I\+MT 2100 band)
\item W\+C\+D\+M\+A-\/\+U\+S-\/\+P\+C\+S-\/1900 (for W\+C\+D\+MA U.\+S. P\+CS 1900 band)
\item W\+C\+D\+M\+A-\/\+E\+U-\/\+C\+H-\/\+D\+C\+S-\/1800 (for W\+C\+D\+MA Europe and China D\+CS 1800 band)
\item W\+C\+D\+M\+A-\/\+U\+S-\/1700 (for W\+C\+D\+MA U.\+S. 1700 band)
\item W\+C\+D\+M\+A-\/\+U\+S-\/850 (for W\+C\+D\+MA U.\+S. 850 band)
\item W\+C\+D\+M\+A-\/\+J-\/800 (for W\+C\+D\+MA Japan 800 band)
\item W\+C\+D\+M\+A-\/\+E\+U-\/2600 (for W\+C\+D\+MA Europe 2600 band)
\item W\+C\+D\+M\+A-\/\+E\+U-\/\+J-\/900 (for W\+C\+D\+MA Europe and Japan 900 band)
\item W\+C\+D\+M\+A-\/\+J-\/1700 (for W\+C\+D\+MA Japan 1700 band)
\end{DoxyItemize}

\hyperlink{le__mrc__interface_8h_a21d2fe7c736e9a4a342dcc461a5d6e02}{le\+\_\+mrc\+\_\+\+Set\+Lte\+Band\+Preferences()}, \hyperlink{le__mrc__interface_8h_af4ec5bd36ba8df68bc12a10618268742}{le\+\_\+mrc\+\_\+\+Get\+Lte\+Band\+Preferences()} let you set/get the L\+TE band preferences by using a bit mask built with {\ttfamily le\+\_\+mrc\+\_\+\+Lte\+Band\+Bit\+Mask\+\_\+t}.

The L\+TE band preferences can be 0 to 43 except 15, 16, 22, 23, and 26 to 32.

\hyperlink{le__mrc__interface_8h_a8765511597189b64e486fa8f17bcddcd}{le\+\_\+mrc\+\_\+\+Set\+Td\+Scdma\+Band\+Preferences()}, \hyperlink{le__mrc__interface_8h_aed41544004ed7df9de8e874b8bb09d3b}{le\+\_\+mrc\+\_\+\+Get\+Td\+Scdma\+Band\+Preferences()} let you set/get the T\+D-\/\+S\+C\+D\+MA band preferences by using a bit mask built with {\ttfamily le\+\_\+mrc\+\_\+\+Td\+Scdma\+Band\+Bit\+Mask\+\_\+t} 

The T\+D-\/\+S\+C\+D\+MA band preferences can be \textquotesingle{}A\textquotesingle{} to \textquotesingle{}F\textquotesingle{}

\begin{DoxyWarning}{Warning}
Ensure to check the supported preferences for your specific platform.
\end{DoxyWarning}
\hyperlink{le__mrc__interface_8h_a5128219051d27ee12711744aafd48418}{le\+\_\+mrc\+\_\+\+Add\+Preferred\+Operator()} , \hyperlink{le__mrc__interface_8h_ad974cf77b5ccce8e36495aab315dd3e4}{le\+\_\+mrc\+\_\+\+Remove\+Preferred\+Operator()} to add/remove a preferred operator by specifying the M\+C\+C/\+M\+NC and the Radio Access Technology.

\hyperlink{le__mrc__interface_8h_a1ea0d2943accd51d3b428e0e6c94d297}{le\+\_\+mrc\+\_\+\+Get\+Preferred\+Operators\+List()}, \hyperlink{le__mrc__interface_8h_a9648b653b7551cd065ec323b96a0aa1b}{le\+\_\+mrc\+\_\+\+Get\+First\+Preferred\+Operator()}, \hyperlink{le__mrc__interface_8h_a896703cabaacf97a70708d944cfbfc87}{le\+\_\+mrc\+\_\+\+Get\+Next\+Preferred\+Operator()}, \hyperlink{le__mrc__interface_8h_a60679f563ffecc8f107425b806edcdf0}{le\+\_\+mrc\+\_\+\+Delete\+Preferred\+Operators\+List()}, \hyperlink{le__mrc__interface_8h_a0ea2ddea624145387c5be285de1f59e5}{le\+\_\+mrc\+\_\+\+Get\+Preferred\+Operator\+Details()} let you retrieve a list of the selected preferred operators and get their details.

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mrcRadioConfigurationPreferences}{Sample code for Radio Configuration Preferences}
\end{DoxyItemize}\hypertarget{c_mrc_le_mrc_NetworkRejectHandler}{}\paragraph{Report Network Reject Indication}\label{c_mrc_le_mrc_NetworkRejectHandler}
The application can register a handler function to report network reject with M\+N\+C/\+M\+CC code and the Radio Access Technology using \hyperlink{le__mrc__interface_8h_af3a8698b1b5c75d301b45aa129f80f62}{le\+\_\+mrc\+\_\+\+Add\+Network\+Reject\+Handler()} A\+PI.

\hyperlink{le__mrc__interface_8h_aa07a993c6457767f0a5a168a1681fa26}{le\+\_\+mrc\+\_\+\+Remove\+Network\+Reject\+Handler()} A\+PI uninstalls the handler function.\hypertarget{c_mrc_le_mrc_capabilities}{}\paragraph{Radio Capabilities}\label{c_mrc_le_mrc_capabilities}
\hyperlink{le__mrc__interface_8h_a7cb0a206729c652692701cd24226d34f}{le\+\_\+mrc\+\_\+\+Get\+Band\+Capabilities()} let you get the 2\+G/3G band capabilities by retrieving a bit mask built with {\ttfamily le\+\_\+mrc\+\_\+\+Band\+Bit\+Mask\+\_\+t} 

\hyperlink{le__mrc__interface_8h_ad6b44639b1d9755b92720d5184ee2515}{le\+\_\+mrc\+\_\+\+Get\+Lte\+Band\+Capabilities()} let you get the L\+TE band capabilities by retrieving a bit mask built with {\ttfamily le\+\_\+mrc\+\_\+\+Lte\+Band\+Bit\+Mask\+\_\+t} 

\hyperlink{le__mrc__interface_8h_adfa81f2361744bc67697221845713a98}{le\+\_\+mrc\+\_\+\+Get\+Td\+Scdma\+Band\+Capabilities()} let you get the T\+D-\/\+S\+C\+D\+MA band capabilities by retrieving a bit mask built with {\ttfamily le\+\_\+mrc\+\_\+\+Td\+Scdma\+Band\+Bit\+Mask\+\_\+t} 

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mrcBandCapabilities}{Sample code for Band Capabilities}
\end{DoxyItemize}\hypertarget{c_mrc_le_mrc_rat}{}\paragraph{Radio Access Technology (\+R\+A\+T)}\label{c_mrc_le_mrc_rat}
\hyperlink{le__mrc__interface_8h_a3ad9533c467cec0902d5d165bb32d67b}{le\+\_\+mrc\+\_\+\+Get\+Radio\+Access\+Tech\+In\+Use()} A\+PI retrieves the current active Radio Access Technology (R\+AT). \begin{DoxyNote}{Note}
The A\+PI returns the R\+AT only if the device is registered on the network.
\end{DoxyNote}
The application can register a handler function to retrieve the Radio Access Technology each time the R\+AT changes.

\hyperlink{le__mrc__interface_8h_aedd9c526588a8298322525cfba6f875d}{le\+\_\+mrc\+\_\+\+Add\+Rat\+Change\+Handler()} A\+PI installs a R\+AT change handler.

\hyperlink{le__mrc__interface_8h_a818abae622b5d2cb3cfec53b15f7023e}{le\+\_\+mrc\+\_\+\+Remove\+Rat\+Change\+Handler()} A\+PI uninstalls the handler function.

\hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\+\_\+mrc\+\_\+\+Set\+Rat\+Preferences()}, \hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\+\_\+mrc\+\_\+\+Get\+Rat\+Preferences()} let you set/get the Radio Access Technology preferences by using a bit mask built with {\ttfamily le\+\_\+mrc\+\_\+\+Rat\+Bit\+Mask\+\_\+t}.

The Radio Access Technology preferences can be\+:
\begin{DoxyItemize}
\item C\+D\+MA (C\+D\+M\+A2000-\/1X + C\+D\+M\+A2000-\/\+H\+R\+PD)
\item G\+SM
\item U\+M\+TS (U\+M\+TS)
\item T\+D\+S\+C\+D\+MA (T\+D-\/\+S\+C\+D\+MA)
\item L\+TE
\end{DoxyItemize}

\begin{DoxyNote}{Note}
L\+E\+\_\+\+M\+R\+C\+\_\+\+B\+I\+T\+M\+A\+S\+K\+\_\+\+R\+A\+T\+\_\+\+A\+LL value can be used to select the R\+AT in automatic mode.
\end{DoxyNote}
A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mrcRAT}{Sample code for Radio Access Technology}
\end{DoxyItemize}\hypertarget{c_mrc_le_mrc_registration}{}\paragraph{Network Registration}\label{c_mrc_le_mrc_registration}
\hyperlink{le__mrc__interface_8h_a4f11e27862fef384c0023f5b538e543d}{le\+\_\+mrc\+\_\+\+Get\+Net\+Reg\+State()} A\+PI retrieves the radio module network registration status.

The application can register a handler function to retrieve the registration status each time the registration state changes.

\hyperlink{le__mrc__interface_8h_a929745b84719754d28f539540f71a552}{le\+\_\+mrc\+\_\+\+Add\+Net\+Reg\+State\+Event\+Handler()} A\+PI installs a registration state handler.

\hyperlink{le__mrc__interface_8h_a619adffdee5b1760348a1aa1331ac108}{le\+\_\+mrc\+\_\+\+Remove\+Net\+Reg\+State\+Event\+Handler()} A\+PI uninstalls the handler function. \begin{DoxyNote}{Note}
If only one handler is registered, the le\+\_\+mrc\+\_\+\+Remove\+Net\+Reg\+State\+Handler() A\+PI resets the registration mode to its original value before any handler functions were added.
\end{DoxyNote}
\hyperlink{le__mrc__interface_8h_ac694b8aa7543eb9f058e77a844a5c0bf}{le\+\_\+mrc\+\_\+\+Set\+Manual\+Register\+Mode()} A\+PI registers on a cellular network.

Call \hyperlink{le__mrc__interface_8h_a5b40356a56f524f5f5c9e5744687919d}{le\+\_\+mrc\+\_\+\+Set\+Manual\+Register\+Mode\+Async()} function to set the manual registration mode asynchronously. The function is not blocking. The response will be returned with the {\ttfamily le\+\_\+mrc\+\_\+\+Manual\+Selection\+Handler\+Func\+\_\+t} handler function.

When the network registration fails, the platform specific network registration error code can be known by using \hyperlink{le__mrc__interface_8h_a153247be5ea13ae2bc13ace0dd8c739c}{le\+\_\+mrc\+\_\+\+Get\+Platform\+Specific\+Registration\+Error\+Code()} A\+PI. Please refer to \hyperlink{platformConstraintsSpecificErrorCodes}{Platform specific error codes} for platform specific registration error code description.

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mrcNetworkRegistration}{Sample code for Network Registration}
\end{DoxyItemize}\hypertarget{c_mrc_le_mrc_service}{}\paragraph{Packet services state}\label{c_mrc_le_mrc_service}
\hyperlink{le__mrc__interface_8h_a2be4a96c3dfd80a63832203f22a661bb}{le\+\_\+mrc\+\_\+\+Get\+Packet\+Switched\+State()} A\+PI retrieves the current Packet Switched state \hyperlink{le__mrc__interface_8h_ae2877a1e1252ac79e6c9cae3d3c25a61}{le\+\_\+mrc\+\_\+\+Net\+Reg\+State\+\_\+t}.

The Packet Switched services state can be\+:
\begin{DoxyItemize}
\item N\+O\+NE
\item H\+O\+ME
\item R\+O\+A\+M\+I\+NG
\end{DoxyItemize}

The application can register a handler function to retrieve the Packet Switched state each time the service state changes.

\hyperlink{le__mrc__interface_8h_ad407c67e0e2bd3d040e2cbbc6338ec2e}{le\+\_\+mrc\+\_\+\+Add\+Packet\+Switched\+Change\+Handler()} A\+PI installs a Packet Switched state handler.

\hyperlink{le__mrc__interface_8h_a77a657cf71ac533bd8da6772348fc04f}{le\+\_\+mrc\+\_\+\+Remove\+Packet\+Switched\+Change\+Handler()} A\+PI uninstalls the handler function.

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mrcGetService}{Sample code for Get the Current Packet Switched state}
\end{DoxyItemize}\hypertarget{c_mrc_le_mrc_signal}{}\paragraph{Signal Quality}\label{c_mrc_le_mrc_signal}
\hyperlink{le__mrc__interface_8h_a717aa0f4e4dc9a83b6adc2f26f3f0258}{le\+\_\+mrc\+\_\+\+Get\+Signal\+Qual()} retrieves the received signal strength details.

You must call \hyperlink{le__mrc__interface_8h_ad3662723a7ed47cf45d9a2eaaa1fb16e}{le\+\_\+mrc\+\_\+\+Measure\+Signal\+Metrics()} to measure the signal metrics of the serving cell (aka the \textquotesingle{}serving\textquotesingle{} cell). It returns a reference of le\+\_\+mrc\+\_\+\+Metrics\+Ref\+\_\+t type.

When the signal metrics are no longer needed, you must call \hyperlink{le__mrc__interface_8h_a20addd98ee6cb07f9ee1a45be01b5203}{le\+\_\+mrc\+\_\+\+Delete\+Signal\+Metrics()} to free all allocated ressources associated with the Metrics object.

\hyperlink{le__mrc__interface_8h_a5564bace31c937bcef096e597f33d3a4}{le\+\_\+mrc\+\_\+\+Get\+Rat\+Of\+Signal\+Metrics()} returns the Radio Access Technology of the signal measures.

\hyperlink{le__mrc__interface_8h_a9d7243b29bf4c705c4eba83fa3799582}{le\+\_\+mrc\+\_\+\+Get\+Gsm\+Signal\+Metrics()} the signal strength in d\+Bm and the bit error rate measured on G\+SM network.

\hyperlink{le__mrc__interface_8h_a456648564abfc8e9711b60a5d8bddc9b}{le\+\_\+mrc\+\_\+\+Get\+Umts\+Signal\+Metrics()} returns the signal metrics measured on U\+M\+TS or T\+D-\/\+S\+C\+D\+MA networks.

\hyperlink{le__mrc__interface_8h_a030880c064afbf2686726fd2e538adfe}{le\+\_\+mrc\+\_\+\+Get\+Lte\+Signal\+Metrics()} returns the signal metrics measured on L\+TE network.

\hyperlink{le__mrc__interface_8h_a09ff33b24fd01be18a145b2b3f1f579a}{le\+\_\+mrc\+\_\+\+Get\+Cdma\+Signal\+Metrics()} returns the signal metrics measured on C\+D\+MA network.

The application can register a handler function to get notifications when the signal strength changes of a certain threshold value.

\hyperlink{le__mrc__interface_8h_ab62b444715b2b530efe5d397eb86a6e8}{le\+\_\+mrc\+\_\+\+Add\+Signal\+Strength\+Change\+Handler()} A\+PI installs a signal strength change handler. The R\+AT, the lower-\/range and the upper-\/range thresholds must be passed as input parameters. These parameters are updated each time the function is called, the previous thresholds are replaced by the new ones if the function is called with the same R\+AT. The event is notified when we cross the range limits in both direction.

\begin{DoxyWarning}{Warning}
A fatal error will be thrown if the R\+AT is not valid and the le\+\_\+mrc\+\_\+\+Add\+Signal\+Strength\+Change\+Handler function won\textquotesingle{}t return.
\end{DoxyWarning}
\hyperlink{le__mrc__interface_8h_ade04ec8db3b79c1555b3ab4bdb052216}{le\+\_\+mrc\+\_\+\+Remove\+Signal\+Strength\+Change\+Handler()} A\+PI uninstalls the handler function.

\hyperlink{le__mrc__interface_8h_aa7883e8c1193c7c8efc87b42cd07c502}{le\+\_\+mrc\+\_\+\+Set\+Signal\+Strength\+Ind\+Thresholds()} A\+PI changes or sets new thresholds.

\hyperlink{le__mrc__interface_8h_a0f2b4015962c83ec9a74ee68f7b509fd}{le\+\_\+mrc\+\_\+\+Set\+Signal\+Strength\+Ind\+Delta()} A\+PI sets a signal strength indication delta value for a specific R\+AT. The event is notified when the delta range is crossed in both direction.

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mrcQuality}{Sample code for Signal Quality}
\end{DoxyItemize}\hypertarget{c_mrc_le_mrc_location}{}\paragraph{Serving cell\textquotesingle{}s location information}\label{c_mrc_le_mrc_location}
\hyperlink{le__mrc__interface_8h_aafc9fb71c3013b7b26dc386b13ca4a85}{le\+\_\+mrc\+\_\+\+Get\+Serving\+Cell\+Id()} retrieves the the serving Cell Identifier.

\hyperlink{le__mrc__interface_8h_a8ba03765e7595f85783f6f6a022311f8}{le\+\_\+mrc\+\_\+\+Get\+Serving\+Cell\+Loc\+Area\+Code()} retrieves the Location Area Code of the serving cell.

\hyperlink{le__mrc__interface_8h_a856dc7825b4fa8de095f26020e03f015}{le\+\_\+mrc\+\_\+\+Get\+Serving\+Cell\+Lte\+Trac\+Area\+Code()} retrieves the the Tracking Area Code of the serving cell (L\+TE only).

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mrcLocationinformation}{Sample code for Location information}
\end{DoxyItemize}\hypertarget{c_mrc_le_mrc_network_information}{}\paragraph{Current Network Information}\label{c_mrc_le_mrc_network_information}
\hyperlink{le__mrc__interface_8h_a45fe1941f520c1e4a23b2794dd2a8232}{le\+\_\+mrc\+\_\+\+Get\+Current\+Network\+Name()} retrieves the Current Network Name. \hyperlink{le__mrc__interface_8h_ac1a0c4fad80538c7df63176576e1d9a3}{le\+\_\+mrc\+\_\+\+Get\+Current\+Network\+Mcc\+Mnc()} retrieves the Current Network P\+L\+MN information.

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mrcGetCurrentNetwork}{Sample code for Get Current Network Information}
\end{DoxyItemize}\hypertarget{c_mrc_le_mrc_networkScan}{}\paragraph{Network Scan}\label{c_mrc_le_mrc_networkScan}
Call \hyperlink{le__mrc__interface_8h_ab4a246dd466fa8175aca0158e0cab227}{le\+\_\+mrc\+\_\+\+Perform\+Cellular\+Network\+Scan()} to fill a list of all network in sight. You can go through all Scan Information by calling \hyperlink{le__mrc__interface_8h_ae006d053b037cec589aa85053472a2af}{le\+\_\+mrc\+\_\+\+Get\+First\+Cellular\+Network\+Scan()} and \hyperlink{le__mrc__interface_8h_ae0ca9f0c1c106d6ddeef784c6bb0d69b}{le\+\_\+mrc\+\_\+\+Get\+Next\+Cellular\+Network\+Scan()}.

Call \hyperlink{le__mrc__interface_8h_ab66e29d054d7902c61f87e79fd6d987f}{le\+\_\+mrc\+\_\+\+Perform\+Cellular\+Network\+Scan\+Async()} to start a network scan asynchronously. The function is not blocking. The scan list reference will be returned with the handler function response ({\ttfamily le\+\_\+mrc\+\_\+\+Cellular\+Network\+Scan\+Handler\+Func\+\_\+t}).

For each Scan Information, you can call\+:


\begin{DoxyItemize}
\item \hyperlink{le__mrc__interface_8h_aad275d839efe8b2b5eafe65ef87bd3d3}{le\+\_\+mrc\+\_\+\+Get\+Cellular\+Network\+Mcc\+Mnc()} to have the operator code.
\item \hyperlink{le__mrc__interface_8h_a6fcb9785c79cb9f8a4d1bef2484ca9d5}{le\+\_\+mrc\+\_\+\+Get\+Cellular\+Network\+Name()} to get the operator name.
\item \hyperlink{le__mrc__interface_8h_ad33fbe1d2b7acee0e47f3e54cab78274}{le\+\_\+mrc\+\_\+\+Get\+Cellular\+Network\+Rat()} to get the radio access technology.
\item \hyperlink{le__mrc__interface_8h_a4c859fc1364c183aa1d26a022db365c6}{le\+\_\+mrc\+\_\+\+Is\+Cellular\+Network\+In\+Use()} to check if this is currently in use by the network.
\item \hyperlink{le__mrc__interface_8h_a72ca8072f90d453169baff44441c41c0}{le\+\_\+mrc\+\_\+\+Is\+Cellular\+Network\+Available()} to check if this is available.
\item \hyperlink{le__mrc__interface_8h_a7333dfc638f50524f9c6fd81457828ba}{le\+\_\+mrc\+\_\+\+Is\+Cellular\+Network\+Home()} to check if this is in home status.
\item \hyperlink{le__mrc__interface_8h_a699a52d014550124a5b3362ee888a780}{le\+\_\+mrc\+\_\+\+Is\+Cellular\+Network\+Forbidden()} to check if this is forbidden by the network.
\end{DoxyItemize}

\hyperlink{le__mrc__interface_8h_ac45ce335b3fa063b83bb925e67eeaeb3}{le\+\_\+mrc\+\_\+\+Delete\+Cellular\+Network\+Scan()} should be called when you do not need the list anymore.

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mrcNetworkScan}{Sample code for Network Scan}
\end{DoxyItemize}\hypertarget{c_mrc_le_mrc_ngbr}{}\paragraph{Neighboring Cells Information}\label{c_mrc_le_mrc_ngbr}
\begin{DoxyWarning}{Warning}
The following functions do not apply to C\+D\+MA network.
\end{DoxyWarning}
You must call \hyperlink{le__mrc__interface_8h_a8d44fe46e61f3399c5e0dd6002b042ae}{le\+\_\+mrc\+\_\+\+Get\+Neighbor\+Cells\+Info()} to retrieve the neighboring cells information. It returns a reference of le\+\_\+mrc\+\_\+\+Neighbor\+Cells\+Ref\+\_\+t type.

When the neighboring cells information is no longer needed, you must call \hyperlink{le__mrc__interface_8h_a101343359e8d36ab41180aede2891b07}{le\+\_\+mrc\+\_\+\+Delete\+Neighbor\+Cells\+Info()} to free all allocated resources associated with the object.

Then, you can use the following function to get the information\+:
\begin{DoxyItemize}
\item \hyperlink{le__mrc__interface_8h_ab50724fd74818d71da1dfcd2217dd795}{le\+\_\+mrc\+\_\+\+Get\+First\+Neighbor\+Cell\+Info()} and \hyperlink{le__mrc__interface_8h_ab50724fd74818d71da1dfcd2217dd795}{le\+\_\+mrc\+\_\+\+Get\+First\+Neighbor\+Cell\+Info()} allow to go among the single cell information retrieved with \hyperlink{le__mrc__interface_8h_a8d44fe46e61f3399c5e0dd6002b042ae}{le\+\_\+mrc\+\_\+\+Get\+Neighbor\+Cells\+Info()}. These two functions return a reference of le\+\_\+mrc\+\_\+\+Cell\+Info\+Ref\+\_\+t type.
\item \hyperlink{le__mrc__interface_8h_abdbc94e474235417d8610e2eb95558eb}{le\+\_\+mrc\+\_\+\+Get\+Neighbor\+Cell\+Id()} gets the identifier of the cell specified with the le\+\_\+mrc\+\_\+\+Cell\+Info\+Ref\+\_\+t parameter (can be called for any kind of R\+AT). U\+I\+N\+T32\+\_\+\+M\+AX value is returned if the value is not available.
\item \hyperlink{le__mrc__interface_8h_a70ba0ca70367bc673a6bca1e246bb88f}{le\+\_\+mrc\+\_\+\+Get\+Neighbor\+Cell\+Loc\+Area\+Code()} gets the location area code of the cell specified with the le\+\_\+mrc\+\_\+\+Cell\+Info\+Ref\+\_\+t parameter (can be called for any kind of R\+AT). U\+I\+N\+T16\+\_\+\+M\+AX value is returned if the value is not available.
\item \hyperlink{le__mrc__interface_8h_aeae116235802afd041afd9df009642aa}{le\+\_\+mrc\+\_\+\+Get\+Neighbor\+Cell\+Rx\+Level()} gets the signal strength (in d\+Bm) of the cell specified with the le\+\_\+mrc\+\_\+\+Cell\+Info\+Ref\+\_\+t parameter (can be called for any kind of R\+AT).
\item \hyperlink{le__mrc__interface_8h_a5bb3e75b74260a9cee57247e1968a31f}{le\+\_\+mrc\+\_\+\+Get\+Neighbor\+Cell\+Rat()} gets the Radio Access Technology of the cell specified with the le\+\_\+mrc\+\_\+\+Cell\+Info\+Ref\+\_\+t parameter.
\item \hyperlink{le__mrc__interface_8h_a94e452e3d7063d3359dcbb97a31b984b}{le\+\_\+mrc\+\_\+\+Get\+Neighbor\+Cell\+Umts\+Ec\+Io()} gets the Ec/\+Io (the received energy per chip divided by the power density in the band measured in d\+Bm on the primary C\+P\+I\+CH channel of serving cell) of the cell specified with the le\+\_\+mrc\+\_\+\+Cell\+Info\+Ref\+\_\+t parameter.
\item \hyperlink{le__mrc__interface_8h_a7754836120c34cd2610b9777bd56409f}{le\+\_\+mrc\+\_\+\+Get\+Neighbor\+Cell\+Lte\+Intra\+Freq()} gets the R\+S\+RP and R\+S\+RQ of the Interfrequency of the cell specified with the le\+\_\+mrc\+\_\+\+Cell\+Info\+Ref\+\_\+t parameter.
\item \hyperlink{le__mrc__interface_8h_a331545d4e396c513bba028db981c016b}{le\+\_\+mrc\+\_\+\+Get\+Neighbor\+Cell\+Lte\+Inter\+Freq()} gets the R\+S\+RP and R\+S\+RQ of the Interfrequency of the cell specified with the le\+\_\+mrc\+\_\+\+Cell\+Info\+Ref\+\_\+t parameter.
\end{DoxyItemize}

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mrcNeighborCells}{Sample code for Neighboring Cells Information}
\end{DoxyItemize}\hypertarget{c_mrc_le_mrc_jamming}{}\paragraph{Jamming detection}\label{c_mrc_le_mrc_jamming}
The jamming detection algorithm is based on power measurements and cell synchronization actions performed during a G\+SM network scan procedure. During this procedure some intermediate results are reported, that allows user to take some preventive actions if necessary. This result is reported as a jammed state probability. See \hyperlink{le__mrc__interface_8h_ac55bd8f71baee81d0021cc48f8ca0e09}{le\+\_\+mrc\+\_\+\+Jamming\+Status\+\_\+t} enumeration for probability description. Each time the jamming status changes during the scan procedure, it is reported to the user. See \hyperlink{le__mrc__interface_8h_a06440780b5eeaeed66051e5c81ff20df}{le\+\_\+mrc\+\_\+\+Jamming\+Report\+\_\+t} enumeration for details.

The jamming status is reported\+:
\begin{DoxyItemize}
\item In an unsolicited way, each time the protocol stack initiates a scan for P\+L\+MN selection or reselection.
\item On user demand, when a user P\+L\+MN scan is performed.
\end{DoxyItemize}

Call \hyperlink{le__mrc__interface_8h_ab1876d046a3aff763a2159da29f0481c}{le\+\_\+mrc\+\_\+\+Start\+Jamming\+Detection()} to launch jamming monitoring. By registering a handler by calling \hyperlink{le__mrc__interface_8h_a191db5e4637e5307db7ee10104128867}{le\+\_\+mrc\+\_\+\+Add\+Jamming\+Detection\+Event\+Handler()}, the notification on jamming detection can be sent to the registered application.

For each jamming detection monitoring, the following A\+P\+Is can be called\+:
\begin{DoxyItemize}
\item \hyperlink{le__mrc__interface_8h_ab1876d046a3aff763a2159da29f0481c}{le\+\_\+mrc\+\_\+\+Start\+Jamming\+Detection()} to start the jamming monitoring.
\item \hyperlink{le__mrc__interface_8h_a8cd71575d2d253e5b829bd120a70c491}{le\+\_\+mrc\+\_\+\+Stop\+Jamming\+Detection()} to stop the jamming monitoring.
\item \hyperlink{le__mrc__interface_8h_a191db5e4637e5307db7ee10104128867}{le\+\_\+mrc\+\_\+\+Add\+Jamming\+Detection\+Event\+Handler()} to register an event handler.
\item \hyperlink{le__mrc__interface_8h_a68746d5c30c0102321e7e922bd9375cd}{le\+\_\+mrc\+\_\+\+Remove\+Jamming\+Detection\+Event\+Handler()} to remove an event handler.
\end{DoxyItemize}





Copyright (C) Sierra Wireless Inc. \hypertarget{c_mrcRadioPower}{}\paragraph{Sample code for Radio Power Management}\label{c_mrcRadioPower}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Radio Power Management.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_Power
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t}   res;
    \hyperlink{le__basics_8h_ae2138c90c41d30e2d510be01d8b374da}{le\_onoff\_t}    onoff;

    res = \hyperlink{le__mrc__interface_8h_a78bd27d92337e2122320f41bcaa5480f}{le\_mrc\_SetRadioPower}(\hyperlink{le__basics_8h_ae2138c90c41d30e2d510be01d8b374daa66236546b5af0328d2db0e6970f67e50}{LE\_OFF});
    \textcolor{keywordflow}{if} (res != LE\_OK)
    \{
        \hyperlink{le__mrc__interface_8h_a78bd27d92337e2122320f41bcaa5480f}{le\_mrc\_SetRadioPower}(\hyperlink{le__basics_8h_ae2138c90c41d30e2d510be01d8b374daa73623e8b9450d62517b467b9be2afce8}{LE\_ON});
    \}
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    sleep(5);

    res = \hyperlink{le__mrc__interface_8h_aac51332c6c84e460746eb1ad45c064d6}{le\_mrc\_GetRadioPower}(&onoff);
    \textcolor{keywordflow}{if} ((res != LE\_OK) || (onoff == \hyperlink{le__basics_8h_ae2138c90c41d30e2d510be01d8b374daa66236546b5af0328d2db0e6970f67e50}{LE\_OFF}))
    \{
        \hyperlink{le__mrc__interface_8h_a78bd27d92337e2122320f41bcaa5480f}{le\_mrc\_SetRadioPower}(\hyperlink{le__basics_8h_ae2138c90c41d30e2d510be01d8b374daa73623e8b9450d62517b467b9be2afce8}{LE\_ON});
    \}
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(onoff == \hyperlink{le__basics_8h_ae2138c90c41d30e2d510be01d8b374daa66236546b5af0328d2db0e6970f67e50}{LE\_OFF});

    res = \hyperlink{le__mrc__interface_8h_a78bd27d92337e2122320f41bcaa5480f}{le\_mrc\_SetRadioPower}(\hyperlink{le__basics_8h_ae2138c90c41d30e2d510be01d8b374daa73623e8b9450d62517b467b9be2afce8}{LE\_ON});
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    sleep(5);

    res = \hyperlink{le__mrc__interface_8h_aac51332c6c84e460746eb1ad45c064d6}{le\_mrc\_GetRadioPower}(&onoff);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(onoff == \hyperlink{le__basics_8h_ae2138c90c41d30e2d510be01d8b374daa73623e8b9450d62517b467b9be2afce8}{LE\_ON});

    sleep(5);
\}
\end{DoxyCodeInclude}
\hypertarget{c_mrcRadioConfigurationPreferences}{}\paragraph{Sample code for Radio Configuration Preferences}\label{c_mrcRadioConfigurationPreferences}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: 2G/3G band Preferences mode.}
\textcolor{comment}{ *}
\textcolor{comment}{ * le\_mrc\_GetBandPreferences() API test}
\textcolor{comment}{ * le\_mrc\_SetBandPreferences() API test}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_BandPreferences
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res;
    \hyperlink{le__mrc__interface_8h_a048374324f72ee7df52c2e0521c0dda3}{le\_mrc\_BandBitMask\_t} bandMask = 0;
    \hyperlink{le__mrc__interface_8h_a048374324f72ee7df52c2e0521c0dda3}{le\_mrc\_BandBitMask\_t} bandMaskOrigin = 0;

\textcolor{preprocessor}{#define  PRINT\_BAND(x)   LE\_INFO("Band preferences 0x%016"PRIX64, x);}

    \textcolor{comment}{// Get the current rat preference.}
    res = \hyperlink{le__mrc__interface_8h_a04418f56480070ba6c4f3d176dafaa37}{le\_mrc\_GetBandPreferences}(&bandMaskOrigin);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    PRINT\_BAND(bandMaskOrigin);

    \hyperlink{le__log_8h_a8d8f204806cd5fc0455fe3caacf1d251}{LE\_WARN\_IF}(( bandMaskOrigin == 0), \textcolor{stringliteral}{"le\_mrc\_GetBandPreferences bandMaskOrigin = 0"});

    \textcolor{keywordflow}{if} (bandMaskOrigin != 0)
    \{
        res = \hyperlink{le__mrc__interface_8h_ac808b4dc721e031566da92e00663c027}{le\_mrc\_SetBandPreferences}(bandMaskOrigin);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

        \textcolor{comment}{// Get the current rat preference.}
        res = \hyperlink{le__mrc__interface_8h_a04418f56480070ba6c4f3d176dafaa37}{le\_mrc\_GetBandPreferences}(&bandMask);
        PRINT\_BAND(bandMask);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(bandMask == bandMaskOrigin);
    \}
\}


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Lte band Preferences mode.}
\textcolor{comment}{ *}
\textcolor{comment}{ * le\_mrc\_GetLteBandPreferences() API test}
\textcolor{comment}{ * le\_mrc\_SetLteBandPreferences() API test}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_LteBandPreferences
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res;
    \hyperlink{le__mrc__interface_8h_a81d705d61ee7ee56eab6aafb1af92579}{le\_mrc\_LteBandBitMask\_t} bandMask = 0;
    \hyperlink{le__mrc__interface_8h_a81d705d61ee7ee56eab6aafb1af92579}{le\_mrc\_LteBandBitMask\_t} bandMaskOrigin = 0;

\textcolor{preprocessor}{#define  PRINT\_BANDLTE(x)   LE\_INFO("LTE Band MRC preferences 0x%016X", x);}

    \textcolor{comment}{// Get the current rat preference.}
    res = \hyperlink{le__mrc__interface_8h_af4ec5bd36ba8df68bc12a10618268742}{le\_mrc\_GetLteBandPreferences}(&bandMaskOrigin);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    PRINT\_BANDLTE(bandMaskOrigin);

    \hyperlink{le__log_8h_a8d8f204806cd5fc0455fe3caacf1d251}{LE\_WARN\_IF}(( bandMaskOrigin == 0), \textcolor{stringliteral}{"Testle\_mrc\_LteBandPreferences bandMaskOrigin = 0"});

    \textcolor{keywordflow}{if} (bandMaskOrigin != 0)
    \{
        res = \hyperlink{le__mrc__interface_8h_a21d2fe7c736e9a4a342dcc461a5d6e02}{le\_mrc\_SetLteBandPreferences}(bandMaskOrigin);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

        \textcolor{comment}{// Get the current rat preference.}
        res = \hyperlink{le__mrc__interface_8h_af4ec5bd36ba8df68bc12a10618268742}{le\_mrc\_GetLteBandPreferences}(&bandMask);
        PRINT\_BANDLTE(bandMask);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(bandMask == bandMaskOrigin);
    \}
\}


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: TD-SCDMA band Preferences mode.}
\textcolor{comment}{ *}
\textcolor{comment}{ * le\_mrc\_GetTdScdmaBandPreferences() API test}
\textcolor{comment}{ * le\_mrc\_SetTdScdmaBandPreferences() API test}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_TdScdmaBandPreferences
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res;
    \hyperlink{le__mrc__interface_8h_a418a508a9a6dbd3a4a68458f0c64a00e}{le\_mrc\_TdScdmaBandBitMask\_t} bandMask = 0;
    \hyperlink{le__mrc__interface_8h_a418a508a9a6dbd3a4a68458f0c64a00e}{le\_mrc\_TdScdmaBandBitMask\_t} bandMaskOrigin = 0;

\textcolor{preprocessor}{#define  PRINT\_BANDCDMA(x)   LE\_INFO("TD-SCDMA Band preferences 0x%016X", x);}

    \textcolor{comment}{// Get the current rat preference.}
    res = \hyperlink{le__mrc__interface_8h_aed41544004ed7df9de8e874b8bb09d3b}{le\_mrc\_GetTdScdmaBandPreferences}(&bandMaskOrigin);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}((LE\_OK == res) || (\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5377262702e8434207b03533259e0c5f}{LE\_UNSUPPORTED} == res));

    \textcolor{keywordflow}{if} (LE\_OK == res)
    \{
        \textcolor{comment}{// The TD-SCDMA is supported}
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(0 != bandMaskOrigin);
        PRINT\_BANDCDMA(bandMaskOrigin);
        \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_a8765511597189b64e486fa8f17bcddcd}{le\_mrc\_SetTdScdmaBandPreferences}(
      bandMaskOrigin));

        \textcolor{comment}{// Get the current rat preference.}
        \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_aed41544004ed7df9de8e874b8bb09d3b}{le\_mrc\_GetTdScdmaBandPreferences}(&bandMask
      ));
        PRINT\_BANDCDMA(bandMask);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(bandMask == bandMaskOrigin);
    \}
    \textcolor{keywordflow}{else}
    \{
        \textcolor{comment}{// Try to set a Band when TD-SCDMA is not supported}
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5377262702e8434207b03533259e0c5f}{LE\_UNSUPPORTED} == 
      \hyperlink{le__mrc__interface_8h_a8765511597189b64e486fa8f17bcddcd}{le\_mrc\_SetTdScdmaBandPreferences}(
                                                       
      \hyperlink{le__mrc__interface_8h_a418a508a9a6dbd3a4a68458f0c64a00eac4a5c547bb90e92be59b6a6b523d542d}{LE\_MRC\_BITMASK\_TDSCDMA\_BAND\_A} |
                                                       
      \hyperlink{le__mrc__interface_8h_a418a508a9a6dbd3a4a68458f0c64a00ea960d203c6fb17b72ea6dd266d9212151}{LE\_MRC\_BITMASK\_TDSCDMA\_BAND\_F}));

        \textcolor{comment}{// Try to get the TD-SCDMA Band Preferences when TD-SCDMA is not supported}
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5377262702e8434207b03533259e0c5f}{LE\_UNSUPPORTED} == 
      \hyperlink{le__mrc__interface_8h_aed41544004ed7df9de8e874b8bb09d3b}{le\_mrc\_GetTdScdmaBandPreferences}(&bandMask));
    \}
\}
\end{DoxyCodeInclude}
\hypertarget{c_mrcBandCapabilities}{}\paragraph{Sample code for Band Capabilities}\label{c_mrcBandCapabilities}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Get platform band capabilities.}
\textcolor{comment}{ *}
\textcolor{comment}{ * le\_mrc\_GetBandCapabilities() API test}
\textcolor{comment}{ * le\_mrc\_GetLteBandCapabilities() API test}
\textcolor{comment}{ * le\_mrc\_GetTdScdmaBandCapabilities() API test}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test band capabilities according to RAT}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{bool} Test\_BandCapabilities
(
    \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93}{le\_mrc\_RatBitMask\_t} ratMask,
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res
)
\{
    \textcolor{keywordtype}{bool} test = \textcolor{keyword}{true};
    \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93}{le\_mrc\_RatBitMask\_t} bitMaskOrigin;

    \textcolor{comment}{// Get the current rat preference.}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMaskOrigin));

    \textcolor{keywordflow}{if} ((\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5377262702e8434207b03533259e0c5f}{LE\_UNSUPPORTED} == \hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(ratMask)) && (
      \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5377262702e8434207b03533259e0c5f}{LE\_UNSUPPORTED} != res))
    \{
        test = \textcolor{keyword}{false};
    \}
    \textcolor{comment}{// Restore origin RAT.}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(bitMaskOrigin));
    \textcolor{keywordflow}{return} test;
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Get platform band capabilities.}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_GetBandCapabilities
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__mrc__interface_8h_a048374324f72ee7df52c2e0521c0dda3}{le\_mrc\_BandBitMask\_t}        bands;
    \hyperlink{le__mrc__interface_8h_a81d705d61ee7ee56eab6aafb1af92579}{le\_mrc\_LteBandBitMask\_t}     lteBands;
    \hyperlink{le__mrc__interface_8h_a418a508a9a6dbd3a4a68458f0c64a00e}{le\_mrc\_TdScdmaBandBitMask\_t} tdScdmaBands;
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t}                 res;

    res = \hyperlink{le__mrc__interface_8h_a7cb0a206729c652692701cd24226d34f}{le\_mrc\_GetBandCapabilities}(&bands);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798}{LE\_FAULT} != res);
    \textcolor{comment}{// Not supported on all platform}
    \textcolor{keywordflow}{switch}(res)
    \{
        \textcolor{keywordflow}{case} LE\_OK:
            \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(0L != bands);
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Get 2G/3G Band Capabilities bit mask: 0x%016"}PRIX64, (uint64\_t)bands);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5377262702e8434207b03533259e0c5f}{LE\_UNSUPPORTED}:
            \hyperlink{le__log_8h_a0201b2f60ee0e945479f91e181bf04b6}{LE\_WARN}(\textcolor{stringliteral}{"Unable to get Band Capabilities on this platform"});
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{default}:
            \hyperlink{le__log_8h_a54b4b07f5396e19a8d9fca74238f4795}{LE\_FATAL}(\textcolor{stringliteral}{"le\_mrc\_GetBandCapabilities failed"});
            \textcolor{keywordflow}{break};
    \}

    \textcolor{comment}{// Test if LTE Band Capabilities are supported}
    res = \hyperlink{le__mrc__interface_8h_ad6b44639b1d9755b92720d5184ee2515}{le\_mrc\_GetLteBandCapabilities}(&lteBands);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798}{LE\_FAULT} != res);

    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\textcolor{keyword}{true} == Test\_BandCapabilities(LE\_MRC\_BITMASK\_RAT\_LTE, res));

    \textcolor{keywordflow}{switch}(res)
    \{
        \textcolor{keywordflow}{case} LE\_OK:
            \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(0 != lteBands);
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Get LTE Band Capabilities bit mask: 0x%016"}PRIX64, (uint64\_t)lteBands);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5377262702e8434207b03533259e0c5f}{LE\_UNSUPPORTED}:
            \hyperlink{le__log_8h_a0201b2f60ee0e945479f91e181bf04b6}{LE\_WARN}(\textcolor{stringliteral}{"Unable to get Band Capabilities on this platform"});
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{default}:
            \hyperlink{le__log_8h_a54b4b07f5396e19a8d9fca74238f4795}{LE\_FATAL}(\textcolor{stringliteral}{"le\_mrc\_GetLteBandCapabilities failed"});
            \textcolor{keywordflow}{break};
    \}

    \textcolor{comment}{// Test if TD-SCDMA Band Capabilities are supported}
    res = \hyperlink{le__mrc__interface_8h_adfa81f2361744bc67697221845713a98}{le\_mrc\_GetTdScdmaBandCapabilities}(&tdScdmaBands);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798}{LE\_FAULT} != res);

    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\textcolor{keyword}{true} == Test\_BandCapabilities(\hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93a704e1357fc74db4ae2fef1548aa18bcc}{LE\_MRC\_BITMASK\_RAT\_TDSCDMA}, 
      res));

    \textcolor{keywordflow}{switch}(res)
    \{
        \textcolor{keywordflow}{case} LE\_OK:
            \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(0 != tdScdmaBands);
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Get TD-SCDMA Band Capabilities bit mask: 0x%016"}PRIX64,
                    (uint64\_t)tdScdmaBands);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5377262702e8434207b03533259e0c5f}{LE\_UNSUPPORTED}:
            \hyperlink{le__log_8h_a0201b2f60ee0e945479f91e181bf04b6}{LE\_WARN}(\textcolor{stringliteral}{"Unable to get Band Capabilities on this platform"});
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{default}:
            \hyperlink{le__log_8h_a54b4b07f5396e19a8d9fca74238f4795}{LE\_FATAL}(\textcolor{stringliteral}{"le\_mrc\_GetTdScdmaBandCapabilities failed"});
            \textcolor{keywordflow}{break};
    \}
\}
\end{DoxyCodeInclude}
\hypertarget{c_mrcRAT}{}\paragraph{Sample code for Radio Access Technology}\label{c_mrcRAT}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Radio Access Technology.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_GetRat
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t}   res;
    \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43}{le\_mrc\_Rat\_t}  rat;

    res = \hyperlink{le__mrc__interface_8h_a3ad9533c467cec0902d5d165bb32d67b}{le\_mrc\_GetRadioAccessTechInUse}(&rat);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}((rat>=\hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43a6088198c65a39429fe6a67f322df0480}{LE\_MRC\_RAT\_UNKNOWN}) && (rat<=
      \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43aaf2b25a8ec75f9bacb51967f23247176}{LE\_MRC\_RAT\_LTE}));

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_GetRadioAccessTechInUse return rat 0x%02X"},rat);
\}
\end{DoxyCodeInclude}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Display bitmask RAT}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} PrintRat
(
    \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93}{le\_mrc\_RatBitMask\_t} bitMask
)
\{
    \textcolor{keywordflow}{if}(\hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93aa6e87ad274b7f5011413ea0e8375300b}{LE\_MRC\_BITMASK\_RAT\_ALL} != bitMask)
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Rat preferences %02X=> CDMA.%c GSM.%c LTE.%c UMTS.%c TD-SCDMA.%c"}, bitMask,
            ((bitMask & LE\_MRC\_BITMASK\_RAT\_CDMA) ? \textcolor{charliteral}{'Y'} : \textcolor{charliteral}{'N'}),
            ((bitMask & LE\_MRC\_BITMASK\_RAT\_GSM) ? \textcolor{charliteral}{'Y'} : \textcolor{charliteral}{'N'}),
            ((bitMask & LE\_MRC\_BITMASK\_RAT\_LTE) ? \textcolor{charliteral}{'Y'} : \textcolor{charliteral}{'N'}),
            ((bitMask & LE\_MRC\_BITMASK\_RAT\_UMTS) ? \textcolor{charliteral}{'Y'} : \textcolor{charliteral}{'N'}),
            ((bitMask & \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93a704e1357fc74db4ae2fef1548aa18bcc}{LE\_MRC\_BITMASK\_RAT\_TDSCDMA}) ? \textcolor{charliteral}{'Y'} : \textcolor{charliteral}{'N'}));
    \}
    \textcolor{keywordflow}{else}
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Rat preferences => LE\_MRC\_BITMASK\_RAT\_ALL"});
    \}
\}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: rat preferences mode. Module must supported GSM and LTEs}
\textcolor{comment}{ *}
\textcolor{comment}{ * le\_mrc\_GetRatPreferences() API test}
\textcolor{comment}{ * le\_mrc\_SetRatPreferences() API test}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_RatPreferences
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93}{le\_mrc\_RatBitMask\_t} bitMask = 0;
    \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93}{le\_mrc\_RatBitMask\_t} bitMaskOrigin = 0;
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res;

    \textcolor{comment}{// Get the current rat preference.}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMaskOrigin));
    PrintRat(bitMaskOrigin);

    res = \hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(LE\_MRC\_BITMASK\_RAT\_LTE);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}((LE\_OK == res) || (\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5377262702e8434207b03533259e0c5f}{LE\_UNSUPPORTED} == res));

    \textcolor{keywordflow}{if} (LE\_OK == res)
    \{
        \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMask));
        PrintRat(bitMask);

        \textcolor{keywordflow}{if} ((LE\_MRC\_BITMASK\_RAT\_LTE != bitMask))
        \{
            \textcolor{keywordflow}{if} ((LE\_MRC\_BITMASK\_RAT\_LTE | LE\_MRC\_BITMASK\_RAT\_GSM) == bitMask)
            \{
                \hyperlink{le__log_8h_a0201b2f60ee0e945479f91e181bf04b6}{LE\_WARN}(\textcolor{stringliteral}{"LTE only not supported"});
            \}
            \textcolor{keywordflow}{else}
            \{
                \hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(bitMaskOrigin);
            \}
        \}
    \}

    res = \hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(
      \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93a704e1357fc74db4ae2fef1548aa18bcc}{LE\_MRC\_BITMASK\_RAT\_TDSCDMA});
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}((LE\_OK == res) || (\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5377262702e8434207b03533259e0c5f}{LE\_UNSUPPORTED} == res));

    \textcolor{keywordflow}{if} (LE\_OK == res)
    \{
        \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMask));
        PrintRat(bitMask);

        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93a704e1357fc74db4ae2fef1548aa18bcc}{LE\_MRC\_BITMASK\_RAT\_TDSCDMA} == bitMask);
    \}

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(LE\_MRC\_BITMASK\_RAT\_GSM));

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMask));
    PrintRat(bitMask);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(LE\_MRC\_BITMASK\_RAT\_GSM == bitMask);

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(LE\_MRC\_BITMASK\_RAT\_GSM | 
      LE\_MRC\_BITMASK\_RAT\_UMTS));

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMask));
    PrintRat(bitMask);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}((LE\_MRC\_BITMASK\_RAT\_GSM | LE\_MRC\_BITMASK\_RAT\_UMTS) == bitMask);

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(
      \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93aa6e87ad274b7f5011413ea0e8375300b}{LE\_MRC\_BITMASK\_RAT\_ALL}));

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMask));
    PrintRat(bitMask);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93aa6e87ad274b7f5011413ea0e8375300b}{LE\_MRC\_BITMASK\_RAT\_ALL} == bitMask);

    \textcolor{keywordflow}{if} (bitMaskOrigin & LE\_MRC\_BITMASK\_RAT\_CDMA)
    \{
        \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(LE\_MRC\_BITMASK\_RAT\_CDMA))
      ;

        \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMask));
        PrintRat(bitMask);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(LE\_MRC\_BITMASK\_RAT\_CDMA == bitMask);
    \}

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(LE\_MRC\_BITMASK\_RAT\_UMTS));

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMask));
    PrintRat(bitMask);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(LE\_MRC\_BITMASK\_RAT\_UMTS == bitMask);

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(bitMaskOrigin));

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMask));
    PrintRat(bitMask);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(bitMaskOrigin == bitMask);
\}
\end{DoxyCodeInclude}
\hypertarget{c_mrcNetworkRegistration}{}\paragraph{Sample code for Network Registration}\label{c_mrcNetworkRegistration}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Register mode.}
\textcolor{comment}{ * This test doesn't work in roaming.!!}
\textcolor{comment}{ *}
\textcolor{comment}{ * le\_mrc\_SetAutomaticRegisterMode() API test}
\textcolor{comment}{ * le\_mrc\_SetManualRegisterMode() API test}
\textcolor{comment}{ * le\_mrc\_GetRegisterMode() API test}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_RegisterMode
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res;
    \textcolor{keywordtype}{int} cmpRes;
    \textcolor{keywordtype}{char} mccStr[\hyperlink{le__mrc__interface_8h_aeae0e240c77730be724ad7ac42596469}{LE\_MRC\_MNC\_BYTES}] = \{0\};
    \textcolor{keywordtype}{char} mncStr[\hyperlink{le__mrc__interface_8h_aeae0e240c77730be724ad7ac42596469}{LE\_MRC\_MNC\_BYTES}] = \{0\};
    \textcolor{keywordtype}{bool} isManualOrigin, isManual;

    \textcolor{comment}{// Get the home PLMN to compare results.}
    res = \hyperlink{le__sim__interface_8h_a6bab381ed34046b553145bfbe53dfa3c}{le\_sim\_GetHomeNetworkMccMnc}(
      \hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdda4270fb44e8fa7876f337864675b42f2d}{LE\_SIM\_EXTERNAL\_SLOT\_1}, mccHomeStr, LE\_MRC\_MCC\_BYTES,
                                      mncHomeStr, LE\_MRC\_MNC\_BYTES);
    \hyperlink{le__log_8h_aceaf11a11691d6c676e36dd317b38dbd}{LE\_ERROR\_IF}(res != LE\_OK, \textcolor{stringliteral}{"Home PLMN can't be retrives for test case"});
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Home PLMN is mcc.%s mnc.%s"}, mccHomeStr, mncHomeStr);

    res = \hyperlink{le__mrc__interface_8h_a9ad2729c28e97ae450f7aee0865197f6}{le\_mrc\_GetRegisterMode}(&isManualOrigin,
                    mccStr, LE\_MRC\_MCC\_BYTES, mncStr, LE\_MRC\_MNC\_BYTES);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_GetRegisterMode Manual(%c), mcc.%s mnc.%s"},
        (isManualOrigin ? \textcolor{charliteral}{'Y'} : \textcolor{charliteral}{'N'}),
        mccStr, mncStr);

    res = \hyperlink{le__mrc__interface_8h_acb434a9f91afb5b6639baf3678ee9388}{le\_mrc\_SetAutomaticRegisterMode}();
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mrc__interface_8h_a153247be5ea13ae2bc13ace0dd8c739c}{le\_mrc\_GetPlatformSpecificRegistrationErrorCode}
      () == 0);

    sleep(5);

    memset(mccStr,0,LE\_MRC\_MCC\_BYTES);
    memset(mncStr,0,LE\_MRC\_MNC\_BYTES);
    res = \hyperlink{le__mrc__interface_8h_a9ad2729c28e97ae450f7aee0865197f6}{le\_mrc\_GetRegisterMode}(&isManual, mccStr, LE\_MRC\_MCC\_BYTES, mncStr, 
      LE\_MRC\_MNC\_BYTES);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(isManual == \textcolor{keyword}{false});
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_GetRegisterMode Manual(%c), mcc.%s mnc.%s"},
        (isManualOrigin ? \textcolor{charliteral}{'Y'} : \textcolor{charliteral}{'N'}),
        mccStr, mncStr);

    res = \hyperlink{le__mrc__interface_8h_ac694b8aa7543eb9f058e77a844a5c0bf}{le\_mrc\_SetManualRegisterMode}(mccHomeStr, mncHomeStr);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_SetManualRegisterMode %s,%s return %d"},mccHomeStr, mncHomeStr, res);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    sleep(5);

    memset(mccStr,0,LE\_MRC\_MCC\_BYTES);
    memset(mncStr,0,LE\_MRC\_MNC\_BYTES);
    res = \hyperlink{le__mrc__interface_8h_a9ad2729c28e97ae450f7aee0865197f6}{le\_mrc\_GetRegisterMode}(&isManual, mccStr, LE\_MRC\_MCC\_BYTES, mncStr, 
      LE\_MRC\_MNC\_BYTES);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(isManual == \textcolor{keyword}{true});
    cmpRes = strcmp(mccHomeStr, mccStr);
    \hyperlink{le__log_8h_a8d8f204806cd5fc0455fe3caacf1d251}{LE\_WARN\_IF}(cmpRes, \textcolor{stringliteral}{"Doesn't match mccHomeStr (%s) mccStr (%s)"},mccHomeStr, mccStr)
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(cmpRes == 0);
    cmpRes = strcmp(mncHomeStr, mncStr);
    \hyperlink{le__log_8h_a8d8f204806cd5fc0455fe3caacf1d251}{LE\_WARN\_IF}(cmpRes, "Doesn't match mncHomeStr (%s) mncStr (%s)",mncHomeStr, mncStr)
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(cmpRes == 0);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}("\hyperlink{le__mrc__interface_8h_a9ad2729c28e97ae450f7aee0865197f6}{le\_mrc\_GetRegisterMode} Manual(Y), mcc.%s mnc.%s", mccStr, mncStr)
      ;

    res = le\_mrc\_SetAutomaticRegisterMode();
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    sleep(5);

    memset(mccStr,0,LE\_MRC\_MCC\_BYTES);
    memset(mncStr,0,LE\_MRC\_MNC\_BYTES);
    res = \hyperlink{le__mrc__interface_8h_a9ad2729c28e97ae450f7aee0865197f6}{le\_mrc\_GetRegisterMode}(&isManual, mccStr, LE\_MRC\_MCC\_BYTES, mncStr, 
      LE\_MRC\_MNC\_BYTES);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(isManual == false);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}("\hyperlink{le__mrc__interface_8h_a9ad2729c28e97ae450f7aee0865197f6}{le\_mrc\_GetRegisterMode} Manual(N)");
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Manual selection call back function.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
static \textcolor{keywordtype}{void} MyManualSelectionHandler
(
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} result,
    \textcolor{keywordtype}{void}* contextPtr
)
\{
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_SetManualRegisterModeAsync return %d"}, result);
    \textcolor{keywordflow}{if} (result == LE\_OK )
    \{
        \hyperlink{le__semaphore_8h_abb859411cc58fbcc576c986ef52083b2}{le\_sem\_Post}(ThreadSemaphore);
    \}
    \textcolor{keywordflow}{else}
    \{
        \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"Failed"});
    \}
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Thread for test Register mode asynchronous .}
\textcolor{comment}{ *}
\textcolor{comment}{ * Test API: le\_mrc\_SetManualRegisterModeAsync() API test}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void}* MyRegisterModeAsyncThread
(
    \textcolor{keywordtype}{void}* context   \textcolor{comment}{///< Context}
\textcolor{comment}{})
\{
    \hyperlink{le__sim__interface_8h_a84a7ff3ace6afa68bce12b85c18f9bf0}{le\_sim\_ConnectService}();
    \hyperlink{le__mrc__interface_8h_aa19103931ad3974ee014f0ce2705a4ff}{le\_mrc\_ConnectService}();

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_SetManualRegisterModeAsync mcc.%s mnc.%s"},
        mccHomeStr, mncHomeStr);

    \hyperlink{le__mrc__interface_8h_a5b40356a56f524f5f5c9e5744687919d}{le\_mrc\_SetManualRegisterModeAsync}(mccHomeStr, mncHomeStr, 
      MyManualSelectionHandler, NULL);

    \hyperlink{le__event_loop_8h_ae313b457994371c658be9fe0494a01ff}{le\_event\_RunLoop}();
    \textcolor{keywordflow}{return} NULL;
\}


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Register mode asynchronous.}
\textcolor{comment}{ * This test doesn't work in roaming.!!}
\textcolor{comment}{ *}
\textcolor{comment}{ * le\_mrc\_SetAutomaticRegisterMode() API test}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_RegisterModeAsync
(
    \textcolor{keywordtype}{void}
)
\{
    \textcolor{keywordtype}{char} mccStr[\hyperlink{le__mrc__interface_8h_aeae0e240c77730be724ad7ac42596469}{LE\_MRC\_MNC\_BYTES}] = \{0\};
    \textcolor{keywordtype}{char} mncStr[\hyperlink{le__mrc__interface_8h_aeae0e240c77730be724ad7ac42596469}{LE\_MRC\_MNC\_BYTES}] = \{0\};
    \textcolor{keywordtype}{bool} isManual;
    \textcolor{keywordtype}{int} cmpRes;
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res;
    \hyperlink{structle__clk___time__t}{le\_clk\_Time\_t} time;
    time.\hyperlink{structle__clk___time__t_ae28e527dbd551b3537edc1737611782f}{sec} = 180;
    time.\hyperlink{structle__clk___time__t_a8324bdde9199a09a47489a3f246f184c}{usec} = 0;

    res = \hyperlink{le__mrc__interface_8h_acb434a9f91afb5b6639baf3678ee9388}{le\_mrc\_SetAutomaticRegisterMode}();
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    sleep(5);

    \textcolor{comment}{// Get the home PLMN to compare results.}
    res = \hyperlink{le__sim__interface_8h_a6bab381ed34046b553145bfbe53dfa3c}{le\_sim\_GetHomeNetworkMccMnc}(
      \hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdda4270fb44e8fa7876f337864675b42f2d}{LE\_SIM\_EXTERNAL\_SLOT\_1}, mccHomeStr, LE\_MRC\_MCC\_BYTES,
        mncHomeStr, LE\_MRC\_MNC\_BYTES);
    \hyperlink{le__log_8h_aceaf11a11691d6c676e36dd317b38dbd}{LE\_ERROR\_IF}(res != LE\_OK, \textcolor{stringliteral}{"Home PLMN can't be retrieve for test case"});
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Home PLMN is mcc.%s mnc.%s"}, mccHomeStr, mncHomeStr);

    \textcolor{comment}{// Init the semaphore for asynchronous callback}
    ThreadSemaphore = \hyperlink{le__semaphore_8h_add9fab5440abcff5a8bc3b8bd1126d99}{le\_sem\_Create}(\textcolor{stringliteral}{"HandlerSem"},0);

    RegistrationThreadRef = \hyperlink{le__thread_8h_a87e02a46f92e9e3e11ed28a2b265872f}{le\_thread\_Create}(\textcolor{stringliteral}{"CallBack"}, MyRegisterModeAsyncThread, NULL);
    \hyperlink{le__thread_8h_a38df3877ee5ab9fac17b2fc0be46c27e}{le\_thread\_Start}(RegistrationThreadRef);

    \textcolor{comment}{// Wait for complete asynchronous registration}
    res = \hyperlink{le__semaphore_8h_a14475f0c2f5483427279d39220f55eaa}{le\_sem\_WaitWithTimeOut}(ThreadSemaphore, time);

    \hyperlink{le__log_8h_aceaf11a11691d6c676e36dd317b38dbd}{LE\_ERROR\_IF}(res != LE\_OK, \textcolor{stringliteral}{"SYNC FAILED"});
    \hyperlink{le__thread_8h_a0f1c1b98f354a96e6e31e55a71b58f6a}{le\_thread\_Cancel}(RegistrationThreadRef);
    \hyperlink{le__semaphore_8h_a96361b126f59934354ca17bf8b74b8f6}{le\_sem\_Delete}(ThreadSemaphore);

    sleep(SLEEP\_5S);

    memset(mccStr,0,LE\_MRC\_MCC\_BYTES);
    memset(mncStr,0,LE\_MRC\_MNC\_BYTES);
    res = \hyperlink{le__mrc__interface_8h_a9ad2729c28e97ae450f7aee0865197f6}{le\_mrc\_GetRegisterMode}(&isManual, mccStr, LE\_MRC\_MCC\_BYTES, mncStr, 
      LE\_MRC\_MNC\_BYTES);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(isManual == \textcolor{keyword}{true});
    cmpRes = strcmp(mccHomeStr, mccStr);
    \hyperlink{le__log_8h_a8d8f204806cd5fc0455fe3caacf1d251}{LE\_WARN\_IF}(cmpRes, \textcolor{stringliteral}{"Doesn't match mccHomeStr (%s) mccStr (%s)"},mccHomeStr, mccStr)
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(cmpRes == 0);
    cmpRes = strcmp(mncHomeStr, mncStr);
    \hyperlink{le__log_8h_a8d8f204806cd5fc0455fe3caacf1d251}{LE\_WARN\_IF}(cmpRes, "Doesn't match mncHomeStr (%s) mncStr (%s)",mncHomeStr, mncStr)
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(cmpRes == 0);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}("\hyperlink{le__mrc__interface_8h_a9ad2729c28e97ae450f7aee0865197f6}{le\_mrc\_GetRegisterMode} %c, mcc.%s mnc.%s",
        (isManual ? 'Y':'N'), mccStr, mncStr);

    sleep(SLEEP\_5S);
    res = le\_mrc\_SetAutomaticRegisterMode();
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    sleep(SLEEP\_5S);
\}
\end{DoxyCodeInclude}
\hypertarget{c_mrcGetService}{}\paragraph{Sample code for Get the Current Packet Switched state}\label{c_mrcGetService}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Packet Switched state}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_GetPSState
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__mrc__interface_8h_ae2877a1e1252ac79e6c9cae3d3c25a61}{le\_mrc\_NetRegState\_t}  psState;

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_a2be4a96c3dfd80a63832203f22a661bb}{le\_mrc\_GetPacketSwitchedState}(&psState));
    \textcolor{keywordflow}{switch}(psState)
    \{
        \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_ae2877a1e1252ac79e6c9cae3d3c25a61a90fd9c8ee7f965840af2536e2a33316a}{LE\_MRC\_REG\_HOME}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_GetPacketSwitchedState returns LE\_MRC\_REG\_HOME"});
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_ae2877a1e1252ac79e6c9cae3d3c25a61a9f5ddbf3dcdceb8e24e46aea83ba4e7f}{LE\_MRC\_REG\_ROAMING}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_GetPacketSwitchedState returns LE\_MRC\_REG\_ROAMING"});
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_ae2877a1e1252ac79e6c9cae3d3c25a61affdd881b043ba92f868ffef52b0b9124}{LE\_MRC\_REG\_NONE}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_GetPacketSwitchedState returns LE\_MRC\_REG\_NONE"});
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{default}:
            \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"le\_mrc\_GetPacketSwitchedState returns an unknown PS state %d"}, psState);
            \textcolor{keywordflow}{break};
    \}

\}
\end{DoxyCodeInclude}
\hypertarget{c_mrcQuality}{}\paragraph{Sample code for Signal Quality}\label{c_mrcQuality}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Network Registration State + Signal Quality.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_GetStateAndQual
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t}           res;
    \hyperlink{le__mrc__interface_8h_ae2877a1e1252ac79e6c9cae3d3c25a61}{le\_mrc\_NetRegState\_t}  state;
    uint32\_t              quality;

    res = \hyperlink{le__mrc__interface_8h_a4f11e27862fef384c0023f5b538e543d}{le\_mrc\_GetNetRegState}(&state);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}((state>=\hyperlink{le__mrc__interface_8h_ae2877a1e1252ac79e6c9cae3d3c25a61affdd881b043ba92f868ffef52b0b9124}{LE\_MRC\_REG\_NONE}) && (state<=
      \hyperlink{le__mrc__interface_8h_ae2877a1e1252ac79e6c9cae3d3c25a61acdba928b7dfb851adfa0211acccabb65}{LE\_MRC\_REG\_UNKNOWN}));

    res = \hyperlink{le__mrc__interface_8h_a717aa0f4e4dc9a83b6adc2f26f3f0258}{le\_mrc\_GetSignalQual}(&quality);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(quality<=5);
\}


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Get Signal Metrics.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_GetSignalMetrics
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t}   res;
    \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43}{le\_mrc\_Rat\_t}  rat;
    int32\_t rxLevel = 0;
    uint32\_t er = 0;
    int32\_t ecio = 0;
    int32\_t rscp = 0;
    int32\_t sinr = 0;
    int32\_t rsrq = 0;
    int32\_t rsrp = 0;
    int32\_t snr = 0;
    int32\_t io = 0;

    \hyperlink{le__mrc__interface_8h_a6ad5afb123492b2e249f3ecd414d6e83}{le\_mrc\_MetricsRef\_t} metricsRef = 
      \hyperlink{le__mrc__interface_8h_ad3662723a7ed47cf45d9a2eaaa1fb16e}{le\_mrc\_MeasureSignalMetrics}();
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(metricsRef != NULL);

    rat = \hyperlink{le__mrc__interface_8h_a5564bace31c937bcef096e597f33d3a4}{le\_mrc\_GetRatOfSignalMetrics}(metricsRef);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"RAT of signal metrics is %d"},rat);
    \textcolor{keywordflow}{switch}(rat)
    \{
        \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43ae19505d98b78ac22398bce06605dd1a4}{LE\_MRC\_RAT\_GSM}:
            res = \hyperlink{le__mrc__interface_8h_a9d7243b29bf4c705c4eba83fa3799582}{le\_mrc\_GetGsmSignalMetrics}(metricsRef, &rxLevel, &er);
            \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"GSM metrics rxLevel.%ddBm, er.%d"}, rxLevel, er);
            \textcolor{keywordflow}{break};

        \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43afe34c4f3a53aa717f5ecb94dd59bf728}{LE\_MRC\_RAT\_UMTS}:
        \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43a1b0c0f61b82d3619cc951c7c249ebbcf}{LE\_MRC\_RAT\_TDSCDMA}:
            res = \hyperlink{le__mrc__interface_8h_a456648564abfc8e9711b60a5d8bddc9b}{le\_mrc\_GetUmtsSignalMetrics}(metricsRef, &rxLevel, &er, &ecio, 
      &rscp, &sinr);
            \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"UMTS/TD-SCDMA metrics rxLevel.%ddBm, er.%d, ecio.%010.1fdB,"}
                    \textcolor{stringliteral}{"rscp.%ddBm, sinr.%ddB"}, rxLevel, er, ((\textcolor{keywordtype}{double})ecio/10), rscp, sinr);
            \textcolor{keywordflow}{break};

        \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43aaf2b25a8ec75f9bacb51967f23247176}{LE\_MRC\_RAT\_LTE}:
            res = \hyperlink{le__mrc__interface_8h_a030880c064afbf2686726fd2e538adfe}{le\_mrc\_GetLteSignalMetrics}(metricsRef, &rxLevel, &er, &rsrq, &
      rsrp, &snr);
            \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"LTE metrics rxLevel.%ddBm, er.%d, rsrq.%010.1fdB, "}
                    \textcolor{stringliteral}{"rsrp.%010.1fdBm, snr.%010.1fdB"},
                    rxLevel, er, ((\textcolor{keywordtype}{double})rsrq/10), ((\textcolor{keywordtype}{double})rsrp/10), ((\textcolor{keywordtype}{double})snr/10));
            \textcolor{keywordflow}{break};

        \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43a1634a4ab71f130dd2aae46aa09ca0771}{LE\_MRC\_RAT\_CDMA}:
            res = \hyperlink{le__mrc__interface_8h_a09ff33b24fd01be18a145b2b3f1f579a}{le\_mrc\_GetCdmaSignalMetrics}(metricsRef,  &rxLevel, &er, &ecio,
       &sinr, &io);
            \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"CDMA metrics rxLevel.%ddBm, er.%d, ecio.%010.1fdB, "}
                    \textcolor{stringliteral}{"sinr.%ddB, io.%ddBm"},
                    rxLevel, er, ((\textcolor{keywordtype}{double})ecio/10), sinr, io);
            \textcolor{keywordflow}{break};

        \textcolor{keywordflow}{default}:
            \hyperlink{le__log_8h_a54b4b07f5396e19a8d9fca74238f4795}{LE\_FATAL}(\textcolor{stringliteral}{"Unknown RAT!"});
            \textcolor{keywordflow}{break};
    \}

    \hyperlink{le__mrc__interface_8h_a20addd98ee6cb07f9ee1a45be01b5203}{le\_mrc\_DeleteSignalMetrics}(metricsRef);
\}
\end{DoxyCodeInclude}
\hypertarget{c_mrcLocationinformation}{}\paragraph{Sample code for Location information}\label{c_mrcLocationinformation}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Location information.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_GetLocInfo
(
    \textcolor{keywordtype}{void}
)
\{
    uint32\_t  cellId, lac;
    uint16\_t  tac;

    cellId = \hyperlink{le__mrc__interface_8h_aafc9fb71c3013b7b26dc386b13ca4a85}{le\_mrc\_GetServingCellId}();
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_GetServingCellId returns cellId.%d"}, cellId);
    lac = \hyperlink{le__mrc__interface_8h_a8ba03765e7595f85783f6f6a022311f8}{le\_mrc\_GetServingCellLocAreaCode}();
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_GetServingCellLocAreaCode returns lac.%d"},lac);
    tac = \hyperlink{le__mrc__interface_8h_a856dc7825b4fa8de095f26020e03f015}{le\_mrc\_GetServingCellLteTracAreaCode}();
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_GetServingCellLteTracAreaCode returns Tac.0x%X (%d)"}, tac, tac);
\}
\end{DoxyCodeInclude}
\hypertarget{c_mrcGetCurrentNetwork}{}\paragraph{Sample code for Get Current Network Information}\label{c_mrcGetCurrentNetwork}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Get the Current network name.}
\textcolor{comment}{ * le\_mrc\_GetCurrentNetworkName() API test}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_GetCurrentNetworkName
(
    \textcolor{keywordtype}{void}
)
\{

    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res;
    \textcolor{keywordtype}{char} nameStr[100] = \{0\};

    res = \hyperlink{le__mrc__interface_8h_a45fe1941f520c1e4a23b2794dd2a8232}{le\_mrc\_GetCurrentNetworkName}(nameStr, 1);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cae42c9d785827fc3a9c47fb55baca7879}{LE\_OVERFLOW});

    res = \hyperlink{le__mrc__interface_8h_a45fe1941f520c1e4a23b2794dd2a8232}{le\_mrc\_GetCurrentNetworkName}(nameStr, 100);;
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Plmn name.%s"},nameStr);
\}
\end{DoxyCodeInclude}
\hypertarget{c_mrcNetworkScan}{}\paragraph{Sample code for Network Scan}\label{c_mrcNetworkScan}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Read scan information}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} ReadScanInfo
(
    \hyperlink{le__mrc__interface_8h_a3e7fe3e0d8f10fe7853f00eb254529ea}{le\_mrc\_ScanInformationRef\_t}     scanInfoRef
)
\{
    \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43}{le\_mrc\_Rat\_t} rat;
    \textcolor{keywordtype}{bool} boolTest;
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res;
    \textcolor{keywordtype}{char} mcc[\hyperlink{le__mrc__interface_8h_aec88b97b54a45f86e6cb34f65b2d0afd}{LE\_MRC\_MCC\_BYTES}] = \{0\};
    \textcolor{keywordtype}{char} mnc[\hyperlink{le__mrc__interface_8h_aeae0e240c77730be724ad7ac42596469}{LE\_MRC\_MNC\_BYTES}] = \{0\};
    \textcolor{keywordtype}{char} nameStr[100] = \{0\};

    res = \hyperlink{le__mrc__interface_8h_aad275d839efe8b2b5eafe65ef87bd3d3}{le\_mrc\_GetCellularNetworkMccMnc}(scanInfoRef, mcc, LE\_MRC\_MCC\_BYTES
      , mnc, LE\_MRC\_MCC\_BYTES);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    res = \hyperlink{le__mrc__interface_8h_a6fcb9785c79cb9f8a4d1bef2484ca9d5}{le\_mrc\_GetCellularNetworkName}(scanInfoRef, nameStr, 1);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cae42c9d785827fc3a9c47fb55baca7879}{LE\_OVERFLOW});
    res = \hyperlink{le__mrc__interface_8h_a6fcb9785c79cb9f8a4d1bef2484ca9d5}{le\_mrc\_GetCellularNetworkName}(scanInfoRef, nameStr, 100);;
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"1st cellular network name.%s"}, nameStr);

    rat = \hyperlink{le__mrc__interface_8h_ad33fbe1d2b7acee0e47f3e54cab78274}{le\_mrc\_GetCellularNetworkRat}(scanInfoRef);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}((rat>=\hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43a6088198c65a39429fe6a67f322df0480}{LE\_MRC\_RAT\_UNKNOWN}) && (rat<=
      \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43aaf2b25a8ec75f9bacb51967f23247176}{LE\_MRC\_RAT\_LTE}));
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_GetCellularNetworkRat returns rat %d"}, rat);

    boolTest = \hyperlink{le__mrc__interface_8h_a4c859fc1364c183aa1d26a022db365c6}{le\_mrc\_IsCellularNetworkInUse}(scanInfoRef);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"IsCellularNetworkInUse is %s"}, ( (boolTest) ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"}));

    boolTest = \hyperlink{le__mrc__interface_8h_a72ca8072f90d453169baff44441c41c0}{le\_mrc\_IsCellularNetworkAvailable}(scanInfoRef);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_IsCellularNetworkAvailable is %s"}, ( (boolTest) ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"}));

    boolTest = \hyperlink{le__mrc__interface_8h_a7333dfc638f50524f9c6fd81457828ba}{le\_mrc\_IsCellularNetworkHome}(scanInfoRef);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_IsCellularNetworkHome is %s"}, ( (boolTest) ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"}));

    boolTest = \hyperlink{le__mrc__interface_8h_a699a52d014550124a5b3362ee888a780}{le\_mrc\_IsCellularNetworkForbidden}(scanInfoRef);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_IsCellularNetworkForbidden is %s"}, ( (boolTest) ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"}));
\}


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Cellular Network Scan.}
\textcolor{comment}{ *}
\textcolor{comment}{ * le\_mrc\_PerformCellularNetworkScan() API test}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_PerformCellularNetworkScan
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res;
    \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93}{le\_mrc\_RatBitMask\_t} bitMaskOrigin = 0;
    \hyperlink{le__mrc__interface_8h_a25a9e79cc9078e22cec22444fd959c61}{le\_mrc\_ScanInformationListRef\_t} scanInfoListRef = NULL;
    \hyperlink{le__mrc__interface_8h_a3e7fe3e0d8f10fe7853f00eb254529ea}{le\_mrc\_ScanInformationRef\_t}     scanInfoRef = NULL;

    \textcolor{comment}{// Get the current rat preference.}
    res = \hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMaskOrigin);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    \textcolor{keywordflow}{if} ((bitMaskOrigin & LE\_MRC\_BITMASK\_RAT\_GSM) || (bitMaskOrigin == 
      \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93aa6e87ad274b7f5011413ea0e8375300b}{LE\_MRC\_BITMASK\_RAT\_ALL}))
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Perform scan on GSM"});
        scanInfoListRef = \hyperlink{le__mrc__interface_8h_ab4a246dd466fa8175aca0158e0cab227}{le\_mrc\_PerformCellularNetworkScan}(
      LE\_MRC\_BITMASK\_RAT\_GSM);
    \}
    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (bitMaskOrigin & LE\_MRC\_BITMASK\_RAT\_UMTS)
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Perform scan on UMTS"});
        scanInfoListRef = \hyperlink{le__mrc__interface_8h_ab4a246dd466fa8175aca0158e0cab227}{le\_mrc\_PerformCellularNetworkScan}(
      LE\_MRC\_BITMASK\_RAT\_UMTS);
    \}
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(scanInfoListRef != NULL);

    scanInfoRef = \hyperlink{le__mrc__interface_8h_ae006d053b037cec589aa85053472a2af}{le\_mrc\_GetFirstCellularNetworkScan}(scanInfoListRef);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(scanInfoRef != NULL);
    ReadScanInfo(scanInfoRef);

    \textcolor{keywordflow}{while} ((scanInfoRef = \hyperlink{le__mrc__interface_8h_ae0ca9f0c1c106d6ddeef784c6bb0d69b}{le\_mrc\_GetNextCellularNetworkScan}(
      scanInfoListRef)) != NULL)
    \{
        ReadScanInfo(scanInfoRef);
    \}

    \hyperlink{le__mrc__interface_8h_ac45ce335b3fa063b83bb925e67eeaeb3}{le\_mrc\_DeleteCellularNetworkScan}(scanInfoListRef);

    res = \hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(bitMaskOrigin);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(LE\_OK == res);
\}


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Cellular Network Scan handler function.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} MyNetworkScanHandler
(
    \hyperlink{le__mrc__interface_8h_a25a9e79cc9078e22cec22444fd959c61}{le\_mrc\_ScanInformationListRef\_t} listRef,
    \textcolor{keywordtype}{void}* contextPtr
)
\{
    \hyperlink{le__mrc__interface_8h_a3e7fe3e0d8f10fe7853f00eb254529ea}{le\_mrc\_ScanInformationRef\_t}     scanInfoRef = NULL;

    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(listRef != NULL);

    scanInfoRef = \hyperlink{le__mrc__interface_8h_ae006d053b037cec589aa85053472a2af}{le\_mrc\_GetFirstCellularNetworkScan}(listRef);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(scanInfoRef != NULL);
    ReadScanInfo(scanInfoRef);

    \textcolor{keywordflow}{while} ((scanInfoRef = \hyperlink{le__mrc__interface_8h_ae0ca9f0c1c106d6ddeef784c6bb0d69b}{le\_mrc\_GetNextCellularNetworkScan}(listRef)) != 
      NULL)
    \{
        ReadScanInfo(scanInfoRef);
    \}

    \hyperlink{le__mrc__interface_8h_ac45ce335b3fa063b83bb925e67eeaeb3}{le\_mrc\_DeleteCellularNetworkScan}(listRef);

    \hyperlink{le__semaphore_8h_abb859411cc58fbcc576c986ef52083b2}{le\_sem\_Post}(ThreadSemaphore);
\}


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Thread for asynchronous Network scan test.}
\textcolor{comment}{ *}
\textcolor{comment}{ * Test API: le\_mrc\_PerformCellularNetworkScanAsync() API test}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void}* MyNetworkScanAsyncThread
(
    \textcolor{keywordtype}{void}* context   \textcolor{comment}{///< See parameter documentation above.}
\textcolor{comment}{})
\{
    \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93}{le\_mrc\_RatBitMask\_t} bitMaskOrigin;

    \hyperlink{le__mrc__interface_8h_aa19103931ad3974ee014f0ce2705a4ff}{le\_mrc\_ConnectService}();

    \textcolor{comment}{// Get the current rat preference.}
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res = \hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMaskOrigin);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    \textcolor{keywordflow}{if} ((bitMaskOrigin & LE\_MRC\_BITMASK\_RAT\_GSM) || (bitMaskOrigin == 
      \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93aa6e87ad274b7f5011413ea0e8375300b}{LE\_MRC\_BITMASK\_RAT\_ALL}))
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Perform scan on GSM"});
        \hyperlink{le__mrc__interface_8h_ab66e29d054d7902c61f87e79fd6d987f}{le\_mrc\_PerformCellularNetworkScanAsync}(LE\_MRC\_BITMASK\_RAT\_GSM
      ,
            MyNetworkScanHandler, NULL);
    \}
    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (bitMaskOrigin & LE\_MRC\_BITMASK\_RAT\_UMTS)
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Perform scan on UMTS"});
        \hyperlink{le__mrc__interface_8h_ab66e29d054d7902c61f87e79fd6d987f}{le\_mrc\_PerformCellularNetworkScanAsync}(
      LE\_MRC\_BITMASK\_RAT\_UMTS,
            MyNetworkScanHandler, NULL);
    \}

    \hyperlink{le__event_loop_8h_ae313b457994371c658be9fe0494a01ff}{le\_event\_RunLoop}();
    \textcolor{keywordflow}{return} NULL;
\}
\end{DoxyCodeInclude}
\hypertarget{c_mrcNeighborCells}{}\paragraph{Sample code for Neighboring Cells Information}\label{c_mrcNeighborCells}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Neighbor Cells Information.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_GetNeighboringCellsInfo
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res;
    \hyperlink{le__mrc__interface_8h_a672ea94ad892bb95f43836b5fbd24188}{le\_mrc\_NeighborCellsRef\_t} ngbrRef;
    \hyperlink{le__mrc__interface_8h_a8fbb2523c254ba473a3f59efa452355e}{le\_mrc\_CellInfoRef\_t} cellRef;
    uint32\_t i = 0;
    uint32\_t cid = 0;
    uint32\_t lac = 0;
    int32\_t rxLevel = 0;
    \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43}{le\_mrc\_Rat\_t} rat = 0;
    int32\_t ecio = 0;
    int32\_t intraRsrp = 0;
    int32\_t intraRsrq = 0;
    int32\_t interRsrp = 0;
    int32\_t interRsrq = 0;

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Start Testle\_mrc\_GetNeighborCellsInfo"});

    ngbrRef = \hyperlink{le__mrc__interface_8h_a8d44fe46e61f3399c5e0dd6002b042ae}{le\_mrc\_GetNeighborCellsInfo}();
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(ngbrRef);

    \textcolor{keywordflow}{if} (ngbrRef)
    \{
        i = 0;

        cellRef = \hyperlink{le__mrc__interface_8h_ab50724fd74818d71da1dfcd2217dd795}{le\_mrc\_GetFirstNeighborCellInfo}(ngbrRef);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(cellRef);
        cid = \hyperlink{le__mrc__interface_8h_abdbc94e474235417d8610e2eb95558eb}{le\_mrc\_GetNeighborCellId}(cellRef);
        lac = \hyperlink{le__mrc__interface_8h_a70ba0ca70367bc673a6bca1e246bb88f}{le\_mrc\_GetNeighborCellLocAreaCode}(cellRef);
        rxLevel = \hyperlink{le__mrc__interface_8h_aeae116235802afd041afd9df009642aa}{le\_mrc\_GetNeighborCellRxLevel}(cellRef);
        rat = \hyperlink{le__mrc__interface_8h_a5bb3e75b74260a9cee57247e1968a31f}{le\_mrc\_GetNeighborCellRat}(cellRef);
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Cell #%d, cid.%d, lac.%d, rxLevel.%ddBm, RAT.%d"}, i, cid, lac, rxLevel, rat);
        \textcolor{comment}{// Specific values for UMTS and LTE}
        \textcolor{keywordflow}{switch}(rat)
        \{
            \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43afe34c4f3a53aa717f5ecb94dd59bf728}{LE\_MRC\_RAT\_UMTS}:
                ecio = \hyperlink{le__mrc__interface_8h_a94e452e3d7063d3359dcbb97a31b984b}{le\_mrc\_GetNeighborCellUmtsEcIo}(cellRef);
                \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Cell #%d, UMTS EcIo.%010.1fdB"}, i, ((\textcolor{keywordtype}{double})ecio/10));
                \textcolor{keywordflow}{break};

            \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43aaf2b25a8ec75f9bacb51967f23247176}{LE\_MRC\_RAT\_LTE}:
                res = \hyperlink{le__mrc__interface_8h_a7754836120c34cd2610b9777bd56409f}{le\_mrc\_GetNeighborCellLteIntraFreq}(cellRef, &
      intraRsrq, &intraRsrp);
                \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
                res = \hyperlink{le__mrc__interface_8h_a331545d4e396c513bba028db981c016b}{le\_mrc\_GetNeighborCellLteInterFreq}(cellRef, &
      interRsrq, &interRsrp);
                \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

                \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Cell #%d, LTE Intra-RSRQ.%010.1fdB, Intra-RSRP.%010.1fdBm, "}
                        \textcolor{stringliteral}{"Inter-RSRQ.%010.1fdB, Inter-RSRP.%010.1fdBm"},
                        i, ((\textcolor{keywordtype}{double})intraRsrq/10), ((\textcolor{keywordtype}{double})intraRsrp/10),
                        ((\textcolor{keywordtype}{double})interRsrq/10), ((\textcolor{keywordtype}{double})interRsrp/10));
                \textcolor{keywordflow}{break};

            \textcolor{keywordflow}{default}:
                \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Nothing more to display"});
                \textcolor{keywordflow}{break};
        \}

        \textcolor{keywordflow}{while} ((cellRef = \hyperlink{le__mrc__interface_8h_a0baede61d9b260a3ec83e3ab320d0715}{le\_mrc\_GetNextNeighborCellInfo}(ngbrRef)) != NULL)
        \{
            i++;
            cid = \hyperlink{le__mrc__interface_8h_abdbc94e474235417d8610e2eb95558eb}{le\_mrc\_GetNeighborCellId}(cellRef);
            lac = \hyperlink{le__mrc__interface_8h_a70ba0ca70367bc673a6bca1e246bb88f}{le\_mrc\_GetNeighborCellLocAreaCode}(cellRef);
            rxLevel = \hyperlink{le__mrc__interface_8h_aeae116235802afd041afd9df009642aa}{le\_mrc\_GetNeighborCellRxLevel}(cellRef);
            rat = \hyperlink{le__mrc__interface_8h_a5bb3e75b74260a9cee57247e1968a31f}{le\_mrc\_GetNeighborCellRat}(cellRef);
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Cell #%d, cid.%d, lac.%d, rxLevel.%ddBm, RAT.%d"}, i, cid, lac, rxLevel, rat);
            \textcolor{comment}{// Specific values for UMTS and LTE}
            \textcolor{keywordflow}{switch}(rat)
            \{
                \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43afe34c4f3a53aa717f5ecb94dd59bf728}{LE\_MRC\_RAT\_UMTS}:
                    ecio = \hyperlink{le__mrc__interface_8h_a94e452e3d7063d3359dcbb97a31b984b}{le\_mrc\_GetNeighborCellUmtsEcIo}(cellRef);
                    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Cell #%d, UMTS EcIo.%010.1fdB"}, i, ((\textcolor{keywordtype}{double})ecio/10));
                    \textcolor{keywordflow}{break};

                \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43aaf2b25a8ec75f9bacb51967f23247176}{LE\_MRC\_RAT\_LTE}:
                    res = \hyperlink{le__mrc__interface_8h_a7754836120c34cd2610b9777bd56409f}{le\_mrc\_GetNeighborCellLteIntraFreq}(cellRef, &
      intraRsrq, &intraRsrp);
                    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
                    res = \hyperlink{le__mrc__interface_8h_a331545d4e396c513bba028db981c016b}{le\_mrc\_GetNeighborCellLteInterFreq}(cellRef, &
      interRsrq, &interRsrp);
                    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

                    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Cell #%d, LTE Intra-RSRQ.%010.1fdB, Intra-RSRP.%010.1fdBm, "}
                            \textcolor{stringliteral}{"Inter-RSRQ.%010.1fdB, Inter-RSRP.%010.1fdBm"},
                            i, ((\textcolor{keywordtype}{double})intraRsrq/10), ((\textcolor{keywordtype}{double})intraRsrp/10),
                            ((\textcolor{keywordtype}{double})interRsrq/10), ((\textcolor{keywordtype}{double})interRsrp/10));
                    \textcolor{keywordflow}{break};

                \textcolor{keywordflow}{default}:
                    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Nothing more to display"});
                    \textcolor{keywordflow}{break};
            \}
        \}

        \hyperlink{le__mrc__interface_8h_a101343359e8d36ab41180aede2891b07}{le\_mrc\_DeleteNeighborCellsInfo}(ngbrRef);
    \}
\}
\end{DoxyCodeInclude}
\hypertarget{c_sim}{}\subsubsection{S\+IM}\label{c_sim}
\hyperlink{le__sim__interface_8h}{A\+PI Reference} ~\newline
 \hyperlink{platformConstraintsSim}{S\+IM constraints}





This file contains prototype definitions for S\+IM A\+PI.

A subscriber identity module or subscriber identification module (S\+IM) is an integrated circuit that securely stores the international mobile subscriber identity (I\+M\+SI) and related key used to identify and authenticate subscribers on M2M devices.

Most S\+IM cards can store a number of S\+MS messages and phone book contacts.\hypertarget{c_sim_le_sim_binding}{}\paragraph{I\+P\+C interfaces binding}\label{c_sim_le_sim_binding}
All the functions of this A\+PI are provided by the {\bfseries modem\+Service}.

Here\textquotesingle{}s a code sample binding to modem services\+: \begin{DoxyVerb}bindings:
{
   clientExe.clientComponent.le_sim -> modemService.le_sim
}
\end{DoxyVerb}
\hypertarget{c_sim_le_sim_SelectCard}{}\paragraph{Select a card to use}\label{c_sim_le_sim_SelectCard}
\hyperlink{le__sim__interface_8h_a91a0f0399c89e466b9a8ccfab6de129d}{le\+\_\+sim\+\_\+\+Select\+Card()} function is used to select the S\+IM identifier. By default, the S\+IM in slot 1 is used. Additionally, any Legato S\+IM A\+PI with a S\+IM card identifier passed in parameter, selects that S\+IM identifier. \hyperlink{le__sim__interface_8h_a4c9e3ded0485f14c66e4d51763f2de57}{le\+\_\+sim\+\_\+\+Get\+Selected\+Card()} returns the current selected card, not necessarily the one set previously by \hyperlink{le__sim__interface_8h_a91a0f0399c89e466b9a8ccfab6de129d}{le\+\_\+sim\+\_\+\+Select\+Card()}.

\begin{DoxyNote}{Note}
The S\+IM selection is not reset persistent; this function has to be called at each start-\/up.

It is recommended to wait for a S\+IM handler notification after a new S\+IM selection before calling le\+\_\+sim A\+PI functions.
\end{DoxyNote}
A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_simTestSelect}{Sample code for S\+IM Select}
\end{DoxyItemize}\hypertarget{c_sim_le_sim_id}{}\paragraph{S\+I\+M identification information}\label{c_sim_le_sim_id}
{\bfseries I\+C\+C\+ID\+:} Each S\+IM is internationally identified by its integrated circuit card identifier (I\+C\+C\+ID). I\+C\+C\+I\+Ds are stored in the S\+IM cards and engraved or printed on the S\+IM card body. The I\+C\+C\+ID is defined by the I\+T\+U-\/T recommendation E.\+118 as the Primary Account Number. According to E.\+118, the number is up to 19 digits long, including a single check digit calculated using the Luhn algorithm. However, the G\+SM Phase 1 (E\+T\+SI Recommendation G\+SM 11.\+11) defined the I\+C\+C\+ID length as 10 octets (20 digits) with operator-\/specific structure.

\hyperlink{le__sim__interface_8h_a7b43e4e8713af665657e15ae0f5bc1e8}{le\+\_\+sim\+\_\+\+Get\+I\+C\+C\+I\+D()} A\+PI reads the identification number (I\+C\+C\+ID). \hyperlink{le__sim__interface_8h_afc1b8e2aa1b36ed116e9fae4a9a66057}{le\+\_\+sim\+\_\+\+Add\+Iccid\+Change\+Handler()} function registers a handler to be notified when I\+C\+C\+ID changes. \hyperlink{le__sim__interface_8h_ad357ed6124852a92bb30d59227fc5ec2}{le\+\_\+sim\+\_\+\+Remove\+Iccid\+Change\+Handler()} function unregisters the handler.

\begin{DoxyNote}{Note}
During the initialization phase of the service, each new subscription to the I\+C\+C\+ID change event is notified by the last change event. This behavior lasts only for 5 seconds and allows freshly registered clients to receive any I\+C\+C\+ID changes that occured during the module start-\/up phase.
\end{DoxyNote}
Using this A\+PI selects the requested S\+IM.

{\bfseries I\+M\+SI\+:} The International Mobile Subscriber Identity or I\+M\+SI is a unique identification associated with all cellular networks. The I\+M\+SI is used in any mobile network that connects with other networks. For G\+SM, U\+M\+TS and L\+TE network, this number is provisioned in the S\+IM card.

An I\+M\+SI is usually presented as a 15 digit long number, but can be shorter. The first 3 digits are the mobile country code (M\+CC), are followed by the mobile network code (M\+NC), either 2 digits (European standard) or 3 digits (North American standard). The length of the M\+NC depends on the value of the M\+CC. The remaining digits are the mobile subscription identification number (M\+S\+IN) within the network\textquotesingle{}s customer base.

{\bfseries E\+ID\+:} The E\+ID (also called e\+U\+I\+C\+C\+ID) is the unique identifier for the embedded Universal Integrated Circuit Card (e\+U\+I\+CC). A e\+U\+I\+CC is a S\+IM card with a remote provisioning function, and is designed to not be removed or changed. It is able to store multiple communication profiles but only one is enabled (recognized by the device and used for communication). With conventional S\+IM cards, the I\+C\+C\+ID is used as the unique key to identify the S\+IM card, but with e\+U\+I\+CC, the I\+C\+C\+ID is the key used to identify a profile, and a new identifier is defined, called the e\+U\+I\+C\+C\+ID (E\+ID), which is used as the unique key for the embedded S\+IM. \hyperlink{le__sim__interface_8h_a069ff8cf1d16a1b639c893619a618c10}{le\+\_\+sim\+\_\+\+Get\+E\+I\+D()} A\+PI reads the E\+ID.

{\bfseries Home} {\bfseries Network} {\bfseries Name\+:} \hyperlink{le__sim__interface_8h_a2fa95e7fdaaff2fd000e676b9cc34344}{le\+\_\+sim\+\_\+\+Get\+Home\+Network\+Operator()} retrieves the Home Network Name.

\hyperlink{le__sim__interface_8h_acc0f801f268630ea496377077a366374}{le\+\_\+sim\+\_\+\+Get\+I\+M\+S\+I()} A\+PI reads the international mobile subscriber identity (I\+M\+SI).

Using this A\+PI selects the requested S\+IM.

{\bfseries Phone} {\bfseries Number\+:} \hyperlink{le__sim__interface_8h_a5964edfe6070d40e0518c0a5d25aa628}{le\+\_\+sim\+\_\+\+Get\+Subscriber\+Phone\+Number()} A\+PI reads the Phone Number associated to the S\+IM. If the phone number has not been provisioned, it will return the empty string.

Using this A\+PI selects the requested S\+IM.

{\bfseries Home} {\bfseries Network} {\bfseries Information\+:} 
\begin{DoxyItemize}
\item \hyperlink{le__sim__interface_8h_a2fa95e7fdaaff2fd000e676b9cc34344}{le\+\_\+sim\+\_\+\+Get\+Home\+Network\+Operator()}function retrieves the Home Network Name.
\item \hyperlink{le__sim__interface_8h_a6bab381ed34046b553145bfbe53dfa3c}{le\+\_\+sim\+\_\+\+Get\+Home\+Network\+Mcc\+Mnc()}function retrieves the Home Network M\+CC (Mobile Country Code) and M\+NC (Mobile Network Code).
\end{DoxyItemize}

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_simTestIdentification}{Sample code for S\+IM Identification}
\end{DoxyItemize}\hypertarget{c_sim_le_sim_auth}{}\paragraph{S\+I\+M Authentication}\label{c_sim_le_sim_auth}
\hyperlink{le__sim__interface_8h_ac9cafacb5affb0b531534e3fc547ebd2}{le\+\_\+sim\+\_\+\+Enter\+P\+I\+N()} enters the P\+IN (Personal Identification Number) code that\textquotesingle{}s required before any Mobile equipment functionality can be used.

Using this A\+PI selects the requested S\+IM.

\hyperlink{le__sim__interface_8h_a8886dbb94aa732883ec5a67ddd345f98}{le\+\_\+sim\+\_\+\+Get\+Remaining\+P\+I\+N\+Tries()} returns the number of remaining P\+IN entry attempts before the S\+IM will become blocked.

Using this A\+PI selects the requested S\+IM.

\hyperlink{le__sim__interface_8h_a285eeaa3c5e1977abbe49682145f3d35}{le\+\_\+sim\+\_\+\+Get\+Remaining\+P\+U\+K\+Tries()} returns the number of remaining P\+UK entry attempts before the S\+IM will become blocked.

Using this A\+PI selects the requested S\+IM.

\hyperlink{le__sim__interface_8h_a50b6ce8bae5a073307d1d12550b22c1e}{le\+\_\+sim\+\_\+\+Change\+P\+I\+N()} must be called to change the P\+IN code.

Using this A\+PI selects the requested S\+IM.

\hyperlink{le__sim__interface_8h_a6fab9b258f5af39645b9a200ed202a27}{le\+\_\+sim\+\_\+\+Lock()} locks the S\+IM card\+: it enables requests for the P\+IN code.

Using this A\+PI selects the requested S\+IM.

\hyperlink{le__sim__interface_8h_a4397d51c42ba894f0fa4206341a0dc64}{le\+\_\+sim\+\_\+\+Unlock()} unlocks the S\+IM card\+: it disables requests for the P\+IN code.

Using this A\+PI selects the requested S\+IM.

\hyperlink{le__sim__interface_8h_a234634c9789cdbc8f76629a2272bd2dd}{le\+\_\+sim\+\_\+\+Unblock()} unblocks the S\+IM card. The S\+IM card is blocked after X unsuccessful attempts to enter the P\+IN. \hyperlink{le__sim__interface_8h_a234634c9789cdbc8f76629a2272bd2dd}{le\+\_\+sim\+\_\+\+Unblock()} requires the P\+UK (Personal Unblocking) code to set a new P\+IN code.

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_simTestAuthentication}{Sample code for S\+IM Authentication}
\end{DoxyItemize}\hypertarget{c_sim_le_sim_state}{}\paragraph{S\+I\+M states}\label{c_sim_le_sim_state}
\hyperlink{le__sim__interface_8h_aa3255a29cec4358c5e0d68b9ac62ff88}{le\+\_\+sim\+\_\+\+Is\+Present()} A\+PI advises the S\+IM is inserted (and locked) or removed.

Using this A\+PI selects the requested S\+IM.

\hyperlink{le__sim__interface_8h_ace457890856d3692ecb4176f0e892558}{le\+\_\+sim\+\_\+\+Is\+Ready()} A\+PI advises the S\+IM is ready (P\+IN code correctly entered or not required).

Using this A\+PI selects the requested S\+IM.

The \hyperlink{le__sim__interface_8h_a16b06f266471d81f772e5439ec570144}{le\+\_\+sim\+\_\+\+Get\+State()} A\+PI retrieves the S\+IM state\+:
\begin{DoxyItemize}
\item L\+E\+\_\+\+S\+I\+M\+\_\+\+I\+N\+S\+E\+R\+T\+ED \+: S\+IM card is inserted and locked.
\item L\+E\+\_\+\+S\+I\+M\+\_\+\+A\+B\+S\+E\+NT \+: S\+IM card is absent.
\item L\+E\+\_\+\+S\+I\+M\+\_\+\+R\+E\+A\+DY \+: S\+IM card is inserted and unlocked.
\item L\+E\+\_\+\+S\+I\+M\+\_\+\+B\+L\+O\+C\+K\+ED \+: S\+IM card is blocked.
\item L\+E\+\_\+\+S\+I\+M\+\_\+\+B\+U\+SY \+: S\+IM card is busy.
\item L\+E\+\_\+\+S\+I\+M\+\_\+\+S\+T\+A\+T\+E\+\_\+\+U\+N\+K\+N\+O\+WN \+: Unknown S\+IM state.
\end{DoxyItemize}

Using this A\+PI selects the requested S\+IM.

A handler function must be registered to receive S\+IM\textquotesingle{}s state notifications. \hyperlink{le__sim__interface_8h_a8e296a7cd35edd99cb1dc21232e280dd}{le\+\_\+sim\+\_\+\+Add\+New\+State\+Handler()} A\+PI allows the User to register that handler.

The handler must satisfy the following prototype\+: typedef void($\ast$le\+\_\+sim\+\_\+\+New\+State\+Handler\+Func\+\_\+t)(\hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdd}{le\+\_\+sim\+\_\+\+Id\+\_\+t} sim\+Id, {\ttfamily le\+\_\+sim\+\_\+\+States\+\_\+t} sim\+State);

When a new S\+IM\textquotesingle{}s state is notified, the handler is called.

Call \hyperlink{le__sim__interface_8h_a16b06f266471d81f772e5439ec570144}{le\+\_\+sim\+\_\+\+Get\+State()} to retrieve the new state of the S\+IM.

\begin{DoxyNote}{Note}
If two (or more) applications have registered a handler function for notifications, they will all receive it and will be passed the same S\+IM.
\end{DoxyNote}
The application can uninstall the handler function by calling \hyperlink{le__sim__interface_8h_a0286578e9aa46ba864df1878263b9f84}{le\+\_\+sim\+\_\+\+Remove\+New\+State\+Handler()} A\+PI.

\begin{DoxyWarning}{Warning}
Your platform might need a reboot to detect a S\+IM insertion or removal. Please refer to the \hyperlink{platformConstraintsSim}{S\+IM constraints} page or your platform documentation for further details.
\end{DoxyWarning}
A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_simTestStates}{Sample code for S\+IM States}
\end{DoxyItemize}

\hyperlink{le__sim__interface_8h_a158c30712c4fd0afc06e66591eb89a6c}{le\+\_\+sim\+\_\+\+Set\+Power()} powers up or down the current S\+IM card.\hypertarget{c_sim_le_sim_profile_switch}{}\paragraph{S\+I\+M profile switch}\label{c_sim_le_sim_profile_switch}
As soon as there are several subscriptions/profiles in the e\+U\+I\+CC (multi-\/profile), and one of them is dedicated to emergency calls (ex\+: e\+Call, E\+R\+A-\/\+Glonass), local swap is needed to swap as quickly as possible to the emergency profile in case of need.

“\+Local swap” means that the User\textquotesingle{}s application must be able to directly request the e\+U\+I\+CC to swap to Emergency Call Subscription (E\+CS).

Local swap puts the e\+U\+I\+CC in a temporary state, meaning the commercial subscription is replaced by emergency subscription for a limited time, event triggering the swap back to commercial subscription being controlled by the User\textquotesingle{}s application.

The \hyperlink{le__sim__interface_8h_aa856f5e094e8182c8d0b07761e309549}{le\+\_\+sim\+\_\+\+Local\+Swap\+To\+Emergency\+Call\+Subscription()} function requests the multi-\/profile e\+U\+I\+CC to swap to E\+CS and to refresh. The User\textquotesingle{}s application must wait for e\+U\+I\+CC reboot to be finished and network connection available.

The \hyperlink{le__sim__interface_8h_a51b535750b66c4cf460e3c8c72f3658d}{le\+\_\+sim\+\_\+\+Local\+Swap\+To\+Commercial\+Subscription()} function requests the multi-\/profile e\+U\+I\+CC to swap back to commercial subscription and to refresh. The User\textquotesingle{}s application must wait for e\+U\+I\+CC reboot to be finished and network connection available.

e\+U\+I\+CC allows support of multiple S\+IM profiles. These profiles can also be managed remotely from a Subscription Manager Server. Changing the S\+IM profile remotely may impact the customer application especially if there is an ongoing data transmission. To prevent any data loss, switching S\+IM profiles is subject to a user agreement. This way, the customer application will be able to properly finalize its current procedure (emergency call for instance) before accepting the S\+IM swap.

The application can subscribe a handler using \hyperlink{le__sim__interface_8h_a94458aae91c311867bd8b3960c507aef}{le\+\_\+sim\+\_\+\+Add\+Profile\+Update\+Handler()} to monitor S\+IM profile change requests. Thus, the application can choose to accept or reject the S\+IM profile swap procedure using \hyperlink{le__sim__interface_8h_a8cc75a17466446c19c5bd941b1360e0e}{le\+\_\+sim\+\_\+\+Accept\+Sim\+Toolkit\+Command()} or \hyperlink{le__sim__interface_8h_a8cbdc50d62ddd5ea80386d27e16d954f}{le\+\_\+sim\+\_\+\+Reject\+Sim\+Toolkit\+Command()}.

\begin{DoxyWarning}{Warning}
If there is no subscribed handler, the S\+IM service automatically accepts any S\+IM profile swap request.
\end{DoxyWarning}
The User\textquotesingle{}s application can install a handler with \hyperlink{le__sim__interface_8h_a8e296a7cd35edd99cb1dc21232e280dd}{le\+\_\+sim\+\_\+\+Add\+New\+State\+Handler()} to receive e\+U\+I\+CC\textquotesingle{}s state notifications.

\begin{DoxyWarning}{Warning}

\begin{DoxyItemize}
\item If you use a Morpho or Oberthur card, the S\+I\+M\+\_\+\+R\+E\+F\+R\+E\+SH P\+R\+O-\/\+A\+C\+T\+I\+VE command must be accepted with \hyperlink{le__sim__interface_8h_a8cc75a17466446c19c5bd941b1360e0e}{le\+\_\+sim\+\_\+\+Accept\+Sim\+Toolkit\+Command()} in order to complete the profile swap procedure.
\item If you use a Giesecke \& Devrient (G\&D) card, be sure that your platform has disabled security restrictions for channel management A\+P\+DU commands, otherwise local S\+IM profile switch could not work.
\end{DoxyItemize}
\end{DoxyWarning}
The \hyperlink{le__sim__interface_8h_a837cdc0fe30761f4339f846a0b44c5f1}{le\+\_\+sim\+\_\+\+Is\+Emergency\+Call\+Subscription\+Selected()} function must be called to get the current subscription.

\begin{DoxyWarning}{Warning}
There is no standard method to interrogate the current selected subscription. The returned value of this function is based on the last executed local swap command. This means that this function will always return L\+E\+\_\+\+N\+O\+T\+\_\+\+F\+O\+U\+ND error at Legato startup.
\end{DoxyWarning}
A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_simTestProfileSwitch}{Sample code for Local S\+IM profile switch}
\end{DoxyItemize}\hypertarget{c_sim_le_sim_Reset}{}\paragraph{S\+I\+M Reset}\label{c_sim_le_sim_Reset}
The \hyperlink{le__sim__interface_8h_aaed2544651545d68845f3596fd5d448b}{le\+\_\+sim\+\_\+\+Reset()} function resets the S\+IM card.\hypertarget{c_sim_le_sim_FPLMNList}{}\paragraph{Read / Write F\+P\+L\+M\+N List from S\+IM}\label{c_sim_le_sim_FPLMNList}
The \hyperlink{le__sim__interface_8h_ac9657cb9b3af960910988ce23c8fc31a}{le\+\_\+sim\+\_\+\+Create\+F\+P\+L\+M\+N\+List()} function creates the empty F\+P\+L\+MN list.

The \hyperlink{le__sim__interface_8h_a9c425b48c314ce4ec85bc2954aedf238}{le\+\_\+sim\+\_\+\+Add\+F\+P\+L\+M\+N\+Operator()} function adds the F\+P\+L\+MN network into F\+P\+L\+MN list.

The \hyperlink{le__sim__interface_8h_aa0eaa48a1c29cd8f3d64e866823ca2ca}{le\+\_\+sim\+\_\+\+Write\+F\+P\+L\+M\+N\+List()} function writes F\+P\+L\+MN list into the S\+IM.

The \hyperlink{le__sim__interface_8h_a09ab2e629232e35ffbc0007dca0923e9}{le\+\_\+sim\+\_\+\+Read\+F\+P\+L\+M\+N\+List()} function reads the F\+P\+L\+MN list from the S\+IM card.

The \hyperlink{le__sim__interface_8h_acdc45e95cbcbff57f3dd0dc6e1967d39}{le\+\_\+sim\+\_\+\+Get\+First\+F\+P\+L\+M\+N\+Operator()} function fetches the first F\+P\+L\+MN operator from F\+P\+L\+MN list.

The \hyperlink{le__sim__interface_8h_af7069f351aca77efe7dcfe1519df21c8}{le\+\_\+sim\+\_\+\+Get\+Next\+F\+P\+L\+M\+N\+Operator()} function fetches the next F\+P\+L\+MN operator from F\+P\+L\+MN list.

The \hyperlink{le__sim__interface_8h_ac96338b9c989602b32e1d8555eb33a0b}{le\+\_\+sim\+\_\+\+Delete\+F\+P\+L\+M\+N\+List()} function releases all allocated resources associated with the List object.

\begin{DoxyNote}{Note}
Some platforms do not support F\+P\+L\+MN A\+P\+Is. Please refer to the \hyperlink{platformConstraintsSim}{S\+IM constraints} page or your platform documentation for further details.
\end{DoxyNote}
\hypertarget{c_sim_le_sim_stk}{}\paragraph{S\+I\+M Toolkit}\label{c_sim_le_sim_stk}
The S\+IM application Toolkit allows the S\+IM card to initiate commands or asking input from the modem to accept/reject S\+IM operations.

One of the use case is the remote provisioning of an embedded U\+I\+CC (e\+U\+I\+CC)\+: the e\+U\+I\+CC format supports multiple subscription profiles, which can be remotely provisioned, updated or selected through S\+IM Toolkit procedures (Bearer Independent Protocol {\itshape B\+IP}, S\+IM refresh).

It is mainly used for in-\/vehicle emergency call service (e\+Call).

An e\+U\+I\+CC can be remotely managed to change the Mobile Network Operator subscription.

The \hyperlink{le__sim__interface_8h_a85577728a34d70801cbb4deb8efd75d5}{le\+\_\+sim\+\_\+\+Add\+Sim\+Toolkit\+Event\+Handler()} A\+PI registers a handler to be notified of S\+IM Toolkit events. The \hyperlink{le__sim__interface_8h_a2485840533f80632a61096b1d7c5d8f2}{le\+\_\+sim\+\_\+\+Remove\+Sim\+Toolkit\+Event\+Handler()} A\+PI unregisters the handler.

The last received S\+IM Toolkit command can\+:
\begin{DoxyItemize}
\item Either be accepted by the device with the \hyperlink{le__sim__interface_8h_a8cc75a17466446c19c5bd941b1360e0e}{le\+\_\+sim\+\_\+\+Accept\+Sim\+Toolkit\+Command()} A\+PI
\item Or be rejected by the device with the \hyperlink{le__sim__interface_8h_a8cbdc50d62ddd5ea80386d27e16d954f}{le\+\_\+sim\+\_\+\+Reject\+Sim\+Toolkit\+Command()} A\+PI. Note that if no handler is registered, refresh requests are automatically accepted.
\end{DoxyItemize}

In case the last S\+IM Toolkit command is a Refresh command (\hyperlink{le__sim__interface_8h_a7c53ab7f9f004387ef41e80df1121da2a4e4be9cfce6ef2e0832d707820cd106d}{L\+E\+\_\+\+S\+I\+M\+\_\+\+R\+E\+F\+R\+E\+SH}), additional information can be retrieved\+:
\begin{DoxyItemize}
\item The \hyperlink{le__sim__interface_8h_a81bd3909308a1456225e59f1f36e73e3}{le\+\_\+sim\+\_\+\+Get\+Sim\+Toolkit\+Refresh\+Stage()} A\+PI gets the stage of the Refresh command.
\item The \hyperlink{le__sim__interface_8h_a82331254a8f94c20c01a9962a488a29f}{le\+\_\+sim\+\_\+\+Get\+Sim\+Toolkit\+Refresh\+Mode()} A\+PI gets the mode of the Refresh command, as defined in E\+T\+SI TS 102 223 sections 6.\+4.\+7 and 8.\+6.
\end{DoxyItemize}

A sample code using the S\+IM Toolkit A\+P\+Is can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_simTestSimToolkit}{Sample code for Local S\+IM Toolkit}
\end{DoxyItemize}

Information related to S\+IM Toolkit platform constraints can be found in the \hyperlink{platformConstraintsStk}{S\+IM Toolkit platform constraints} page.\hypertarget{c_sim_le_sim_access}{}\paragraph{S\+I\+M access}\label{c_sim_le_sim_access}
The S\+IM card content can be accessed and/or modified by several methods.\hypertarget{c_sim_le_sim_accessApdu}{}\subparagraph{A\+P\+DU}\label{c_sim_le_sim_accessApdu}
The application can send an A\+P\+DU (Application Protocol Data Unit) to the S\+IM using \hyperlink{le__sim__interface_8h_ad59f8ec574f4eab0cfae070a1e593298}{le\+\_\+sim\+\_\+\+Send\+Apdu()} A\+PI. The user must encode the A\+P\+DU as specified by in recommendation 3\+G\+PP 11.\+11, 3\+G\+PP 51.\+011, 3\+G\+PP 31.\+102, 3\+G\+PP 31.\+103 or E\+T\+SI TS 102 221. \begin{DoxyNote}{Note}
Between two successive calls to \hyperlink{le__sim__interface_8h_ad59f8ec574f4eab0cfae070a1e593298}{le\+\_\+sim\+\_\+\+Send\+Apdu()} A\+PI, there is no locking protection. In this situation, some command types and parameters can modify S\+IM files incorrectly.
\end{DoxyNote}
\hypertarget{c_sim_le_sim_accessCommand}{}\subparagraph{Commands}\label{c_sim_le_sim_accessCommand}
Using \hyperlink{le__sim__interface_8h_a8bbaea044b44f8b0ebff67bf98de816a}{le\+\_\+sim\+\_\+\+Send\+Command()}, the application has easier but more limited access to the S\+IM database. The command is transmitted to the S\+IM, which gives information through swi1 and swi2 about the execution of the command (see 3\+G\+PP recommendation previously mentioned for their coding). Some parameters are platform dependent, see \hyperlink{platformConstraintsSim}{S\+IM constraints} for their coding.\hypertarget{c_sim_le_sim_accessLogicalChannel}{}\subparagraph{Logical channels}\label{c_sim_le_sim_accessLogicalChannel}
Logical channels are specified by the standard E\+T\+SI TS 102 221 in the section 8.\+7. If they are supported by the S\+IM card, logical channels allow to send independent A\+P\+D\+Us on the different channels. In this case\+:
\begin{DoxyItemize}
\item the basic channel 0 is always available and opened.
\item upon request, the card assigns a number to open a new channel. This channel remains open until it is explicitly closed or the S\+IM card is deactivated.
\end{DoxyItemize}

Use \hyperlink{le__sim__interface_8h_a88e2de9b9079e142b7a11bbb43bd95be}{le\+\_\+sim\+\_\+\+Open\+Logical\+Channel()} A\+PI to open a logical channel on the S\+IM card. A\+P\+D\+Us can then be sent to the S\+IM card with \hyperlink{le__sim__interface_8h_ac6bddf340beb65e2d9bdde307694cbb1}{le\+\_\+sim\+\_\+\+Send\+Apdu\+On\+Channel()}. When the logical channel is not needed anymore, it can be closed using \hyperlink{le__sim__interface_8h_ac3f55bd37c4b1df143bec93883fd1467}{le\+\_\+sim\+\_\+\+Close\+Logical\+Channel()}.\hypertarget{c_sim_le_sim_accessSampleCode}{}\subparagraph{Sample code}\label{c_sim_le_sim_accessSampleCode}
A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_simTestApdu}{Sample code for S\+IM access}
\end{DoxyItemize}





Copyright (C) Sierra Wireless Inc. \hypertarget{c_simTestSelect}{}\paragraph{Sample code for S\+IM Select}\label{c_simTestSelect}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: SIM selection.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keywordtype}{void} simTest\_SimSelect
(
)
\{
    \textcolor{comment}{// Select the embedded SIM}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_a91a0f0399c89e466b9a8ccfab6de129d}{le\_sim\_SelectCard}(\hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccddac9d9805213bfb9ae4d299aa70097846a}{LE\_SIM\_EMBEDDED}));

    \textcolor{comment}{// Get the selected card}
    \hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdd}{le\_sim\_Id\_t} simId = \hyperlink{le__sim__interface_8h_a4c9e3ded0485f14c66e4d51763f2de57}{le\_sim\_GetSelectedCard}();
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccddac9d9805213bfb9ae4d299aa70097846a}{LE\_SIM\_EMBEDDED} == simId);

    \textcolor{comment}{// Select the LE\_SIM\_EXTERNAL\_SLOT\_1 SIM}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_a91a0f0399c89e466b9a8ccfab6de129d}{le\_sim\_SelectCard}(
      \hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdda4270fb44e8fa7876f337864675b42f2d}{LE\_SIM\_EXTERNAL\_SLOT\_1}));

    \textcolor{comment}{// Get the selected card}
    simId = \hyperlink{le__sim__interface_8h_a4c9e3ded0485f14c66e4d51763f2de57}{le\_sim\_GetSelectedCard}();
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdda4270fb44e8fa7876f337864675b42f2d}{LE\_SIM\_EXTERNAL\_SLOT\_1} == simId);

    \textcolor{comment}{// Check if SIM present}
    \textcolor{keywordflow}{if} (!\hyperlink{le__sim__interface_8h_aa3255a29cec4358c5e0d68b9ac62ff88}{le\_sim\_IsPresent}(\hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccddac9d9805213bfb9ae4d299aa70097846a}{LE\_SIM\_EMBEDDED}))
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"SIM not present"});
    \}

    \textcolor{comment}{// Get the selected card by le\_sim\_GetSelectedCard()}
    \textcolor{comment}{// Notice that the selected card received is the one used by the}
    \textcolor{comment}{// last Legato API and not the one set by le\_sim\_SelectCard().}
    simId = \hyperlink{le__sim__interface_8h_a4c9e3ded0485f14c66e4d51763f2de57}{le\_sim\_GetSelectedCard}();
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccddac9d9805213bfb9ae4d299aa70097846a}{LE\_SIM\_EMBEDDED} == simId);

    \textcolor{comment}{// Check SIM ready}
    \textcolor{keywordflow}{if} (!\hyperlink{le__sim__interface_8h_ace457890856d3692ecb4176f0e892558}{le\_sim\_IsReady}(\hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdda4270fb44e8fa7876f337864675b42f2d}{LE\_SIM\_EXTERNAL\_SLOT\_1}))
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"SIM not ready"});
    \}

    \textcolor{comment}{// Get the selected card by le\_sim\_GetSelectedCard()}
    \textcolor{comment}{// Notice that the selected card received is the one used by the}
    \textcolor{comment}{// last Legato API and not the one set by le\_sim\_SelectCard().}
    simId = \hyperlink{le__sim__interface_8h_a4c9e3ded0485f14c66e4d51763f2de57}{le\_sim\_GetSelectedCard}();
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdda4270fb44e8fa7876f337864675b42f2d}{LE\_SIM\_EXTERNAL\_SLOT\_1} == simId);


\}
\end{DoxyCodeInclude}
\hypertarget{c_simTestIdentification}{}\paragraph{Sample code for S\+IM Identification}\label{c_simTestIdentification}

\begin{DoxyCodeInclude}
\end{DoxyCodeInclude}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Creation & information retrieving.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keywordtype}{void} simTest\_Create
(
    \hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdd}{le\_sim\_Id\_t} simId,
    \textcolor{keyword}{const} \textcolor{keywordtype}{char}* pinPtr
)
\{
    \textcolor{keywordtype}{bool}            presence = \textcolor{keyword}{false};
    \textcolor{keywordtype}{char}            iccid[\hyperlink{le__sim__interface_8h_a70c33c93f96c8376220b123909654d61}{LE\_SIM\_ICCID\_BYTES}] = \{0\};
    \textcolor{keywordtype}{char}            imsi[\hyperlink{le__sim__interface_8h_af25612258426b8b806ab4128e5b055b6}{LE\_SIM\_IMSI\_BYTES}] = \{0\};
    \textcolor{keywordtype}{char}            eid[\hyperlink{le__sim__interface_8h_a276b1619d8c45072da5572addb52e91f}{LE\_SIM\_EID\_BYTES}] = \{0\};

    \textcolor{comment}{// Enter PIN code}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_ac9cafacb5affb0b531534e3fc547ebd2}{le\_sim\_EnterPIN}(simId, pinPtr));

    \textcolor{comment}{// Get ICCID}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_a7b43e4e8713af665657e15ae0f5bc1e8}{le\_sim\_GetICCID}(simId, iccid, \textcolor{keyword}{sizeof}(iccid)));
    Print( iccid );

    \textcolor{comment}{// Get EID}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_a069ff8cf1d16a1b639c893619a618c10}{le\_sim\_GetEID}(simId, eid, \textcolor{keyword}{sizeof}(eid)));
    Print( eid );

    \textcolor{comment}{// Get IMSI}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_acc0f801f268630ea496377077a366374}{le\_sim\_GetIMSI}(simId, imsi, \textcolor{keyword}{sizeof}(imsi)));
    Print( imsi );

    \textcolor{comment}{// Check if SIM present}
    presence = \hyperlink{le__sim__interface_8h_aa3255a29cec4358c5e0d68b9ac62ff88}{le\_sim\_IsPresent}(simId);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(presence);
\}
\end{DoxyCodeInclude}
\hypertarget{c_simTestAuthentication}{}\paragraph{Sample code for S\+IM Authentication}\label{c_simTestAuthentication}

\begin{DoxyCodeInclude}
\textcolor{preprocessor}{#define NEW\_PIN\_TEST        "5678"}
\textcolor{preprocessor}{#define FAIL\_PIN\_TEST       "4321"}
\textcolor{preprocessor}{#define FAIL\_PUK\_TEST       "87654321"}
\end{DoxyCodeInclude}

\begin{DoxyCodeInclude}
\end{DoxyCodeInclude}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Authentication (pin/puk).}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keywordtype}{void} simTest\_Authentication
(
    \hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdd}{le\_sim\_Id\_t} simId,
    \textcolor{keyword}{const} \textcolor{keywordtype}{char}* pinPtr,
    \textcolor{keyword}{const} \textcolor{keywordtype}{char}* pukPtr
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t}     res;
    \textcolor{keywordtype}{bool}            ready = \textcolor{keyword}{false};
    int32\_t         remainingPinTries = 0;
    int32\_t         tries = 0;
    uint32\_t        remainingPukTries = 0;
    uint32\_t        pukTries = 0;
    \textcolor{keywordtype}{char}            \textcolor{keywordtype}{string}[100];

    memset(\textcolor{keywordtype}{string}, 0, 100);

    \textcolor{comment}{// Get the remaining PIN entries}
    remainingPinTries = \hyperlink{le__sim__interface_8h_a8886dbb94aa732883ec5a67ddd345f98}{le\_sim\_GetRemainingPINTries}(simId);

    \textcolor{comment}{// Enter PIN code}
    res = \hyperlink{le__sim__interface_8h_ac9cafacb5affb0b531534e3fc547ebd2}{le\_sim\_EnterPIN}(simId, FAIL\_PIN\_TEST);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798}{LE\_FAULT});

    \textcolor{comment}{// Get the remaining PIN entries}
    tries = \hyperlink{le__sim__interface_8h_a8886dbb94aa732883ec5a67ddd345f98}{le\_sim\_GetRemainingPINTries}(simId);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}((remainingPinTries-tries) == 1);

    \textcolor{comment}{// Check that the SIM is not ready}
    ready = \hyperlink{le__sim__interface_8h_ace457890856d3692ecb4176f0e892558}{le\_sim\_IsReady}(simId);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(!ready);

    \textcolor{comment}{// Enter PIN code}
    res = \hyperlink{le__sim__interface_8h_ac9cafacb5affb0b531534e3fc547ebd2}{le\_sim\_EnterPIN}(simId, pinPtr);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    \textcolor{comment}{// Check that the SIM is ready}
    ready = \hyperlink{le__sim__interface_8h_ace457890856d3692ecb4176f0e892558}{le\_sim\_IsReady}(simId);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(ready);

    \textcolor{comment}{// Change PIN}
    res = \hyperlink{le__sim__interface_8h_a50b6ce8bae5a073307d1d12550b22c1e}{le\_sim\_ChangePIN}(simId, FAIL\_PIN\_TEST, NEW\_PIN\_TEST);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798}{LE\_FAULT});

    \textcolor{comment}{// Change the PIN code}
    res = \hyperlink{le__sim__interface_8h_a50b6ce8bae5a073307d1d12550b22c1e}{le\_sim\_ChangePIN}(simId, pinPtr, NEW\_PIN\_TEST);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    \textcolor{comment}{// block the SIM:}
    \textcolor{comment}{// while remaining PIN entries not null, enter a wrong PIN code}
    \textcolor{keywordflow}{while}((remainingPinTries = \hyperlink{le__sim__interface_8h_a8886dbb94aa732883ec5a67ddd345f98}{le\_sim\_GetRemainingPINTries}(simId)) > 0)
    \{
        \textcolor{comment}{// Enter PIN code}
        res = \hyperlink{le__sim__interface_8h_ac9cafacb5affb0b531534e3fc547ebd2}{le\_sim\_EnterPIN}(simId, FAIL\_PIN\_TEST);
    \}

    \textcolor{keywordflow}{if}(remainingPinTries < 0)
    \{
        sprintf(\textcolor{keywordtype}{string}, \textcolor{stringliteral}{"\(\backslash\)nle\_sim\_GetRemainingPINTries error, res.%d (should be >=0)\(\backslash\)n"},
                remainingPinTries);
        Print(\textcolor{keywordtype}{string});
    \}

    \textcolor{comment}{// Get the remaining PUK entries}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_a285eeaa3c5e1977abbe49682145f3d35}{le\_sim\_GetRemainingPUKTries}(simId, &
      remainingPukTries));

    \textcolor{comment}{// Unblock the SIM using a wrong PUK code (error expected)}
    res = \hyperlink{le__sim__interface_8h_a234634c9789cdbc8f76629a2272bd2dd}{le\_sim\_Unblock}(simId, FAIL\_PUK\_TEST, NEW\_PIN\_TEST);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798}{LE\_FAULT});

    \textcolor{comment}{// Get the remaining PUK entries}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_a285eeaa3c5e1977abbe49682145f3d35}{le\_sim\_GetRemainingPUKTries}(simId, &pukTries));
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(1 == (remainingPukTries-pukTries));

    \textcolor{comment}{// Unblock the SIM using the correct PUK code}
    res = \hyperlink{le__sim__interface_8h_a234634c9789cdbc8f76629a2272bd2dd}{le\_sim\_Unblock}(simId, pukPtr, NEW\_PIN\_TEST);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(LE\_OK == res);

    \textcolor{comment}{// Get the remaining PUK entries}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_a285eeaa3c5e1977abbe49682145f3d35}{le\_sim\_GetRemainingPUKTries}(simId, &pukTries));
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}((0 == remainingPukTries-pukTries));

    Print(\textcolor{stringliteral}{"End simTest\_Authentication"});
\}
\end{DoxyCodeInclude}
\hypertarget{c_simTestStates}{}\paragraph{Sample code for S\+IM States}\label{c_simTestStates}

\begin{DoxyCodeInclude}
\end{DoxyCodeInclude}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * This function display the SIM state.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} DisplaySimState
(
    \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41}{le\_sim\_States\_t} state,
    \hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdd}{le\_sim\_Id\_t} simId
)
\{
    \textcolor{keywordtype}{char} \textcolor{keywordtype}{string}[100];

    memset(\textcolor{keywordtype}{string},0,100);

    \textcolor{keywordflow}{switch}(state)
    \{
        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41a86aea853ae5fcc1a2e3c8d352d8689d3}{LE\_SIM\_INSERTED}:
            sprintf(\textcolor{keywordtype}{string}, \textcolor{stringliteral}{"\(\backslash\)nSIM Card state LE\_SIM\_INSERTED for SIM card.%d \(\backslash\)n"}, simId);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41a813e26946372fbc3960aa97713b6ca2f}{LE\_SIM\_ABSENT}:
            sprintf(\textcolor{keywordtype}{string}, \textcolor{stringliteral}{"\(\backslash\)nSIM Card state LE\_SIM\_ABSENT for SIM card.%d \(\backslash\)n"}, simId);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41aa7f1f6c3391e32af8ce3ba2242276d64}{LE\_SIM\_READY}:
            sprintf(\textcolor{keywordtype}{string}, \textcolor{stringliteral}{"\(\backslash\)nSIM Card state LE\_SIM\_READY for SIM card.%d \(\backslash\)n"}, simId);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41af83b91131d516ad3756781108000515a}{LE\_SIM\_BLOCKED}:
            sprintf(\textcolor{keywordtype}{string}, \textcolor{stringliteral}{"\(\backslash\)nSIM Card state LE\_SIM\_BLOCKED for SIM card.%d \(\backslash\)n"}, simId);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41a944435801d6359050dc37092396ca951}{LE\_SIM\_BUSY}:
            sprintf(\textcolor{keywordtype}{string}, \textcolor{stringliteral}{"\(\backslash\)nSIM Card state LE\_SIM\_BUSY for SIM card.%d \(\backslash\)n"}, simId);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41ad82522676bf094ea402a0311356e434f}{LE\_SIM\_STATE\_UNKNOWN}:
            sprintf(\textcolor{keywordtype}{string}, \textcolor{stringliteral}{"\(\backslash\)nSIM Card state LE\_SIM\_STATE\_UNKNOWN for SIM card.%d \(\backslash\)n"}, simId);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{default}:
            sprintf(\textcolor{keywordtype}{string}, \textcolor{stringliteral}{"\(\backslash\)nSIM Card state %d for SIM card.%d \(\backslash\)n"}, state, simId);
            \textcolor{keywordflow}{break};
    \}

    Print(\textcolor{keywordtype}{string});
\}
\end{DoxyCodeInclude}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Handler function for SIM States Notifications.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} TestSimStateHandler
(
    \hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdd}{le\_sim\_Id\_t}     simId,       \textcolor{comment}{///< [IN] SIM identifier}
\textcolor{comment}{}    \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41}{le\_sim\_States\_t} simState,    \textcolor{comment}{///< [IN] SIM state}
\textcolor{comment}{}    \textcolor{keywordtype}{void}*           contextPtr   \textcolor{comment}{///< [IN] Context}
\textcolor{comment}{})
\{
    \textcolor{keywordflow}{switch} (simState)
    \{
        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41a86aea853ae5fcc1a2e3c8d352d8689d3}{LE\_SIM\_INSERTED}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- New state LE\_SIM\_INSERTED for SIM card.%d"}, simId);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41a813e26946372fbc3960aa97713b6ca2f}{LE\_SIM\_ABSENT}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- New state LE\_SIM\_ABSENT for SIM card.%d"}, simId);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41aa7f1f6c3391e32af8ce3ba2242276d64}{LE\_SIM\_READY}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- New state LE\_SIM\_READY for SIM card.%d"}, simId);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41af83b91131d516ad3756781108000515a}{LE\_SIM\_BLOCKED}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- New state LE\_SIM\_BLOCKED for SIM card.%d"}, simId);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41a944435801d6359050dc37092396ca951}{LE\_SIM\_BUSY}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- New state LE\_SIM\_BUSY for SIM card.%d"}, simId);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41ad82522676bf094ea402a0311356e434f}{LE\_SIM\_STATE\_UNKNOWN}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- New state LE\_SIM\_STATE\_UNKNOWN for SIM card.%d"}, simId);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{default}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- New state %d for SIM card.%d"}, simState, simId);
            \textcolor{keywordflow}{break};
    \}
\}
\end{DoxyCodeInclude}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: SIM State.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keywordtype}{void} simTest\_State
(
    \hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdd}{le\_sim\_Id\_t} simId,
    \textcolor{keyword}{const} \textcolor{keywordtype}{char}* pinPtr
)
\{
    \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41}{le\_sim\_States\_t}             state;
    \hyperlink{le__sim__interface_8h_a2762b1c04a51b185890700b0fa94f92d}{le\_sim\_NewStateHandlerRef\_t} testHdlrRef;
    \textcolor{keywordtype}{char}                        \textcolor{keywordtype}{string}[100];

    memset(\textcolor{keywordtype}{string}, 0, 100);

    \textcolor{comment}{// Add the state handler}
    testHdlrRef = \hyperlink{le__sim__interface_8h_a8e296a7cd35edd99cb1dc21232e280dd}{le\_sim\_AddNewStateHandler}(TestSimStateHandler, NULL);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(NULL != testHdlrRef);

    \textcolor{comment}{// Get SIM state}
    state = \hyperlink{le__sim__interface_8h_a16b06f266471d81f772e5439ec570144}{le\_sim\_GetState}(simId);

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"test: state %d"}, state);

    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}((state >= \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41a86aea853ae5fcc1a2e3c8d352d8689d3}{LE\_SIM\_INSERTED}) && (state <= 
      \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41a944435801d6359050dc37092396ca951}{LE\_SIM\_BUSY}));
    sprintf(\textcolor{keywordtype}{string}, \textcolor{stringliteral}{"\(\backslash\)nSIM Card.%d state:\(\backslash\)n"}, simId);
    Print(\textcolor{keywordtype}{string});

    DisplaySimState(state, simId);

    \textcolor{keywordflow}{if} (\hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41a86aea853ae5fcc1a2e3c8d352d8689d3}{LE\_SIM\_INSERTED} == state)
    \{
        \textcolor{comment}{// Enter PIN code}
        \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_ac9cafacb5affb0b531534e3fc547ebd2}{le\_sim\_EnterPIN}(simId, pinPtr));

        \textcolor{comment}{// Get SIM state}
        state = \hyperlink{le__sim__interface_8h_a16b06f266471d81f772e5439ec570144}{le\_sim\_GetState}(simId);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}((state>=\hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41a86aea853ae5fcc1a2e3c8d352d8689d3}{LE\_SIM\_INSERTED}) && (state<=
      \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41a944435801d6359050dc37092396ca951}{LE\_SIM\_BUSY}));
    \}
\}
\end{DoxyCodeInclude}
\hypertarget{c_simTestProfileSwitch}{}\paragraph{Sample code for Local S\+IM profile switch}\label{c_simTestProfileSwitch}

\begin{DoxyCodeInclude}
\textcolor{comment}{/**}
\textcolor{comment}{* This module implements the SIM local profile swap tests.}
\textcolor{comment}{*}
\textcolor{comment}{* You must issue the following commands:}
\textcolor{comment}{* @verbatim}
\textcolor{comment}{  $ app runProc simProfileSwap --exe=bin/simProfileSwap --}
\textcolor{comment}{  $        <ext/esim> <gemalto/oberthur/gd/morpho/valid> <ecs/commercial>}
\textcolor{comment}{ @endverbatim}
\textcolor{comment}{* Copyright (C) Sierra Wireless Inc.}
\textcolor{comment}{*}
\textcolor{comment}{*/}

\textcolor{preprocessor}{#include "\hyperlink{legato_8h}{legato.h}"}
\textcolor{preprocessor}{#include "interfaces.h"}

\textcolor{keyword}{static} \hyperlink{le__sim__interface_8h_a3d8f90603c8f5ff03b30fe9fabdf37f2}{le\_sim\_SimToolkitEventHandlerRef\_t}   StkHandlerRef = NULL;
\textcolor{keyword}{static} \hyperlink{le__sim__interface_8h_a2762b1c04a51b185890700b0fa94f92d}{le\_sim\_NewStateHandlerRef\_t}          HandlerRef = NULL;
\textcolor{keyword}{static} \hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdd}{le\_sim\_Id\_t}                          SimIdSelect = 
      \hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdda4270fb44e8fa7876f337864675b42f2d}{LE\_SIM\_EXTERNAL\_SLOT\_1};
\textcolor{keyword}{static} \hyperlink{le__sim__interface_8h_ac9719aa7561f79bc0b51eca9447ff37e}{le\_sim\_Manufacturer\_t}                Manufacturer = 
      \hyperlink{le__sim__interface_8h_ac9719aa7561f79bc0b51eca9447ff37ea463b0b396f8c8f3b1dff4c1b6facb451}{LE\_SIM\_GEMALTO};
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char}*                          Profile = NULL;

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Handler function for SIM Toolkit events.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} TestSimToolkitHandler
(
    \hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdd}{le\_sim\_Id\_t}       simId,
    \hyperlink{le__sim__interface_8h_a7c53ab7f9f004387ef41e80df1121da2}{le\_sim\_StkEvent\_t} stkEvent,
    \textcolor{keywordtype}{void}*             contextPtr
)
\{
    \textcolor{keywordflow}{switch}(stkEvent)
    \{
        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a7c53ab7f9f004387ef41e80df1121da2a7207480abc036ae29469da1801033b2d}{LE\_SIM\_OPEN\_CHANNEL}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- OPEN\_CHANNEL SIM Toolkit event for SIM card.%d"}, simId);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a7c53ab7f9f004387ef41e80df1121da2a4e4be9cfce6ef2e0832d707820cd106d}{LE\_SIM\_REFRESH}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- REFRESH SIM Toolkit event for SIM card.%d"}, simId);
            \hyperlink{le__log_8h_aceaf11a11691d6c676e36dd317b38dbd}{LE\_ERROR\_IF}((\hyperlink{le__sim__interface_8h_a8cc75a17466446c19c5bd941b1360e0e}{le\_sim\_AcceptSimToolkitCommand}(simId) != 
      LE\_OK),
                        \textcolor{stringliteral}{"Accept SIM Toolkit failure!"});
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a7c53ab7f9f004387ef41e80df1121da2aa086ea0a94ca7065b6baf974e11ed707}{LE\_SIM\_STK\_EVENT\_MAX}:
        \textcolor{keywordflow}{default}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- Unknown SIM Toolkit event %d for SIM card.%d"}, stkEvent, simId);
            \textcolor{keywordflow}{break};
    \}
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Handler function for SIM States Notifications.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} TestSimStateHandler
(
    \hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdd}{le\_sim\_Id\_t}     simId,
    \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41}{le\_sim\_States\_t} simState,
    \textcolor{keywordtype}{void}*           contextPtr
)
\{
    \textcolor{keywordflow}{switch}(simState)
    \{
        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41a86aea853ae5fcc1a2e3c8d352d8689d3}{LE\_SIM\_INSERTED}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- New state LE\_SIM\_INSERTED for SIM card.%d"}, simId);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41a813e26946372fbc3960aa97713b6ca2f}{LE\_SIM\_ABSENT}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- New state LE\_SIM\_ABSENT for SIM card.%d"}, simId);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41aa7f1f6c3391e32af8ce3ba2242276d64}{LE\_SIM\_READY}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- New state LE\_SIM\_READY for SIM card.%d"}, simId);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41af83b91131d516ad3756781108000515a}{LE\_SIM\_BLOCKED}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- New state LE\_SIM\_BLOCKED for SIM card.%d"}, simId);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41a944435801d6359050dc37092396ca951}{LE\_SIM\_BUSY}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- New state LE\_SIM\_BUSY for SIM card.%d"}, simId);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a21b9bb7d5e5e7ece213e00738a5bae41ad82522676bf094ea402a0311356e434f}{LE\_SIM\_STATE\_UNKNOWN}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- New state LE\_SIM\_STATE\_UNKNOWN for SIM card.%d"}, simId);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{default}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- New state %d for SIM card.%d"}, simState, simId);
            \textcolor{keywordflow}{break};
    \}
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Get current subscription}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keywordtype}{void} Testle\_sim\_GetCurrentSubscription
(
    \textcolor{keywordtype}{void}
)
\{
    \textcolor{keywordtype}{bool} isEcs;
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res = \hyperlink{le__sim__interface_8h_a837cdc0fe30761f4339f846a0b44c5f1}{le\_sim\_IsEmergencyCallSubscriptionSelected}
      (SimIdSelect, &isEcs);

    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res != \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798}{LE\_FAULT});
    \textcolor{keywordflow}{if}(res == \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca77a7505b0443df2fa1bab375c7267637}{LE\_NOT\_FOUND})
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Cannot determine current subscription"});
    \}
    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (res == LE\_OK)
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Current subscription is %s"}, (isEcs ? \textcolor{stringliteral}{"ECS"}:\textcolor{stringliteral}{"Commercial"}));
    \}
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: SwapToEcs}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keywordtype}{void} Testle\_sim\_SwapToEcs
(
    \textcolor{keywordtype}{void}
)
\{
    \textcolor{keywordtype}{bool} isEcs;

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Start Testle\_sim\_SwapToEcs SimId %d, Manufacture %d"}, SimIdSelect, Manufacturer);

    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__sim__interface_8h_aa856f5e094e8182c8d0b07761e309549}{le\_sim\_LocalSwapToEmergencyCallSubscription}
      (SimIdSelect, Manufacturer) == LE\_OK);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__sim__interface_8h_a837cdc0fe30761f4339f846a0b44c5f1}{le\_sim\_IsEmergencyCallSubscriptionSelected}
      (SimIdSelect, &isEcs) == LE\_OK);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(isEcs == \textcolor{keyword}{true});
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: SwapToCommercial}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keywordtype}{void} Testle\_sim\_SwapToCommercial
(
    \textcolor{keywordtype}{void}
)
\{
    \textcolor{keywordtype}{bool} isEcs;

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Start Testle\_sim\_SwapToCommercial SimId %d, Manufacture %d"},
        SimIdSelect, Manufacturer);

    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__sim__interface_8h_a51b535750b66c4cf460e3c8c72f3658d}{le\_sim\_LocalSwapToCommercialSubscription}(
      SimIdSelect, Manufacturer) == LE\_OK);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__sim__interface_8h_a837cdc0fe30761f4339f846a0b44c5f1}{le\_sim\_IsEmergencyCallSubscriptionSelected}
      (SimIdSelect, &isEcs) == LE\_OK);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(isEcs == \textcolor{keyword}{false});
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * The signal event handler function for SIGINT/SIGTERM when process dies.}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} SigHandler
(
    \textcolor{keywordtype}{int} sigNum
)
\{
    \hyperlink{le__sim__interface_8h_a2485840533f80632a61096b1d7c5d8f2}{le\_sim\_RemoveSimToolkitEventHandler}(StkHandlerRef);
    \hyperlink{le__sim__interface_8h_a0286578e9aa46ba864df1878263b9f84}{le\_sim\_RemoveNewStateHandler}(HandlerRef);

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"EXIT SIM local Profile Swap Test"});
    \hyperlink{app_stop_client_8c_a310220604a584e112ba8f7aa3dfe23f1}{exit}(EXIT\_SUCCESS);
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Helper.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} PrintUsage
(
    \textcolor{keywordtype}{void}
)
\{
    \textcolor{keywordtype}{int} idx;
    \textcolor{keywordtype}{bool} sandboxed = (getuid() != 0);
    \textcolor{keyword}{const} \textcolor{keywordtype}{char} * usagePtr[] =
    \{
            \textcolor{stringliteral}{"Usage of the simProfileSwap app is:"},
            \textcolor{stringliteral}{"   app runProc simProfileSwap --exe=bin/simProfileSwap -- <ext/esim>"}
              \textcolor{stringliteral}{" <gemalto/oberthur/gd/morpho/valid> <ecs/commercial>"},
    \};

    \textcolor{keywordflow}{for}(idx = 0; idx < \hyperlink{le__basics_8h_a8d8f28a045f43b477cafb67a99894c07}{NUM\_ARRAY\_MEMBERS}(usagePtr); idx++)
    \{
        \textcolor{keywordflow}{if}(sandboxed)
        \{
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"%s"}, usagePtr[idx]);
        \}
        \textcolor{keywordflow}{else}
        \{
            fprintf(stderr, \textcolor{stringliteral}{"%s\(\backslash\)n"}, usagePtr[idx]);
        \}
    \}
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Retrieve the test's arguments.}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} \hyperlink{proc_8c_a6883b9a3058f054e75827661a8d8a12d}{GetArgs}
(
    \textcolor{keywordtype}{void}
)
\{
    \textcolor{keyword}{const} \textcolor{keywordtype}{char}*  arg;

    \textcolor{comment}{// Get SIM type}
    arg = \hyperlink{le__args_8h_a5ebca8229facd069785639cb3c1e273a}{le\_arg\_GetArg}(0);
    \textcolor{keywordflow}{if} (NULL == arg)
    \{
        \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"arg is NULL"});
        \hyperlink{app_stop_client_8c_a310220604a584e112ba8f7aa3dfe23f1}{exit}(EXIT\_FAILURE);
    \}
    \textcolor{keywordflow}{if}( 0 == strncmp(arg, \textcolor{stringliteral}{"ext"}, strlen(\textcolor{stringliteral}{"ext"})))
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"external SIM is selected."});
        SimIdSelect = \hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdda4270fb44e8fa7876f337864675b42f2d}{LE\_SIM\_EXTERNAL\_SLOT\_1};

    \}
    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( 0 == strncmp(arg, \textcolor{stringliteral}{"esim"}, strlen(\textcolor{stringliteral}{"esim"})))
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"embedded SIM is selected."});
        SimIdSelect = \hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccddac9d9805213bfb9ae4d299aa70097846a}{LE\_SIM\_EMBEDDED};
    \}
    \textcolor{keywordflow}{else}
    \{
        PrintUsage();
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"EXIT SIM local Profile Swap Test"});
        \hyperlink{app_stop_client_8c_a310220604a584e112ba8f7aa3dfe23f1}{exit}(EXIT\_FAILURE);
    \}

    \textcolor{comment}{// Get Card manufacturer}
    arg = \hyperlink{le__args_8h_a5ebca8229facd069785639cb3c1e273a}{le\_arg\_GetArg}(1);
    \textcolor{keywordflow}{if} (NULL == arg)
    \{
        \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"arg is NULL"});
        \hyperlink{app_stop_client_8c_a310220604a584e112ba8f7aa3dfe23f1}{exit}(EXIT\_FAILURE);
    \}
    \textcolor{keywordflow}{if}( 0 == strncmp(arg, \textcolor{stringliteral}{"gemalto"}, strlen(\textcolor{stringliteral}{"gemalto"})))
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Card manufacturer is Gemalto."});
        Manufacturer = \hyperlink{le__sim__interface_8h_ac9719aa7561f79bc0b51eca9447ff37ea463b0b396f8c8f3b1dff4c1b6facb451}{LE\_SIM\_GEMALTO};
    \}
    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( 0 == strncmp(arg, \textcolor{stringliteral}{"oberthur"}, strlen(\textcolor{stringliteral}{"oberthur"})))
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Card manufacturer is Oberthur."});
        Manufacturer = \hyperlink{le__sim__interface_8h_ac9719aa7561f79bc0b51eca9447ff37ea6ba110dea48603ce2d8af48321bd5ae9}{LE\_SIM\_OBERTHUR};
    \}
    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( 0 == strncmp(arg, \textcolor{stringliteral}{"gd"}, strlen(\textcolor{stringliteral}{"gd"})))
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Card manufacturer is G&D."});
        Manufacturer = \hyperlink{le__sim__interface_8h_ac9719aa7561f79bc0b51eca9447ff37ea1037fc81733b1666116328faa4f335ef}{LE\_SIM\_G\_AND\_D};
    \}
    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( 0 == strncmp(arg, \textcolor{stringliteral}{"morpho"}, strlen(\textcolor{stringliteral}{"morpho"})))
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Card manufacturer is Morpho."});
        Manufacturer = \hyperlink{le__sim__interface_8h_ac9719aa7561f79bc0b51eca9447ff37ea00b929700255479a7c285328af3e16ee}{LE\_SIM\_MORPHO};
    \}
    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( 0 == strncmp(arg, \textcolor{stringliteral}{"valid"}, strlen(\textcolor{stringliteral}{"valid"})))
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Card manufacturer is VALID."});
        Manufacturer = \hyperlink{le__sim__interface_8h_ac9719aa7561f79bc0b51eca9447ff37eac2e78ae119b4266460b29ce1dc6c7079}{LE\_SIM\_VALID};
    \}
    \textcolor{keywordflow}{else}
    \{
        PrintUsage();
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"EXIT SIM local Profile Swap Test"});
        \hyperlink{app_stop_client_8c_a310220604a584e112ba8f7aa3dfe23f1}{exit}(EXIT\_FAILURE);
    \}
\}


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * App init.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\hyperlink{le__event_loop_8h_abdb9187a56836a93d19cc793cbd4b7ec}{COMPONENT\_INIT}
\{
    \textcolor{keywordflow}{if} (\hyperlink{le__args_8h_a6fbbeb423104e6eb92fe47ef42b7310a}{le\_arg\_NumArgs}() == 3)
    \{
        \textcolor{comment}{// Register a signal event handler for SIGINT when user interrupts/terminates process}
        \hyperlink{wifi_ap_test_8c_a8db34e235c60f54c3df89f2b6b8ca3ed}{signal}(SIGINT, SigHandler);

        \hyperlink{proc_8c_a6883b9a3058f054e75827661a8d8a12d}{GetArgs}();
        Profile = \hyperlink{le__args_8h_a5ebca8229facd069785639cb3c1e273a}{le\_arg\_GetArg}(2);
        \textcolor{keywordflow}{if} (NULL == Profile)
        \{
            \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"Profile is NULL"});
            \hyperlink{app_stop_client_8c_a310220604a584e112ba8f7aa3dfe23f1}{exit}(EXIT\_FAILURE);
        \}
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"======== Start SIM local Profile Swap Test with Profile.%s========"}, Profile);

        StkHandlerRef=\hyperlink{le__sim__interface_8h_a85577728a34d70801cbb4deb8efd75d5}{le\_sim\_AddSimToolkitEventHandler}(
      TestSimToolkitHandler, NULL);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(StkHandlerRef!=NULL);

        \textcolor{keywordflow}{if}( strncmp(Profile, \textcolor{stringliteral}{"ecs"}, strlen(\textcolor{stringliteral}{"ecs"})) == 0 )
        \{
            \textcolor{comment}{// Add the state handler}
            \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}((HandlerRef = \hyperlink{le__sim__interface_8h_a8e296a7cd35edd99cb1dc21232e280dd}{le\_sim\_AddNewStateHandler}(
      TestSimStateHandler, NULL)) != NULL);

            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"======== SwapToEcs Test  ========"});
            Testle\_sim\_GetCurrentSubscription();
            Testle\_sim\_SwapToEcs();
        \}
        \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( strncmp(Profile, \textcolor{stringliteral}{"commercial"}, strlen(\textcolor{stringliteral}{"commercial"})) == 0 )
        \{
            \textcolor{comment}{// Add the state handler}
            \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}((HandlerRef = \hyperlink{le__sim__interface_8h_a8e296a7cd35edd99cb1dc21232e280dd}{le\_sim\_AddNewStateHandler}(
      TestSimStateHandler, NULL)) != NULL);

            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"======== SwapToCommercial Test  ========"});
            Testle\_sim\_GetCurrentSubscription();
            Testle\_sim\_SwapToCommercial();
        \}
        \textcolor{keywordflow}{else}
        \{
            PrintUsage();
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"EXIT SIM local Profile Swap Test"});
            \hyperlink{app_stop_client_8c_a310220604a584e112ba8f7aa3dfe23f1}{exit}(EXIT\_FAILURE);
        \}

        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"======== Test SIM local Profile Swap Test SUCCESS ========"});
        \hyperlink{app_stop_client_8c_a310220604a584e112ba8f7aa3dfe23f1}{exit}(EXIT\_SUCCESS);
    \}
    \textcolor{keywordflow}{else}
    \{
        PrintUsage();
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"EXIT SIM local Profile Swap Test"});
        \hyperlink{app_stop_client_8c_a310220604a584e112ba8f7aa3dfe23f1}{exit}(EXIT\_FAILURE);
    \}
\}
\end{DoxyCodeInclude}
 \hypertarget{c_simTestSimToolkit}{}\paragraph{Sample code for Local S\+IM Toolkit}\label{c_simTestSimToolkit}

\begin{DoxyCodeInclude}
\textcolor{comment}{/**}
\textcolor{comment}{* This module implements the SIM Toolkit tests.}
\textcolor{comment}{*}
\textcolor{comment}{* You must issue the following commands:}
\textcolor{comment}{* @verbatim}
\textcolor{comment}{  $ app start simToolkit}
\textcolor{comment}{  $ app runProc simToolkit --exe=simToolkit -- <accept/reject/none> [<APN> <UserName> <Password>]}
\textcolor{comment}{ @endverbatim}
\textcolor{comment}{* Copyright (C) Sierra Wireless, Inc.}
\textcolor{comment}{*}
\textcolor{comment}{*/}

\textcolor{preprocessor}{#include "\hyperlink{legato_8h}{legato.h}"}
\textcolor{preprocessor}{#include "interfaces.h"}


\textcolor{keyword}{static} \hyperlink{le__sim__interface_8h_a3d8f90603c8f5ff03b30fe9fabdf37f2}{le\_sim\_SimToolkitEventHandlerRef\_t}   HandlerRef = NULL;
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char}*                          AcceptCmdArg = NULL;


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Handler function for SIM Toolkit events.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} TestSimToolkitHandler
(
    \hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdd}{le\_sim\_Id\_t}       simId,
    \hyperlink{le__sim__interface_8h_a7c53ab7f9f004387ef41e80df1121da2}{le\_sim\_StkEvent\_t} stkEvent,
    \textcolor{keywordtype}{void}*             contextPtr
)
\{
    \hyperlink{le__sim__interface_8h_acf932502f1fa004dfcdd72ea2049d4eb}{le\_sim\_StkRefreshMode\_t} refreshMode;
    \hyperlink{le__sim__interface_8h_a99369a750db46ea1a5acb8cde0eef690}{le\_sim\_StkRefreshStage\_t} refreshStage;

    \textcolor{keywordflow}{switch}(stkEvent)
    \{
        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a7c53ab7f9f004387ef41e80df1121da2a7207480abc036ae29469da1801033b2d}{LE\_SIM\_OPEN\_CHANNEL}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- OPEN\_CHANNEL SIM Toolkit event for SIM card.%d"}, simId);
            \textcolor{keywordflow}{break};

        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a7c53ab7f9f004387ef41e80df1121da2a4e4be9cfce6ef2e0832d707820cd106d}{LE\_SIM\_REFRESH}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- REFRESH SIM Toolkit event for SIM card.%d"}, simId);
            \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_a82331254a8f94c20c01a9962a488a29f}{le\_sim\_GetSimToolkitRefreshMode}(simId, 
      &refreshMode));
            \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_a81bd3909308a1456225e59f1f36e73e3}{le\_sim\_GetSimToolkitRefreshStage}(simId
      , &refreshStage));
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"REFRESH SIM MODE: %d, STAGE: %d"}, refreshMode, refreshStage);

            \textcolor{comment}{// No need to accept/reject any stage other than LE\_SIM\_STAGE\_WAITING\_FOR\_OK}
            \textcolor{keywordflow}{if} (\hyperlink{le__sim__interface_8h_a99369a750db46ea1a5acb8cde0eef690a8d38c80c4a899969e6e8e5147bc9bad1}{LE\_SIM\_STAGE\_WAITING\_FOR\_OK} != refreshStage)
            \{
                \textcolor{keywordflow}{return};
            \}
            \textcolor{keywordflow}{break};

        \textcolor{keywordflow}{case} \hyperlink{le__sim__interface_8h_a7c53ab7f9f004387ef41e80df1121da2aa086ea0a94ca7065b6baf974e11ed707}{LE\_SIM\_STK\_EVENT\_MAX}:
        \textcolor{keywordflow}{default}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- Unknown SIM Toolkit event %d for SIM card.%d"}, stkEvent, simId);
            \textcolor{keywordflow}{break};
    \}

    \textcolor{keywordflow}{if}( strncmp(AcceptCmdArg, \textcolor{stringliteral}{"accept"}, strlen(\textcolor{stringliteral}{"accept"})) == 0 )
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- Accept SIM Toolkit command"});
        \hyperlink{le__log_8h_aceaf11a11691d6c676e36dd317b38dbd}{LE\_ERROR\_IF}((\hyperlink{le__sim__interface_8h_a8cc75a17466446c19c5bd941b1360e0e}{le\_sim\_AcceptSimToolkitCommand}(simId) != 
      LE\_OK),
                    \textcolor{stringliteral}{"Accept SIM Toolkit failure!"});
    \}
    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( strncmp(AcceptCmdArg, \textcolor{stringliteral}{"reject"}, strlen(\textcolor{stringliteral}{"reject"})) == 0 )
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- Reject SIM Toolkit command"});
        \hyperlink{le__log_8h_aceaf11a11691d6c676e36dd317b38dbd}{LE\_ERROR\_IF}((\hyperlink{le__sim__interface_8h_a8cbdc50d62ddd5ea80386d27e16d954f}{le\_sim\_RejectSimToolkitCommand}(simId) != 
      LE\_OK),
                    \textcolor{stringliteral}{"Reject SIM Toolkit failure!"});
    \}
    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( strncmp(AcceptCmdArg, \textcolor{stringliteral}{"none"}, strlen(\textcolor{stringliteral}{"none"})) == 0 )
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"-TEST- Don't answer to SIM Toolkit command"});
    \}
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * The signal event handler function for SIGINT/SIGTERM when process dies.}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} SigHandler
(
    \textcolor{keywordtype}{int} sigNum
)
\{
    \hyperlink{le__sim__interface_8h_a2485840533f80632a61096b1d7c5d8f2}{le\_sim\_RemoveSimToolkitEventHandler}(HandlerRef);

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"EXIT SIM Toolkit Test"});
    \hyperlink{app_stop_client_8c_a310220604a584e112ba8f7aa3dfe23f1}{exit}(EXIT\_SUCCESS);
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Helper.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} PrintUsage
(
    \textcolor{keywordtype}{void}
)
\{
    \textcolor{keywordtype}{int} idx;
    \textcolor{keywordtype}{bool} sandboxed = (getuid() != 0);
    \textcolor{keyword}{const} \textcolor{keywordtype}{char} * usagePtr[] =
    \{
            \textcolor{stringliteral}{"Usage of the simToolkit app is:"},
            \textcolor{stringliteral}{"   app runProc simToolkit --exe=simToolkit -- <accept/reject/none> [<APN> <UserName>
       <Password>]"},
    \};

    \textcolor{keywordflow}{for}(idx = 0; idx < \hyperlink{le__basics_8h_a8d8f28a045f43b477cafb67a99894c07}{NUM\_ARRAY\_MEMBERS}(usagePtr); idx++)
    \{
        \textcolor{keywordflow}{if}(sandboxed)
        \{
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"%s"}, usagePtr[idx]);
        \}
        \textcolor{keywordflow}{else}
        \{
            fprintf(stderr, \textcolor{stringliteral}{"%s\(\backslash\)n"}, usagePtr[idx]);
        \}
    \}
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * App init.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\hyperlink{le__event_loop_8h_abdb9187a56836a93d19cc793cbd4b7ec}{COMPONENT\_INIT}
\{
    \textcolor{keywordflow}{if} ((\hyperlink{le__args_8h_a6fbbeb423104e6eb92fe47ef42b7310a}{le\_arg\_NumArgs}() >= 1) && (\hyperlink{le__args_8h_a6fbbeb423104e6eb92fe47ef42b7310a}{le\_arg\_NumArgs}() <= 4))
    \{
        \textcolor{comment}{// Register a signal event handler for SIGINT when user interrupts/terminates process}
        \hyperlink{wifi_ap_test_8c_a8db34e235c60f54c3df89f2b6b8ca3ed}{signal}(SIGINT, SigHandler);

        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"======== Start SIM Toolkit Test ========"});

        \textcolor{keywordflow}{if} ( \hyperlink{le__args_8h_a6fbbeb423104e6eb92fe47ef42b7310a}{le\_arg\_NumArgs}() == 4 )
        \{
            \textcolor{keyword}{const} \textcolor{keywordtype}{char}*         apnArg = \hyperlink{le__args_8h_a5ebca8229facd069785639cb3c1e273a}{le\_arg\_GetArg}(1);
            \textcolor{keywordflow}{if} (NULL == apnArg)
            \{
                \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"apnArg is NULL"});
                \hyperlink{app_stop_client_8c_a310220604a584e112ba8f7aa3dfe23f1}{exit}(EXIT\_FAILURE);
            \}
            \textcolor{keyword}{const} \textcolor{keywordtype}{char}*         userNameArg = \hyperlink{le__args_8h_a5ebca8229facd069785639cb3c1e273a}{le\_arg\_GetArg}(2);
            \textcolor{keywordflow}{if} (NULL == userNameArg)
            \{
                \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"userNameArg is NULL"});
                \hyperlink{app_stop_client_8c_a310220604a584e112ba8f7aa3dfe23f1}{exit}(EXIT\_FAILURE);
            \}
            \textcolor{keyword}{const} \textcolor{keywordtype}{char}*         pwdArg = \hyperlink{le__args_8h_a5ebca8229facd069785639cb3c1e273a}{le\_arg\_GetArg}(3);
            \hyperlink{le__mdc__interface_8h_a91074d8f0d88c6645e3085dfadf87011}{le\_mdc\_ProfileRef\_t} profileRef;
            uint32\_t            defaultIndex;

            profileRef = \hyperlink{le__mdc__interface_8h_a638b693cd5f644fa5c24f81e1e36483c}{le\_mdc\_GetProfile}(
      \hyperlink{le__mdc__interface_8h_ac7b1c4304ae2d46c60fc6d7506313161}{LE\_MDC\_SIMTOOLKIT\_BIP\_DEFAULT\_PROFILE});
            defaultIndex = \hyperlink{le__mdc__interface_8h_a108f7c3db74a377c2ae5482543d4e0d9}{le\_mdc\_GetProfileIndex}(profileRef);
            \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mdc__interface_8h_ae8ebd11b9cb9afb9b6b5745903f50156}{le\_mdc\_SetAPN}(profileRef, apnArg) == LE\_OK);
            \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mdc__interface_8h_a9f69d0751927b5ead6c756202179b222}{le\_mdc\_SetAuthentication}(profileRef,
                                               \hyperlink{le__mdc__interface_8h_ae9758eecfab89fbc1bc01341393a7723a151065be441aa8f065d0ead3d739b6f0}{LE\_MDC\_AUTH\_PAP},
                                               userNameArg,
                                               pwdArg) == LE\_OK);
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"BIP default profile uses index.%d"}, defaultIndex);
        \}
        \textcolor{keywordflow}{else}
        \{
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"NO profile defined for OPEN\_CHANNEL command."});
        \}

        AcceptCmdArg = \hyperlink{le__args_8h_a5ebca8229facd069785639cb3c1e273a}{le\_arg\_GetArg}(0);
        \textcolor{keywordflow}{if} (NULL == AcceptCmdArg)
        \{
            \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"AcceptCmdArg is NULL"});
            \hyperlink{app_stop_client_8c_a310220604a584e112ba8f7aa3dfe23f1}{exit}(EXIT\_FAILURE);
        \}
        \textcolor{keywordflow}{if}( strncmp(AcceptCmdArg, \textcolor{stringliteral}{"accept"}, strlen(\textcolor{stringliteral}{"accept"})) == 0 )
        \{
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"SIM Toolkit Test will accept all SIM Toolkit commands."});
        \}
        \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( strncmp(AcceptCmdArg, \textcolor{stringliteral}{"reject"}, strlen(\textcolor{stringliteral}{"reject"})) == 0 )
        \{
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"SIM Toolkit Test will reject all SIM Toolkit commands."});
        \}
        \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( strncmp(AcceptCmdArg, \textcolor{stringliteral}{"none"}, strlen(\textcolor{stringliteral}{"none"})) == 0 )
        \{
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"SIM Toolkit Test will not answer to SIM Toolkit commands."});
        \}
        \textcolor{keywordflow}{else}
        \{
            PrintUsage();
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"EXIT SIM Toolkit Test"});
            \hyperlink{app_stop_client_8c_a310220604a584e112ba8f7aa3dfe23f1}{exit}(EXIT\_FAILURE);
        \}

        HandlerRef=\hyperlink{le__sim__interface_8h_a85577728a34d70801cbb4deb8efd75d5}{le\_sim\_AddSimToolkitEventHandler}(TestSimToolkitHandler, 
      NULL);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(HandlerRef!=NULL);
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"======== Test SIM Toolkit SUCCESS ========"});
    \}
    \textcolor{keywordflow}{else}
    \{
        PrintUsage();
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"EXIT SIM Toolkit Test"});
        \hyperlink{app_stop_client_8c_a310220604a584e112ba8f7aa3dfe23f1}{exit}(EXIT\_FAILURE);
    \}
\}
\end{DoxyCodeInclude}
 \hypertarget{platformConstraintsSim}{}\paragraph{S\+IM}\label{platformConstraintsSim}
\hypertarget{platformConstraintsSim_platformConstraintsSim_sendCmd}{}\subparagraph{Sending commands}\label{platformConstraintsSim_platformConstraintsSim_sendCmd}
\hyperlink{le__sim__interface_8h_a8bbaea044b44f8b0ebff67bf98de816a}{le\+\_\+sim\+\_\+\+Send\+Command()} supports sending commands to the S\+IM. The p1, p2, p3 parameters usage is described as follows\+:

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*4{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf Command \textbackslash{} Parameters }&{\bf P1 }&\PBS\centering {\bf P2 }&\PBS\centering {\bf P3  }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf Command \textbackslash{} Parameters }&{\bf P1 }&\PBS\centering {\bf P2 }&\PBS\centering {\bf P3  }\\\cline{1-4}
\endhead
L\+E\+\_\+\+S\+I\+M\+\_\+\+R\+E\+A\+D\+\_\+\+R\+E\+C\+O\+RD &Record number to read &\PBS\centering Unused &\PBS\centering Unused \\\cline{1-4}
L\+E\+\_\+\+S\+I\+M\+\_\+\+R\+E\+A\+D\+\_\+\+B\+I\+N\+A\+RY &Offset to the first byte to read &\PBS\centering Unused &\PBS\centering Unused \\\cline{1-4}
L\+E\+\_\+\+S\+I\+M\+\_\+\+U\+P\+D\+A\+T\+E\+\_\+\+R\+E\+C\+O\+RD &Record number to write &\PBS\centering Unused &\PBS\centering Unused \\\cline{1-4}
L\+E\+\_\+\+S\+I\+M\+\_\+\+U\+P\+D\+A\+T\+E\+\_\+\+B\+I\+N\+A\+RY &Offset to the first byte to write &\PBS\centering Unused &\PBS\centering Unused \\\cline{1-4}
\end{longtabu}

\begin{DoxyItemize}
\item path parameter contains the path of the elementary file from the master file in hexadecimal (e.\+g. \char`\"{}3\+F007\+F\+F\+F\char`\"{}, \char`\"{}3\+F007\+F20\char`\"{}). The path is mandatory for all commands.
\end{DoxyItemize}\hypertarget{platformConstraintsSim_platformConstraintsSim_selectCard}{}\subparagraph{Select Card}\label{platformConstraintsSim_platformConstraintsSim_selectCard}
\hyperlink{le__sim__interface_8h_a91a0f0399c89e466b9a8ccfab6de129d}{le\+\_\+sim\+\_\+\+Select\+Card()} function is used to select the S\+IM identifier. Additionally, any Legato S\+IM A\+PI with a S\+IM card identifier passed in parameter, selects that S\+IM identifier. The \hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdd}{le\+\_\+sim\+\_\+\+Id\+\_\+t} parameters supported by these A\+P\+Is depend on the platform.

For W\+P76xx, W\+P77xx, A\+R759x and A\+R758x, only L\+E\+\_\+\+S\+I\+M\+\_\+\+E\+X\+T\+E\+R\+N\+A\+L\+\_\+\+S\+L\+O\+T\+\_\+1 and L\+E\+\_\+\+S\+I\+M\+\_\+\+R\+E\+M\+O\+TE types are supported.

For A\+R755x, only L\+E\+\_\+\+S\+I\+M\+\_\+\+E\+X\+T\+E\+R\+N\+A\+L\+\_\+\+S\+L\+O\+T\+\_\+1 and L\+E\+\_\+\+S\+I\+M\+\_\+\+E\+M\+B\+E\+D\+D\+ED types are supported.

For other products, only L\+E\+\_\+\+S\+I\+M\+\_\+\+E\+X\+T\+E\+R\+N\+A\+L\+\_\+\+S\+L\+O\+T\+\_\+1 and L\+E\+\_\+\+S\+I\+M\+\_\+\+E\+X\+T\+E\+R\+N\+A\+L\+\_\+\+S\+L\+O\+T\+\_\+2 types are supported.

\begin{DoxyNote}{Note}
For the support of L\+E\+\_\+\+S\+I\+M\+\_\+\+E\+M\+B\+E\+D\+D\+ED on A\+R755x platform, please refer to your platform documentation for further details.

Switching between local and remote S\+IM card requires a reset to take effect, please refer to your platform documentation for further details.
\end{DoxyNote}
\hypertarget{platformConstraintsSim_platformConstraintsSim_swap}{}\subparagraph{Hot-\/swap}\label{platformConstraintsSim_platformConstraintsSim_swap}
Your platform might need a reboot to detect a S\+IM card insertion or removal.\hypertarget{platformConstraintsSim_platformConstraintsSim_swapMangOH}{}\subparagraph{mang\+O\+H™}\label{platformConstraintsSim_platformConstraintsSim_swapMangOH}
As indicated in the mang\+OH\texttrademark{} \href{http://mangoh.io/mangoh-green-resources-documentation}{\tt User Guide}\+:

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*2{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf S\+IM slot }&{\bf Detection  }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf S\+IM slot }&{\bf Detection  }\\\cline{1-2}
\endhead
L\+E\+\_\+\+S\+I\+M\+\_\+\+E\+X\+T\+E\+R\+N\+A\+L\+\_\+\+S\+L\+O\+T\+\_\+1 (Mini-\/\+S\+IM) &Hot-\/swappable \\\cline{1-2}
L\+E\+\_\+\+S\+I\+M\+\_\+\+E\+X\+T\+E\+R\+N\+A\+L\+\_\+\+S\+L\+O\+T\+\_\+2 (Micro-\/\+S\+IM)&Not hot-\/swappable \\\cline{1-2}
\end{longtabu}
\hypertarget{platformConstraintsSim_platformConstraintsSim_swapOtherPlatforms}{}\subparagraph{Other platforms}\label{platformConstraintsSim_platformConstraintsSim_swapOtherPlatforms}
Refer to your platform documentation.\hypertarget{platformConstraintsSim_platformConstraintsSim_FplmnList}{}\subparagraph{F\+P\+L\+M\+N list}\label{platformConstraintsSim_platformConstraintsSim_FplmnList}
Forbidden P\+L\+MN (F\+P\+L\+MN) A\+P\+Is are only supported by A\+R759x and A\+R758x platforms.\hypertarget{platformConstraintsSim_platformConstraintsSim_EID}{}\subparagraph{E\+ID}\label{platformConstraintsSim_platformConstraintsSim_EID}
Embedded Universal Integrated Circuit Card identifier (E\+ID) function is only supported by A\+R759x platform at this time.\hypertarget{platformConstraintsSim_platformConstraintsSim_References}{}\subparagraph{References}\label{platformConstraintsSim_platformConstraintsSim_References}
See \hyperlink{c_sim}{S\+IM} A\+PI

Copyright (C) Sierra Wireless Inc. \hypertarget{c_simTestApdu}{}\paragraph{Sample code for S\+IM access}\label{c_simTestApdu}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: SIM access.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keywordtype}{void} simTest\_SimAccess
(
    \hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdd}{le\_sim\_Id\_t} simId
)
\{
    \textcolor{comment}{//========================================}
    \textcolor{comment}{// 1. Read IMSI using le\_sim\_SendApdu API}
    \textcolor{comment}{//========================================}

    uint8\_t selectDfAdfApdu[] = \{0x00, 0xA4, 0x00, 0x0C, 0x02, 0x7F, 0xFF\};
    uint8\_t selectApdu[] = \{0x00, 0xA4, 0x00, 0x0C, 0x02, 0x6F, 0x07\};
    uint8\_t readApdu[] = \{0x00, 0xB0, 0x00, 0x00, 0x09\};
    uint8\_t rspImsi[SIM\_RSP\_LEN];
    \textcolor{keywordtype}{size\_t} rspImsiLen = SIM\_RSP\_LEN;

    \textcolor{comment}{// Select ADF Dedicated File (DF\_ADF)}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_ad59f8ec574f4eab0cfae070a1e593298}{le\_sim\_SendApdu}(simId,
                                 selectDfAdfApdu,
                                 \textcolor{keyword}{sizeof}(selectDfAdfApdu),
                                 rspImsi,
                                 &rspImsiLen));
    PrintApdu(rspImsi, rspImsiLen);

    \textcolor{comment}{// Select the EF(IMSI)}
    rspImsiLen = SIM\_RSP\_LEN;
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_ad59f8ec574f4eab0cfae070a1e593298}{le\_sim\_SendApdu}(simId,
                                 selectApdu,
                                 \textcolor{keyword}{sizeof}(selectApdu),
                                 rspImsi,
                                 &rspImsiLen));
    PrintApdu(rspImsi, rspImsiLen);

    \textcolor{comment}{// Read the EF(IMSI)}
    rspImsiLen = SIM\_RSP\_LEN;
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_ad59f8ec574f4eab0cfae070a1e593298}{le\_sim\_SendApdu}(simId,
                                 readApdu,
                                 \textcolor{keyword}{sizeof}(readApdu),
                                 rspImsi,
                                 &rspImsiLen));
    PrintApdu(rspImsi, rspImsiLen);

    \textcolor{comment}{//=====================================================================================}
    \textcolor{comment}{// 2. Read IMSI using le\_sim\_SendSimCommand API, and check value get by le\_sim\_SendApdu}
    \textcolor{comment}{//======================================================================================}

    \textcolor{keywordtype}{size\_t} rspImsiLen2 = SIM\_RSP\_LEN;
    uint8\_t rspImsi2[SIM\_RSP\_LEN];
    uint8\_t swi1, swi2;
    \textcolor{keywordtype}{char} dfGsmPath[]=\textcolor{stringliteral}{"3F007FFF"};

    \textcolor{comment}{// Read EF(IMSI) using the le\_sim\_SendSimCommand API.}
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res = \hyperlink{le__sim__interface_8h_a8bbaea044b44f8b0ebff67bf98de816a}{le\_sim\_SendCommand}(simId,
                                         \hyperlink{le__sim__interface_8h_ac1a708ba305c36e33383073ec7f0e331ae4a619ba58f2cd503103b397b717b16f}{LE\_SIM\_READ\_BINARY},
                                         \textcolor{stringliteral}{"6F07"},
                                         0,
                                         0,
                                         0,
                                         NULL,
                                         0,
                                         dfGsmPath,
                                         &swi1,
                                         &swi2,
                                         rspImsi2,
                                         &rspImsiLen2);

    \textcolor{keywordflow}{if} (\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5377262702e8434207b03533259e0c5f}{LE\_UNSUPPORTED} == res)
    \{
        \hyperlink{le__log_8h_a0201b2f60ee0e945479f91e181bf04b6}{LE\_WARN}(\textcolor{stringliteral}{"le\_sim\_SendCommand() API not supported by the platform"});
        \textcolor{keywordflow}{return};
    \}

    \textcolor{keywordflow}{if} (res != LE\_OK)
    \{
        strcpy(dfGsmPath, \textcolor{stringliteral}{"3F007F20"});

        \textcolor{comment}{// Check backward compatibility}
        res = \hyperlink{le__sim__interface_8h_a8bbaea044b44f8b0ebff67bf98de816a}{le\_sim\_SendCommand}(simId,
                                 \hyperlink{le__sim__interface_8h_ac1a708ba305c36e33383073ec7f0e331ae4a619ba58f2cd503103b397b717b16f}{LE\_SIM\_READ\_BINARY},
                                 \textcolor{stringliteral}{"6F07"},
                                 0,
                                 0,
                                 0,
                                 NULL,
                                 0,
                                 dfGsmPath,
                                 &swi1,
                                 &swi2,
                                 rspImsi2,
                                 &rspImsiLen2);
    \}

    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"swi1=0x%02X, swi2=0x%02X"}, swi1, swi2);
    PrintApdu(rspImsi2, rspImsiLen2);

    \textcolor{comment}{// Check both IMSI results}
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(0 == memcmp(rspImsi, rspImsi2, rspImsiLen2));

    \textcolor{keywordtype}{size\_t} rspLen = SIM\_RSP\_LEN;
    uint8\_t rsp[rspLen];

    \textcolor{comment}{//==================================================================================}
    \textcolor{comment}{// 3. Check read and write record elementary file}
    \textcolor{comment}{// Write the 5th entry in EF(ADN): equivalent to AT+CPBW=5,"01290917",129,"Jacky"}
    \textcolor{comment}{// Then, read the written data and check}
    \textcolor{comment}{//==================================================================================}

    \textcolor{comment}{// Write EF(ADN) using the le\_sim\_SendSimCommand API.}
    uint8\_t dataAdn[] = \{0x4A, 0x61, 0x63, 0x6B, 0x79, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
                         0xFF, 0xFF, 0xFF, 0xFF, 0x05, 0x81, 0x10, 0x92, 0x90, 0x71,
                         0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
                         0xFF, 0xFF, 0xFF, 0xFF\};

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_a8bbaea044b44f8b0ebff67bf98de816a}{le\_sim\_SendCommand}(simId,
                                    \hyperlink{le__sim__interface_8h_ac1a708ba305c36e33383073ec7f0e331a73f253861a66d9f1689fbdb97263019e}{LE\_SIM\_UPDATE\_RECORD},
                                    \textcolor{stringliteral}{"6F3A"},
                                    5,
                                    0,
                                    0,
                                    dataAdn,
                                    \textcolor{keyword}{sizeof}(dataAdn),
                                    \textcolor{stringliteral}{"3F007F10"},
                                    &swi1,
                                    &swi2,
                                    rsp,
                                    &rspLen));

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"swi1=0x%02X, swi2=0x%02X"}, swi1, swi2);

    \textcolor{comment}{// Read EF(ADN) using the le\_sim\_SendSimCommand API.}
    rspLen = SIM\_RSP\_LEN;
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_a8bbaea044b44f8b0ebff67bf98de816a}{le\_sim\_SendCommand}(simId,
                                    \hyperlink{le__sim__interface_8h_ac1a708ba305c36e33383073ec7f0e331aa2d4ea6bc380cab183fb215911a39f14}{LE\_SIM\_READ\_RECORD},
                                    \textcolor{stringliteral}{"6F3A"},
                                    5,
                                    0,
                                    0,
                                    NULL,
                                    0,
                                    \textcolor{stringliteral}{"3F007F10"},
                                    &swi1,
                                    &swi2,
                                    rsp,
                                    &rspLen));

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"swi1=0x%02X, swi2=0x%02X"}, swi1, swi2);
    PrintApdu(rsp, rspLen);

    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(rspLen == \textcolor{keyword}{sizeof}(dataAdn));
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(0 == memcmp(rsp, dataAdn, rspLen));

    \textcolor{comment}{//==================================================================================}
    \textcolor{comment}{// 4. Check read and write transparent elementary file}
    \textcolor{comment}{// - Read language indication file}
    \textcolor{comment}{// - Erase first entry of the file}
    \textcolor{comment}{// - Check that it is really erased (by reading again)}
    \textcolor{comment}{// - Re-write the initial value}
    \textcolor{comment}{// - Check that the initial value is correct (read again)}
    \textcolor{comment}{//==================================================================================}

    \textcolor{comment}{// Read binary EF(6F05) Language indication}
    \textcolor{keywordtype}{size\_t} rspLenLi = SIM\_RSP\_LEN;
    uint8\_t rspLi[rspLenLi];

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_a8bbaea044b44f8b0ebff67bf98de816a}{le\_sim\_SendCommand}(simId,
                                    \hyperlink{le__sim__interface_8h_ac1a708ba305c36e33383073ec7f0e331ae4a619ba58f2cd503103b397b717b16f}{LE\_SIM\_READ\_BINARY},
                                    \textcolor{stringliteral}{"6F05"},
                                    0,
                                    0,
                                    0,
                                    NULL,
                                    0,
                                    dfGsmPath,
                                    &swi1,
                                    &swi2,
                                    rspLi,
                                    &rspLenLi));

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"swi1=0x%02X, swi2=0x%02X"}, swi1, swi2);
    PrintApdu(rspLi, rspLenLi);

    uint8\_t dataLi[] = \{0xFF, 0xFF\};
    \textcolor{comment}{// Erase first Language entry}
    rspLen = 0;
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_a8bbaea044b44f8b0ebff67bf98de816a}{le\_sim\_SendCommand}(simId,
                                    \hyperlink{le__sim__interface_8h_ac1a708ba305c36e33383073ec7f0e331a68f83c3e207642ec4153b67c51cd3cd6}{LE\_SIM\_UPDATE\_BINARY},
                                    \textcolor{stringliteral}{"6F05"},
                                    0,
                                    0,
                                    0,
                                    dataLi,
                                    \textcolor{keyword}{sizeof}(dataLi),
                                    dfGsmPath,
                                    &swi1,
                                    &swi2,
                                    rsp,
                                    &rspLen));

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"swi1=0x%02X, swi2=0x%02X"}, swi1, swi2);

    \textcolor{comment}{// Read again...}
    rspLen = SIM\_RSP\_LEN;
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_a8bbaea044b44f8b0ebff67bf98de816a}{le\_sim\_SendCommand}(simId,
                                    \hyperlink{le__sim__interface_8h_ac1a708ba305c36e33383073ec7f0e331ae4a619ba58f2cd503103b397b717b16f}{LE\_SIM\_READ\_BINARY},
                                    \textcolor{stringliteral}{"6F05"},
                                    0,
                                    0,
                                    0,
                                    NULL,
                                    0,
                                    dfGsmPath,
                                    &swi1,
                                    &swi2,
                                    rsp,
                                    &rspLen));

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"swi1=0x%02X, swi2=0x%02X"}, swi1, swi2);
    PrintApdu(rsp, rspLen);

    \textcolor{comment}{// Check it is correctly erased}
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(0 == memcmp(rsp, dataLi, \textcolor{keyword}{sizeof}(dataLi)));

    \textcolor{comment}{// Re-write initial values}
    rspLen = 0;
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_a8bbaea044b44f8b0ebff67bf98de816a}{le\_sim\_SendCommand}(simId,
                                    \hyperlink{le__sim__interface_8h_ac1a708ba305c36e33383073ec7f0e331a68f83c3e207642ec4153b67c51cd3cd6}{LE\_SIM\_UPDATE\_BINARY},
                                    \textcolor{stringliteral}{"6F05"},
                                    0,
                                    0,
                                    0,
                                    rspLi,
                                    rspLenLi,
                                    dfGsmPath,
                                    &swi1,
                                    &swi2,
                                    rsp,
                                    &rspLen));

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"swi1=0x%02X, swi2=0x%02X"}, swi1, swi2);

    \textcolor{comment}{// And read again...}
    rspLen = SIM\_RSP\_LEN;
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_a8bbaea044b44f8b0ebff67bf98de816a}{le\_sim\_SendCommand}(simId,
                                    \hyperlink{le__sim__interface_8h_ac1a708ba305c36e33383073ec7f0e331ae4a619ba58f2cd503103b397b717b16f}{LE\_SIM\_READ\_BINARY},
                                    \textcolor{stringliteral}{"6F05"},
                                    0,
                                    0,
                                    0,
                                    NULL,
                                    0,
                                    dfGsmPath,
                                    &swi1,
                                    &swi2,
                                    rsp,
                                    &rspLen));

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"swi1=0x%02X, swi2=0x%02X"}, swi1, swi2);
    PrintApdu(rsp, rspLen);

    \textcolor{comment}{// Check it is correctly erased}
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(0 == memcmp(rsp, rspLi, \textcolor{keyword}{sizeof}(rspLenLi)));

    \textcolor{comment}{//=====================================================================================}
    \textcolor{comment}{// 5. Read IMSI using a dedicated logical channel}
    \textcolor{comment}{// Note that a SIM card supporting logical channels is necessary for this test.}
    \textcolor{comment}{//======================================================================================}

    uint8\_t channel = 0;

    \textcolor{comment}{// Open a logical channel}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_a88e2de9b9079e142b7a11bbb43bd95be}{le\_sim\_OpenLogicalChannel}(&channel));
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(channel);

    \textcolor{comment}{// Select ADF Dedicated File (DF\_ADF)}
    selectDfAdfApdu[0] = channel;
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_ac6bddf340beb65e2d9bdde307694cbb1}{le\_sim\_SendApduOnChannel}(simId,
                                          channel,
                                          selectDfAdfApdu,
                                          \textcolor{keyword}{sizeof}(selectDfAdfApdu),
                                          rspImsi,
                                          &rspImsiLen));
    PrintApdu(rspImsi, rspImsiLen);

    \textcolor{comment}{// Select the EF(IMSI)}
    rspImsiLen = SIM\_RSP\_LEN;
    selectApdu[0] = channel;
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_ac6bddf340beb65e2d9bdde307694cbb1}{le\_sim\_SendApduOnChannel}(simId,
                                          channel,
                                          selectApdu,
                                          \textcolor{keyword}{sizeof}(selectApdu),
                                          rspImsi,
                                          &rspImsiLen));
    PrintApdu(rspImsi, rspImsiLen);

    \textcolor{comment}{// Read the EF(IMSI)}
    rspImsiLen = SIM\_RSP\_LEN;
    readApdu[0] = channel;
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_ac6bddf340beb65e2d9bdde307694cbb1}{le\_sim\_SendApduOnChannel}(simId,
                                          channel,
                                          readApdu,
                                          \textcolor{keyword}{sizeof}(readApdu),
                                          rspImsi,
                                          &rspImsiLen));
    PrintApdu(rspImsi, rspImsiLen);

    \textcolor{comment}{// Close the logical channel}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__sim__interface_8h_ac3f55bd37c4b1df143bec93883fd1467}{le\_sim\_CloseLogicalChannel}(channel));

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"SIM access test OK"});
\}
\end{DoxyCodeInclude}
\hypertarget{c_sms}{}\subsubsection{S\+MS}\label{c_sms}
\hyperlink{le__sms__interface_8h}{A\+PI Reference}





This file contains data structures and prototypes definitions for high level S\+MS A\+P\+Is.

S\+MS is a common way to communicate in the M2M world.

It\textquotesingle{}s an easy, fast way to send a small amount of data (e.\+g., sensor values for gas telemetry). Usually, the radio module requests small power resources to send or receive a message. It\textquotesingle{}s often a good way to wake-\/up a device that was disconnected from the network or that was operating in low power mode.\hypertarget{c_sms_le_sms_binding}{}\paragraph{I\+P\+C interfaces binding}\label{c_sms_le_sms_binding}
All the functions of this A\+PI are provided by the {\bfseries modem\+Service}.

Here\textquotesingle{}s a code sample binding to modem services\+: \begin{DoxyVerb}bindings:
{
   clientExe.clientComponent.le_sms -> modemService.le_sms
}
\end{DoxyVerb}
\hypertarget{c_sms_le_sms_ops_creating_msg}{}\paragraph{Creating a Message object}\label{c_sms_le_sms_ops_creating_msg}
There are 3 kinds of supported messages\+: text messages, binary messages, and P\+DU messages.

You must create a Message object by calling {\ttfamily \hyperlink{le__sms__interface_8h_a668abcbcff2f1f3c5cdf799315a81058}{le\+\_\+sms\+\_\+\+Create()}} before using the message A\+P\+Is. It automatically allocates needed resources for the Message object, which is referenced by {\ttfamily le\+\_\+sms\+\_\+\+Msg\+Ref\+\_\+t} type.

When the Message object is no longer needed, call {\ttfamily \hyperlink{le__sms__interface_8h_aca1691010c88995cb47225f2889910fa}{le\+\_\+sms\+\_\+\+Delete()}} to free all allocated resources associated with the object.\hypertarget{c_sms_le_sms_ops_deleting_msg}{}\paragraph{Deleting a Message object}\label{c_sms_le_sms_ops_deleting_msg}
To delete a Message object, call \hyperlink{le__sms__interface_8h_aca1691010c88995cb47225f2889910fa}{le\+\_\+sms\+\_\+\+Delete()}. This frees all the resources allocated for the Message object. If several users own the Message object (e.\+g., several handler functions registered for S\+MS message reception), the Message object will be deleted only after the last user deletes the Message object.\hypertarget{c_sms_le_sms_ops_sending}{}\paragraph{Sending a message}\label{c_sms_le_sms_ops_sending}
To send a message, create an {\ttfamily le\+\_\+sms\+\_\+\+Msg\+Ref\+\_\+t} object by calling the {\ttfamily \hyperlink{le__sms__interface_8h_a668abcbcff2f1f3c5cdf799315a81058}{le\+\_\+sms\+\_\+\+Create()}} function. Then, set all the needed parameters for the message\+:
\begin{DoxyItemize}
\item Destination telephone number with \hyperlink{le__sms__interface_8h_a6fda3e193c9662c394412816ae508c23}{le\+\_\+sms\+\_\+\+Set\+Destination()};
\item Text content with \hyperlink{le__sms__interface_8h_aa5468a01069d8c8d03e5204453560d9a}{le\+\_\+sms\+\_\+\+Set\+Text()}, the total length are set as well with this A\+PI, maximum 160 characters as only the 7-\/bit alphabet is supported.
\item Binary content with \hyperlink{le__sms__interface_8h_ad135130755ab2979a265f65178a3ae0d}{le\+\_\+sms\+\_\+\+Set\+Binary()}, total length is set with this A\+PI, maximum 140 bytes.
\item P\+DU content with \hyperlink{le__sms__interface_8h_a0fc5c9da622cc48ef5f9d908dbcbbf92}{le\+\_\+sms\+\_\+\+Set\+P\+D\+U()}, total length is set with this A\+PI, max 36 (header) + 140 (payload) bytes long.
\item U\+C\+S2 content (16-\/bit format) with \hyperlink{le__sms__interface_8h_ac351541bd51f008551a55ea645e31599}{le\+\_\+sms\+\_\+\+Set\+U\+C\+S2()}, total length is set with this A\+PI, maximum 70 characters (140 bytes).
\item A specific timeout value can be used with \hyperlink{le__sms__interface_8h_a2b14febf0e2285b0b3c2dbcd1c2bb7b0}{le\+\_\+sms\+\_\+\+Set\+Timeout()} A\+PI.
\end{DoxyItemize}

After the Msg object is ready, call {\ttfamily \hyperlink{le__sms__interface_8h_ab7dee7d2c74cfcadd9ea0d5fe1786dfc}{le\+\_\+sms\+\_\+\+Send()}}.

{\ttfamily \hyperlink{le__sms__interface_8h_ab7dee7d2c74cfcadd9ea0d5fe1786dfc}{le\+\_\+sms\+\_\+\+Send()}} is a blocking function, it will return once the Modem has given back a positive or negative answer to the sending operation. The return of {\ttfamily \hyperlink{le__sms__interface_8h_ab7dee7d2c74cfcadd9ea0d5fe1786dfc}{le\+\_\+sms\+\_\+\+Send()}} A\+PI provides definitive status of the sending operation. T\+P-\/\+Validity-\/\+Period(T\+P-\/\+VP) parameter value indicates the time period for which the short message is valid, i.\+e. for how long the Service Center (SC) shall guarantee its existence in the SC memory before delivery to the recipient has been carried out. The default validity period(T\+P-\/\+VP) is set to 7 days for MO S\+MS.

When a message sending has failed and returned L\+E\+\_\+\+F\+A\+U\+LT, call \hyperlink{le__sms__interface_8h_a9ee511af99c91383344debf532fae1ae}{le\+\_\+sms\+\_\+\+Get\+Error\+Code()} to retrieve the 3\+G\+PP message error code or \hyperlink{le__sms__interface_8h_a46afe91bbded617ad444ea29a9dd910a}{le\+\_\+sms\+\_\+\+Get3\+G\+P\+P2\+Error\+Code()} to retrieve the 3\+G\+P\+P2 message error code. If L\+E\+\_\+\+S\+M\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+3\+G\+P\+P\+\_\+\+P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+S\+P\+E\+C\+I\+F\+IC or L\+E\+\_\+\+S\+M\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+3\+G\+P\+P2\+\_\+\+P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+S\+P\+E\+C\+I\+F\+IC values is returned, call \hyperlink{le__sms__interface_8h_a9cfbc2131df38f99272a71bf05cb1254}{le\+\_\+sms\+\_\+\+Get\+Platform\+Specific\+Error\+Code()} to retrieve the platform specific error code.

Please refer to \hyperlink{platformConstraintsSpecificErrorCodes}{Platform specific error codes} for platform specific error code description.

Please refer to \hyperlink{c_smsSampleMO}{Sample code for Mobile Originated S\+MS message} page to get an example of S\+MS message sending.\hypertarget{c_sms_le_sms_ops_async_sending}{}\paragraph{Sending asynchronously a message}\label{c_sms_le_sms_ops_async_sending}
To send an asynchronous message, \hyperlink{le__sms__interface_8h_a0ba61dcf10157e9982702373577c6b45}{le\+\_\+sms\+\_\+\+Send\+Async()} A\+PI can be called instead of \hyperlink{le__sms__interface_8h_ab7dee7d2c74cfcadd9ea0d5fe1786dfc}{le\+\_\+sms\+\_\+\+Send()} and a specific timeout value can be used with \hyperlink{le__sms__interface_8h_a2b14febf0e2285b0b3c2dbcd1c2bb7b0}{le\+\_\+sms\+\_\+\+Set\+Timeout()} A\+PI. The default validity period(T\+P-\/\+VP) is set to 7 days for MO S\+MS.

A text message can be sent with one simple function\+: \hyperlink{le__sms__interface_8h_a275932e7f318db06cd1d1cbc8e3f573f}{le\+\_\+sms\+\_\+\+Send\+Text()}. You only have to pass the three following parameters\+:
\begin{DoxyItemize}
\item the destination telephone number.
\item the text message, the total length are set as well with this function, maximum 160 characters as only the 7-\/bit alphabet is supported.
\item the callback function to get a notification indicating the sending result\+: L\+E\+\_\+\+S\+M\+S\+\_\+\+S\+E\+NT, L\+E\+\_\+\+S\+M\+S\+\_\+\+S\+E\+N\+D\+I\+N\+G\+\_\+\+F\+A\+I\+L\+ED or L\+E\+\_\+\+S\+M\+S\+\_\+\+S\+E\+N\+D\+I\+N\+G\+\_\+\+T\+I\+M\+E\+O\+UT. The default validity period(T\+P-\/\+VP) is set to 7 days for MO S\+MS.
\end{DoxyItemize}

A P\+DU message can be sent using the \hyperlink{le__sms__interface_8h_a6c45951342396e9c4bc0e995b4e70784}{le\+\_\+sms\+\_\+\+Send\+Pdu()} functions. The parameters to give are\+:
\begin{DoxyItemize}
\item the P\+DU content, total length is set with this A\+PI, maximum 176 bytes long = 36 (header) + 140 (payload).
\item the callback function to get a notification indicating the sending result\+: L\+E\+\_\+\+S\+M\+S\+\_\+\+S\+E\+NT, L\+E\+\_\+\+S\+M\+S\+\_\+\+S\+E\+N\+D\+I\+N\+G\+\_\+\+F\+A\+I\+L\+ED or L\+E\+\_\+\+S\+M\+S\+\_\+\+S\+E\+N\+D\+I\+N\+G\+\_\+\+T\+I\+M\+E\+O\+UT. The default validity period(T\+P-\/\+VP) is set to 7 days for MO S\+MS.
\end{DoxyItemize}

When a message sending has failed, call \hyperlink{le__sms__interface_8h_a9ee511af99c91383344debf532fae1ae}{le\+\_\+sms\+\_\+\+Get\+Error\+Code()} to retrieve the 3\+G\+PP message error code or \hyperlink{le__sms__interface_8h_a46afe91bbded617ad444ea29a9dd910a}{le\+\_\+sms\+\_\+\+Get3\+G\+P\+P2\+Error\+Code()} to retrieve the 3\+G\+P\+P2 message error code. If L\+E\+\_\+\+S\+M\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+3\+G\+P\+P\+\_\+\+P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+S\+P\+E\+C\+I\+F\+IC or L\+E\+\_\+\+S\+M\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+3\+G\+P\+P2\+\_\+\+P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+S\+P\+E\+C\+I\+F\+IC values is returned, call \hyperlink{le__sms__interface_8h_a9cfbc2131df38f99272a71bf05cb1254}{le\+\_\+sms\+\_\+\+Get\+Platform\+Specific\+Error\+Code()} to retrieve the platform specific error code.

Message object is never deleted regardless of the sending result. Caller has to delete it. Message object once used for sending the message can not be reused to send another message regardless of success or failure. New object has to be created for new message.\hypertarget{c_sms_le_sms_ops_receiving}{}\paragraph{Receiving a message}\label{c_sms_le_sms_ops_receiving}
To receive S\+MS messages, register a handler function to obtain incoming messages. Use {\ttfamily \hyperlink{le__sms__interface_8h_a844d595f3ae8d170b2fff80d854abb8d}{le\+\_\+sms\+\_\+\+Add\+Rx\+Message\+Handler()}} to register that handler.

The handler must satisfy the following prototype\+: {\ttfamily typedef} void ($\ast$le\+\_\+sms\+\_\+\+Rx\+Message\+Handler\+Func\+\_\+t)(le\+\_\+sms\+\_\+\+Msg\+Ref\+\_\+t msg).

When a new incoming message is received, a Message object is automatically created and the handler is called. This Message object is Read-\/\+Only, any calls of a le\+\_\+sms\+\_\+\+Set\+X\+XX A\+PI will return a L\+E\+\_\+\+N\+O\+T\+\_\+\+P\+E\+R\+M\+I\+T\+T\+ED error.

Use the following A\+P\+Is to retrieve message information and data from the Message object\+:
\begin{DoxyItemize}
\item \hyperlink{le__sms__interface_8h_a5c2b8ce7043b4732c7b0ede7c5d7118c}{le\+\_\+sms\+\_\+\+Get\+Format()} -\/ determine if it is a binary or a text message.
\item \hyperlink{le__sms__interface_8h_aa4651e8dc97aa01df80ed6d9a7a486c6}{le\+\_\+sms\+\_\+\+Get\+Sender\+Tel()} -\/ get the sender\textquotesingle{}s Telephone number.
\item \hyperlink{le__sms__interface_8h_af018ca1bc2085a48e4b6d4691bef3cc7}{le\+\_\+sms\+\_\+\+Get\+Time\+Stamp()} -\/ get the timestamp sets by the Service Center.
\item \hyperlink{le__sms__interface_8h_a6165464dd3502b3c76b79b32206ba10f}{le\+\_\+sms\+\_\+\+Get\+Userdata\+Len()} -\/ get the message content (text, binary or U\+C\+S2) length.
\item \hyperlink{le__sms__interface_8h_abb89b302e564f3d55d604bb0c0dda022}{le\+\_\+sms\+\_\+\+Get\+P\+D\+U\+Len()} -\/ get the P\+DU message length.
\item \hyperlink{le__sms__interface_8h_aebf0c28efce6ec0b9616ffa8ecb80782}{le\+\_\+sms\+\_\+\+Get\+Text()} -\/ get the message text.
\item \hyperlink{le__sms__interface_8h_adafdc63a36a6a50c8e942bf69958789f}{le\+\_\+sms\+\_\+\+Get\+U\+C\+S2()} -\/ get the U\+C\+S2 message content (16-\/bit format).
\item \hyperlink{le__sms__interface_8h_af652a15437db583f333257ff5cef808d}{le\+\_\+sms\+\_\+\+Get\+Binary()} -\/ get the message binary content.
\item \hyperlink{le__sms__interface_8h_a77555788d56f73fa52f56904cd39cd2f}{le\+\_\+sms\+\_\+\+Get\+P\+D\+U()} -\/ get the message P\+DU data.
\item \hyperlink{le__sms__interface_8h_a2a63c6b5179025a80fb86c7f188e1eb7}{le\+\_\+sms\+\_\+\+Get\+Type()} -\/ get the message type.
\end{DoxyItemize}

\begin{DoxyNote}{Note}
-\/ If two (or more) registered handler functions exist, they are all called and get a different message object reference.

-\/ For incoming S\+MS, if the returned format is L\+E\+\_\+\+S\+M\+S\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P\+DU, the P\+DU length can be retrieved by calling \hyperlink{le__sms__interface_8h_abb89b302e564f3d55d604bb0c0dda022}{le\+\_\+sms\+\_\+\+Get\+P\+D\+U\+Len()} and the content can be read by \hyperlink{le__sms__interface_8h_a77555788d56f73fa52f56904cd39cd2f}{le\+\_\+sms\+\_\+\+Get\+P\+D\+U()}.
\end{DoxyNote}
If a succession of messages is received, a new Message object is created for each, and the handler is called for each new message.

Uninstall the handler function by calling {\ttfamily \hyperlink{le__sms__interface_8h_a469a4d08b9ccb8b61ed7b8294e6ee3ef}{le\+\_\+sms\+\_\+\+Remove\+Rx\+Message\+Handler()}}. \begin{DoxyNote}{Note}
{\ttfamily \hyperlink{le__sms__interface_8h_a469a4d08b9ccb8b61ed7b8294e6ee3ef}{le\+\_\+sms\+\_\+\+Remove\+Rx\+Message\+Handler()}} A\+PI does not delete the Message Object. The caller has to delete it.
\end{DoxyNote}
Please refer to \hyperlink{c_smsSampleMT}{Sample code for Mobile Terminated S\+MS message} page to get an example of S\+MS message reception handling.\hypertarget{c_sms_le_sms_ops_sms_storage}{}\paragraph{Receiving a full S\+M\+S storage indication}\label{c_sms_le_sms_ops_sms_storage}
To receive a S\+MS full storage status, the application has to register a handler function. Use {\ttfamily \hyperlink{le__sms__interface_8h_a1ae7c04f5de9245489956e62bd607430}{le\+\_\+sms\+\_\+\+Add\+Full\+Storage\+Event\+Handler()}} to register that handler.

The handler must satisfy the following prototype\+: {\ttfamily typedef} void ($\ast$le\+\_\+sms\+\_\+\+Full\+Storage\+Event\+Func\+\_\+t)(le\+\_\+sms\+\_\+\+Storage\+\_\+t storage).

Uninstall the handler function by calling {\ttfamily \hyperlink{le__sms__interface_8h_ad4f895d18ab6a6456c0914c7f4bfb8b7}{le\+\_\+sms\+\_\+\+Remove\+Full\+Storage\+Event\+Handler()}}.

Please refer to \hyperlink{c_smsSampleMT}{Sample code for Mobile Terminated S\+MS message} page to get an example of S\+MS storage indication handling.\hypertarget{c_sms_le_sms_ops_listing}{}\paragraph{Listing  messages recorded in storage area}\label{c_sms_le_sms_ops_listing}
Call {\ttfamily \hyperlink{le__sms__interface_8h_aee4328f9e417108fa16794cc135073d0}{le\+\_\+sms\+\_\+\+Create\+Rx\+Msg\+List()}} to create a List object that lists the received messages present in the storage area, which is referenced by {\ttfamily le\+\_\+sms\+\_\+\+Msg\+List\+Ref\+\_\+t} type.

If messages are not present, the \hyperlink{le__sms__interface_8h_aee4328f9e417108fa16794cc135073d0}{le\+\_\+sms\+\_\+\+Create\+Rx\+Msg\+List()} returns N\+U\+LL.

Once the list is available, call {\ttfamily \hyperlink{le__sms__interface_8h_a934253dee33a6090656876cff853b2c6}{le\+\_\+sms\+\_\+\+Get\+First()}} to get the first message from the list, and then call {\ttfamily \hyperlink{le__sms__interface_8h_ac3b6a30a6d4e4f21749b536184b836ec}{le\+\_\+sms\+\_\+\+Get\+Next()}} A\+PI to get the next message.

Call {\ttfamily \hyperlink{le__sms__interface_8h_a4027c05c4ee7552ab0e081caa315c8a2}{le\+\_\+sms\+\_\+\+Delete\+List()}} to free all allocated resources associated with the List object.

Call {\ttfamily \hyperlink{le__sms__interface_8h_ae1843c72eca77cd6da94cb686e5c2ae8}{le\+\_\+sms\+\_\+\+Get\+Status()}} to read the status of a message (Received Read, Received Unread).

To finish, you can also modify the received status of a message with {\ttfamily \hyperlink{le__sms__interface_8h_a3dbd11952804520512fed270d183461d}{le\+\_\+sms\+\_\+\+Mark\+Read()}} and {\ttfamily \hyperlink{le__sms__interface_8h_a6ef04e331af6563b79e77bb51b28bc55}{le\+\_\+sms\+\_\+\+Mark\+Unread()}}.\hypertarget{c_sms_le_sms_ops_deleting}{}\paragraph{Deleting a message from the storage area}\label{c_sms_le_sms_ops_deleting}
{\ttfamily \hyperlink{le__sms__interface_8h_aff755186b683b94ba2788b48e28284a3}{le\+\_\+sms\+\_\+\+Delete\+From\+Storage()}} deletes the message from the storage area. Message is identified with {\ttfamily le\+\_\+sms\+\_\+\+Msg\+Ref\+\_\+t} object. The A\+PI returns an error if the deletion cannot be performed or if it is a broadcast or a non stored message.

\begin{DoxyNote}{Note}
If several users own the Message object on new reception (e.\+g., several handler functions registered for S\+MS message reception), the Message will be deleted from the storage area only after the last user deletes the Message object reference (not necessary from storage). A\+PI returns always L\+E\+\_\+\+OK in this case.

If one client creates a list and deletes all sms from storage, other clients won’t see sms stored If they have not created a sms list too. Sms List creation locks and delays sms deletion from storage until all references have been deleted.
\end{DoxyNote}
\hypertarget{c_sms_le_sms_ops_broadcast}{}\paragraph{S\+M\+S Cell Broadcast}\label{c_sms_le_sms_ops_broadcast}
The Cell Broadcast service permits a number of unacknowledged general messages to be broadcast to all receivers within a particular region. Cell Broadcast messages are broadcast to defined geographical areas known as cell broadcast areas. These areas may comprise of one or more cells, or may comprise the entire P\+L\+MN.

G\+SM or U\+M\+TS S\+MS cell broadcast service can be activated or deactivated with \hyperlink{le__sms__interface_8h_a4607c63f325465d078514b5682347c7f}{le\+\_\+sms\+\_\+\+Activate\+Cell\+Broadcast()} and \hyperlink{le__sms__interface_8h_aa57c2f717c71b33e93f278673a7806e9}{le\+\_\+sms\+\_\+\+Deactivate\+Cell\+Broadcast()} A\+P\+Is.

C\+D\+MA cell broadcast service can be activated or deactivated with \hyperlink{le__sms__interface_8h_a45a160fea5a8f6cd195e3aff33830602}{le\+\_\+sms\+\_\+\+Activate\+Cdma\+Cell\+Broadcast()} and \hyperlink{le__sms__interface_8h_a26d43a50652431063e0a8e4d88fdba86}{le\+\_\+sms\+\_\+\+Deactivate\+Cdma\+Cell\+Broadcast()} A\+P\+Is.

Cell broadcast message receptions are notify by the S\+MS handler like a S\+MS message reception, but there are neither stored in S\+IM nor in the modem. So \hyperlink{le__sms__interface_8h_aff755186b683b94ba2788b48e28284a3}{le\+\_\+sms\+\_\+\+Delete\+From\+Storage()} can\textquotesingle{}t be used but the message reference shall be delete with \hyperlink{le__sms__interface_8h_aca1691010c88995cb47225f2889910fa}{le\+\_\+sms\+\_\+\+Delete()}.


\begin{DoxyItemize}
\item \hyperlink{le__sms__interface_8h_a5c2b8ce7043b4732c7b0ede7c5d7118c}{le\+\_\+sms\+\_\+\+Get\+Format()} -\/ determine if it is a binary or a text message.
\item \hyperlink{le__sms__interface_8h_a6165464dd3502b3c76b79b32206ba10f}{le\+\_\+sms\+\_\+\+Get\+Userdata\+Len()} -\/ get the message content (text, binary or U\+C\+S2) length.
\item \hyperlink{le__sms__interface_8h_abb89b302e564f3d55d604bb0c0dda022}{le\+\_\+sms\+\_\+\+Get\+P\+D\+U\+Len()} -\/ get the P\+DU message received length.
\item \hyperlink{le__sms__interface_8h_aebf0c28efce6ec0b9616ffa8ecb80782}{le\+\_\+sms\+\_\+\+Get\+Text()} -\/ get the message text.
\item \hyperlink{le__sms__interface_8h_af652a15437db583f333257ff5cef808d}{le\+\_\+sms\+\_\+\+Get\+Binary()} -\/ get the message binary content.
\item \hyperlink{le__sms__interface_8h_adafdc63a36a6a50c8e942bf69958789f}{le\+\_\+sms\+\_\+\+Get\+U\+C\+S2()} -\/ get the U\+C\+S2 message content (16-\/bit format).
\item \hyperlink{le__sms__interface_8h_a77555788d56f73fa52f56904cd39cd2f}{le\+\_\+sms\+\_\+\+Get\+P\+D\+U()} -\/ get the message P\+DU data received length.
\item \hyperlink{le__sms__interface_8h_aa28c1d04ff19b88100b766737610b128}{le\+\_\+sms\+\_\+\+Get\+Cell\+Broadcast\+Id()} -\/ get the message identifier received (3\+G\+PP 23.\+41).
\item \hyperlink{le__sms__interface_8h_aa3e075b4a9396b2e4af233e4543f40bd}{le\+\_\+sms\+\_\+\+Get\+Cell\+Broadcast\+Serial\+Number()} get the message Serial Number received (3\+G\+PP 23.\+41).
\end{DoxyItemize}

A sample code that implements a function for S\+MS Cell Broadcast reception can be found in {\bfseries sms\+C\+B\+Test.\+c} file (please refer to \hyperlink{c_smsCbSample}{Sample code for S\+MS Cell Broadcast reception} page).

{\bfseries Serial} {\bfseries Number} 

Cell Broadcast Serial Number parameter is a 16-\/bit integer which identifies a particular C\+BS message from the source and type indicated by the Message Identifier and is altered every time the C\+BS message with a given Message Identifier is changed.

The two bytes of the Serial Number field are divided into a 2-\/bit Geographical Scope (GS) indicator, a 10-\/bit Message Code and a 4-\/bit Update Number as shown below\+:


\begin{DoxyItemize}
\item GS code (bit 14 and 15)\+: The Geographical Scope (GS) indicates the geographical area over which the Message Code is unique, and the display mode.
\item Message Code (bit 4 to 13) \+: The Message Code differentiates between C\+BS messages from the same source and type (i.\+e. with the same Message Identifier). Message Codes are for allocation by P\+L\+MN operators. The Message Code identifies different message themes. For example, let the value for the Message Identifier be \char`\"{}\+Automotive Association\char`\"{} (= source), \char`\"{}\+Traffic Reports\char`\"{} (= type). Then \char`\"{}\+Crash on A1 J5\char`\"{} could be one value for the message code, \char`\"{}\+Cow on A32 J4\char`\"{} could be another, and \char`\"{}\+Slow vehicle on M3 J3\char`\"{} yet another.
\item Update Number (bit 0 to 3) \+: The Update Number indicates a change of the message content of the same C\+BS message, i.\+e. the C\+BS message with the same Message Identifier, Geographical Scope, and Message Code.
\end{DoxyItemize}

Serial Number fields meaning are defined in the 3\+G\+PP 23.\+041 (9.\+4.\+1.\+2.\+1 Serial Number).

{\bfseries Message} {\bfseries Identifier} 

Message Identifier parameter identifies the source and type of the C\+BS message. For example, \char`\"{}\+Automotive Association\char`\"{} (= source), \char`\"{}\+Traffic Reports\char`\"{} (= type) could correspond to one value. A number of C\+BS messages may originate from the same source and/or be of the same type. These will be distinguished by the Serial Number.

Message identifier meaning ranges are defined in the 3\+G\+PP 23.\+041 (9.\+4.\+1.\+2.\+2 Message Identifier).\hypertarget{c_sms_le_sms_ops_broadcast_configuration}{}\paragraph{S\+M\+S Cell Broadcast configuration}\label{c_sms_le_sms_ops_broadcast_configuration}
G\+SM or U\+M\+TS Cell broadcast Message identifiers range can be added or removed with \hyperlink{le__sms__interface_8h_aae87dacecc438ea9182d370895e5cb3f}{le\+\_\+sms\+\_\+\+Add\+Cell\+Broadcast\+Ids()} and \hyperlink{le__sms__interface_8h_a656fefe815bb965e10087ee65b59faa0}{le\+\_\+sms\+\_\+\+Remove\+Cell\+Broadcast\+Ids()} A\+P\+Is. All Message identifiers can be removed with \hyperlink{le__sms__interface_8h_ae3333cbf700035067f2dae8ea0e564d0}{le\+\_\+sms\+\_\+\+Clear\+Cell\+Broadcast\+Ids()} A\+PI.

C\+D\+MA Cell broadcast Service categories can be added or removed with \hyperlink{le__sms__interface_8h_ad57196114a634f36b057a9cfbcb7d58a}{le\+\_\+sms\+\_\+\+Add\+Cdma\+Cell\+Broadcast\+Services()} and \hyperlink{le__sms__interface_8h_ae7c58d4ed9ff586d2403232b0cda99e7}{le\+\_\+sms\+\_\+\+Remove\+Cdma\+Cell\+Broadcast\+Services()} A\+P\+Is. All Service categories can be removed with \hyperlink{le__sms__interface_8h_ac737aaab68b6fa1d51a21b518ad112a9}{le\+\_\+sms\+\_\+\+Clear\+Cdma\+Cell\+Broadcast\+Services()} A\+PI.\hypertarget{c_sms_le_sms_ops_statusReport}{}\paragraph{S\+M\+S Status Report}\label{c_sms_le_sms_ops_statusReport}
S\+MS Status Report may be sent by the S\+MS Center (S\+M\+SC) to inform the originating device about the final outcome of the message delivery.

S\+MS Status Report can be activated or deactivated for outgoing messages with \hyperlink{le__sms__interface_8h_abb90bbe4ce17b1b8d029d25a6e6cc2de}{le\+\_\+sms\+\_\+\+Enable\+Status\+Report()} and \hyperlink{le__sms__interface_8h_af9c9679ca63f412c1c2a1165eb293d51}{le\+\_\+sms\+\_\+\+Disable\+Status\+Report()}. The current activation state can be retrieved with \hyperlink{le__sms__interface_8h_a301b97fc1568ad3f2699846bde5f71b4}{le\+\_\+sms\+\_\+\+Is\+Status\+Report\+Enabled()}.

The reception of a S\+MS Status Report is notified by the S\+MS handler like a S\+MS message reception, but the message is neither stored in S\+IM nor in the modem. So \hyperlink{le__sms__interface_8h_aff755186b683b94ba2788b48e28284a3}{le\+\_\+sms\+\_\+\+Delete\+From\+Storage()} can\textquotesingle{}t be used, but the message reference shall be delete with \hyperlink{le__sms__interface_8h_aca1691010c88995cb47225f2889910fa}{le\+\_\+sms\+\_\+\+Delete()}. Received S\+MS Status Reports are identified by a specific type\+: \hyperlink{le__sms__interface_8h_a9001c5bc939bda5d5865e363bdf7662caa2fb7260ae0bba4a3d1635f199b86811}{L\+E\+\_\+\+S\+M\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+R\+E\+P\+O\+RT}.

The different elements of the S\+MS Status Report can be retrieved with the following A\+P\+Is\+:
\begin{DoxyItemize}
\item \hyperlink{le__sms__interface_8h_aa69393d6233b862f1196e6f65d0c45ba}{le\+\_\+sms\+\_\+\+Get\+Tp\+Mr()} gives the Message Reference, defined in 3\+G\+PP TS 23.\+040 section 9.\+2.\+3.\+6.
\item \hyperlink{le__sms__interface_8h_acbcc4f0517d19ea9b01813ae5da068c7}{le\+\_\+sms\+\_\+\+Get\+Tp\+Ra()} gives the Recipient Address, defined in 3\+G\+PP TS 23.\+040 section 9.\+2.\+3.\+14, and the Recipient Address Type of Address, defined in 3\+G\+PP TS 24.\+011 section 8.\+2.\+5.\+2.
\item \hyperlink{le__sms__interface_8h_a7420855708637a4c35d36a20d1f5146d}{le\+\_\+sms\+\_\+\+Get\+Tp\+Sc\+Ts()} gives the Service Centre Time Stamp, defined in 3\+G\+PP TS 23.\+040 section 9.\+2.\+3.\+11.
\item \hyperlink{le__sms__interface_8h_ae3f6f7e4d53e171b3d8c62dcec9cc0c6}{le\+\_\+sms\+\_\+\+Get\+Tp\+Dt()} gives the Discharge Time, defined in 3\+G\+PP TS 23.\+040 section 9.\+2.\+3.\+13.
\item \hyperlink{le__sms__interface_8h_a8ef30b42f4e23f568cde8b60abe05709}{le\+\_\+sms\+\_\+\+Get\+Tp\+St()} gives the Status, defined in 3\+G\+PP TS 23.\+040 section 9.\+2.\+3.\+15.
\end{DoxyItemize}\hypertarget{c_sms_le_sms_ops_configuration}{}\paragraph{S\+M\+S configuration}\label{c_sms_le_sms_ops_configuration}
Modem S\+MS Center Address can be set or get with \hyperlink{le__sms__interface_8h_ac26c1b63cd99291dcb912ca98c0eb153}{le\+\_\+sms\+\_\+\+Set\+Sms\+Center\+Address()} and \hyperlink{le__sms__interface_8h_ae46b8ea579c788950049948edf1110b6}{le\+\_\+sms\+\_\+\+Get\+Sms\+Center\+Address()} functions\hypertarget{c_sms_le_sms_ops_storage_configuration}{}\paragraph{Preferred S\+M\+S storage configuration}\label{c_sms_le_sms_ops_storage_configuration}
Preferred S\+MS storage for incoming messages can be set or get with \hyperlink{le__sms__interface_8h_a05e4196eb01d4d36ed2412c6eedc406e}{le\+\_\+sms\+\_\+\+Set\+Preferred\+Storage()} and \hyperlink{le__sms__interface_8h_a5275b917903dbd1d782867f42d256c55}{le\+\_\+sms\+\_\+\+Get\+Preferred\+Storage()} functions.\hypertarget{c_sms_le_sms_ops_statistics}{}\paragraph{S\+M\+S statistics}\label{c_sms_le_sms_ops_statistics}
The number of S\+MS successfully sent or received through the Legato A\+PI can be counted. This feature is activated by default. \hyperlink{le__sms__interface_8h_ade1b38b464c14cca08cd1fc330a6d8e3}{le\+\_\+sms\+\_\+\+Get\+Count()} allows retrieving the message count for each S\+MS type (cf. \hyperlink{le__sms__interface_8h_a9001c5bc939bda5d5865e363bdf7662c}{le\+\_\+sms\+\_\+\+Type\+\_\+t}).

\hyperlink{le__sms__interface_8h_aa5651e6a979fc08bed6908d817337021}{le\+\_\+sms\+\_\+\+Stop\+Count()} stops the message counting and \hyperlink{le__sms__interface_8h_a6acd2a2bf763a97ec30ceaedb15195eb}{le\+\_\+sms\+\_\+\+Start\+Count()} restarts it. \hyperlink{le__sms__interface_8h_af45c0dd18248c98b5e5313f707b67bfa}{le\+\_\+sms\+\_\+\+Reset\+Count()} can be used to reset the message counters.

\begin{DoxyNote}{Note}
The activation state of this feature is persistent even after a reboot of the platform.
\end{DoxyNote}
\hypertarget{c_sms_le_sms_ops_samples}{}\paragraph{Sample codes}\label{c_sms_le_sms_ops_samples}
A sample code that implements a function for Mobile Originated S\+MS message can be found in {\bfseries sms\+M\+O.\+c} file (please refer to \hyperlink{c_smsSampleMO}{Sample code for Mobile Originated S\+MS message} page).

A sample code that implements a function for Mobile Terminated S\+MS message can be found in {\bfseries sms\+M\+T.\+c} file (please refer to \hyperlink{c_smsSampleMT}{Sample code for Mobile Terminated S\+MS message} page).

These two samples can be easily compiled and run into the {\bfseries sms} app, to install and use this app\+:

\begin{DoxyVerb}$ make ar7
$ bin/instapp  build/ar7/bin/samples/sms.ar7 <ipaddress>
\end{DoxyVerb}
 where ipaddress is the address of your target device.

Then on your target, just run\+: \begin{DoxyVerb}$ app start sms
\end{DoxyVerb}


The sample replies to the sender by the message \char`\"{}\+Message from $<$phone number$>$ received\char`\"{}. Where \char`\"{}phone number\char`\"{} is the sender\textquotesingle{}s phone number.

Sample code for that application can be seen in the following pages\+:
\begin{DoxyItemize}
\item \hyperlink{c_smsSampleMO}{Sample code for Mobile Originated S\+MS message} ~\newline

\item \hyperlink{c_smsSampleMT}{Sample code for Mobile Terminated S\+MS message}
\end{DoxyItemize}





Copyright (C) Sierra Wireless Inc. \hypertarget{c_smsSampleMO}{}\paragraph{Sample code for Mobile Originated S\+MS message}\label{c_smsSampleMO}

\begin{DoxyCodeInclude}
\textcolor{comment}{ /**}
\textcolor{comment}{  * Sample code for Mobile Originated SMS messages.}
\textcolor{comment}{  *}
\textcolor{comment}{  * Copyright (C) Sierra Wireless Inc.}
\textcolor{comment}{  *}
\textcolor{comment}{  *}
\textcolor{comment}{  *}
\textcolor{comment}{  */}

\textcolor{preprocessor}{#include "\hyperlink{legato_8h}{legato.h}"}
\textcolor{preprocessor}{#include "interfaces.h"}


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * This function simply sends a text message.}
\textcolor{comment}{ *}
\textcolor{comment}{ * @return LE\_FAULT  The function failed.}
\textcolor{comment}{ * @return LE\_OK     The function succeed.}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} smsmo\_SendMessage
(
    \textcolor{keyword}{const} \textcolor{keywordtype}{char}*   destinationPtr, \textcolor{comment}{///< [IN] The destination number.}
\textcolor{comment}{}    \textcolor{keyword}{const} \textcolor{keywordtype}{char}*   textPtr         \textcolor{comment}{///< [IN] The SMS message text.}
\textcolor{comment}{})
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t}           res;
    \hyperlink{le__sms__interface_8h_a8eb2a15362fe26516fc68fd7a7d5e3e7}{le\_sms\_MsgRef\_t}      myMsg;

    myMsg = \hyperlink{le__sms__interface_8h_a668abcbcff2f1f3c5cdf799315a81058}{le\_sms\_Create}();
    \textcolor{keywordflow}{if} (!myMsg)
    \{
        \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"SMS message creation has failed!"});
        \textcolor{keywordflow}{return} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798}{LE\_FAULT};
    \}

    res = \hyperlink{le__sms__interface_8h_a6fda3e193c9662c394412816ae508c23}{le\_sms\_SetDestination}(myMsg, destinationPtr);
    \textcolor{keywordflow}{if} (res != LE\_OK)
    \{
        \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"le\_sms\_SetDestination has failed (res.%d)!"}, res);
        \textcolor{keywordflow}{return} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798}{LE\_FAULT};
    \}

    res = \hyperlink{le__sms__interface_8h_aa5468a01069d8c8d03e5204453560d9a}{le\_sms\_SetText}(myMsg, textPtr);
    \textcolor{keywordflow}{if} (res != LE\_OK)
    \{
        \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"le\_sms\_SetText has failed (res.%d)!"}, res);
        \textcolor{keywordflow}{return} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798}{LE\_FAULT};
    \}

    res = \hyperlink{le__sms__interface_8h_ab7dee7d2c74cfcadd9ea0d5fe1786dfc}{le\_sms\_Send}(myMsg);
    \textcolor{keywordflow}{if} (res != LE\_OK)
    \{
        \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"le\_sms\_Send has failed (res.%d)!"}, res);
        \textcolor{keywordflow}{return} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798}{LE\_FAULT};
    \}
    \textcolor{keywordflow}{else}
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"\(\backslash\)"%s\(\backslash\)" has been successfully sent to %s."}, textPtr, destinationPtr);
    \}

    \hyperlink{le__sms__interface_8h_aca1691010c88995cb47225f2889910fa}{le\_sms\_Delete}(myMsg);

    \textcolor{keywordflow}{return} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5066a4bcec691c6b67843b8f79656422}{LE\_OK};
\}

\end{DoxyCodeInclude}
 \hypertarget{c_smsSampleMT}{}\paragraph{Sample code for Mobile Terminated S\+MS message}\label{c_smsSampleMT}

\begin{DoxyCodeInclude}
\textcolor{comment}{ /**}
\textcolor{comment}{  * Sample code for Mobile Terminated SMS messages.}
\textcolor{comment}{  *}
\textcolor{comment}{  * Copyright (C) Sierra Wireless Inc.}
\textcolor{comment}{  *}
\textcolor{comment}{  *}
\textcolor{comment}{  *}
\textcolor{comment}{  */}

\textcolor{preprocessor}{#include "\hyperlink{legato_8h}{legato.h}"}
\textcolor{preprocessor}{#include "interfaces.h"}
\textcolor{preprocessor}{#include "smsSample.h"}

\textcolor{preprocessor}{#define  MESSAGE\_FEEDBACK "Message from %s received"}

\textcolor{keyword}{static} \hyperlink{le__sms__interface_8h_a77d2607cc541bf0369e69bb2d105d4bf}{le\_sms\_RxMessageHandlerRef\_t} RxHdlrRef;
\textcolor{keyword}{static} \hyperlink{le__sms__interface_8h_a30f936dfe4c276ff8025ad2a90a8e4e3}{le\_sms\_FullStorageEventHandlerRef\_t} FullStorageHdlrRef;


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Handler function for SMS message reception.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------- -----------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} RxMessageHandler
(
    \hyperlink{le__sms__interface_8h_a8eb2a15362fe26516fc68fd7a7d5e3e7}{le\_sms\_MsgRef\_t} msgRef,
    \textcolor{keywordtype}{void}*            contextPtr
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t}  res;
    \textcolor{keywordtype}{char}         tel[\hyperlink{le__mdm_defs__interface_8h_ae6d4a4c7892f14d1e340f8df083d479f}{LE\_MDMDEFS\_PHONE\_NUM\_MAX\_BYTES}];
    \textcolor{keywordtype}{char}         timestamp[\hyperlink{le__sms__interface_8h_a9844280f515fbc2b393844e63aa83075}{LE\_SMS\_TIMESTAMP\_MAX\_BYTES}] = \{0\};
    \textcolor{keywordtype}{char}         text[\hyperlink{le__sms__interface_8h_a0dc5c2cec7c1fb166c47393fbb07e43f}{LE\_SMS\_TEXT\_MAX\_BYTES}] = \{0\};
    \textcolor{keywordtype}{char}         textReturn[\hyperlink{le__sms__interface_8h_a0dc5c2cec7c1fb166c47393fbb07e43f}{LE\_SMS\_TEXT\_MAX\_BYTES}] = \{0\};

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"A New SMS message is received with ref.%p"}, msgRef);

    \textcolor{keywordflow}{if} (\hyperlink{le__sms__interface_8h_a5c2b8ce7043b4732c7b0ede7c5d7118c}{le\_sms\_GetFormat}(msgRef) == \hyperlink{le__sms__interface_8h_a337778c44e63660c44fa2116699296c0a1bb6a0d76a622b1185ee879e1595dff8}{LE\_SMS\_FORMAT\_TEXT})
    \{
        res = \hyperlink{le__sms__interface_8h_aa4651e8dc97aa01df80ed6d9a7a486c6}{le\_sms\_GetSenderTel}(msgRef, tel, \textcolor{keyword}{sizeof}(tel));
        \textcolor{keywordflow}{if}(res != LE\_OK)
        \{
            \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"le\_sms\_GetSenderTel has failed (res.%d)!"}, res);
        \}
        \textcolor{keywordflow}{else}
        \{
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Message is received from %s."}, tel);
        \}

        res = \hyperlink{le__sms__interface_8h_af018ca1bc2085a48e4b6d4691bef3cc7}{le\_sms\_GetTimeStamp}(msgRef, timestamp, \textcolor{keyword}{sizeof}(timestamp));
        \textcolor{keywordflow}{if}(res != LE\_OK)
        \{
            \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"le\_sms\_GetTimeStamp has failed (res.%d)!"}, res);
        \}
        \textcolor{keywordflow}{else}
        \{
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Message timestamp is %s."}, timestamp);
        \}

        res = \hyperlink{le__sms__interface_8h_aebf0c28efce6ec0b9616ffa8ecb80782}{le\_sms\_GetText}(msgRef, text, \textcolor{keyword}{sizeof}(text));
        \textcolor{keywordflow}{if}(res != LE\_OK)
        \{
            \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"le\_sms\_GetText has failed (res.%d)!"}, res);
        \}
        \textcolor{keywordflow}{else}
        \{
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Message content: \(\backslash\)"%s\(\backslash\)""}, text);
        \}

        \hyperlink{app_stop_client_8c_a2b6c4b2a795957a91039524b524be480}{snprintf}(textReturn, \textcolor{keyword}{sizeof}(textReturn), MESSAGE\_FEEDBACK, tel);

        \textcolor{comment}{// Return a message to sender with phone number include (see smsMO.c file)}
        res = smsmo\_SendMessage(tel, textReturn);
        \textcolor{keywordflow}{if} (res != LE\_OK)
        \{
            \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"SmsMoMessage has failed (res.%d)!"}, res);
        \}
        \textcolor{keywordflow}{else}
        \{
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"the message has been successfully sent."});
        \}

        res = \hyperlink{le__sms__interface_8h_aff755186b683b94ba2788b48e28284a3}{le\_sms\_DeleteFromStorage}(msgRef);
        \textcolor{keywordflow}{if}(res != LE\_OK)
        \{
            \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"le\_sms\_DeleteFromStorage has failed (res.%d)!"}, res);
        \}
        \textcolor{keywordflow}{else}
        \{
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"the message has been successfully deleted from storage."});
        \}
    \}
    \textcolor{keywordflow}{else}
    \{
        \hyperlink{le__log_8h_a0201b2f60ee0e945479f91e181bf04b6}{LE\_WARN}(\textcolor{stringliteral}{"Warning! I read only Text messages!"});
    \}

    \hyperlink{le__sms__interface_8h_aca1691010c88995cb47225f2889910fa}{le\_sms\_Delete}(msgRef);
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Handler function for SMS storage full message indication.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------- -----------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} StorageMessageHandler
(
    \hyperlink{le__sms__interface_8h_a3b6b0bfc35728f2a70c4eed9dbb7b995}{le\_sms\_Storage\_t}  storage,
    \textcolor{keywordtype}{void}*            contextPtr
)
\{
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"A Full storage SMS message is received. Type of full storage %d"}, storage);
\}


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * This function installs an handler for message reception.}
\textcolor{comment}{ *}
\textcolor{comment}{ * @return LE\_FAULT  The function failed.}
\textcolor{comment}{ * @return LE\_OK     The function succeed.}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} smsmt\_Receiver
(
    \textcolor{keywordtype}{void}
)
\{
    RxHdlrRef = \hyperlink{le__sms__interface_8h_a844d595f3ae8d170b2fff80d854abb8d}{le\_sms\_AddRxMessageHandler}(RxMessageHandler, NULL);
    \textcolor{keywordflow}{if} (!RxHdlrRef)
    \{
        \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"le\_sms\_AddRxMessageHandler has failed!"});
        \textcolor{keywordflow}{return} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798}{LE\_FAULT};
    \}
    \textcolor{keywordflow}{else}
    \{
        \textcolor{keywordflow}{return} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5066a4bcec691c6b67843b8f79656422}{LE\_OK};
    \}
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * This function installs an handler for storage message indication.}
\textcolor{comment}{ *}
\textcolor{comment}{ * @return LE\_FAULT  The function failed.}
\textcolor{comment}{ * @return LE\_OK     The function succeed.}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} smsmt\_MonitorStorage
(
    \textcolor{keywordtype}{void}
)
\{
    FullStorageHdlrRef = \hyperlink{le__sms__interface_8h_a1ae7c04f5de9245489956e62bd607430}{le\_sms\_AddFullStorageEventHandler}(
      StorageMessageHandler, NULL);
    \textcolor{keywordflow}{if} (!FullStorageHdlrRef)
    \{
        \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"le\_sms\_AddFullStorageEventHandler has failed!"});
        \textcolor{keywordflow}{return} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798}{LE\_FAULT};
    \}
    \textcolor{keywordflow}{else}
    \{
        \textcolor{keywordflow}{return} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5066a4bcec691c6b67843b8f79656422}{LE\_OK};
    \}
\}


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * This function remove the handler for message reception.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keywordtype}{void} smsmt\_HandlerRemover
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__sms__interface_8h_a469a4d08b9ccb8b61ed7b8294e6ee3ef}{le\_sms\_RemoveRxMessageHandler}(RxHdlrRef);
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * This function remove the handler for storage message indication.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keywordtype}{void} smsmt\_StorageHandlerRemover
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__sms__interface_8h_ad4f895d18ab6a6456c0914c7f4bfb8b7}{le\_sms\_RemoveFullStorageEventHandler}(FullStorageHdlrRef);
\}
\end{DoxyCodeInclude}
 \hypertarget{platformConstraintsAdc}{}\subsection{Analog to Digital Converter}\label{platformConstraintsAdc}
The A\+R755x, A\+R758x and A\+R8652 support 2 A\+D\+Cs. The dedicated string in \hyperlink{le__adc__interface_8h_a9a8e160720de8de284c6c89d3f3fc4e3}{le\+\_\+adc\+\_\+\+Read\+Value()} A\+PI are \char`\"{}\+E\+X\+T\+\_\+\+A\+D\+C1\char`\"{} and \char`\"{}\+E\+X\+T\+\_\+\+A\+D\+C2\char`\"{}.

The W\+P750x, W\+P8548, W\+P76xx and W\+P77xx support 4 A\+D\+Cs. The dedicated string in \hyperlink{le__adc__interface_8h_a9a8e160720de8de284c6c89d3f3fc4e3}{le\+\_\+adc\+\_\+\+Read\+Value()} A\+PI are \char`\"{}\+E\+X\+T\+\_\+\+A\+D\+C0\char`\"{}, \char`\"{}\+E\+X\+T\+\_\+\+A\+D\+C1\char`\"{}, \char`\"{}\+E\+X\+T\+\_\+\+A\+D\+C2\char`\"{} and \char`\"{}\+E\+X\+T\+\_\+\+A\+D\+C3\char`\"{}.

The A\+R759x support 4 A\+D\+Cs. The dedicated string in \hyperlink{le__adc__interface_8h_a9a8e160720de8de284c6c89d3f3fc4e3}{le\+\_\+adc\+\_\+\+Read\+Value()} A\+PI are \char`\"{}\+E\+X\+T\+\_\+\+A\+D\+C1\char`\"{}, \char`\"{}\+E\+X\+T\+\_\+\+A\+D\+C2\char`\"{}, \char`\"{}\+E\+X\+T\+\_\+\+A\+D\+C3\char`\"{} and \char`\"{}\+E\+X\+T\+\_\+\+A\+D\+C4\char`\"{}.

For all platforms, channels are externally available for general use, and by default use 1.\+8V reference and return results in mV.

See \hyperlink{c_adc}{A\+DC Channel A\+PI} A\+PI

Copyright (C) Sierra Wireless Inc. \hypertarget{platformConstraintsAudio}{}\subsection{Audio}\label{platformConstraintsAudio}
\hyperlink{c_audio}{le\+\_\+audio} functions are constrained by the following platform limitations.

{\bfseries D\+T\+MF, playback and recording\+:}
\begin{DoxyItemize}
\item D\+T\+MF decoding works only on Mdm\+Voice Rx stream. D\+T\+MF\textquotesingle{}s reception handler must be installed before call initiation.
\item File Playback/\+Recording\+: W\+A\+VE, A\+MR Narrowband and A\+MR Wideband formats are supported.
\item Only one Recording/sample extraction can be activated simultaneously.
\end{DoxyItemize}





{\bfseries Possible audio connections\+:}

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*7{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf Input stream \textbackslash{} Output stream }&\PBS\centering {\bf Spkr }&\PBS\centering {\bf U\+SB Tx }&\PBS\centering {\bf P\+CM Tx }&\PBS\centering {\bf I2S Tx }&\PBS\centering {\bf Mdm\+Voice Tx }&\PBS\centering {\bf Recorder  }\\\cline{1-7}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf Input stream \textbackslash{} Output stream }&\PBS\centering {\bf Spkr }&\PBS\centering {\bf U\+SB Tx }&\PBS\centering {\bf P\+CM Tx }&\PBS\centering {\bf I2S Tx }&\PBS\centering {\bf Mdm\+Voice Tx }&\PBS\centering {\bf Recorder  }\\\cline{1-7}
\endhead
Mic &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X \\\cline{1-7}
U\+SB Rx &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X \\\cline{1-7}
P\+CM Rx &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X \\\cline{1-7}
I2S Rx &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X \\\cline{1-7}
Mdm\+Voice Rx &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering &\PBS\centering X \\\cline{1-7}
Player &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering \\\cline{1-7}
\end{longtabu}
Player = file playback and samples insertion~\newline
 Recorder = file recording and samples extraction

\begin{DoxyNote}{Note}
The Mic input and Spkr output are not available on A\+R759x platform.~\newline
 Please refer to the Product Technical Specification document of your platform for further details.~\newline
~\newline


Only 1 point to 1 point connection is possible except for Player and Recorder.~\newline
 Player and Recorder can be added to any active 1 point to 1 point connections, or tied to 1 single stream.~\newline

\end{DoxyNote}




{\bfseries Available functions for the different audio streams\+:}

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*13{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf Function \textbackslash{} Stream }&\PBS\centering {\bf I2S Tx }&\PBS\centering {\bf I2S Rx }&\PBS\centering {\bf P\+CM Tx }&\PBS\centering {\bf P\+CM Rx }&\PBS\centering {\bf U\+SB Tx }&\PBS\centering {\bf U\+SB Rx }&\PBS\centering {\bf Spkr }&\PBS\centering {\bf Mic }&\PBS\centering {\bf Mdm\+Voice Tx }&\PBS\centering {\bf Mdm\+Voice Rx }&\PBS\centering {\bf Player }&\PBS\centering {\bf Recorder  }\\\cline{1-13}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf Function \textbackslash{} Stream }&\PBS\centering {\bf I2S Tx }&\PBS\centering {\bf I2S Rx }&\PBS\centering {\bf P\+CM Tx }&\PBS\centering {\bf P\+CM Rx }&\PBS\centering {\bf U\+SB Tx }&\PBS\centering {\bf U\+SB Rx }&\PBS\centering {\bf Spkr }&\PBS\centering {\bf Mic }&\PBS\centering {\bf Mdm\+Voice Tx }&\PBS\centering {\bf Mdm\+Voice Rx }&\PBS\centering {\bf Player }&\PBS\centering {\bf Recorder  }\\\cline{1-13}
\endhead
Gain (Set / Get) &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering \\\cline{1-13}
Mute / Unmute &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering &\PBS\centering X &\PBS\centering \\\cline{1-13}
NS &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering &\PBS\centering &\PBS\centering \\\cline{1-13}
EC &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering &\PBS\centering &\PBS\centering \\\cline{1-13}
I\+IR &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering &\PBS\centering \\\cline{1-13}
F\+IR &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering &\PBS\centering \\\cline{1-13}
A\+GC &\PBS\centering X &\PBS\centering &\PBS\centering X &\PBS\centering &\PBS\centering X &\PBS\centering &\PBS\centering X &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering &\PBS\centering \\\cline{1-13}
\end{longtabu}


NS = Noise Suppressor ~\newline
 EC = Echo Canceller ~\newline
 I\+IR = Infinite Impulse Response filter ~\newline
 F\+IR = Finite Impulse Response filter ~\newline
 A\+GC = Automatic Gain Control

{\bfseries Gains value\textquotesingle{}s\+:}

{\bfseries Mic\+:}
\begin{DoxyItemize}
\item range\+: 0x0000 – 0x\+F\+F\+FF;
\item value (in dB) = 20$\ast$\+Log($<$value$>$/0x0100)
\end{DoxyItemize}

{\bfseries Mdm\+Voice\+Rx\+:}
\begin{DoxyItemize}
\item range\+: 0 -\/ 8 (integer);
\item the value is not in dB, \textquotesingle{}0\textquotesingle{} means lowest volume value (not muted) and \textquotesingle{}8\textquotesingle{} means the highest volume value.
\end{DoxyItemize}

{\bfseries Mdm\+Voice\+Tx\+:}
\begin{DoxyItemize}
\item range\+: 0x0000 – 0x\+F\+F\+FF;
\item value (in dB) = 20$\ast$\+Log($<$value$>$/0x2000)
\end{DoxyItemize}

{\bfseries Player\+:}
\begin{DoxyItemize}
\item range\+: 0x0000 – 0x\+F\+F\+FF;
\item value (in dB) = 20$\ast$\+Log($<$value$>$/0x2000)
\end{DoxyItemize}

\begin{DoxyNote}{Note}
AR specific gains can use the \hyperlink{le__audio__interface_8h_a64e7ebe776e83d10deb42415e185d68a}{le\+\_\+audio\+\_\+\+Set\+Platform\+Specific\+Gain()} function with {\bfseries \char`\"{}\+D\+\_\+\+A\+F\+E\+\_\+\+G\+A\+I\+N\+\_\+\+R\+X\char`\"{}} and {\bfseries \char`\"{}\+D\+\_\+\+A\+F\+E\+\_\+\+G\+A\+I\+N\+\_\+\+T\+X\char`\"{}} parameters.
\end{DoxyNote}
{\bfseries \char`\"{}\+D\+\_\+\+A\+F\+E\+\_\+\+G\+A\+I\+N\+\_\+\+R\+X\char`\"{}\+:}
\begin{DoxyItemize}
\item range\+: 0x0000 – 0x\+F\+F\+FF;
\item value (in dB) = 20$\ast$\+Log($<$value$>$/0x2000)
\end{DoxyItemize}

{\bfseries \char`\"{}\+D\+\_\+\+A\+F\+E\+\_\+\+G\+A\+I\+N\+\_\+\+T\+X\char`\"{}\+:}
\begin{DoxyItemize}
\item range\+: 0x0000 – 0x\+F\+F\+FF;
\item value (in dB) = 20$\ast$\+Log($<$value$>$/0x2000)
\end{DoxyItemize}





{\bfseries The following diagram shows where the functions are applied in a voice call audio path (applicable for A\+R755x, A\+R8652, W\+P8548)\+:}







Copyright (C) Sierra Wireless Inc. \hypertarget{platformConstraintsGnss}{}\subsection{G\+N\+SS platform constraints}\label{platformConstraintsGnss}
\hypertarget{platformConstraintsGnss_platformConstraintsGnss_acqRate}{}\subsubsection{Acquisition rate}\label{platformConstraintsGnss_platformConstraintsGnss_acqRate}
The \hyperlink{le__gnss__interface_8h_a75d96ec7ac6e0d6b58525e4c523d3b2c}{le\+\_\+gnss\+\_\+\+Set\+Acquisition\+Rate()} function configures the G\+N\+SS device acquisition rate.

On Qualcomm-\/based platform the “tracking” mode is selected for the “continuous” navigation.

When a hot start is requested, it is possible that G\+PS engine can’t get fix within first 1s, hence N\+M\+EA message can possibly get empty frame outputs every second. Tracking mode is based on periodic hot start\+: periodically, low layer G\+PS engine starts a new session and updates G\+PS location until it gets a fix, from which N\+M\+EA output can be composed.

In other words, after first fix is gotten, G\+PS engine restart the G\+PS session to get the fix again, it will not output the last valid fix before we get the new fix, and N\+M\+EA message can get empty frame again.

The \textquotesingle{}Acquisition Rate\textquotesingle{} value is used to set the interval between two fix requests.

Qualcomm-\/based platform hot start performance is about 1$\sim$3s, it’s an average value. So you may notice a void N\+M\+EA string (and the corresponding Legato position sample notification) during hot start and then the valid N\+M\+EA string on an Acquisition\+Rate minimum time interval. But it’s should not be so accurate, you may have 1$\sim$3s error-\/range.

Here below an example of N\+M\+EA traces in tracking mode with a 30-\/second acquisition rate. Note the G\+P\+G\+GA string sequence\+:

\begin{DoxyVerb}$GPVTG,,T,,M,,N,,K,N*2C
$GPGSA,A,1,,,,,,,,,,,,,,,*1E
        $GPGGA,,,,,,0,,,,,,,,*66                -> say it’s 1st second from logging start, no fix from beginning for 1st GPS session
$PQXFI,,,,,,,,,,*56
$GPRMC,,V,,,,,,,,,,N*53
$GPGSV,2,1,05,02,,,42,06,48,299,50,09,53,213,50,19,28,230,43*48
$GPGSV,2,2,05,31,09,029,*4C
        $GPGGA,100836.0,4849.944172,N,00216.094351,E,1,03,1.7,54.2,M,48.0,M,,*69  -> second 2 from start (100836), get the fix for 1st session
$PQXFI,100836.0,4849.944172,N,00216.094351,E,54.2,5.74,11.44,1.86*6A
$GPVTG,318.5,T,320.6,M,0.0,N,0.0,K,A*2B
$GPRMC,100836.0,A,4849.944172,N,00216.094351,E,0.0,318.5,220116,2.1,W,A*12 valid final NMEA
$GPGSA,A,2,06,09,19,,,,,,,,,,2.0,1.7,1.0*31
$GPVTG,,T,,M,,N,,K,N*2C
$GPGSA,A,1,,,,,,,,,,,,,,,*1E
        $GPGGA,,,,,,0,,,,,,,,*66               -> second 31, no fix for 2nd GPS session
$PQXFI,,,,,,,,,,*56
$GPRMC,,V,,,,,,,,,,N*53 non valid intermediate NMEA
$GPGSV,2,1,05,02,,,41,06,49,299,49,09,53,213,48,19,28,230,43*4B
$GPGSV,2,2,05,31,09,029,*4C
        $GPGGA,100906.0,4849.942986,N,00216.093882,E,1,03,1.7,48.3,M,48.0,M,,*60  -> second 32 from start (100906, 30s after 100836), get the fix for 2nd session
$PQXFI,100906.0,4849.942986,N,00216.093882,E,48.3,7.25,15.04,0.77*6A
$GPVTG,318.5,T,320.6,M,0.0,N,0.0,K,A*2B
$GPRMC,100906.0,A,4849.942986,N,00216.093882,E,0.0,318.5,220116,2.1,W,A*17
$GPGSA,A,2,06,09,19,,,,,,,,,,2.0,1.7,1.0*31
$GPVTG,,T,,M,,N,,K,N*2C
$GPGSA,A,1,,,,,,,,,,,,,,,*1E
$       GPGGA,,,,,,0,,,,,,,,*66               -> second 61, no fix for 3rd session
$PQXFI,,,,,,,,,,*56
$GPRMC,,V,,,,,,,,,,N*53
$GPGSV,2,1,05,02,,,43,06,49,298,50,09,53,213,47,19,27,230,44*47
$GPGSV,2,2,05,31,09,029,*4C
$GPGGA,100936.0,4849.941714,N,00216.095230,E,1,03,1.7,55.9,M,48.0,M,,*66  -> second 62 from start (100936, 30s after 100906), get the fix for 3rd session
$PQXFI,100936.0,4849.941714,N,00216.095230,E,55.9,15.01,27.89,0.34*5A
$GPVTG,318.5,T,320.6,M,0.0,N,0.0,K,A*2B
$GPRMC,100936.0,A,4849.941714,N,00216.095230,E,0.0,318.5,220116,2.1,W,A*17
$GPGSA,A,2,06,09,19,,,,,,,,,,2.0,1.7,1.0*31
$GPVTG,,T,,M,,N,,K,N*2C
$GPGSA,A,1,,,,,,,,,,,,,,,*1E
$GPGGA,,,,,,0,,,,,,,,*66\end{DoxyVerb}
\hypertarget{platformConstraintsGnss_platformConstraintsGnss_nmeaMask}{}\subsubsection{Enabled N\+M\+E\+A sentences}\label{platformConstraintsGnss_platformConstraintsGnss_nmeaMask}
{\ttfamily \hyperlink{le__gnss__interface_8h_ab9253e29d74cae6e962dcc8b94f0e3c1}{le\+\_\+gnss\+\_\+\+Set\+Nmea\+Sentences()}} function configures the enabled N\+M\+EA sentences in the N\+M\+EA flow and {\ttfamily \hyperlink{le__gnss__interface_8h_a985845ac33d35c34ac3099b6557ca8ea}{le\+\_\+gnss\+\_\+\+Get\+Nmea\+Sentences()}} function gets the enabled N\+M\+EA sentences.

Not all N\+M\+EA sentences are supported by the different platforms. The table below lists the supported N\+M\+EA sentences for each platform.

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*9{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf N\+M\+EA sentences }&{\bf A\+R7 }&{\bf A\+R758x }&{\bf A\+R759x }&{\bf A\+R8652 }&{\bf W\+P750x }&{\bf W\+P76xx }&{\bf W\+P77xx }&{\bf W\+P85  }\\\cline{1-9}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf N\+M\+EA sentences }&{\bf A\+R7 }&{\bf A\+R758x }&{\bf A\+R759x }&{\bf A\+R8652 }&{\bf W\+P750x }&{\bf W\+P76xx }&{\bf W\+P77xx }&{\bf W\+P85  }\\\cline{1-9}
\endhead
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+G\+P\+G\+GA &X &X &X &X &X &X &X &X \\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+G\+P\+G\+SA &X &X &X &X &X &X &X &X \\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+G\+P\+G\+SV &X &X &X &X &X &X &X &X \\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+G\+P\+R\+MC &X &X &X &X &X &X &X &X \\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+G\+P\+V\+TG &X &X &X &X &X &X &X &X \\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+G\+L\+G\+SV &X &X &X &X &X &X &X &X \\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+G\+N\+G\+NS &X &X &X &X &X &X &X &X \\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+G\+N\+G\+SA &X &X &X &X &X &X &X &X \\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+G\+A\+G\+GA &X &X &X &X &X &X &X &X \\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+G\+A\+G\+SA &X &X &X &X &X &X &X &X \\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+G\+A\+G\+SV &X &X &X &X &X &X &X &X \\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+G\+A\+R\+MC &X &X &X &X &X &X &X &X \\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+G\+A\+V\+TG &X &X &X &X &X &X &X &X \\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+P\+S\+T\+IS &X &&&X &X &X &X &X \\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+P\+Q\+X\+FI &X &X &X &X &X &X &X &X \\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+P\+T\+Y\+PE &X &X &X &X &X &X &X &X \\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+G\+P\+G\+RS &&&X &&&&&\\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+G\+P\+G\+LL &&&X &&&&&\\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+D\+E\+B\+UG &&X &X &&&X &X &\\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+G\+P\+D\+TM &&&X &&&&&\\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+G\+A\+G\+NS &&&X &&&&&\\\cline{1-9}
\end{longtabu}


\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000003}{Deprecated}]L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+P\+Q\+X\+FI is deprecated. L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+P\+T\+Y\+PE supporting all proprietary type masks, should be used instead. Setting L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+P\+T\+Y\+PE will also set L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+N\+M\+E\+A\+\_\+\+M\+A\+S\+K\+\_\+\+P\+Q\+X\+FI.\end{DoxyRefDesc}


Please note that the Qualcomm-\/based firmware release {\ttfamily S\+W\+I9\+X15\+A\+\_\+07.\+10.\+15.\+00} (A\+R755x, A\+R8652) is subject to some limitations\+:
\begin{DoxyItemize}
\item Not all N\+M\+EA sentences supported by the A\+T!\+G\+P\+S\+N\+M\+E\+A\+S\+E\+N\+T\+E\+N\+CE can be (de)activated through the Legato A\+PI\+: the {\ttfamily G\+P\+G\+S\+V\+\_\+\+E\+X\+T\+E\+N\+D\+ED} and {\ttfamily G\+P\+G\+RS} N\+M\+EA sentences are not available.
\item The Galileo N\+M\+EA sentences always appear as not enabled when retrieving their status, even if they are enabled. This concerns the {\ttfamily G\+A\+G\+GA}, {\ttfamily G\+A\+G\+SA}, {\ttfamily G\+A\+G\+SV}, {\ttfamily G\+A\+R\+MC}, and {\ttfamily G\+A\+V\+TG} N\+M\+EA sentences.
\end{DoxyItemize}\hypertarget{platformConstraintsGnss_platformConstraintsGnss_ConstellationType}{}\subsubsection{Constellation type}\label{platformConstraintsGnss_platformConstraintsGnss_ConstellationType}
{\ttfamily \hyperlink{le__gnss__interface_8h_a6dbdc58f23e480e65ea16c583ef5340f}{le\+\_\+gnss\+\_\+\+Set\+Constellation()}} function configures the constellation type and {\ttfamily \hyperlink{le__gnss__interface_8h_a150835481ab3751e3ab1821362e34e84}{le\+\_\+gnss\+\_\+\+Get\+Constellation()}} function gets the enabled constellation type.

Not all constellation types are supported by the different platforms. The table below lists the supported constellation types for each platform.

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*9{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf Constellation type }&{\bf A\+R7 }&{\bf A\+R758x }&{\bf A\+R759x }&{\bf A\+R8652 }&{\bf W\+P750x }&{\bf W\+P76xx }&{\bf W\+P77xx }&{\bf W\+P85  }\\\cline{1-9}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf Constellation type }&{\bf A\+R7 }&{\bf A\+R758x }&{\bf A\+R759x }&{\bf A\+R8652 }&{\bf W\+P750x }&{\bf W\+P76xx }&{\bf W\+P77xx }&{\bf W\+P85  }\\\cline{1-9}
\endhead
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+C\+O\+N\+S\+T\+E\+L\+L\+A\+T\+I\+O\+N\+\_\+\+G\+PS &&X &X &&&&&X \\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+C\+O\+N\+S\+T\+E\+L\+L\+A\+T\+I\+O\+N\+\_\+\+G\+L\+O\+N\+A\+SS &&X &X &&&&&X \\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+C\+O\+N\+S\+T\+E\+L\+L\+A\+T\+I\+O\+N\+\_\+\+B\+E\+I\+D\+OU &&X &X &&&&&\\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+C\+O\+N\+S\+T\+E\+L\+L\+A\+T\+I\+O\+N\+\_\+\+G\+A\+L\+I\+L\+EO &&X &X &&&&&\\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+C\+O\+N\+S\+T\+E\+L\+L\+A\+T\+I\+O\+N\+\_\+\+S\+B\+AS &&&&&&&&\\\cline{1-9}
L\+E\+\_\+\+G\+N\+S\+S\+\_\+\+C\+O\+N\+S\+T\+E\+L\+L\+A\+T\+I\+O\+N\+\_\+\+Q\+Z\+SS &&X &X &&&&&\\\cline{1-9}
\end{longtabu}
\hypertarget{platformConstraintsGnss_platformConstraintsGnss_SettingConfiguration}{}\subsubsection{Setting configuration}\label{platformConstraintsGnss_platformConstraintsGnss_SettingConfiguration}
This section summarizes for each G\+N\+SS setting A\+PI, on Qualcomm-\/based platform, how the setting is performed.

Most of the A\+P\+Is write the setting into a non volatile (NV) memory at each call, making it persistent to reset. Pay attention that in this case, a reboot of the device is required to take the change into account. For exemple, a new constellation set by \hyperlink{le__gnss__interface_8h_a6dbdc58f23e480e65ea16c583ef5340f}{le\+\_\+gnss\+\_\+\+Set\+Constellation()} is only valid after a reboot of the module. Enabling/\+Disabling the \textquotesingle{}Extended Ephemeris\textquotesingle{} file injection into the G\+N\+SS device set by \hyperlink{le__gnss__interface_8h_a3474bb912febeca6e258c6039144f39f}{le\+\_\+gnss\+\_\+\+Enable\+Extended\+Ephemeris\+File()}/le\+\_\+gnss\+\_\+\+Disable\+Extended\+Ephemeris\+File() is only valid after a reboot of the module.

It is recommended to call these A\+P\+Is, for which the setting takes effect after a reboot, only once in a G\+N\+SS session.

Other A\+P\+Is don\textquotesingle{}t write the setting into a non volatile memory making it lost after a device reboot. This setting is operational imediately in the next G\+N\+SS session (no reboot is needed). However, there are difference upon G\+N\+SS restart session and upon Legato restart.

The following A\+P\+Is write the setting to NV, the setting is persistent and effective after reboot\+:~\newline
 \hyperlink{le__gnss__interface_8h_a6dbdc58f23e480e65ea16c583ef5340f}{le\+\_\+gnss\+\_\+\+Set\+Constellation()}~\newline
 \hyperlink{le__gnss__interface_8h_a3474bb912febeca6e258c6039144f39f}{le\+\_\+gnss\+\_\+\+Enable\+Extended\+Ephemeris\+File()}~\newline
 \hyperlink{le__gnss__interface_8h_a49d596f01c010f7828c949f1436246df}{le\+\_\+gnss\+\_\+\+Disable\+Extended\+Ephemeris\+File()}~\newline
 \hyperlink{le__gnss__interface_8h_a92e3a26e2ba3c220a282fad8817c41be}{le\+\_\+gnss\+\_\+\+Set\+Supl\+Server\+Url()}~\newline
 \hyperlink{le__gnss__interface_8h_ab9253e29d74cae6e962dcc8b94f0e3c1}{le\+\_\+gnss\+\_\+\+Set\+Nmea\+Sentences()}~\newline
 \hyperlink{le__gnss__interface_8h_a78982eb8669530eef1bbc79ff79347e4}{le\+\_\+gnss\+\_\+\+Set\+Min\+Elevation()}~\newline


The following A\+P\+Is don\textquotesingle{}t write the setting to NV, the setting is thus not persistent to reboot but effective imediately in next G\+N\+SS session. The setting is persistent to G\+N\+SS factory/cold/warm/hot restart, but is lost after Legato restart\+:~\newline
 \hyperlink{le__gnss__interface_8h_a8e1d96b1b64055b298a74cad1acfbbf8}{le\+\_\+gnss\+\_\+\+Enable()}~\newline
 \hyperlink{le__gnss__interface_8h_aa2cd87c616f968370e9e2113570437ea}{le\+\_\+gnss\+\_\+\+Disable()}~\newline
 \hyperlink{le__gnss__interface_8h_a75d96ec7ac6e0d6b58525e4c523d3b2c}{le\+\_\+gnss\+\_\+\+Set\+Acquisition\+Rate()}~\newline


The following A\+P\+Is don\textquotesingle{}t write the setting to NV, the setting is thus not persistent to reboot but effective imediately in next G\+N\+SS session. The setting is persistent to G\+N\+SS factory/cold/warm/hot restart, but is not lost after Legato restart\+: \hyperlink{le__gnss__interface_8h_a5d74c2ad91a504a1d0ac35b4f4f2c382}{le\+\_\+gnss\+\_\+\+Set\+Supl\+Assisted\+Mode()}\hypertarget{platformConstraintsGnss_platformConstraintsGnss_WarmRestart}{}\subsubsection{G\+N\+S\+S W\+A\+R\+M restart}\label{platformConstraintsGnss_platformConstraintsGnss_WarmRestart}
Qualcomm-\/based platform \char`\"{}\+W\+A\+R\+M\char`\"{} restart G\+N\+SS session needs an addional 10 sec internal delay comparing to \char`\"{}\+C\+O\+L\+D\char`\"{} or \char`\"{}\+F\+A\+C\+T\+O\+R\+Y\char`\"{} restarts.

\char`\"{}\+W\+A\+R\+M\char`\"{} restart \hyperlink{le__gnss__interface_8h_a1f5b3008db50d34c7962fb73c306f3d1}{le\+\_\+gnss\+\_\+\+Force\+Warm\+Restart()} A\+PI stops the current G\+N\+SS session then starts it again using the available G\+N\+SS data. In this case, the Ephemeris are being cleared but not the position data (they are cleared in \char`\"{}\+C\+O\+L\+D\char`\"{} or \char`\"{}\+F\+A\+C\+T\+O\+R\+Y\char`\"{} restarts). Reusing them after restarting the G\+N\+SS session too soon leads to a wrong time to First Fix (T\+T\+FF). For this reason a 10 sec delay is added before the restart session.

Note that this additional delay doesn\textquotesingle{}t impact the measurement to get a fix given by \hyperlink{le__gnss__interface_8h_a6b2fbb3902c9fd3336b5940b2abacb12}{le\+\_\+gnss\+\_\+\+Get\+Ttff()}. This A\+PI calculates the T\+T\+FF started from a succeed G\+N\+SS start session. In case of \hyperlink{le__gnss__interface_8h_a1f5b3008db50d34c7962fb73c306f3d1}{le\+\_\+gnss\+\_\+\+Force\+Warm\+Restart()}, the 10 sec delay is added before re-\/starting the G\+N\+SS session.\hypertarget{platformConstraintsGnss_platformConstraintsGnss_ColdRestart}{}\subsubsection{G\+N\+S\+S C\+O\+L\+D restart}\label{platformConstraintsGnss_platformConstraintsGnss_ColdRestart}
\char`\"{}\+C\+O\+L\+D\char`\"{} restart \hyperlink{le__gnss__interface_8h_aa702703bbeebbefd65dd51b1f9fd4ce5}{le\+\_\+gnss\+\_\+\+Force\+Cold\+Restart()} A\+PI stops the current G\+N\+SS session then starts it again. In this case, the Ephemeris, time, almnac, and position data are being cleared.

\begin{DoxyNote}{Note}
On modules A\+R758x \& A\+R759x when performed \char`\"{}\+C\+O\+L\+D\char`\"{} restart there is a possibility for longitude/latitude values to get retrieved from camped live cell network before getting the fix.
\end{DoxyNote}
\hypertarget{platformConstraintsGnss_platformConstraintsGnss_FactoryRestart}{}\subsubsection{G\+N\+S\+S F\+A\+C\+T\+O\+R\+Y restart}\label{platformConstraintsGnss_platformConstraintsGnss_FactoryRestart}
\char`\"{}\+F\+A\+C\+T\+O\+R\+Y\char`\"{} restart \hyperlink{le__gnss__interface_8h_a18219097f3e8c8e6e613462a5467f546}{le\+\_\+gnss\+\_\+\+Force\+Factory\+Restart()} A\+PI stops the current G\+N\+SS session then starts it again. In this case, all constellation\textquotesingle{}s service data are being cleared.

Modem gets these constellation service data from Qualcomm C\+D\+MA Technologies(\+Q\+C\+T) location service.~\newline
~\newline
 {\bfseries Constellation service data\+:}~\newline

\begin{DoxyItemize}
\item {\bfseries Clock Information}~\newline

\item {\bfseries Cell database service data}~\newline
 Cell database position~\newline
 Cell database latest G\+PS position~\newline
 Cell database Over The Air(\+O\+T\+A) position~\newline
 Cell database external reference position~\newline
 Cell database time tag~\newline
 Cell database cell ID~\newline
 Cell database cached cell ID~\newline
 Cell database last service cell~\newline
 Cell database current service cell~\newline
 Cell database neighbor information~\newline

\item {\bfseries Common service data}~\newline
 Position estimate; common for all G\+N\+SS types~\newline
 Reset all clock information~\newline
 Universal Time Coordinated(\+U\+T\+C) estimate~\newline
 Real Time Information(\+R\+T\+I)~\newline
 Frequency bias estimate; common for all G\+N\+SS types~\newline

\item {\bfseries Satellite data}~\newline

\end{DoxyItemize}

\begin{DoxyNote}{Note}
On modules A\+R758x \& A\+R759x when performed \char`\"{}\+F\+A\+C\+T\+O\+R\+Y\char`\"{} restart there is a possibility for longitude/latitude values to get retrieved from camped live cell network before getting the fix.
\end{DoxyNote}
\hypertarget{platformConstraintsGnss_platformConstraintsGnss_speedAccuracies}{}\subsubsection{Horizontal and Vertical speed accuracies}\label{platformConstraintsGnss_platformConstraintsGnss_speedAccuracies}
{\ttfamily \hyperlink{le__gnss__interface_8h_a37a370cec19610be1f99d9c9db291a1e}{le\+\_\+gnss\+\_\+\+Get\+Vertical\+Speed()}} function returns the vertical speed accuracy. {\ttfamily \hyperlink{le__gnss__interface_8h_a483fba8fc6b0fa116bcbd889af95fc4f}{le\+\_\+gnss\+\_\+\+Get\+Horizontal\+Speed()}} function returns the horizontal speed accuracy.

The vertical speed accuracy and the horizontal speed accuracy are calculated differently depending on the platforms\+:

On A\+R7, A\+R8652, W\+P750x and W\+P85, horizontal and vertical speed accuracies are calculated based on the 3-\/D Speed uncertainty (unis\+: units\+: meters/second).

On A\+R758x, A\+R759x, W\+P76xx and W\+P77xx horizontal and vertical speed accuracies are calculated with the velocity uncertainty information for E\+NU (East, North and Up) direction (units\+: meters/second). Horizontal speed accuracy = sqrt(East$^\wedge$2 + North$^\wedge$2) and vertical speed accuracy = Up\hypertarget{platformConstraintsGnss_platformConstraintsGnss_References}{}\subsubsection{References}\label{platformConstraintsGnss_platformConstraintsGnss_References}
See \hyperlink{c_gnss}{G\+N\+SS} A\+PI

Copyright (C) Sierra Wireless Inc. \hypertarget{platformConstraintsPositioning}{}\subsection{Positioning platform constraints}\label{platformConstraintsPositioning}
\hypertarget{platformConstraintsPositioning_platformConstraintsPositioning_SettingResolution}{}\subsubsection{Distance values resolution}\label{platformConstraintsPositioning_platformConstraintsPositioning_SettingResolution}
{\ttfamily \hyperlink{le__pos__interface_8h_a0aefc90df207f2e20286ea1be88e70d4}{le\+\_\+pos\+\_\+\+Get2\+D\+Location()}}, {\ttfamily \hyperlink{le__pos__interface_8h_ad2e96a853c9e3d4daa351494ff2070ba}{le\+\_\+pos\+\_\+\+Get3\+D\+Location()}}, {\ttfamily le\+\_\+pos\+\_\+sample\+\_\+\+Get\+Altitude}, {\ttfamily le\+\_\+pos\+\_\+sample\+\_\+\+Get2\+D\+Location} and {\ttfamily le\+\_\+pos\+\_\+sample\+\_\+\+Get\+Altitude} functions return, among others, the altitude, the horizontal and the vertical accuracies. These values are expressed in meters by default. It is possible to modifiy the resolution by calling {\ttfamily \hyperlink{le__pos__interface_8h_a3e013d5f757ac82bfde049848418bfb7}{le\+\_\+pos\+\_\+\+Set\+Distance\+Resolution()}} function.

However, on Qualcomm-\/based platform, the maximal resolution of these distance parameters is limited. This means that each parameter cannot be expressed beyond a defined limit. Altitude maximum resolution is the millimeter, horizontal accuracy maximum resolution is the centimeter and vertical accuracy maximum resolution is the decimeter.

When {\ttfamily \hyperlink{le__pos__interface_8h_a3e013d5f757ac82bfde049848418bfb7}{le\+\_\+pos\+\_\+\+Set\+Distance\+Resolution()}} sets a resolution for a distance parameter higher than its maximal limit, zeros are added (padding). For example, for a vertical accuracy of 20 decimeter, setting a resolution in millimeter will return 2000.\hypertarget{platformConstraintsPositioning_platformConstraintsPositioning_References}{}\subsubsection{References}\label{platformConstraintsPositioning_platformConstraintsPositioning_References}
See \hyperlink{c_pos}{Positioning} A\+PI

Copyright (C) Sierra Wireless Inc. \hypertarget{platformConstraintsSecStorage}{}\subsection{Secure Storage}\label{platformConstraintsSecStorage}
The total space and the available free space in secure storage can be retrived with \hyperlink{sec_store_admin__interface_8h_ac8eb38a1cdd75ff734a222bb129456f9}{sec\+Store\+Admin\+\_\+\+Get\+Total\+Space()} function of \hyperlink{c_secStoreAdmin}{Secure Storage Admin A\+PI}.

Copyright (C) Sierra Wireless Inc. \hypertarget{platformConstraintsSim}{}\subsection{S\+IM}\label{platformConstraintsSim}
\hypertarget{platformConstraintsSim_platformConstraintsSim_sendCmd}{}\subsubsection{Sending commands}\label{platformConstraintsSim_platformConstraintsSim_sendCmd}
\hyperlink{le__sim__interface_8h_a8bbaea044b44f8b0ebff67bf98de816a}{le\+\_\+sim\+\_\+\+Send\+Command()} supports sending commands to the S\+IM. The p1, p2, p3 parameters usage is described as follows\+:

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*4{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf Command \textbackslash{} Parameters }&{\bf P1 }&\PBS\centering {\bf P2 }&\PBS\centering {\bf P3  }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf Command \textbackslash{} Parameters }&{\bf P1 }&\PBS\centering {\bf P2 }&\PBS\centering {\bf P3  }\\\cline{1-4}
\endhead
L\+E\+\_\+\+S\+I\+M\+\_\+\+R\+E\+A\+D\+\_\+\+R\+E\+C\+O\+RD &Record number to read &\PBS\centering Unused &\PBS\centering Unused \\\cline{1-4}
L\+E\+\_\+\+S\+I\+M\+\_\+\+R\+E\+A\+D\+\_\+\+B\+I\+N\+A\+RY &Offset to the first byte to read &\PBS\centering Unused &\PBS\centering Unused \\\cline{1-4}
L\+E\+\_\+\+S\+I\+M\+\_\+\+U\+P\+D\+A\+T\+E\+\_\+\+R\+E\+C\+O\+RD &Record number to write &\PBS\centering Unused &\PBS\centering Unused \\\cline{1-4}
L\+E\+\_\+\+S\+I\+M\+\_\+\+U\+P\+D\+A\+T\+E\+\_\+\+B\+I\+N\+A\+RY &Offset to the first byte to write &\PBS\centering Unused &\PBS\centering Unused \\\cline{1-4}
\end{longtabu}

\begin{DoxyItemize}
\item path parameter contains the path of the elementary file from the master file in hexadecimal (e.\+g. \char`\"{}3\+F007\+F\+F\+F\char`\"{}, \char`\"{}3\+F007\+F20\char`\"{}). The path is mandatory for all commands.
\end{DoxyItemize}\hypertarget{platformConstraintsSim_platformConstraintsSim_selectCard}{}\subsubsection{Select Card}\label{platformConstraintsSim_platformConstraintsSim_selectCard}
\hyperlink{le__sim__interface_8h_a91a0f0399c89e466b9a8ccfab6de129d}{le\+\_\+sim\+\_\+\+Select\+Card()} function is used to select the S\+IM identifier. Additionally, any Legato S\+IM A\+PI with a S\+IM card identifier passed in parameter, selects that S\+IM identifier. The \hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdd}{le\+\_\+sim\+\_\+\+Id\+\_\+t} parameters supported by these A\+P\+Is depend on the platform.

For W\+P76xx, W\+P77xx, A\+R759x and A\+R758x, only L\+E\+\_\+\+S\+I\+M\+\_\+\+E\+X\+T\+E\+R\+N\+A\+L\+\_\+\+S\+L\+O\+T\+\_\+1 and L\+E\+\_\+\+S\+I\+M\+\_\+\+R\+E\+M\+O\+TE types are supported.

For A\+R755x, only L\+E\+\_\+\+S\+I\+M\+\_\+\+E\+X\+T\+E\+R\+N\+A\+L\+\_\+\+S\+L\+O\+T\+\_\+1 and L\+E\+\_\+\+S\+I\+M\+\_\+\+E\+M\+B\+E\+D\+D\+ED types are supported.

For other products, only L\+E\+\_\+\+S\+I\+M\+\_\+\+E\+X\+T\+E\+R\+N\+A\+L\+\_\+\+S\+L\+O\+T\+\_\+1 and L\+E\+\_\+\+S\+I\+M\+\_\+\+E\+X\+T\+E\+R\+N\+A\+L\+\_\+\+S\+L\+O\+T\+\_\+2 types are supported.

\begin{DoxyNote}{Note}
For the support of L\+E\+\_\+\+S\+I\+M\+\_\+\+E\+M\+B\+E\+D\+D\+ED on A\+R755x platform, please refer to your platform documentation for further details.

Switching between local and remote S\+IM card requires a reset to take effect, please refer to your platform documentation for further details.
\end{DoxyNote}
\hypertarget{platformConstraintsSim_platformConstraintsSim_swap}{}\subsubsection{Hot-\/swap}\label{platformConstraintsSim_platformConstraintsSim_swap}
Your platform might need a reboot to detect a S\+IM card insertion or removal.\hypertarget{platformConstraintsSim_platformConstraintsSim_swapMangOH}{}\paragraph{mang\+O\+H™}\label{platformConstraintsSim_platformConstraintsSim_swapMangOH}
As indicated in the mang\+OH\texttrademark{} \href{http://mangoh.io/mangoh-green-resources-documentation}{\tt User Guide}\+:

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*2{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf S\+IM slot }&{\bf Detection  }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf S\+IM slot }&{\bf Detection  }\\\cline{1-2}
\endhead
L\+E\+\_\+\+S\+I\+M\+\_\+\+E\+X\+T\+E\+R\+N\+A\+L\+\_\+\+S\+L\+O\+T\+\_\+1 (Mini-\/\+S\+IM) &Hot-\/swappable \\\cline{1-2}
L\+E\+\_\+\+S\+I\+M\+\_\+\+E\+X\+T\+E\+R\+N\+A\+L\+\_\+\+S\+L\+O\+T\+\_\+2 (Micro-\/\+S\+IM)&Not hot-\/swappable \\\cline{1-2}
\end{longtabu}
\hypertarget{platformConstraintsSim_platformConstraintsSim_swapOtherPlatforms}{}\paragraph{Other platforms}\label{platformConstraintsSim_platformConstraintsSim_swapOtherPlatforms}
Refer to your platform documentation.\hypertarget{platformConstraintsSim_platformConstraintsSim_FplmnList}{}\subsubsection{F\+P\+L\+M\+N list}\label{platformConstraintsSim_platformConstraintsSim_FplmnList}
Forbidden P\+L\+MN (F\+P\+L\+MN) A\+P\+Is are only supported by A\+R759x and A\+R758x platforms.\hypertarget{platformConstraintsSim_platformConstraintsSim_EID}{}\subsubsection{E\+ID}\label{platformConstraintsSim_platformConstraintsSim_EID}
Embedded Universal Integrated Circuit Card identifier (E\+ID) function is only supported by A\+R759x platform at this time.\hypertarget{platformConstraintsSim_platformConstraintsSim_References}{}\subsubsection{References}\label{platformConstraintsSim_platformConstraintsSim_References}
See \hyperlink{c_sim}{S\+IM} A\+PI

Copyright (C) Sierra Wireless Inc. \hypertarget{platformConstraintsStk}{}\subsection{S\+IM Toolkit}\label{platformConstraintsStk}
The S\+IM Toolkit Legato functions can be used if the C\+AT (Card Application Toolkit) mode is properly set in your P\+RI (Product Requirement Information).

\begin{DoxyWarning}{Warning}
{\bfseries Known limitation with W\+P8548\+:} O\+P\+E\+N\+\_\+\+C\+H\+A\+N\+N\+EL B\+IP command is not raised up to a user app. By consequence, it can\textquotesingle{}t be accepted/rejected.
\end{DoxyWarning}
See \hyperlink{c_sim_le_sim_stk}{S\+IM Toolkit}

Copyright (C) Sierra Wireless Inc. \hypertarget{platformConstraintsTemperature}{}\subsection{Temperature Monitoring}\label{platformConstraintsTemperature}
See \hyperlink{c_temp}{Temperature Monitoring} A\+PI

Two main sensors are supported.

The dedicated string to request a sensor with \hyperlink{le__temp__interface_8h_ada76ad1c0461ddb13608a942ce0b0912}{le\+\_\+temp\+\_\+\+Request()} function are {\bfseries \char`\"{}\+P\+O\+W\+E\+R\+\_\+\+C\+O\+N\+T\+R\+O\+L\+L\+E\+R\char`\"{}} and {\bfseries \char`\"{}\+P\+O\+W\+E\+R\+\_\+\+A\+M\+P\+L\+I\+F\+I\+E\+R\char`\"{}}.

{\bfseries \char`\"{}\+P\+O\+W\+E\+R\+\_\+\+A\+M\+P\+L\+I\+F\+I\+E\+R\char`\"{} sensor}

Two Thresholds can be set to notify the \char`\"{}\+P\+O\+W\+E\+R\+\_\+\+A\+M\+P\+L\+I\+F\+I\+E\+R\char`\"{} sensor state\+:
\begin{DoxyItemize}
\item {\bfseries \char`\"{}\+H\+I\+\_\+\+C\+R\+I\+T\+I\+C\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{}} 
\item {\bfseries \char`\"{}\+H\+I\+\_\+\+N\+O\+R\+M\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{}} 
\end{DoxyItemize}

These are the strings to use with the \hyperlink{le__temp__interface_8h_a9e21aa40ec65dda6976d0e5fc7b2aec4}{le\+\_\+temp\+\_\+\+Set\+Threshold()} and \hyperlink{le__temp__interface_8h_ac53124401d9333a14d62f938fc640272}{le\+\_\+temp\+\_\+\+Get\+Threshold()} functions.

Then, the \char`\"{}\+P\+O\+W\+E\+R\+\_\+\+A\+M\+P\+L\+I\+F\+I\+E\+R\char`\"{} sensor state will be notified with the following events (always a string format)\+:
\begin{DoxyItemize}
\item {\bfseries \char`\"{}\+H\+I\+\_\+\+C\+R\+I\+T\+I\+C\+A\+L\+\_\+\+E\+V\+E\+N\+T\char`\"{}} 
\item {\bfseries \char`\"{}\+H\+I\+\_\+\+W\+A\+R\+N\+I\+N\+G\+\_\+\+E\+V\+E\+N\+T\char`\"{}} 
\item {\bfseries \char`\"{}\+N\+O\+R\+M\+A\+L\+\_\+\+E\+V\+E\+N\+T\char`\"{}} 
\end{DoxyItemize}

if the \char`\"{}\+P\+O\+W\+E\+R\+\_\+\+A\+M\+P\+L\+I\+F\+I\+E\+R\char`\"{} sensor temperature reaches the\+:
\begin{DoxyItemize}
\item \char`\"{}\+H\+I\+\_\+\+C\+R\+I\+T\+I\+C\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{} threshold, a \char`\"{}\+H\+I\+\_\+\+C\+R\+I\+T\+I\+C\+A\+L\+\_\+\+E\+V\+E\+N\+T\char`\"{} event occurs.
\item \char`\"{}\+H\+I\+\_\+\+N\+O\+R\+M\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{} threshold but still lower than \char`\"{}\+H\+I\+\_\+\+C\+R\+I\+T\+I\+C\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{} threshold, a \char`\"{}\+H\+I\+\_\+\+W\+A\+R\+N\+I\+N\+G\+\_\+\+E\+V\+E\+N\+T\char`\"{} event occurs.
\end{DoxyItemize}

\begin{DoxyVerb}      ^
      |           --> "HI_CRITICAL_EVENT"
      |
 "HI_CRITICAL_THRESHOLD"
      |
      ^           --> "HI_WARNING_EVENT"
      |
 "HI_NORMAL_THRESHOLD"
      |
      ^
      |
\end{DoxyVerb}


if the \char`\"{}\+P\+O\+W\+E\+R\+\_\+\+A\+M\+P\+L\+I\+F\+I\+E\+R\char`\"{} sensor temperature decreases below the\+:
\begin{DoxyItemize}
\item \char`\"{}\+H\+I\+\_\+\+C\+R\+I\+T\+I\+C\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{} -\/ 3°C threshold but still higher than \char`\"{}\+H\+I\+\_\+\+N\+O\+R\+M\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{} threshold, a \char`\"{}\+H\+I\+\_\+\+W\+A\+R\+N\+I\+N\+G\+\_\+\+E\+V\+E\+N\+T\char`\"{} event occurs.
\item \char`\"{}\+H\+I\+\_\+\+N\+O\+R\+M\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{} -\/ 3°C threshold, a \char`\"{}\+N\+O\+R\+M\+A\+L\+\_\+\+E\+V\+E\+N\+T\char`\"{} event occurs.
\end{DoxyItemize}

\begin{DoxyVerb}      |
      v
      |
 "HI_CRITICAL_THRESHOLD" - 3°C
      |
      v           --> "HI_WARNING_EVENT"
      |
 "HI_NORMAL_THRESHOLD" - 3°C
      |
      |           --> "NORMAL_EVENT"
      v
\end{DoxyVerb}


\begin{DoxyWarning}{Warning}

\begin{DoxyItemize}
\item A minimum gap of 2°C must be set between the thresholds.
\end{DoxyItemize}
\end{DoxyWarning}
{\bfseries \char`\"{}\+P\+O\+W\+E\+R\+\_\+\+C\+O\+N\+T\+R\+O\+L\+L\+E\+R\char`\"{} sensor}

Four Thresholds can be set to notify the \char`\"{}\+P\+O\+W\+E\+R\+\_\+\+C\+O\+N\+T\+R\+O\+L\+L\+E\+R\char`\"{} sensor state\+:
\begin{DoxyItemize}
\item {\bfseries \char`\"{}\+H\+I\+\_\+\+C\+R\+I\+T\+I\+C\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{}} 
\item {\bfseries \char`\"{}\+H\+I\+\_\+\+N\+O\+R\+M\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{}} 
\item {\bfseries \char`\"{}\+L\+O\+\_\+\+N\+O\+R\+M\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{}} 
\item {\bfseries \char`\"{}\+L\+O\+\_\+\+C\+R\+I\+T\+I\+C\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{}} 
\end{DoxyItemize}

These are the strings to use with the \hyperlink{le__temp__interface_8h_a9e21aa40ec65dda6976d0e5fc7b2aec4}{le\+\_\+temp\+\_\+\+Set\+Threshold()} and \hyperlink{le__temp__interface_8h_ac53124401d9333a14d62f938fc640272}{le\+\_\+temp\+\_\+\+Get\+Threshold()} functions.

Then, the \char`\"{}\+P\+O\+W\+E\+R\+\_\+\+C\+O\+N\+T\+R\+O\+L\+L\+E\+R\char`\"{} sensor state will be notified with the following events (always a string format)\+:
\begin{DoxyItemize}
\item {\bfseries \char`\"{}\+H\+I\+\_\+\+C\+R\+I\+T\+I\+C\+A\+L\+\_\+\+E\+V\+E\+N\+T\char`\"{}} 
\item {\bfseries \char`\"{}\+H\+I\+\_\+\+W\+A\+R\+N\+I\+N\+G\+\_\+\+E\+V\+E\+N\+T\char`\"{}} 
\item {\bfseries \char`\"{}\+N\+O\+R\+M\+A\+L\+\_\+\+E\+V\+E\+N\+T\char`\"{}} 
\item {\bfseries \char`\"{}\+L\+O\+\_\+\+W\+A\+R\+N\+I\+N\+G\+\_\+\+E\+V\+E\+N\+T\char`\"{}} 
\item {\bfseries \char`\"{}\+L\+O\+\_\+\+C\+R\+I\+T\+I\+C\+A\+L\+\_\+\+E\+V\+E\+N\+T\char`\"{}} 
\end{DoxyItemize}

if the \char`\"{}\+P\+O\+W\+E\+R\+\_\+\+C\+O\+N\+T\+R\+O\+L\+L\+E\+R\char`\"{} sensor temperature reaches the\+:
\begin{DoxyItemize}
\item \char`\"{}\+L\+O\+\_\+\+C\+R\+I\+T\+I\+C\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{} threshold, a \char`\"{}\+L\+O\+\_\+\+W\+A\+R\+N\+I\+N\+G\+\_\+\+E\+V\+E\+N\+T\char`\"{} event occurs.
\item \char`\"{}\+L\+O\+\_\+\+N\+O\+R\+M\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{} + 3°C threshold but still lower than \char`\"{}\+H\+I\+\_\+\+N\+O\+R\+M\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{} threshold, a \char`\"{}\+N\+O\+R\+M\+A\+L\+\_\+\+E\+V\+E\+N\+T\char`\"{} event occurs.
\item \char`\"{}\+H\+I\+\_\+\+N\+O\+R\+M\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{} threshold but still lower than \char`\"{}\+H\+I\+\_\+\+C\+R\+I\+T\+I\+C\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{} threshold, a \char`\"{}\+H\+I\+\_\+\+W\+A\+R\+N\+I\+N\+G\+\_\+\+E\+V\+E\+N\+T\char`\"{} event occurs
\item \char`\"{}\+H\+I\+\_\+\+C\+R\+I\+T\+I\+C\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{} threshold, a \char`\"{}\+H\+I\+\_\+\+C\+R\+I\+T\+I\+C\+A\+L\+\_\+\+E\+V\+E\+N\+T\char`\"{} event occurs.
\end{DoxyItemize}

\begin{DoxyVerb}      ^
      |           --> "HI_CRITICAL_EVENT"
      |
 "HI_CRITICAL_THRESHOLD"
      |
      ^           --> "HI_WARNING_EVENT"
      |
 "HI_NORMAL_THRESHOLD"
      |
      ^           --> "NORMAL_EVENT"
      |
 "LO_NORMAL_THRESHOLD" + 3°C
      |
      ^           --> "LO_WARNING_EVENT"
      |
 "LO_CRITICAL_THRESHOLD"
      |
      ^
      |
\end{DoxyVerb}


if the \char`\"{}\+P\+O\+W\+E\+R\+\_\+\+C\+O\+N\+T\+R\+O\+L\+L\+E\+R\char`\"{} sensor temperature decreases below the\+:
\begin{DoxyItemize}
\item \char`\"{}\+H\+I\+\_\+\+C\+R\+I\+T\+I\+C\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{} threshold, a \char`\"{}\+H\+I\+\_\+\+W\+A\+R\+N\+I\+N\+G\+\_\+\+E\+V\+E\+N\+T\char`\"{} event occurs.
\item \char`\"{}\+H\+I\+\_\+\+N\+O\+R\+M\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{} -\/ 3°C threshold but still higher than \char`\"{}\+L\+O\+\_\+\+N\+O\+R\+M\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{} threshold, a \char`\"{}\+N\+O\+R\+M\+A\+L\+\_\+\+E\+V\+E\+N\+T\char`\"{} event occurs.
\item \char`\"{}\+L\+O\+\_\+\+N\+O\+R\+M\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{} threshold but still higher than \char`\"{}\+L\+O\+\_\+\+C\+R\+I\+T\+I\+C\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{} threshold, a \char`\"{}\+L\+O\+\_\+\+W\+A\+R\+N\+I\+N\+G\+\_\+\+E\+V\+E\+N\+T\char`\"{} event occurs.
\item \char`\"{}\+L\+O\+\_\+\+C\+R\+I\+T\+I\+C\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{} threshold, a \char`\"{}\+L\+O\+\_\+\+C\+R\+I\+T\+I\+C\+A\+L\+\_\+\+E\+V\+E\+N\+T\char`\"{} event occurs.
\end{DoxyItemize}

\begin{DoxyVerb}      |
      v
      |
 "HI_CRITICAL_THRESHOLD"
      |
      v           --> "HI_WARNING_EVENT"
      |
 "HI_NORMAL_THRESHOLD" - 3°C
      |
      v           --> "NORMAL_EVENT"
      |
 "LO_NORMAL_THRESHOLD"
      |
      v           --> "LO_WARNING_EVENT"
      |
 "LO_CRITICAL_THRESHOLD"
      |
      |           --> "LO_CRITICAL_EVENT"
      v
\end{DoxyVerb}


\begin{DoxyWarning}{Warning}

\begin{DoxyItemize}
\item A minimum gap of 4°C must be set between \char`\"{}\+L\+O\+\_\+\+N\+O\+R\+M\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{} and \char`\"{}\+H\+I\+\_\+\+N\+O\+R\+M\+A\+L\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\char`\"{}.
\item A minimum gap of 2°C must be set between other thresholds.
\end{DoxyItemize}
\end{DoxyWarning}
\begin{DoxyNote}{Note}
Please refer to the Product Technical specification document of your platform for further details.
\end{DoxyNote}
Copyright (C) Sierra Wireless Inc. \hypertarget{platformConstraintsReadOnly}{}\subsection{Legato Read Only R/O}\label{platformConstraintsReadOnly}
The Legato can be built as read-\/only (R/O) This is done by setting the variable {\bfseries {\ttfamily R\+E\+A\+D\+\_\+\+O\+N\+LY=1}} as argument to {\bfseries {\ttfamily make}}. In this case, both images RW and RO are generated.

\begin{DoxyNote}{Note}
This is the default for {\bfseries ar759x} and {\bfseries ar758x} platforms.
\end{DoxyNote}
It also possible to force the built as read-\/write (R/W) by setting the variable {\bfseries {\ttfamily R\+E\+A\+D\+\_\+\+O\+N\+LY=0}}.

{\bfseries What is Legato R/O}~\newline
 The Legato system tree is built and deployed into a squashfs or ubifs image. This image is standalone and is not modifiable. Everything required to run Legato is provided during the build time.~\newline
 When freshly installed, the Legato is fully ready and no further installation or configuration operations are expected.~\newline
 The Legato R/O is safe of any write to a R/W partition on a flash device. This mode is typically to be used for flash devices mounted in R/O.

{\bfseries What is Legato R/W}~\newline
 The Legato system tree is built, but some installation operations need to be performed at the first startup of a freshly installed system. Also, to run these operations, Legato is expecting a R/W partition to post deploy and finalize its configuration steps.

{\bfseries Build\+:}~\newline
 By default the targets {\bfseries ar759x} and {\bfseries ar758x} are R/O. For these platforms, two images R/W and R/O are created in the build/... directory.~\newline
 The images suffixed with a {\bfseries \+\_\+ro}, ie, {\bfseries legato\+\_\+ro.\+cwe}, {\bfseries legato\+\_\+ro.\+squashfs}, {\bfseries legato\+\_\+ro.\+squashfs.\+ubi} are R/O and the others suffixed with a {\bfseries \+\_\+rw}, ie, {\bfseries legato\+\_\+rw.\+cwe}, {\bfseries legato\+\_\+rw.\+squashfs}, {\bfseries legato\+\_\+rw.\+squashfs.\+ubi} are R/W. The images without suffix are symbolic links to the R/W images\+: {\bfseries legato.\+cwe}, {\bfseries legato.\+squashfs}, {\bfseries legato.\+squashfs.\+ubi}.

{\bfseries Restrictions\+:}~\newline
 The Legato Read\+Only feature is introducing the following restrictions\+:
\begin{DoxyItemize}
\item The sandboxed applications are only launchable if and only if legato has a write access to /etc/passwd and /etc/group. If these files are not writable, the applications uid and gid will not be created and the related applications are not usable.
\item To prevent the dynamic installation or removal of legato applications.
\item To prevent single application update through Air\+Vantage.
\item The modifications of the config-\/tree remain volatile inside its cache and are not physically written to flash.
\item Legato should avoid to modify files into the root file-\/system ({\bfseries {\ttfamily /etc/passwd}}, {\bfseries {\ttfamily /etc/group}}) because the root becomes may also R/O.
\item The cache of {\bfseries {\ttfamily ld.\+so}} is dymically generated by the legato startup script to add the pathes to the Legato libraries and customer Legato libraries. A bound mount is done to {\bfseries {\ttfamily /tmp/ld.so.\+cache}} for {\bfseries {\ttfamily /etc/ld.so.\+cache}}. This is because the Legato system tree image may be updated without updating the rootfs.
\end{DoxyItemize}

{\bfseries Impacts}~\newline
 The Legato Read\+Only feature will introduce the following impacts\+:
\begin{DoxyItemize}
\item The whole Legato system tree should be installed by flashing the Legato in a partition partition in once operation.
\item The usage of {\bfseries {\ttfamily \hyperlink{toolsTarget_app}{app} run\+Proc}} will fail for sandboxed applications if legato fails to create uid/gid for these applications.
\item Reject the usage of {\bfseries {\ttfamily \hyperlink{toolsTarget_app}{app} install}} or {\bfseries {\ttfamily \hyperlink{toolsTarget_app}{app} remove}}.
\item Reject the usage of the {\bfseries {\ttfamily \hyperlink{toolsTarget_update}{update}}} tool.
\item If some specific users or groups are required for Legato, they should be created at build time (Yocto), because the root file system is also R/O and dynamically modifications of {\bfseries {\ttfamily /etc/passwd}} or {\bfseries {\ttfamily /etc/groups}} is impossible. This should be handled by the supervisor and fwupdate daemon of Legato.
\item Files requiring to be acceded in W\+R\+I\+TE should be located into {\bfseries {\ttfamily /tmp}} or into the customer dedicated R/W partitions, if any.
\item Files located inside the applications trees should be opened by {\bfseries their relative path} and not by an absolute path.
\item The {\bfseries {\ttfamily sms\+Inbox}} application and others applications using {\bfseries {\ttfamily /data}} for recording data may not work until {\bfseries {\ttfamily /data}} is located into a RW partition or applications are adapted to use another RW location.
\item The applications, service daemons and tools need to be added into the {\bfseries {\ttfamily default\+\_\+readonly.\+sdef}} or {\bfseries {\ttfamily $<$target$>$.sdef}} file in the way to be compiled and deployed into the whole legato system tree.
\end{DoxyItemize}

{\bfseries Setting S\+M\+A\+CK labels\+:}~\newline
 Because the Legato directory tree is read-\/only, the S\+M\+A\+CK labels need to be set during the build time.~\newline
 This is done by fixing labels name and value to the variables {\bfseries {\ttfamily S\+M\+A\+C\+K\+\_\+\+A\+T\+T\+R\+\_\+\+N\+A\+ME}} and {\bfseries {\ttfamily S\+M\+A\+C\+K\+\_\+\+A\+T\+T\+R\+\_\+\+V\+A\+L\+UE}} located into the {\bfseries {\ttfamily target\+Defs.$<$target$>$}}.~\newline
 ~\newline
 For example, the variables set in the {\bfseries {\ttfamily target\+Defs.\+ar759x}} file\+:~\newline
 {\ttfamily \# S\+M\+A\+CK attribute name and value (optional)}~\newline
 {\ttfamily \# If set, S\+M\+A\+CK attr will be set at build time}~\newline
 {\ttfamily export {\bfseries S\+M\+A\+C\+K\+\_\+\+A\+T\+T\+R\+\_\+\+N\+A\+ME=security.\+S\+M\+A\+C\+K64}}~\newline
 {\ttfamily export {\bfseries S\+M\+A\+C\+K\+\_\+\+A\+T\+T\+R\+\_\+\+V\+A\+L\+UE=$\ast$}}~\newline


Copyright (C) Sierra Wireless Inc. \hypertarget{platformConstraintsMdc}{}\subsection{Modem Control platform constraints}\label{platformConstraintsMdc}
\hypertarget{platformConstraintsMdc_mrc_SetSignalStrengthIndDelta}{}\subsubsection{Signal strength}\label{platformConstraintsMdc_mrc_SetSignalStrengthIndDelta}
On Qualcomm-\/based platform, the signal strength indication delta resolution set in \hyperlink{le__mrc__interface_8h_a0f2b4015962c83ec9a74ee68f7b509fd}{le\+\_\+mrc\+\_\+\+Set\+Signal\+Strength\+Ind\+Delta()} A\+PI depends on the Radio Access Technology (R\+AT) used.

For T\+D-\/\+S\+C\+D\+MA R\+AT technology, the signal delta is set with steps of 1 d\+Bm with a minimum of one d\+Bm. Intermediate values less than 1 d\+Bm are rounded. For the other R\+AT technologies, the signal delta is set with steps of 0.\+1 d\+Bm with a minimum of 0.\+1 d\+Bm.

For example, to set a signal strength indication delta of 10.\+6 d\+Bm, the delta value must be set to
\begin{DoxyEnumerate}
\item This value is rounded to 11 d\+Bm for T\+D-\/\+S\+C\+D\+MA R\+AT technology. (105 would have been equivalent to 10d\+Bm on T\+D-\/\+S\+C\+D\+MA).
\end{DoxyEnumerate}

Under T\+D-\/\+S\+C\+D\+MA R\+AT technology, a delta value less than 10 is forbiden.\hypertarget{platformConstraintsMdc_APN_length}{}\subsubsection{A\+P\+N Length}\label{platformConstraintsMdc_APN_length}
To set the Access Point Name (A\+PN) for the given profile, \hyperlink{le__mdc__interface_8h_ae8ebd11b9cb9afb9b6b5745903f50156}{le\+\_\+mdc\+\_\+\+Set\+A\+P\+N()} A\+PI is used.

The maximum A\+PN length is limited by the platform.~\newline


\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*9{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf }&\PBS\centering {\bf A\+R755x }&\PBS\centering {\bf A\+R758x }&\PBS\centering {\bf A\+R759x }&\PBS\centering {\bf A\+R8652 }&\PBS\centering {\bf W\+P750x }&\PBS\centering {\bf W\+P76xx }&\PBS\centering {\bf W\+P77xx }&\PBS\centering {\bf W\+P8548  }\\\cline{1-9}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf }&\PBS\centering {\bf A\+R755x }&\PBS\centering {\bf A\+R758x }&\PBS\centering {\bf A\+R759x }&\PBS\centering {\bf A\+R8652 }&\PBS\centering {\bf W\+P750x }&\PBS\centering {\bf W\+P76xx }&\PBS\centering {\bf W\+P77xx }&\PBS\centering {\bf W\+P8548  }\\\cline{1-9}
\endhead
Maxmium A\+PN length &\PBS\centering &\PBS\centering 62 &\PBS\centering 62 &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering 100 \\\cline{1-9}
\end{longtabu}
\hypertarget{platformConstraintsMdc_MT-PDP_context}{}\subsubsection{Mobile Terminated P\+D\+P context}\label{platformConstraintsMdc_MT-PDP_context}
The Mobile Terminated Packet Data Protocol (P\+DP) context feature is not supported on all platforms. The table below indicates on which platform the feature is supported. ({\bfseries \textquotesingle{}X\textquotesingle{}} means the feature is supported)

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*11{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf }&\PBS\centering {\bf A\+R7 }&\PBS\centering {\bf A\+R755x }&\PBS\centering {\bf A\+R758x }&\PBS\centering {\bf A\+R759x }&\PBS\centering {\bf A\+R8652 }&\PBS\centering {\bf W\+Px5xx }&\PBS\centering {\bf W\+P750x }&\PBS\centering {\bf W\+P76xx }&\PBS\centering {\bf W\+P77xx }&\PBS\centering {\bf W\+P85xx  }\\\cline{1-11}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf }&\PBS\centering {\bf A\+R7 }&\PBS\centering {\bf A\+R755x }&\PBS\centering {\bf A\+R758x }&\PBS\centering {\bf A\+R759x }&\PBS\centering {\bf A\+R8652 }&\PBS\centering {\bf W\+Px5xx }&\PBS\centering {\bf W\+P750x }&\PBS\centering {\bf W\+P76xx }&\PBS\centering {\bf W\+P77xx }&\PBS\centering {\bf W\+P85xx  }\\\cline{1-11}
\endhead
M\+T-\/\+P\+DP context feature &\PBS\centering X &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering &\PBS\centering X &\PBS\centering &\PBS\centering &\PBS\centering X \\\cline{1-11}
\end{longtabu}
\hypertarget{platformConstraintsMdc_mrc_JammingDetection}{}\subsubsection{Jamming detection}\label{platformConstraintsMdc_mrc_JammingDetection}
The jamming detection feature is supported on following platforms\+:~\newline


\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*9{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf }&\PBS\centering {\bf A\+R755x }&\PBS\centering {\bf A\+R758x }&\PBS\centering {\bf A\+R759x }&\PBS\centering {\bf A\+R8652 }&\PBS\centering {\bf W\+P750x }&\PBS\centering {\bf W\+P76xx }&\PBS\centering {\bf W\+P77xx }&\PBS\centering {\bf W\+P8548  }\\\cline{1-9}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf }&\PBS\centering {\bf A\+R755x }&\PBS\centering {\bf A\+R758x }&\PBS\centering {\bf A\+R759x }&\PBS\centering {\bf A\+R8652 }&\PBS\centering {\bf W\+P750x }&\PBS\centering {\bf W\+P76xx }&\PBS\centering {\bf W\+P77xx }&\PBS\centering {\bf W\+P8548  }\\\cline{1-9}
\endhead
Jamming detection support &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering &\PBS\centering \\\cline{1-9}
\end{longtabu}
See \hyperlink{c_mrc}{Modem Radio Control} A\+PI~\newline
 See \hyperlink{c_mdc}{Modem Data Control} A\+PI~\newline
 Copyright (C) Sierra Wireless Inc. \hypertarget{platformConstraintsDualSys}{}\subsection{Dual System mechanism}\label{platformConstraintsDualSys}
\begin{DoxyNote}{Note}
Please refer to the Product Technical specification document of your platform for further details.
\end{DoxyNote}
The {\bfseries dual system} consists in managing 2 copies of most code areas, for reliability and stability purposes. One copy is a backup in case the other one is corrupted or not running properly. The running system is called {\bfseries A\+C\+T\+I\+VE} and the other system (not running) is called {\bfseries U\+P\+D\+A\+TE}. One cannot write in {\bfseries A\+C\+T\+I\+VE} system. Only {\bfseries U\+P\+D\+A\+TE} system is in RW mode. In the next figure, this dual-\/system architecture is detailled. Some partitions are duplicated, for dual-\/system purpose, and some other are shared between the two systems (mainly data).

\begin{center}  \end{center} 

There are 3 operations to manage the {\bfseries dual system}\+: {\bfseries M\+A\+R\+K\+G\+O\+OD}, {\bfseries I\+N\+S\+T\+A\+LL} and {\bfseries I\+N\+S\+T\+A\+LL\&M\+A\+R\+K\+G\+O\+OD}.


\begin{DoxyItemize}
\item {\bfseries I\+N\+S\+T\+A\+LL} operation consists in a reboot, followed by a switch between A\+C\+T\+I\+VE \& U\+P\+D\+A\+TE systems. Legato will mark the A\+C\+T\+I\+VE system as U\+P\+D\+A\+TE one, the U\+P\+D\+A\+TE system as A\+C\+T\+I\+VE one and then it will load the A\+C\+T\+I\+VE system.
\end{DoxyItemize}

\begin{center}  \end{center} 


\begin{DoxyItemize}
\item {\bfseries M\+A\+R\+K\+G\+O\+OD} operation consists in a copy of A\+C\+T\+I\+VE system into U\+P\+D\+A\+TE one by A\+P\+PS. No new downloads are possible without a successful M\+A\+R\+K\+G\+O\+OD issued previously. So it means that in a stable situation, both systems are identical (same version N).
\end{DoxyItemize}

\begin{center}  \end{center} 


\begin{DoxyItemize}
\item {\bfseries I\+N\+S\+T\+A\+LL\&M\+A\+R\+K\+G\+O\+OD} operation consists in a reboot, followed by a switch between A\+C\+T\+I\+VE \& U\+P\+D\+A\+TE systems in Legato, followed immediately by a copy of A\+C\+T\+I\+VE system into U\+P\+D\+A\+TE system.
\end{DoxyItemize}

\begin{center}  \end{center} \hypertarget{platformConstraintsDualSys_fwupdateConstrain_SystemUpdate}{}\subsubsection{System update}\label{platformConstraintsDualSys_fwupdateConstrain_SystemUpdate}
The user is able to update a whole system by downloading a package and accepting the update. Using this mechanism, the user can update the U\+P\+D\+A\+TE system. Then, by calling \hyperlink{le__fwupdate__interface_8h_a534e72fc1a6c20a36a9bdf4a58074159}{le\+\_\+fwupdate\+\_\+\+Install()}, the user can request to swap to the new downloaded system.\hypertarget{platformConstraintsDualSys_fwupdateConstrain_PackageDownload}{}\subsubsection{Package download}\label{platformConstraintsDualSys_fwupdateConstrain_PackageDownload}
To launch a package download, the service user can call the \hyperlink{le__fwupdate__interface_8h_ab68f3a7c5d4284306468e888bf6a8796}{le\+\_\+fwupdate\+\_\+\+Download()} A\+PI which is a blocking A\+PI. When the package download is over and succeeds, this A\+PI returns L\+E\+\_\+\+OK. \begin{DoxyWarning}{Warning}
If any Legato reset happens during the package download, a new download will be required at next startup. If any issue occurs during the \hyperlink{le__fwupdate__interface_8h_ab68f3a7c5d4284306468e888bf6a8796}{le\+\_\+fwupdate\+\_\+\+Download()} A\+PI treatment, this A\+PI returns L\+E\+\_\+\+F\+A\+U\+LT and the application will need to synchronize partitions by calling \hyperlink{le__fwupdate__interface_8h_ad153c293ff605e7aef51929c873e2792}{le\+\_\+fwupdate\+\_\+\+Mark\+Good()} A\+PI which occurs a device reboot. Synchronizing partitions is necessary before calling again the \hyperlink{le__fwupdate__interface_8h_ab68f3a7c5d4284306468e888bf6a8796}{le\+\_\+fwupdate\+\_\+\+Download()} A\+PI. To know if both systems are synchronized, the \hyperlink{le__fwupdate__interface_8h_aafc80ed054d69c6d159933093bb13ff7}{le\+\_\+fwupdate\+\_\+\+Is\+System\+Marked\+Good()} A\+PI can be called.
\end{DoxyWarning}
\hypertarget{platformConstraintsDualSys_fwupdateConstrain_UpdateReq}{}\subsubsection{Update request}\label{platformConstraintsDualSys_fwupdateConstrain_UpdateReq}
Once the package download is over (meaning that \hyperlink{le__fwupdate__interface_8h_ab68f3a7c5d4284306468e888bf6a8796}{le\+\_\+fwupdate\+\_\+\+Download()} A\+PI returns L\+E\+\_\+\+OK), the user is able to accept or cancel the FW update. To do that, the \hyperlink{le__fwupdate__interface_8h_a534e72fc1a6c20a36a9bdf4a58074159}{le\+\_\+fwupdate\+\_\+\+Install()} (accept the update) or the \hyperlink{le__fwupdate__interface_8h_ad153c293ff605e7aef51929c873e2792}{le\+\_\+fwupdate\+\_\+\+Mark\+Good()} (refuse the update) A\+PI can be used. \begin{DoxyWarning}{Warning}
If any Legato reset happens before accepting the FW update, a new download will be required at next startup. Accepting a FW update (\hyperlink{le__fwupdate__interface_8h_a534e72fc1a6c20a36a9bdf4a58074159}{le\+\_\+fwupdate\+\_\+\+Install()}) will initiate a device reboot without returning any result. Rejecting a FW update will initiate a synchronization without any device reboot.
\end{DoxyWarning}
\hypertarget{platformConstraintsDualSys_fwupdateConstrain_PartitionSync}{}\subsubsection{Partition synchronization}\label{platformConstraintsDualSys_fwupdateConstrain_PartitionSync}
The user can check if the A\+C\+T\+I\+VE and U\+P\+D\+A\+TE partition are synchronized by calling the \hyperlink{le__fwupdate__interface_8h_aafc80ed054d69c6d159933093bb13ff7}{le\+\_\+fwupdate\+\_\+\+Is\+System\+Marked\+Good()} A\+PI. This A\+PI can be used before calling \hyperlink{le__fwupdate__interface_8h_ab68f3a7c5d4284306468e888bf6a8796}{le\+\_\+fwupdate\+\_\+\+Download()} in order to check that the download can be treated. The user can request an I\+N\+S\+T\+A\+LL operation by calling \hyperlink{le__fwupdate__interface_8h_a534e72fc1a6c20a36a9bdf4a58074159}{le\+\_\+fwupdate\+\_\+\+Install()}.\hypertarget{platformConstraintsDualSys_fwupdateConstrain_Reset}{}\subsubsection{Reset A\+P\+Is}\label{platformConstraintsDualSys_fwupdateConstrain_Reset}
The user can use a reset A\+PI to initiate an installation or an installation and mark good. See \hyperlink{le__fwupdate__interface_8h_a534e72fc1a6c20a36a9bdf4a58074159}{le\+\_\+fwupdate\+\_\+\+Install()} and \hyperlink{le__fwupdate__interface_8h_a9e8d0d482a2a4f207650cc01296811be}{le\+\_\+fwupdate\+\_\+\+Install\+And\+Mark\+Good()}.\hypertarget{platformConstraintsDualSys_fwupdateConstrain_GetUpdateStatus}{}\subsubsection{Get\+Update\+Status A\+P\+Is}\label{platformConstraintsDualSys_fwupdateConstrain_GetUpdateStatus}
The status\+Label string returns by \hyperlink{le__fwupdate__interface_8h_abb967dcbee7f8d2ae75d708bec5e4fc9}{le\+\_\+fwupdate\+\_\+\+Get\+Update\+Status()} can be\+:


\begin{DoxyItemize}
\item A general status (see \hyperlink{le__fwupdate__interface_8h_a8749c3532db083893e9dd2d7c128a027}{le\+\_\+fwupdate\+\_\+\+Update\+Status\+\_\+t})\+:
\begin{DoxyItemize}
\item \char`\"{}\+No bad image found\char`\"{}
\item \char`\"{}\+Download in progress\char`\"{}
\item \char`\"{}\+Download failed\char`\"{}
\item \char`\"{}\+Download timeout\char`\"{}
\item \char`\"{}\+Unknown status\char`\"{}
\end{DoxyItemize}
\item The partition name where the first error has been encountered\+:
\begin{DoxyItemize}
\item \char`\"{}sbl\char`\"{}
\item \char`\"{}mibib\char`\"{}
\item \char`\"{}\+Reserved1\char`\"{}
\item \char`\"{}sedb\char`\"{}
\item \char`\"{}\+Reserved2\char`\"{}
\item \char`\"{}tz\+\_\+1\char`\"{}
\item \char`\"{}tz\+\_\+2\char`\"{}
\item \char`\"{}rpm\+\_\+1\char`\"{}
\item \char`\"{}rpm\+\_\+2\char`\"{}
\item \char`\"{}modem\+\_\+1\char`\"{}
\item \char`\"{}modem\+\_\+2\char`\"{}
\item \char`\"{}aboot\+\_\+1\char`\"{}
\item \char`\"{}aboot\+\_\+2\char`\"{}
\item \char`\"{}boot\+\_\+1\char`\"{}
\item \char`\"{}boot\+\_\+2\char`\"{}
\item \char`\"{}system\+\_\+1\char`\"{}
\item \char`\"{}system\+\_\+2\char`\"{}
\item \char`\"{}lefwkro\+\_\+1\char`\"{}
\item \char`\"{}lefwkro\+\_\+2\char`\"{}
\item \char`\"{}customer0\char`\"{}
\item \char`\"{}customer1\char`\"{}
\end{DoxyItemize}
\end{DoxyItemize}





Copyright (C) Sierra Wireless Inc. \hypertarget{platformConstraintsInfo}{}\subsection{Information}\label{platformConstraintsInfo}
{\ttfamily \hyperlink{le__info__interface_8h_a39f1a1db52b1e153466859b0cfa46898}{le\+\_\+info\+\_\+\+Get\+Reset\+Information()}} A\+PI provides the last reset reason. This A\+PI is supported by the following platforms\+:

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*9{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf A\+PI }&\PBS\centering {\bf A\+R755x }&\PBS\centering {\bf A\+R758x }&\PBS\centering {\bf A\+R759x }&\PBS\centering {\bf A\+R8652 }&\PBS\centering {\bf W\+P750x }&\PBS\centering {\bf W\+P76xx }&\PBS\centering {\bf W\+P77xx }&\PBS\centering {\bf W\+P8548  }\\\cline{1-9}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf A\+PI }&\PBS\centering {\bf A\+R755x }&\PBS\centering {\bf A\+R758x }&\PBS\centering {\bf A\+R759x }&\PBS\centering {\bf A\+R8652 }&\PBS\centering {\bf W\+P750x }&\PBS\centering {\bf W\+P76xx }&\PBS\centering {\bf W\+P77xx }&\PBS\centering {\bf W\+P8548  }\\\cline{1-9}
\endhead
\hyperlink{le__info__interface_8h_a39f1a1db52b1e153466859b0cfa46898}{le\+\_\+info\+\_\+\+Get\+Reset\+Information()} &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering \\\cline{1-9}
\end{longtabu}


Since {\ttfamily \hyperlink{le__info__interface_8h_a39f1a1db52b1e153466859b0cfa46898}{le\+\_\+info\+\_\+\+Get\+Reset\+Information()}} A\+PI is generic across supported targets, reset causes may be partially supported by some platforms. The table below lists the supported reset sources for each platform. Note that when a reset source is not supported, it is reported as \hyperlink{le__info__interface_8h_ade02c6bc81df0f95a321ba3823d34ae1a4799a9657a2822c209fc18d3ae8e5f0f}{L\+E\+\_\+\+I\+N\+F\+O\+\_\+\+R\+E\+S\+E\+T\+\_\+\+U\+N\+K\+N\+O\+WN}.

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*9{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf Reset cause }&\PBS\centering {\bf A\+R755x }&\PBS\centering {\bf A\+R758x }&\PBS\centering {\bf A\+R759x }&\PBS\centering {\bf A\+R8652 }&\PBS\centering {\bf W\+P750x }&\PBS\centering {\bf W\+P76xx }&\PBS\centering {\bf W\+P77xx }&\PBS\centering {\bf W\+P8548  }\\\cline{1-9}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf Reset cause }&\PBS\centering {\bf A\+R755x }&\PBS\centering {\bf A\+R758x }&\PBS\centering {\bf A\+R759x }&\PBS\centering {\bf A\+R8652 }&\PBS\centering {\bf W\+P750x }&\PBS\centering {\bf W\+P76xx }&\PBS\centering {\bf W\+P77xx }&\PBS\centering {\bf W\+P8548  }\\\cline{1-9}
\endhead
\char`\"{}\+Reset, User Requested\char`\"{} &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering \\\cline{1-9}
\char`\"{}\+Reset, Hardware Switch\char`\"{} &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering \\\cline{1-9}
\char`\"{}\+Reset, Swap\char`\"{} &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering \\\cline{1-9}
\char`\"{}\+Reset, Swap\+\_\+sync\char`\"{} &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering \\\cline{1-9}
\char`\"{}\+Reset, Software Update\char`\"{} &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering \\\cline{1-9}
\char`\"{}\+Reset, Configuration Update\char`\"{} &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering \\\cline{1-9}
\char`\"{}\+Reset, L\+W\+M2\+M Update\char`\"{} &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering \\\cline{1-9}
\char`\"{}\+Reset, O\+M\+A-\/\+D\+M Update\char`\"{} &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering \\\cline{1-9}
\char`\"{}\+Reset, F\+O\+T\+A Update\char`\"{} &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering \\\cline{1-9}
\char`\"{}\+Reset, Crash\char`\"{} &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering \\\cline{1-9}
\char`\"{}\+Power Down\char`\"{} &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering \\\cline{1-9}
\char`\"{}\+Power Down, Critical Temp\char`\"{} &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering X &\PBS\centering X &\PBS\centering \\\cline{1-9}
\char`\"{}\+Power Down, Critical Voltage\char`\"{} &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering &\PBS\centering \\\cline{1-9}
\end{longtabu}
See \hyperlink{c_info}{Modem Information} A\+PI {\ttfamily \hyperlink{le__info__interface_8h_a39f1a1db52b1e153466859b0cfa46898}{le\+\_\+info\+\_\+\+Get\+Reset\+Information()}} for further information about reset sources.

Copyright (C) Sierra Wireless Inc. \hypertarget{platformConstraintsmdmCfg}{}\subsection{Modem}\label{platformConstraintsmdmCfg}
Following A\+P\+Is would be impacted to backup and restore the modem configuration for A\+R759x and A\+R758x platforms.

\hyperlink{le__antenna__interface_8h_a0ccc004b9cd6927614b5b37565117f7a}{le\+\_\+antenna\+\_\+\+Set\+Short\+Limit()} \hyperlink{le__antenna__interface_8h_a436108eac97dbe9b6857ddc364243a9f}{le\+\_\+antenna\+\_\+\+Set\+Open\+Limit()} \hyperlink{le__audio__interface_8h_a393a26f6cff7fe05c1813fcafeef50f3}{le\+\_\+audio\+\_\+\+Record\+File()} \hyperlink{le__audio__interface_8h_a65f11540e6af03a3494b6b9be76ba5fc}{le\+\_\+audio\+\_\+\+Set\+Gain()} \hyperlink{le__audio__interface_8h_a64e7ebe776e83d10deb42415e185d68a}{le\+\_\+audio\+\_\+\+Set\+Platform\+Specific\+Gain()} \hyperlink{le__audio__interface_8h_a8526af295a5fe34cbb79f6b6d5c99f6a}{le\+\_\+audio\+\_\+\+Set\+Profile()} \hyperlink{le__audio__interface_8h_adad24547293481964039efe56bc14e2b}{le\+\_\+audio\+\_\+\+Unmute()} \hyperlink{le__audio__interface_8h_a147e97c49dbc003f63df78f97d5fca32}{le\+\_\+audio\+\_\+\+Mute()} \hyperlink{le__ecall__interface_8h_abf9c09914c55cdbe72df1433f60f6e51}{le\+\_\+ecall\+\_\+\+Set\+Psap\+Number()} \hyperlink{le__ecall__interface_8h_a034c442fd7c6650ed956822a561c0104}{le\+\_\+ecall\+\_\+\+Use\+U\+Sim\+Numbers()} \hyperlink{le__ecall__interface_8h_a66e454e84db7d337d76bc867b57891a1}{le\+\_\+ecall\+\_\+\+Set\+Nad\+Deregistration\+Time()} \hyperlink{le__ecall__interface_8h_ad468828b0024de378d91ea9c30fd6f3f}{le\+\_\+ecall\+\_\+\+Force\+Persistent\+Only\+Mode()} \hyperlink{le__gnss__interface_8h_a3474bb912febeca6e258c6039144f39f}{le\+\_\+gnss\+\_\+\+Enable\+Extended\+Ephemeris\+File()} \hyperlink{le__gnss__interface_8h_a49d596f01c010f7828c949f1436246df}{le\+\_\+gnss\+\_\+\+Disable\+Extended\+Ephemeris\+File()} \hyperlink{le__gnss__interface_8h_a6dbdc58f23e480e65ea16c583ef5340f}{le\+\_\+gnss\+\_\+\+Set\+Constellation()} \hyperlink{le__gnss__interface_8h_a92e3a26e2ba3c220a282fad8817c41be}{le\+\_\+gnss\+\_\+\+Set\+Supl\+Server\+Url()} \hyperlink{le__gnss__interface_8h_aa702703bbeebbefd65dd51b1f9fd4ce5}{le\+\_\+gnss\+\_\+\+Force\+Cold\+Restart()} \hyperlink{le__gnss__interface_8h_a1f5b3008db50d34c7962fb73c306f3d1}{le\+\_\+gnss\+\_\+\+Force\+Warm\+Restart()} \hyperlink{le__gnss__interface_8h_a18219097f3e8c8e6e613462a5467f546}{le\+\_\+gnss\+\_\+\+Force\+Factory\+Restart()} \hyperlink{le__gnss__interface_8h_a85bda68acc951ee14f5678dd8d1b532f}{le\+\_\+gnss\+\_\+\+Inject\+Supl\+Certificate()} \hyperlink{le__gnss__interface_8h_aec8d50c209ce21a979b7e9f552353aec}{le\+\_\+gnss\+\_\+\+Delete\+Supl\+Certificate()} \hyperlink{le__gnss__interface_8h_aea1811e39dfae1516b08404adfbaec22}{le\+\_\+gnss\+\_\+\+Load\+Extended\+Ephemeris\+File()} \hyperlink{le__gnss__interface_8h_ab9253e29d74cae6e962dcc8b94f0e3c1}{le\+\_\+gnss\+\_\+\+Set\+Nmea\+Sentences()} \hyperlink{le__gnss__interface_8h_a78982eb8669530eef1bbc79ff79347e4}{le\+\_\+gnss\+\_\+\+Set\+Min\+Elevation()} \hyperlink{le__ri_pin__interface_8h_a2cdbeb7aa773f498780058bea06c6553}{le\+\_\+ri\+Pin\+\_\+\+Take\+Ring\+Signal()} \hyperlink{le__mcc__interface_8h_ac637e687387a5b8cf9c5b02cbb7816fa}{le\+\_\+mcc\+\_\+\+Set\+Call\+Waiting\+Service()} \hyperlink{le__mdc__interface_8h_ae8ebd11b9cb9afb9b6b5745903f50156}{le\+\_\+mdc\+\_\+\+Set\+A\+P\+N()} \hyperlink{le__mdc__interface_8h_a9f69d0751927b5ead6c756202179b222}{le\+\_\+mdc\+\_\+\+Set\+Authentication()} \hyperlink{le__mdc__interface_8h_ad44bd756fd5cbfd43a5b348054786a4d}{le\+\_\+mdc\+\_\+\+Set\+Default\+A\+P\+N()} \hyperlink{le__mdc__interface_8h_a73e66a7a63dc95d7f261fc2a26470386}{le\+\_\+mdc\+\_\+\+Set\+P\+D\+P()} le\+\_\+gpio\+Pinx\+\_\+\+Activate() le\+\_\+gpio\+Pinx\+\_\+\+Deactivate() le\+\_\+gpio\+Pinx\+\_\+\+Set\+Edge\+Sense() le\+\_\+gpio\+Pinx\+\_\+\+Set\+Input() le\+\_\+gpio\+Pinx\+\_\+\+Set\+Push\+Pull\+Output le\+\_\+gpio\+Pinx\+\_\+\+Enable\+Pull\+Up() le\+\_\+gpio\+Pinx\+\_\+\+Enable\+Pull\+Down() le\+\_\+gpio\+Pinx\+\_\+\+Disable\+Edge\+Sense() \hyperlink{le__ips__interface_8h_ab019313758c21f7a390f7a6061583121}{le\+\_\+ips\+\_\+\+Set\+Voltage\+Thresholds()} \hyperlink{le__sec_store__interface_8h_a67ef7540ad79e9621a18acdf2d3427ae}{le\+\_\+sec\+Store\+\_\+\+Write()} \hyperlink{le__sec_store__interface_8h_a5d5c156d080e4e4f40fcf7e46c2790e7}{le\+\_\+sec\+Store\+\_\+\+Delete()} \hyperlink{le__mrc__interface_8h_a78bd27d92337e2122320f41bcaa5480f}{le\+\_\+mrc\+\_\+\+Set\+Radio\+Power()}

Copyright (C) Sierra Wireless Inc. \hypertarget{platformConstraintsSpecificErrorCodes}{}\subsection{Platform specific error codes}\label{platformConstraintsSpecificErrorCodes}
\begin{DoxyNote}{Note}
The table below lists the supported platform specific error code functions for each platform.
\end{DoxyNote}
\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*7{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf specific error code A\+P\+Is }&\PBS\centering {\bf A\+R755x }&\PBS\centering {\bf A\+R758x }&\PBS\centering {\bf A\+R759x }&\PBS\centering {\bf A\+R8652 }&\PBS\centering {\bf W\+P85xx }&\PBS\centering {\bf W\+P76xx  }\\\cline{1-7}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf specific error code A\+P\+Is }&\PBS\centering {\bf A\+R755x }&\PBS\centering {\bf A\+R758x }&\PBS\centering {\bf A\+R759x }&\PBS\centering {\bf A\+R8652 }&\PBS\centering {\bf W\+P85xx }&\PBS\centering {\bf W\+P76xx  }\\\cline{1-7}
\endhead
\hyperlink{le__mcc__interface_8h_a68b9b8ed1b221924dcea1be0fd610a54}{le\+\_\+mcc\+\_\+\+Get\+Platform\+Specific\+Termination\+Code()} &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X \\\cline{1-7}
\hyperlink{le__mdc__interface_8h_a3e3a92b0f5e3edab9400412170517a62}{le\+\_\+mdc\+\_\+\+Get\+Platform\+Specific\+Disconnection\+Code()} &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X \\\cline{1-7}
\hyperlink{le__mrc__interface_8h_a153247be5ea13ae2bc13ace0dd8c739c}{le\+\_\+mrc\+\_\+\+Get\+Platform\+Specific\+Registration\+Error\+Code()} &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X \\\cline{1-7}
\hyperlink{le__sms__interface_8h_a9cfbc2131df38f99272a71bf05cb1254}{le\+\_\+sms\+\_\+\+Get\+Platform\+Specific\+Error\+Code()} &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X &\PBS\centering X \\\cline{1-7}
\end{longtabu}
{\bfseries \hyperlink{c_mcc}{Modem Call Control} \+:}
\begin{DoxyItemize}
\item \hyperlink{le__mcc__interface_8h_a68b9b8ed1b221924dcea1be0fd610a54}{le\+\_\+mcc\+\_\+\+Get\+Platform\+Specific\+Termination\+Code()} returns the termination code from call indication message that contains call end reason. The call end reason return values are described below

C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+O\+F\+F\+L\+I\+NE = 0x00,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+D\+M\+A\+\_\+\+L\+O\+CK = 0x14,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+O\+\_\+\+S\+RV = 0x15,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+F\+A\+DE = 0x16,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+N\+T\+E\+R\+C\+E\+PT = 0x17,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+O\+R\+D\+ER = 0x18,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+L\+\_\+\+N\+O\+R\+M\+AL = 0x19,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+L\+\_\+\+S\+O\+\_\+\+R\+EJ = 0x1A,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+N\+C\+O\+M\+\_\+\+C\+A\+LL = 0x1B,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+L\+E\+R\+T\+\_\+\+S\+T\+OP = 0x1C,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+E\+ND = 0x1D,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+C\+T\+I\+V\+A\+T\+I\+ON = 0x1E,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+M\+C\+\_\+\+A\+B\+O\+RT = 0x1F,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+M\+A\+X\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+P\+R\+O\+BE = 0x20,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+P\+S\+I\+S\+T\+\_\+N = 0x21,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+U\+I\+M\+\_\+\+N\+O\+T\+\_\+\+P\+R\+E\+S\+E\+NT = 0x22,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+C\+C\+\_\+\+I\+N\+\_\+\+P\+R\+OG = 0x23,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+C\+C\+\_\+\+F\+A\+IL = 0x24,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+T\+R\+Y\+\_\+\+O\+R\+D\+ER = 0x25,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+C\+S\+\_\+\+N\+O\+T\+\_\+\+S\+U\+P\+P\+O\+R\+T\+E\+D\+\_\+\+B\+Y\+\_\+\+BS = 0x26,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+O\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+F\+R\+O\+M\+\_\+\+BS = 0x27,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+J\+E\+C\+T\+E\+D\+\_\+\+B\+Y\+\_\+\+BS = 0x28,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+N\+C\+O\+M\+P\+A\+T\+I\+B\+LE = 0x29,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+B\+L\+O\+CK = 0x2A,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+L\+R\+E\+A\+D\+Y\+\_\+\+I\+N\+\_\+\+TC = 0x2B,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+E\+M\+E\+R\+G\+E\+N\+C\+Y\+\_\+\+F\+L\+A\+S\+H\+ED = 0x2C,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+U\+S\+E\+R\+\_\+\+C\+A\+L\+L\+\_\+\+O\+R\+I\+G\+\_\+\+D\+U\+R\+I\+N\+G\+\_\+\+G\+PS = 0x2D,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+U\+S\+E\+R\+\_\+\+C\+A\+L\+L\+\_\+\+O\+R\+I\+G\+\_\+\+D\+U\+R\+I\+N\+G\+\_\+\+S\+MS = 0x2E,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+U\+S\+E\+R\+\_\+\+C\+A\+L\+L\+\_\+\+O\+R\+I\+G\+\_\+\+D\+U\+R\+I\+N\+G\+\_\+\+D\+A\+TA = 0x2F,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+D\+I\+R\+\_\+\+O\+R\+\_\+\+H\+A\+N\+D\+O\+FF = 0x30,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+B\+L\+O\+C\+K\+\_\+\+A\+LL = 0x31,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+O\+T\+A\+S\+P\+\_\+\+S\+P\+C\+\_\+\+E\+RR = 0x32,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+S707\+B\+\_\+\+M\+A\+X\+\_\+\+A\+CC = 0x33,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+C\+C\+\_\+\+F\+A\+I\+L\+\_\+\+R\+E\+J\+\_\+\+O\+RD = 0x34,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+C\+C\+\_\+\+F\+A\+I\+L\+\_\+\+R\+E\+T\+R\+Y\+\_\+\+O\+RD = 0x35,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+T\+I\+M\+E\+O\+U\+T\+\_\+\+T42 = 0x36,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+T\+I\+M\+E\+O\+U\+T\+\_\+\+T40 = 0x37,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+R\+V\+\_\+\+I\+N\+I\+T\+\_\+\+F\+A\+IL = 0x38,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+T50\+\_\+\+E\+XP = 0x39,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+T51\+\_\+\+E\+XP = 0x3A,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+L\+\_\+\+A\+C\+K\+\_\+\+T\+I\+M\+E\+O\+UT = 0x3B,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+B\+A\+D\+\_\+\+FL = 0x3C,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+T\+R\+M\+\_\+\+R\+E\+Q\+\_\+\+F\+A\+IL = 0x3D,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+T\+I\+M\+E\+O\+U\+T\+\_\+\+T41 = 0x3E,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+N\+C\+O\+M\+\_\+\+R\+EJ = 0x66,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+E\+T\+U\+P\+\_\+\+R\+EJ = 0x67,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+E\+ND = 0x68,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+O\+\_\+\+F\+U\+N\+DS = 0x69,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+O\+\_\+\+G\+W\+\_\+\+S\+RV = 0x6A,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+O\+\_\+\+C\+D\+M\+A\+\_\+\+S\+RV = 0x6B,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+O\+\_\+\+F\+U\+L\+L\+\_\+\+S\+RV = 0x6C,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+M\+A\+X\+\_\+\+P\+S\+\_\+\+C\+A\+L\+LS = 0x6D,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+U\+N\+K\+N\+O\+W\+N\+\_\+\+S\+U\+B\+S\+C\+R\+I\+B\+ER = 0x6E,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+L\+L\+E\+G\+A\+L\+\_\+\+S\+U\+B\+S\+C\+R\+I\+B\+ER = 0x6F,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+B\+E\+A\+R\+E\+R\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+N\+O\+T\+\_\+\+P\+R\+O\+V\+I\+S\+I\+O\+N\+ED = 0x70,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+T\+E\+L\+E\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+N\+O\+T\+\_\+\+P\+R\+O\+V\+I\+S\+I\+O\+N\+ED = 0x71,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+L\+L\+E\+G\+A\+L\+\_\+\+E\+Q\+U\+I\+P\+M\+E\+NT = 0x72,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+A\+L\+L\+\_\+\+B\+A\+R\+R\+ED = 0x73,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+L\+L\+E\+G\+A\+L\+\_\+\+S\+S\+\_\+\+O\+P\+E\+R\+A\+T\+I\+ON = 0x74,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+\+S\+T\+A\+T\+US = 0x75,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+S\+\_\+\+N\+O\+T\+\_\+\+A\+V\+A\+I\+L\+A\+B\+LE = 0x76,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+S\+\_\+\+S\+U\+B\+S\+C\+R\+I\+P\+T\+I\+O\+N\+\_\+\+V\+I\+O\+L\+A\+T\+I\+ON = 0x77,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+S\+\_\+\+I\+N\+C\+O\+M\+P\+A\+T\+I\+B\+I\+L\+I\+TY = 0x78,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+F\+A\+C\+I\+L\+I\+T\+Y\+\_\+\+N\+O\+T\+\_\+\+S\+U\+P\+P\+O\+R\+T\+ED = 0x79,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+B\+S\+E\+N\+T\+\_\+\+S\+U\+B\+S\+C\+R\+I\+B\+ER = 0x7A,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+H\+O\+R\+T\+\_\+\+T\+E\+R\+M\+\_\+\+D\+E\+N\+I\+AL = 0x7B,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+L\+O\+N\+G\+\_\+\+T\+E\+R\+M\+\_\+\+D\+E\+N\+I\+AL = 0x7C,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+Y\+S\+T\+E\+M\+\_\+\+F\+A\+I\+L\+U\+RE = 0x7D,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+D\+A\+T\+A\+\_\+\+M\+I\+S\+S\+I\+NG = 0x7E,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+U\+N\+E\+X\+P\+E\+C\+T\+E\+D\+\_\+\+D\+A\+T\+A\+\_\+\+V\+A\+L\+UE = 0x7F,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+P\+W\+D\+\_\+\+R\+E\+G\+I\+S\+T\+R\+A\+T\+I\+O\+N\+\_\+\+F\+A\+I\+L\+U\+RE = 0x80,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+E\+G\+A\+T\+I\+V\+E\+\_\+\+P\+W\+D\+\_\+\+C\+H\+E\+CK = 0x81,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+U\+M\+\_\+\+O\+F\+\_\+\+P\+W\+D\+\_\+\+A\+T\+T\+E\+M\+P\+T\+S\+\_\+\+V\+I\+O\+L\+A\+T\+I\+ON = 0x82,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+P\+O\+S\+I\+T\+I\+O\+N\+\_\+\+M\+E\+T\+H\+O\+D\+\_\+\+F\+A\+I\+L\+U\+RE = 0x83,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+U\+N\+K\+N\+O\+W\+N\+\_\+\+A\+L\+P\+H\+A\+B\+ET = 0x84,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+U\+S\+S\+D\+\_\+\+B\+U\+SY = 0x85,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+J\+E\+C\+T\+E\+D\+\_\+\+B\+Y\+\_\+\+U\+S\+ER = 0x86,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+J\+E\+C\+T\+E\+D\+\_\+\+B\+Y\+\_\+\+N\+E\+T\+W\+O\+RK = 0x87,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+D\+E\+F\+L\+E\+C\+T\+I\+O\+N\+\_\+\+T\+O\+\_\+\+S\+E\+R\+V\+E\+D\+\_\+\+S\+U\+B\+S\+C\+R\+I\+B\+ER = 0x88,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+P\+E\+C\+I\+A\+L\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+C\+O\+DE = 0x89,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+D\+E\+F\+L\+E\+C\+T\+E\+D\+\_\+\+T\+O\+\_\+\+N\+U\+M\+B\+ER = 0x8A,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+M\+P\+T\+Y\+\_\+\+P\+A\+R\+T\+I\+C\+I\+P\+A\+N\+T\+S\+\_\+\+E\+X\+C\+E\+E\+D\+ED = 0x8B,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+S\+O\+U\+R\+C\+E\+S\+\_\+\+N\+O\+T\+\_\+\+A\+V\+A\+I\+L\+A\+B\+LE = 0x8C,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+U\+N\+A\+S\+S\+I\+G\+N\+E\+D\+\_\+\+N\+U\+M\+B\+ER = 0x8D,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+O\+\_\+\+R\+O\+U\+T\+E\+\_\+\+T\+O\+\_\+\+D\+E\+S\+T\+I\+N\+A\+T\+I\+ON = 0x8E,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+H\+A\+N\+N\+E\+L\+\_\+\+U\+N\+A\+C\+C\+E\+P\+T\+A\+B\+LE = 0x8F,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+O\+P\+E\+R\+A\+T\+O\+R\+\_\+\+D\+E\+T\+E\+R\+M\+I\+N\+E\+D\+\_\+\+B\+A\+R\+R\+I\+NG = 0x90,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+O\+R\+M\+A\+L\+\_\+\+C\+A\+L\+L\+\_\+\+C\+L\+E\+A\+R\+I\+NG = 0x91,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+U\+S\+E\+R\+\_\+\+B\+U\+SY = 0x92,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+O\+\_\+\+U\+S\+E\+R\+\_\+\+R\+E\+S\+P\+O\+N\+D\+I\+NG = 0x93,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+U\+S\+E\+R\+\_\+\+A\+L\+E\+R\+T\+I\+N\+G\+\_\+\+N\+O\+\_\+\+A\+N\+S\+W\+ER = 0x94,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+A\+L\+L\+\_\+\+R\+E\+J\+E\+C\+T\+ED = 0x95,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+C\+H\+A\+N\+G\+ED = 0x96,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+P\+R\+E\+E\+M\+P\+T\+I\+ON = 0x97,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+D\+E\+S\+T\+I\+N\+A\+T\+I\+O\+N\+\_\+\+O\+U\+T\+\_\+\+O\+F\+\_\+\+O\+R\+D\+ER = 0x98,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+F\+O\+R\+M\+AT = 0x99,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+F\+A\+C\+I\+L\+I\+T\+Y\+\_\+\+R\+E\+J\+E\+C\+T\+ED = 0x9A,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+S\+P\+\_\+\+T\+O\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+E\+N\+Q\+U\+I\+RY = 0x9B,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+O\+R\+M\+A\+L\+\_\+\+U\+N\+S\+P\+E\+C\+I\+F\+I\+ED = 0x9C,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+O\+\_\+\+C\+I\+R\+C\+U\+I\+T\+\_\+\+O\+R\+\_\+\+C\+H\+A\+N\+N\+E\+L\+\_\+\+A\+V\+A\+I\+L\+A\+B\+LE = 0x9D,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+O\+U\+T\+\_\+\+O\+F\+\_\+\+O\+R\+D\+ER = 0x9E,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+T\+E\+M\+P\+O\+R\+A\+R\+Y\+\_\+\+F\+A\+I\+L\+U\+RE = 0x9F,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+W\+I\+T\+C\+H\+I\+N\+G\+\_\+\+E\+Q\+U\+I\+P\+M\+E\+N\+T\+\_\+\+C\+O\+N\+G\+E\+S\+T\+I\+ON = 0x\+A0,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+I\+N\+F\+O\+R\+M\+A\+T\+I\+O\+N\+\_\+\+D\+I\+S\+C\+A\+R\+D\+ED = 0x\+A1,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+E\+D\+\_\+\+C\+I\+R\+C\+U\+I\+T\+\_\+\+O\+R\+\_\+\+C\+H\+A\+N\+N\+E\+L\+\_\+\+N\+O\+T\+\_\+\+A\+V\+A\+I\+L\+A\+B\+LE = 0x\+A2,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+S\+O\+U\+R\+C\+E\+S\+\_\+\+U\+N\+A\+V\+A\+I\+L\+A\+B\+L\+E\+\_\+\+O\+R\+\_\+\+U\+N\+S\+P\+E\+C\+I\+F\+I\+ED = 0x\+A3,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+Q\+O\+S\+\_\+\+U\+N\+A\+V\+A\+I\+L\+A\+B\+LE = 0x\+A4,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+E\+D\+\_\+\+F\+A\+C\+I\+L\+I\+T\+Y\+\_\+\+N\+O\+T\+\_\+\+S\+U\+B\+S\+C\+R\+I\+B\+ED = 0x\+A5,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+N\+C\+O\+M\+I\+N\+G\+\_\+\+C\+A\+L\+L\+S\+\_\+\+B\+A\+R\+R\+E\+D\+\_\+\+W\+I\+T\+H\+I\+N\+\_\+\+C\+UG = 0x\+A6,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+B\+E\+A\+R\+E\+R\+\_\+\+C\+A\+P\+A\+B\+I\+L\+I\+T\+Y\+\_\+\+N\+O\+T\+\_\+\+A\+U\+TH = 0x\+A7,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+B\+E\+A\+R\+E\+R\+\_\+\+C\+A\+P\+A\+B\+I\+L\+I\+T\+Y\+\_\+\+U\+N\+A\+V\+A\+I\+L\+A\+B\+LE = 0x\+A8,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+O\+P\+T\+I\+O\+N\+\_\+\+N\+O\+T\+\_\+\+A\+V\+A\+I\+L\+A\+B\+LE = 0x\+A9,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+C\+M\+\_\+\+L\+I\+M\+I\+T\+\_\+\+E\+X\+C\+E\+E\+D\+ED = 0x\+AA,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+B\+E\+A\+R\+E\+R\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+N\+O\+T\+\_\+\+I\+M\+P\+L\+E\+M\+E\+N\+T\+ED = 0x\+AB,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+E\+D\+\_\+\+F\+A\+C\+I\+L\+I\+T\+Y\+\_\+\+N\+O\+T\+\_\+\+I\+M\+P\+L\+E\+M\+E\+N\+T\+ED = 0x\+AC,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+O\+N\+L\+Y\+\_\+\+D\+I\+G\+I\+T\+A\+L\+\_\+\+I\+N\+F\+O\+R\+M\+A\+T\+I\+O\+N\+\_\+\+B\+E\+A\+R\+E\+R\+\_\+\+A\+V\+A\+I\+L\+A\+B\+LE = 0x\+AD,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+O\+R\+\_\+\+O\+P\+T\+I\+O\+N\+\_\+\+N\+O\+T\+\_\+\+I\+M\+P\+L\+E\+M\+E\+N\+T\+ED = 0x\+AE,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+T\+R\+A\+N\+S\+A\+C\+T\+I\+O\+N\+\_\+\+I\+D\+E\+N\+T\+I\+F\+I\+ER = 0x\+AF,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+U\+S\+E\+R\+\_\+\+N\+O\+T\+\_\+\+M\+E\+M\+B\+E\+R\+\_\+\+O\+F\+\_\+\+C\+UG = 0x\+B0,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+N\+C\+O\+M\+P\+A\+T\+I\+B\+L\+E\+\_\+\+D\+E\+S\+T\+I\+N\+A\+T\+I\+ON = 0x\+B1,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+T\+R\+A\+N\+S\+I\+T\+\_\+\+N\+W\+\_\+\+S\+E\+L\+E\+C\+T\+I\+ON = 0x\+B2,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+E\+M\+A\+N\+T\+I\+C\+A\+L\+L\+Y\+\_\+\+I\+N\+C\+O\+R\+R\+E\+C\+T\+\_\+\+M\+E\+S\+S\+A\+GE = 0x\+B3,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+M\+A\+N\+D\+A\+T\+O\+R\+Y\+\_\+\+I\+N\+F\+O\+R\+M\+A\+T\+I\+ON = 0x\+B4,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+N\+O\+N\+\_\+\+I\+M\+P\+L\+E\+M\+E\+N\+T\+ED = 0x\+B5,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+N\+O\+T\+\_\+\+C\+O\+M\+P\+A\+T\+I\+B\+L\+E\+\_\+\+W\+I\+T\+H\+\_\+\+P\+R\+O\+T\+O\+C\+O\+L\+\_\+\+S\+T\+A\+TE = 0x\+B6,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+N\+F\+O\+R\+M\+A\+T\+I\+O\+N\+\_\+\+E\+L\+E\+M\+E\+N\+T\+\_\+\+N\+O\+N\+\_\+\+E\+X\+I\+S\+T\+E\+NT = 0x\+B7,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+O\+N\+D\+I\+T\+O\+N\+A\+L\+\_\+\+I\+E\+\_\+\+E\+R\+R\+OR = 0x\+B8,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+O\+T\+\_\+\+C\+O\+M\+P\+A\+T\+I\+B\+L\+E\+\_\+\+W\+I\+T\+H\+\_\+\+P\+R\+O\+T\+O\+C\+O\+L\+\_\+\+S\+T\+A\+TE = 0x\+B9,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+C\+O\+V\+E\+R\+Y\+\_\+\+O\+N\+\_\+\+T\+I\+M\+E\+R\+\_\+\+E\+X\+P\+I\+R\+ED = 0x\+BA,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+P\+R\+O\+T\+O\+C\+O\+L\+\_\+\+E\+R\+R\+O\+R\+\_\+\+U\+N\+S\+P\+E\+C\+I\+F\+I\+ED = 0x\+BB,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+N\+T\+E\+R\+W\+O\+R\+K\+I\+N\+G\+\_\+\+U\+N\+S\+P\+E\+C\+I\+F\+I\+ED = 0x\+BC,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+O\+U\+T\+G\+O\+I\+N\+G\+\_\+\+C\+A\+L\+L\+S\+\_\+\+B\+A\+R\+R\+E\+D\+\_\+\+W\+I\+T\+H\+I\+N\+\_\+\+C\+UG = 0x\+BD,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+O\+\_\+\+C\+U\+G\+\_\+\+S\+E\+L\+E\+C\+T\+I\+ON = 0x\+BE,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+U\+N\+K\+N\+O\+W\+N\+\_\+\+C\+U\+G\+\_\+\+I\+N\+D\+EX = 0x\+BF,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+U\+G\+\_\+\+I\+N\+D\+E\+X\+\_\+\+I\+N\+C\+O\+M\+P\+A\+T\+I\+B\+LE = 0x\+C0,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+U\+G\+\_\+\+C\+A\+L\+L\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+U\+N\+S\+P\+E\+C\+I\+F\+I\+ED = 0x\+C1,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+L\+I\+R\+\_\+\+N\+O\+T\+\_\+\+S\+U\+B\+S\+C\+R\+I\+B\+ED = 0x\+C2,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+C\+B\+S\+\_\+\+P\+O\+S\+S\+I\+B\+LE = 0x\+C3,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+C\+B\+S\+\_\+\+N\+O\+T\+\_\+\+P\+O\+S\+S\+I\+B\+LE = 0x\+C4,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+M\+S\+I\+\_\+\+U\+N\+K\+N\+O\+W\+N\+\_\+\+I\+N\+\_\+\+H\+LR = 0x\+C5,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+L\+L\+E\+G\+A\+L\+\_\+\+MS = 0x\+C6,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+M\+S\+I\+\_\+\+U\+N\+K\+N\+O\+W\+N\+\_\+\+I\+N\+\_\+\+V\+LR = 0x\+C7,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+M\+E\+I\+\_\+\+N\+O\+T\+\_\+\+A\+C\+C\+E\+P\+T\+ED = 0x\+C8,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+L\+L\+E\+G\+A\+L\+\_\+\+ME = 0x\+C9,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+P\+L\+M\+N\+\_\+\+N\+O\+T\+\_\+\+A\+L\+L\+O\+W\+ED = 0x\+CA,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+L\+O\+C\+A\+T\+I\+O\+N\+\_\+\+A\+R\+E\+A\+\_\+\+N\+O\+T\+\_\+\+A\+L\+L\+O\+W\+ED = 0x\+CB,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+O\+A\+M\+I\+N\+G\+\_\+\+N\+O\+T\+\_\+\+A\+L\+L\+O\+W\+E\+D\+\_\+\+I\+N\+\_\+\+T\+H\+I\+S\+\_\+\+L\+O\+C\+A\+T\+I\+O\+N\+\_\+\+A\+R\+EA = 0x\+CC,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+O\+\_\+\+S\+U\+I\+T\+A\+B\+L\+E\+\_\+\+C\+E\+L\+L\+S\+\_\+\+I\+N\+\_\+\+L\+O\+C\+A\+T\+I\+O\+N\+\_\+\+A\+R\+EA = 0x\+CD,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+F\+A\+I\+L\+U\+RE = 0x\+CE,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+M\+A\+C\+\_\+\+F\+A\+I\+L\+U\+RE = 0x\+CF,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+Y\+N\+C\+H\+\_\+\+F\+A\+I\+L\+U\+RE = 0x\+D0,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+C\+O\+N\+G\+E\+S\+T\+I\+ON = 0x\+D1,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+G\+S\+M\+\_\+\+A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+I\+O\+N\+\_\+\+U\+N\+A\+C\+C\+E\+P\+T\+A\+B\+LE = 0x\+D2,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+N\+O\+T\+\_\+\+S\+U\+B\+S\+C\+R\+I\+B\+ED = 0x\+D3,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+T\+E\+M\+P\+O\+R\+A\+R\+I\+L\+Y\+\_\+\+O\+U\+T\+\_\+\+O\+F\+\_\+\+O\+R\+D\+ER = 0x\+D4,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+A\+L\+L\+\_\+\+C\+A\+N\+N\+O\+T\+\_\+\+B\+E\+\_\+\+I\+D\+E\+N\+T\+I\+F\+I\+ED = 0x\+D5,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+N\+C\+O\+R\+R\+E\+C\+T\+\_\+\+S\+E\+M\+A\+N\+T\+I\+C\+S\+\_\+\+I\+N\+\_\+\+M\+E\+S\+S\+A\+GE = 0x\+D6,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+M\+A\+N\+D\+A\+T\+O\+R\+Y\+\_\+\+I\+N\+F\+O\+R\+M\+A\+T\+I\+O\+N\+\_\+\+I\+N\+V\+A\+L\+ID = 0x\+D7,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+S\+T\+R\+A\+T\+U\+M\+\_\+\+F\+A\+I\+L\+U\+RE = 0x\+D8,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+S\+IM = 0x\+D9,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+W\+R\+O\+N\+G\+\_\+\+S\+T\+A\+TE = 0x\+DA,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+C\+L\+A\+S\+S\+\_\+\+B\+L\+O\+C\+K\+ED = 0x\+DB,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+O\+\_\+\+R\+E\+S\+O\+U\+R\+C\+ES = 0x\+DC,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+U\+S\+E\+R\+\_\+\+D\+A\+TA = 0x\+DD,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+T3230\+\_\+\+E\+X\+P\+I\+R\+ED = 0x\+DE,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+O\+\_\+\+C\+E\+L\+L\+\_\+\+A\+V\+A\+I\+L\+A\+B\+LE = 0x\+DF,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+B\+O\+R\+T\+\_\+\+M\+S\+G\+\_\+\+R\+E\+C\+E\+I\+V\+ED = 0x\+E0,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+A\+D\+I\+O\+\_\+\+L\+I\+N\+K\+\_\+\+L\+O\+ST = 0x\+E1,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+T303\+\_\+\+E\+X\+P\+I\+R\+ED = 0x\+E2,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+N\+M\+\_\+\+M\+M\+\_\+\+R\+E\+L\+\_\+\+P\+E\+N\+D\+I\+NG = 0x\+E3,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+S\+T\+R\+A\+T\+U\+M\+\_\+\+R\+E\+J\+\_\+\+R\+R\+\_\+\+R\+E\+L\+\_\+\+I\+ND = 0x\+E4,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+S\+T\+R\+A\+T\+U\+M\+\_\+\+R\+E\+J\+\_\+\+R\+R\+\_\+\+R\+A\+N\+D\+O\+M\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+F\+A\+I\+L\+U\+RE = 0x\+E5,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+S\+T\+R\+A\+T\+U\+M\+\_\+\+R\+E\+J\+\_\+\+R\+R\+C\+\_\+\+R\+E\+L\+\_\+\+I\+ND = 0x\+E6,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+S\+T\+R\+A\+T\+U\+M\+\_\+\+R\+E\+J\+\_\+\+R\+R\+C\+\_\+\+C\+L\+O\+S\+E\+\_\+\+S\+E\+S\+S\+I\+O\+N\+\_\+\+I\+ND = 0x\+E7,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+S\+T\+R\+A\+T\+U\+M\+\_\+\+R\+E\+J\+\_\+\+R\+R\+C\+\_\+\+O\+P\+E\+N\+\_\+\+S\+E\+S\+S\+I\+O\+N\+\_\+\+F\+A\+I\+L\+U\+RE = 0x\+E8,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+S\+T\+R\+A\+T\+U\+M\+\_\+\+R\+E\+J\+\_\+\+L\+O\+W\+\_\+\+L\+E\+V\+E\+L\+\_\+\+F\+A\+IL = 0x\+E9,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+S\+T\+R\+A\+T\+U\+M\+\_\+\+R\+E\+J\+\_\+\+L\+O\+W\+\_\+\+L\+E\+V\+E\+L\+\_\+\+F\+A\+I\+L\+\_\+\+R\+E\+D\+I\+A\+L\+\_\+\+N\+O\+T\+\_\+\+A\+L\+L\+O\+W\+ED = 0x\+EA,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+S\+T\+R\+A\+T\+U\+M\+\_\+\+R\+E\+J\+\_\+\+L\+O\+W\+\_\+\+L\+E\+V\+E\+L\+\_\+\+I\+M\+M\+E\+D\+\_\+\+R\+E\+T\+RY = 0x\+EB,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+S\+T\+R\+A\+T\+U\+M\+\_\+\+R\+E\+J\+\_\+\+A\+B\+O\+R\+T\+\_\+\+R\+A\+D\+I\+O\+\_\+\+U\+N\+A\+V\+A\+I\+L\+A\+B\+LE = 0x\+EC,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+O\+P\+T\+I\+O\+N\+\_\+\+N\+O\+T\+\_\+\+S\+U\+P\+P\+O\+R\+T\+ED = 0x\+ED,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+U\+L\+\_\+\+D\+A\+T\+A\+\_\+\+C\+N\+F\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+T\+XN = 0x\+EF,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+U\+L\+\_\+\+D\+A\+T\+A\+\_\+\+C\+N\+F\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+HO = 0x\+F0,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+U\+L\+\_\+\+D\+A\+T\+A\+\_\+\+C\+N\+F\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+C\+O\+N\+N\+\_\+\+R\+EL = 0x\+F1,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+U\+L\+\_\+\+D\+A\+T\+A\+\_\+\+C\+N\+F\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+R\+LF = 0x\+F2,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+U\+L\+\_\+\+D\+A\+T\+A\+\_\+\+C\+N\+F\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+C\+T\+R\+L\+\_\+\+N\+O\+T\+\_\+\+C\+O\+NN = 0x\+F3,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+C\+O\+N\+N\+\_\+\+E\+S\+T\+\_\+\+S\+U\+C\+C\+E\+SS = 0x\+F4,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+C\+O\+N\+N\+\_\+\+E\+S\+T\+\_\+\+F\+A\+I\+L\+U\+RE = 0x\+F5,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+C\+O\+N\+N\+\_\+\+E\+S\+T\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+A\+B\+O\+R\+T\+ED = 0x\+F6,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+C\+O\+N\+N\+\_\+\+E\+S\+T\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+B\+A\+R\+R\+ED = 0x\+F7,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+C\+O\+N\+N\+\_\+\+E\+S\+T\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+C\+E\+L\+L\+\_\+\+R\+E\+S\+EL = 0x\+F8,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+C\+O\+N\+N\+\_\+\+E\+S\+T\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+\+F\+A\+I\+L\+U\+RE = 0x\+F9,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+C\+O\+N\+N\+\_\+\+E\+S\+T\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+E\+X\+P\+I\+R\+ED = 0x\+FA,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+C\+O\+N\+N\+\_\+\+E\+S\+T\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+L\+I\+N\+K\+\_\+\+F\+A\+I\+L\+U\+RE = 0x\+FB,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+C\+O\+N\+N\+\_\+\+E\+S\+T\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+N\+O\+T\+\_\+\+C\+A\+M\+P\+ED = 0x\+FC,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+C\+O\+N\+N\+\_\+\+E\+S\+T\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+S\+I\+\_\+\+F\+A\+I\+L\+U\+RE = 0x\+FD,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+C\+O\+N\+N\+\_\+\+E\+S\+T\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+C\+O\+N\+N\+\_\+\+R\+E\+J\+E\+CT = 0x\+FE,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+C\+O\+N\+N\+\_\+\+R\+E\+L\+\_\+\+N\+O\+R\+M\+AL = 0x\+FF,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+C\+O\+N\+N\+\_\+\+R\+E\+L\+\_\+\+R\+LF = 0x100,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+C\+O\+N\+N\+\_\+\+R\+E\+L\+\_\+\+C\+R\+E\+\_\+\+F\+A\+I\+L\+U\+RE = 0x101,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+C\+O\+N\+N\+\_\+\+R\+E\+L\+\_\+\+O\+O\+S\+\_\+\+D\+U\+R\+I\+N\+G\+\_\+\+C\+RE = 0x102,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+C\+O\+N\+N\+\_\+\+R\+E\+L\+\_\+\+A\+B\+O\+R\+T\+ED = 0x103,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+C\+O\+N\+N\+\_\+\+R\+E\+L\+\_\+\+S\+I\+B\+\_\+\+R\+E\+A\+D\+\_\+\+E\+R\+R\+OR = 0x104,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+C\+O\+N\+N\+\_\+\+R\+E\+L\+\_\+\+A\+B\+O\+R\+T\+E\+D\+\_\+\+I\+R\+A\+T\+\_\+\+S\+U\+C\+C\+E\+SS = 0x105,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+L\+R\+R\+C\+\_\+\+R\+A\+D\+I\+O\+\_\+\+L\+I\+N\+K\+\_\+\+F\+A\+I\+L\+U\+RE = 0x106,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+D\+E\+T\+A\+C\+H\+\_\+\+W\+I\+T\+H\+\_\+\+R\+E\+A\+T\+T\+A\+C\+H\+\_\+\+L\+T\+E\+\_\+\+N\+W\+\_\+\+D\+E\+T\+A\+CH = 0x107,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+S\+\_\+\+R\+E\+J\+\_\+\+D\+E\+T\+A\+C\+H\+\_\+\+W\+I\+T\+H\+\_\+\+O\+U\+T\+\_\+\+R\+E\+A\+T\+T\+A\+C\+H\+\_\+\+L\+T\+E\+\_\+\+N\+W\+\_\+\+D\+E\+T\+A\+CH = 0x108,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+B\+A\+D\+\_\+\+R\+E\+Q\+\_\+\+W\+A\+I\+T\+\_\+\+I\+N\+V\+I\+TE = 0x12C,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+B\+A\+D\+\_\+\+R\+E\+Q\+\_\+\+W\+A\+I\+T\+\_\+\+R\+E\+I\+N\+V\+I\+TE = 0x12D,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+R\+E\+M\+O\+T\+E\+\_\+\+U\+RI = 0x12E,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+M\+O\+T\+E\+\_\+\+U\+N\+S\+U\+P\+P\+\_\+\+M\+E\+D\+I\+A\+\_\+\+T\+Y\+PE = 0x12F,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+P\+E\+E\+R\+\_\+\+N\+O\+T\+\_\+\+R\+E\+A\+C\+H\+A\+B\+LE = 0x130,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+N\+O\+\_\+\+R\+E\+S\+P\+\_\+\+T\+I\+M\+E\+\_\+\+O\+UT = 0x131,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+N\+O\+\_\+\+R\+E\+S\+P\+\_\+\+H\+O\+L\+D\+\_\+\+F\+A\+IL = 0x132,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+D\+A\+T\+A\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+L\+O\+ST = 0x133,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+U\+P\+G\+R\+A\+D\+E\+\_\+\+D\+O\+W\+N\+G\+R\+A\+D\+E\+\_\+\+R\+EJ = 0x134,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+I\+P\+\_\+403\+\_\+\+F\+O\+R\+B\+I\+D\+D\+EN = 0x135,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+O\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+R\+E\+SP = 0x136,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+U\+P\+G\+R\+A\+D\+E\+\_\+\+D\+O\+W\+N\+G\+R\+A\+D\+E\+\_\+\+F\+A\+I\+L\+ED = 0x137,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+U\+P\+G\+R\+A\+D\+E\+\_\+\+D\+O\+W\+N\+G\+R\+A\+D\+E\+\_\+\+C\+A\+N\+C\+E\+L\+L\+ED = 0x138,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+S\+A\+C\+\_\+\+R\+E\+J\+E\+CT = 0x139,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+T\+H\+E\+R\+M\+A\+L\+\_\+\+E\+M\+E\+R\+G\+E\+N\+CY = 0x13A,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+1\+X\+C\+S\+F\+B\+\_\+\+S\+O\+F\+T\+\_\+\+F\+A\+I\+L\+U\+RE = 0x13B,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+1\+X\+C\+S\+F\+B\+\_\+\+H\+A\+R\+D\+\_\+\+F\+A\+I\+L\+U\+RE = 0x13C,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+E\+S\+T\+\_\+\+F\+A\+I\+L\+U\+RE = 0x13D,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+F\+A\+I\+L\+U\+RE = 0x13E,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+R\+C\+\_\+\+C\+O\+N\+N\+\_\+\+R\+E\+L\+\_\+\+N\+O\+\_\+\+M\+T\+\_\+\+S\+E\+T\+UP = 0x13F,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+E\+S\+R\+\_\+\+F\+A\+I\+L\+U\+RE = 0x140,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+M\+T\+\_\+\+C\+S\+F\+B\+\_\+\+N\+O\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+F\+R\+O\+M\+\_\+\+NW = 0x141,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+B\+U\+S\+Y\+\_\+\+E\+V\+E\+R\+Y\+W\+H\+E\+RE = 0x142,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+N\+S\+W\+E\+R\+E\+D\+\_\+\+E\+L\+S\+E\+W\+H\+E\+RE = 0x143,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+L\+F\+\_\+\+D\+U\+R\+I\+N\+G\+\_\+\+C\+C\+\_\+\+D\+I\+S\+C\+O\+N\+N\+E\+CT = 0x144,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+T\+E\+M\+P\+\_\+\+R\+E\+D\+I\+A\+L\+\_\+\+A\+L\+L\+O\+W\+ED = 0x145,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+P\+E\+R\+M\+\_\+\+R\+E\+D\+I\+A\+L\+\_\+\+N\+O\+T\+\_\+\+N\+E\+E\+D\+ED = 0x146,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+M\+E\+R\+G\+E\+D\+\_\+\+T\+O\+\_\+\+C\+O\+N\+F\+E\+R\+E\+N\+CE = 0x147,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+L\+O\+W\+\_\+\+B\+A\+T\+T\+E\+RY = 0x148,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+A\+L\+L\+\_\+\+D\+E\+F\+L\+E\+C\+T\+ED = 0x149,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+T\+P\+\_\+\+R\+T\+C\+P\+\_\+\+T\+I\+M\+E\+O\+UT = 0x14A,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+I\+N\+G\+I\+N\+G\+\_\+\+R\+I\+N\+G\+B\+A\+C\+K\+\_\+\+T\+I\+M\+E\+O\+UT = 0x14B,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+G\+\_\+\+R\+E\+S\+T\+O\+R\+A\+T\+I\+ON = 0x14C,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+O\+D\+E\+C\+\_\+\+E\+R\+R\+OR = 0x14D,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+U\+N\+S\+U\+P\+P\+O\+R\+T\+E\+D\+\_\+\+S\+DP = 0x14E,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+T\+P\+\_\+\+F\+A\+I\+L\+U\+RE = 0x14F,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+Qo\+S\+\_\+\+F\+A\+I\+L\+U\+RE = 0x150,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+M\+U\+L\+T\+I\+P\+L\+E\+\_\+\+C\+H\+O\+I\+C\+ES = 0x151,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+M\+O\+V\+E\+D\+\_\+\+P\+E\+R\+M\+A\+N\+E\+N\+T\+LY = 0x152,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+M\+O\+V\+E\+D\+\_\+\+T\+E\+M\+P\+O\+R\+A\+R\+I\+LY = 0x153,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+U\+S\+E\+\_\+\+P\+R\+O\+XY = 0x154,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+L\+T\+E\+R\+N\+A\+T\+E\+\_\+\+S\+E\+R\+V\+I\+CE = 0x155,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+L\+T\+E\+R\+N\+A\+T\+E\+\_\+\+E\+M\+E\+R\+G\+E\+N\+C\+Y\+\_\+\+C\+A\+LL = 0x156,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+U\+N\+A\+U\+T\+H\+O\+R\+I\+Z\+ED = 0x157,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+P\+A\+Y\+M\+E\+N\+T\+\_\+\+R\+E\+Q\+U\+I\+R\+ED = 0x158,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+M\+E\+T\+H\+O\+D\+\_\+\+N\+O\+T\+\_\+\+A\+L\+L\+O\+W\+ED = 0x159,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+O\+T\+\_\+\+A\+C\+C\+E\+P\+T\+A\+B\+LE = 0x15A,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+P\+R\+O\+X\+Y\+\_\+\+A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+I\+O\+N\+\_\+\+R\+E\+Q\+U\+I\+R\+ED = 0x15B,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+G\+O\+NE = 0x15C,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+E\+N\+T\+I\+T\+Y\+\_\+\+T\+O\+O\+\_\+\+L\+A\+R\+GE = 0x15D,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+U\+R\+I\+\_\+\+T\+O\+O\+\_\+\+L\+A\+R\+GE = 0x15E,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+U\+N\+S\+U\+P\+P\+O\+R\+T\+E\+D\+\_\+\+U\+R\+I\+\_\+\+S\+C\+H\+E\+ME = 0x15F,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+B\+A\+D\+\_\+\+E\+X\+T\+E\+N\+S\+I\+ON = 0x160,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+E\+X\+T\+E\+N\+S\+I\+O\+N\+\_\+\+R\+E\+Q\+U\+I\+R\+ED = 0x161,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+N\+T\+E\+R\+V\+A\+L\+\_\+\+T\+O\+O\+\_\+\+B\+R\+I\+EF = 0x162,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+A\+L\+L\+\_\+\+O\+R\+\_\+\+T\+R\+A\+N\+S\+\_\+\+D\+O\+E\+S\+\_\+\+N\+O\+T\+\_\+\+E\+X\+I\+ST = 0x163,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+L\+O\+O\+P\+\_\+\+D\+E\+T\+E\+C\+T\+ED = 0x164,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+T\+O\+O\+\_\+\+M\+A\+N\+Y\+\_\+\+H\+O\+PS = 0x165,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+D\+D\+R\+E\+S\+S\+\_\+\+I\+N\+C\+O\+M\+P\+L\+E\+TE = 0x166,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+A\+M\+B\+I\+G\+U\+O\+US = 0x167,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+T\+E\+R\+M\+I\+N\+A\+T\+ED = 0x168,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+O\+T\+\_\+\+A\+C\+C\+E\+P\+T\+A\+B\+L\+E\+\_\+\+H\+E\+RE = 0x169,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+P\+E\+N\+D\+I\+NG = 0x16A,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+U\+N\+D\+E\+C\+I\+P\+H\+E\+R\+A\+B\+LE = 0x16B,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+E\+R\+R\+OR = 0x16C,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+N\+O\+T\+\_\+\+I\+M\+P\+L\+E\+M\+E\+N\+T\+ED = 0x16D,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+B\+A\+D\+\_\+\+G\+A\+T\+E\+W\+AY = 0x16E,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+T\+I\+M\+E\+\_\+\+O\+UT = 0x16F,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+\+N\+O\+T\+\_\+\+S\+U\+P\+P\+O\+R\+T\+ED = 0x170,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+T\+O\+O\+\_\+\+L\+A\+R\+GE = 0x171,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+D\+O\+E\+S\+\_\+\+N\+O\+T\+\_\+\+E\+X\+I\+S\+T\+\_\+\+A\+N\+Y\+W\+H\+E\+RE = 0x172,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+E\+S\+S\+\_\+\+D\+E\+S\+C\+R\+\_\+\+N\+O\+T\+\_\+\+A\+C\+C\+E\+P\+T\+A\+B\+LE = 0x173,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+R\+V\+C\+C\+\_\+\+E\+N\+D\+\_\+\+C\+A\+LL = 0x174,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+E\+R\+R\+OR = 0x175,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+U\+N\+A\+V\+A\+I\+L\+A\+B\+LE = 0x176,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+P\+R\+E\+C\+O\+N\+D\+I\+T\+I\+O\+N\+\_\+\+F\+A\+I\+L\+U\+RE = 0x177,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+D\+R\+V\+C\+C\+\_\+\+I\+N\+\_\+\+P\+R\+OG = 0x178,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+D\+R\+V\+C\+C\+\_\+\+E\+N\+D\+\_\+\+C\+A\+LL = 0x179,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+S\+\_\+\+H\+A\+R\+D\+\_\+\+F\+A\+I\+L\+U\+RE = 0x17A,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+S\+\_\+\+A\+C\+Q\+\_\+\+F\+A\+I\+L\+U\+RE = 0x17B,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+F\+A\+L\+L\+B\+A\+C\+K\+\_\+\+T\+O\+\_\+\+CS = 0x17C,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+D\+E\+A\+D\+\_\+\+B\+A\+T\+T\+E\+RY = 0x17D,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+H\+O\+\_\+\+N\+O\+T\+\_\+\+F\+E\+A\+S\+I\+B\+LE = 0x17E,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+P\+D\+N\+\_\+\+D\+I\+S\+C\+O\+N\+N\+E\+C\+T\+ED = 0x17F,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+J\+E\+C\+T\+E\+D\+\_\+\+E\+L\+S\+E\+W\+H\+E\+RE = 0x180,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+A\+L\+L\+\_\+\+P\+U\+L\+L\+ED = 0x181,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+A\+L\+L\+\_\+\+P\+U\+L\+L\+\_\+\+O\+U\+T\+\_\+\+O\+F\+\_\+\+S\+Y\+NC = 0x182,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+H\+O\+L\+D\+\_\+\+R\+E\+S\+U\+M\+E\+\_\+\+F\+A\+I\+L\+ED = 0x183,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+H\+O\+L\+D\+\_\+\+R\+E\+S\+U\+M\+E\+\_\+\+C\+A\+N\+C\+E\+L\+ED = 0x184,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+I\+N\+V\+I\+T\+E\+\_\+\+C\+O\+L\+L\+I\+S\+I\+ON = 0x185,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+1\+X\+C\+S\+F\+B\+\_\+\+M\+S\+G\+\_\+\+I\+N\+V\+A\+I\+LD = 0x1\+F4,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+1\+X\+C\+S\+F\+B\+\_\+\+M\+S\+G\+\_\+\+I\+G\+N\+O\+RE = 0x1\+F5,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+1\+X\+C\+S\+F\+B\+\_\+\+F\+A\+I\+L\+\_\+\+A\+C\+Q\+\_\+\+F\+A\+IL = 0x1\+F6,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+1\+X\+C\+S\+F\+B\+\_\+\+F\+A\+I\+L\+\_\+\+C\+A\+L\+L\+\_\+\+R\+E\+L\+\_\+\+R\+E\+L\+\_\+\+O\+R\+D\+ER = 0x1\+F7,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+1\+X\+C\+S\+F\+B\+\_\+\+F\+A\+I\+L\+\_\+\+C\+A\+L\+L\+\_\+\+R\+E\+L\+\_\+\+R\+E\+O\+R\+D\+ER = 0x1\+F8,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+1\+X\+C\+S\+F\+B\+\_\+\+F\+A\+I\+L\+\_\+\+C\+A\+L\+L\+\_\+\+R\+E\+L\+\_\+\+I\+N\+T\+E\+R\+C\+E\+P\+T\+\_\+\+O\+R\+D\+ER = 0x1\+F9,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+1\+X\+C\+S\+F\+B\+\_\+\+F\+A\+I\+L\+\_\+\+C\+A\+L\+L\+\_\+\+R\+E\+L\+\_\+\+N\+O\+R\+M\+AL = 0x1\+FA,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+1\+X\+C\+S\+F\+B\+\_\+\+F\+A\+I\+L\+\_\+\+C\+A\+L\+L\+\_\+\+R\+E\+L\+\_\+\+S\+O\+\_\+\+R\+EJ = 0x1\+FB,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+1\+X\+C\+S\+F\+B\+\_\+\+F\+A\+I\+L\+\_\+\+C\+A\+L\+L\+\_\+\+R\+E\+L\+\_\+\+O\+T\+A\+S\+P\+\_\+\+S\+P\+C\+\_\+\+E\+RR = 0x1\+FC,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+1\+X\+C\+S\+F\+B\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+S\+R\+C\+H\+\_\+\+T\+T\+\_\+\+F\+A\+IL = 0x1\+FD,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+1\+X\+C\+S\+F\+B\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+T\+C\+H\+\_\+\+I\+N\+I\+T\+\_\+\+F\+A\+IL = 0x1\+FE,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+1\+X\+C\+S\+F\+B\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+U\+S\+E\+R\+\_\+\+C\+A\+L\+L\+\_\+\+E\+ND = 0x1\+FF,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+1\+X\+C\+S\+F\+B\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+R\+E\+T\+R\+Y\+\_\+\+E\+X\+H\+A\+U\+ST = 0x200,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+1\+X\+C\+S\+F\+B\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+C\+A\+L\+L\+\_\+\+R\+E\+L\+\_\+\+R\+E\+G\+\_\+\+R\+EJ = 0x201,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+1\+X\+C\+S\+F\+B\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+C\+A\+L\+L\+\_\+\+R\+E\+L\+\_\+\+N\+W\+\_\+\+R\+E\+L\+\_\+\+O\+DR = 0x202,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+1\+X\+C\+S\+F\+B\+\_\+\+H\+O\+\_\+\+F\+A\+I\+L\+U\+RE = 0x203,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+E\+M\+M\+\_\+\+R\+E\+J\+\_\+\+T\+I\+M\+E\+R\+\_\+\+T3417\+\_\+\+E\+X\+T\+\_\+\+E\+XP = 0x258,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+E\+M\+M\+\_\+\+R\+E\+J\+\_\+\+T\+I\+M\+E\+R\+\_\+\+T3417\+\_\+\+E\+XP = 0x259,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+E\+M\+M\+\_\+\+R\+E\+J\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+R\+E\+Q\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+L\+T\+E\+\_\+\+N\+W\+\_\+\+R\+E\+J\+E\+CT = 0x25A,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+E\+M\+M\+\_\+\+R\+E\+J\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+R\+E\+Q\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+C\+S\+\_\+\+D\+O\+M\+A\+I\+N\+\_\+\+N\+O\+T\+\_\+\+A\+V\+A\+I\+L\+A\+B\+LE = 0x25B,~\newline
 C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+E\+M\+M\+\_\+\+R\+EJ = 0x25C,~\newline

\end{DoxyItemize}

\begin{DoxyNote}{Note}
Specific error codes are platform dependent and may not be available for some platforms.
\end{DoxyNote}
\hyperlink{le__mcc__interface_8h_a68b9b8ed1b221924dcea1be0fd610a54}{le\+\_\+mcc\+\_\+\+Get\+Platform\+Specific\+Termination\+Code()} platform specific error codes\+:

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*7{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf call end reason }&\PBS\centering {\bf A\+R755x }&\PBS\centering {\bf A\+R758x }&\PBS\centering {\bf A\+R759x }&\PBS\centering {\bf A\+R8652 }&\PBS\centering {\bf W\+P85xx }&\PBS\centering {\bf W\+P76xx  }\\\cline{1-7}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf call end reason }&\PBS\centering {\bf A\+R755x }&\PBS\centering {\bf A\+R758x }&\PBS\centering {\bf A\+R759x }&\PBS\centering {\bf A\+R8652 }&\PBS\centering {\bf W\+P85xx }&\PBS\centering {\bf W\+P76xx  }\\\cline{1-7}
\endhead
C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+P\+D\+N\+\_\+\+D\+I\+S\+C\+O\+N\+N\+E\+C\+T\+ED &\PBS\centering NA &\PBS\centering X &\PBS\centering NA &\PBS\centering NA &\PBS\centering NA &\PBS\centering X \\\cline{1-7}
C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+J\+E\+C\+T\+E\+D\+\_\+\+E\+L\+S\+E\+W\+H\+E\+RE &\PBS\centering NA &\PBS\centering X &\PBS\centering NA &\PBS\centering NA &\PBS\centering NA &\PBS\centering X \\\cline{1-7}
C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+A\+L\+L\+\_\+\+P\+U\+L\+L\+ED &\PBS\centering NA &\PBS\centering X &\PBS\centering NA &\PBS\centering NA &\PBS\centering NA &\PBS\centering X \\\cline{1-7}
C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+A\+L\+L\+\_\+\+P\+U\+L\+L\+\_\+\+O\+U\+T\+\_\+\+O\+F\+\_\+\+S\+Y\+NC &\PBS\centering NA &\PBS\centering X &\PBS\centering NA &\PBS\centering NA &\PBS\centering NA &\PBS\centering X \\\cline{1-7}
C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+H\+O\+L\+D\+\_\+\+R\+E\+S\+U\+M\+E\+\_\+\+F\+A\+I\+L\+ED &\PBS\centering NA &\PBS\centering X &\PBS\centering NA &\PBS\centering NA &\PBS\centering NA &\PBS\centering X \\\cline{1-7}
C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+H\+O\+L\+D\+\_\+\+R\+E\+S\+U\+M\+E\+\_\+\+C\+A\+N\+C\+E\+L\+ED &\PBS\centering NA &\PBS\centering X &\PBS\centering NA &\PBS\centering NA &\PBS\centering NA &\PBS\centering X \\\cline{1-7}
C\+A\+L\+L\+\_\+\+E\+N\+D\+\_\+\+C\+A\+U\+S\+E\+\_\+\+R\+E\+I\+N\+V\+I\+T\+E\+\_\+\+C\+O\+L\+L\+I\+S\+I\+ON &\PBS\centering NA &\PBS\centering X &\PBS\centering NA &\PBS\centering NA &\PBS\centering NA &\PBS\centering X \\\cline{1-7}
\end{longtabu}
{\bfseries \hyperlink{c_mdc}{Modem Data Control} \+:}
\begin{DoxyItemize}
\item \hyperlink{le__mdc__interface_8h_a3e3a92b0f5e3edab9400412170517a62}{le\+\_\+mdc\+\_\+\+Get\+Platform\+Specific\+Disconnection\+Code()} returns the call end failure code which is retrieved from modem. The call end failure return values are described below

C\+E\+R\+\_\+\+U\+N\+S\+P\+E\+C\+I\+F\+I\+ED = 0x001,~\newline
 C\+E\+R\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+E\+ND = 0x002,~\newline
 C\+E\+R\+\_\+\+N\+O\+\_\+\+S\+RV = 0x003,~\newline
 C\+E\+R\+\_\+\+F\+A\+DE = 0x004,~\newline
 C\+E\+R\+\_\+\+R\+E\+L\+\_\+\+N\+O\+R\+M\+AL = 0x005,~\newline
 C\+E\+R\+\_\+\+A\+C\+C\+\_\+\+I\+N\+\_\+\+P\+R\+OG = 0x006,~\newline
 C\+E\+R\+\_\+\+A\+C\+C\+\_\+\+F\+A\+IL = 0x007,~\newline
 C\+E\+R\+\_\+\+R\+E\+D\+I\+R\+\_\+\+O\+R\+\_\+\+H\+A\+N\+D\+O\+FF = 0x008,~\newline
 C\+E\+R\+\_\+\+C\+L\+O\+S\+E\+\_\+\+I\+N\+\_\+\+P\+R\+O\+G\+R\+E\+SS = 0x009,~\newline
 C\+E\+R\+\_\+\+A\+U\+T\+H\+\_\+\+F\+A\+I\+L\+ED = 0x00A,~\newline
 C\+E\+R\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+C\+A\+L\+L\+\_\+\+E\+ND = 0x00B,~\newline
 C\+E\+R\+\_\+\+C\+D\+M\+A\+\_\+\+L\+O\+CK = 0x1\+F4,~\newline
 C\+E\+R\+\_\+\+I\+N\+T\+E\+R\+C\+E\+PT = 0x1\+F5,~\newline
 C\+E\+R\+\_\+\+R\+E\+O\+R\+D\+ER = 0x1\+F6,~\newline
 C\+E\+R\+\_\+\+R\+E\+L\+\_\+\+S\+O\+\_\+\+R\+EJ = 0x1\+F7,~\newline
 C\+E\+R\+\_\+\+I\+N\+C\+O\+M\+\_\+\+C\+A\+LL = 0x1\+F8,~\newline
 C\+E\+R\+\_\+\+A\+L\+E\+R\+T\+\_\+\+S\+T\+OP = 0x1\+F9,~\newline
 C\+E\+R\+\_\+\+A\+C\+T\+I\+V\+A\+T\+I\+ON = 0x1\+FA,~\newline
 C\+E\+R\+\_\+\+M\+A\+X\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+P\+R\+O\+BE = 0x1\+FB,~\newline
 C\+E\+R\+\_\+\+C\+C\+S\+\_\+\+N\+O\+T\+\_\+\+S\+U\+P\+P\+\_\+\+B\+Y\+\_\+\+BS = 0x1\+FC,~\newline
 C\+E\+R\+\_\+\+N\+O\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+F\+R\+O\+M\+\_\+\+BS = 0x1\+FD,~\newline
 C\+E\+R\+\_\+\+R\+E\+J\+E\+C\+T\+E\+D\+\_\+\+B\+Y\+\_\+\+BS = 0x1\+FE,~\newline
 C\+E\+R\+\_\+\+I\+N\+C\+O\+M\+P\+A\+T\+I\+B\+LE = 0x1\+FF,~\newline
 C\+E\+R\+\_\+\+A\+L\+R\+E\+A\+D\+Y\+\_\+\+I\+N\+\_\+\+TC = 0x200,~\newline
 C\+E\+R\+\_\+\+U\+S\+E\+R\+\_\+\+C\+A\+L\+L\+\_\+\+O\+R\+I\+G\+\_\+\+D\+U\+R\+I\+N\+G\+\_\+\+G\+PS = 0x201,~\newline
 C\+E\+R\+\_\+\+U\+S\+E\+R\+\_\+\+C\+A\+L\+L\+\_\+\+O\+R\+I\+G\+\_\+\+D\+U\+R\+I\+N\+G\+\_\+\+S\+MS = 0x202,~\newline
 C\+E\+R\+\_\+\+N\+O\+\_\+\+C\+D\+M\+A\+\_\+\+S\+RV = 0x203,~\newline
 C\+E\+R\+\_\+\+C\+O\+N\+F\+\_\+\+F\+A\+I\+L\+ED = 0x3\+E8,~\newline
 C\+E\+R\+\_\+\+I\+N\+C\+O\+M\+\_\+\+R\+EJ = 0x3\+E9,~\newline
 C\+E\+R\+\_\+\+N\+O\+\_\+\+G\+W\+\_\+\+S\+RV = 0x3\+EA,~\newline
 C\+E\+R\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+E\+ND = 0x3\+EB,~\newline
 C\+E\+R\+\_\+\+L\+L\+C\+\_\+\+S\+N\+D\+C\+P\+\_\+\+F\+A\+I\+L\+U\+RE = 0x3\+EC,~\newline
 C\+E\+R\+\_\+\+I\+N\+S\+U\+F\+F\+I\+C\+I\+E\+N\+T\+\_\+\+R\+E\+S\+O\+U\+R\+C\+ES = 0x3\+ED,~\newline
 C\+E\+R\+\_\+\+O\+P\+T\+I\+O\+N\+\_\+\+T\+E\+M\+P\+\_\+\+O\+OO = 0x3\+EE,~\newline
 C\+E\+R\+\_\+\+N\+S\+A\+P\+I\+\_\+\+A\+L\+R\+E\+A\+D\+Y\+\_\+\+U\+S\+ED = 0x3\+EF,~\newline
 C\+E\+R\+\_\+\+R\+E\+G\+U\+L\+A\+R\+\_\+\+D\+E\+A\+C\+T\+I\+V\+A\+T\+I\+ON = 0x3\+F0,~\newline
 C\+E\+R\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+F\+A\+I\+L\+U\+RE = 0x3\+F1,~\newline
 C\+E\+R\+\_\+\+U\+M\+T\+S\+\_\+\+R\+E\+A\+T\+T\+A\+C\+H\+\_\+\+R\+EQ = 0x3\+F2,~\newline
 C\+E\+R\+\_\+\+P\+R\+O\+T\+O\+C\+O\+L\+\_\+\+E\+R\+R\+OR = 0x3\+F3,~\newline
 C\+E\+R\+\_\+\+O\+P\+E\+R\+A\+T\+O\+R\+\_\+\+D\+E\+T\+E\+R\+M\+I\+N\+E\+D\+\_\+\+B\+A\+R\+R\+I\+NG = 0x3\+F4,~\newline
 C\+E\+R\+\_\+\+U\+N\+K\+N\+O\+W\+N\+\_\+\+A\+PN = 0x3\+F5,~\newline
 C\+E\+R\+\_\+\+U\+N\+K\+N\+O\+W\+N\+\_\+\+P\+DP = 0x3\+F6,~\newline
 C\+E\+R\+\_\+\+G\+G\+S\+N\+\_\+\+R\+E\+J\+E\+CT = 0x3\+F7,~\newline
 C\+E\+R\+\_\+\+A\+C\+T\+I\+V\+A\+T\+I\+O\+N\+\_\+\+R\+E\+J\+E\+CT = 0x3\+F8,~\newline
 C\+E\+R\+\_\+\+O\+P\+T\+I\+O\+N\+\_\+\+N\+O\+T\+\_\+\+S\+U\+PP = 0x3\+F9,~\newline
 C\+E\+R\+\_\+\+O\+P\+T\+I\+O\+N\+\_\+\+U\+N\+S\+U\+B\+S\+C\+R\+I\+B\+ED = 0x3\+FA,~\newline
 C\+E\+R\+\_\+\+Q\+O\+S\+\_\+\+N\+O\+T\+\_\+\+A\+C\+C\+E\+P\+T\+ED = 0x3\+FB,~\newline
 C\+E\+R\+\_\+\+T\+F\+T\+\_\+\+S\+E\+M\+A\+N\+T\+I\+C\+\_\+\+E\+R\+R\+OR = 0x3\+FC,~\newline
 C\+E\+R\+\_\+\+T\+F\+T\+\_\+\+S\+Y\+N\+T\+A\+X\+\_\+\+E\+R\+R\+OR = 0x3\+FD,~\newline
 C\+E\+R\+\_\+\+U\+N\+K\+N\+O\+W\+N\+\_\+\+P\+D\+P\+\_\+\+C\+O\+N\+T\+E\+XT = 0x3\+FE,~\newline
 C\+E\+R\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+\+S\+E\+M\+A\+N\+T\+I\+C\+\_\+\+E\+R\+R\+OR = 0x3\+FF,~\newline
 C\+E\+R\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+\+S\+Y\+N\+T\+A\+X\+\_\+\+E\+R\+R\+OR = 0x400,~\newline
 C\+E\+R\+\_\+\+P\+D\+P\+\_\+\+W\+I\+T\+H\+O\+U\+T\+\_\+\+A\+C\+T\+I\+V\+E\+\_\+\+T\+FT = 0x401,~\newline
 C\+E\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+T\+R\+A\+N\+S\+A\+C\+T\+I\+O\+N\+\_\+\+ID = 0x402,~\newline
 C\+E\+R\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+I\+N\+C\+O\+R\+R\+E\+C\+T\+\_\+\+S\+E\+M\+A\+N\+T\+IC = 0x403,~\newline
 C\+E\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+M\+A\+N\+D\+A\+T\+O\+R\+Y\+\_\+\+I\+N\+FO = 0x404,~\newline
 C\+E\+R\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+U\+N\+S\+U\+P\+P\+O\+R\+T\+ED = 0x405,~\newline
 C\+E\+R\+\_\+\+M\+S\+G\+\_\+\+T\+Y\+P\+E\+\_\+\+N\+O\+N\+C\+O\+M\+P\+A\+T\+I\+B\+L\+E\+\_\+\+S\+T\+A\+TE = 0x406,~\newline
 C\+E\+R\+\_\+\+U\+N\+K\+N\+O\+W\+N\+\_\+\+I\+N\+F\+O\+\_\+\+E\+L\+E\+M\+E\+NT = 0x407,~\newline
 C\+E\+R\+\_\+\+C\+O\+N\+D\+I\+T\+I\+O\+N\+A\+L\+\_\+\+I\+E\+\_\+\+E\+R\+R\+OR = 0x408,~\newline
 C\+E\+R\+\_\+\+M\+S\+G\+\_\+\+A\+N\+D\+\_\+\+P\+R\+O\+T\+O\+C\+O\+L\+\_\+\+S\+T\+A\+T\+E\+\_\+\+U\+N\+C\+O\+M\+P\+A\+T\+I\+B\+LE = 0x409,~\newline
 C\+E\+R\+\_\+\+A\+P\+N\+\_\+\+T\+Y\+P\+E\+\_\+\+C\+O\+N\+F\+L\+I\+CT = 0x40A,~\newline
 C\+E\+R\+\_\+\+N\+O\+\_\+\+G\+P\+R\+S\+\_\+\+C\+O\+N\+T\+E\+XT = 0x40B,~\newline
 C\+E\+R\+\_\+\+F\+E\+A\+T\+U\+R\+E\+\_\+\+N\+O\+T\+\_\+\+S\+U\+P\+P\+O\+R\+T\+ED = 0x40C,~\newline
 C\+E\+R\+\_\+\+C\+D\+\_\+\+G\+E\+N\+\_\+\+O\+R\+\_\+\+B\+U\+SY = 0x5\+DC,~\newline
 C\+E\+R\+\_\+\+C\+D\+\_\+\+B\+I\+L\+L\+\_\+\+O\+R\+\_\+\+A\+U\+TH = 0x5\+DD,~\newline
 C\+E\+R\+\_\+\+C\+H\+G\+\_\+\+H\+DR = 0x5\+DE,~\newline
 C\+E\+R\+\_\+\+E\+X\+I\+T\+\_\+\+H\+DR = 0x5\+DF,~\newline
 C\+E\+R\+\_\+\+H\+D\+R\+\_\+\+N\+O\+\_\+\+S\+E\+S\+S\+I\+ON = 0x5\+E0,~\newline
 C\+E\+R\+\_\+\+H\+D\+R\+\_\+\+O\+R\+I\+G\+\_\+\+D\+U\+R\+I\+N\+G\+\_\+\+G\+P\+S\+\_\+\+F\+IX = 0x5\+E1,~\newline
 C\+E\+R\+\_\+\+H\+D\+R\+\_\+\+C\+S\+\_\+\+T\+I\+M\+E\+O\+UT = 0x5\+E2,~\newline
 C\+E\+R\+\_\+\+H\+D\+R\+\_\+\+R\+E\+L\+E\+A\+S\+E\+D\+\_\+\+B\+Y\+\_\+\+CM = 0x5\+E3,~\newline

\end{DoxyItemize}

{\bfseries \hyperlink{c_mrc}{Modem Radio Control} \+:}
\begin{DoxyItemize}
\item \hyperlink{le__mrc__interface_8h_a153247be5ea13ae2bc13ace0dd8c739c}{le\+\_\+mrc\+\_\+\+Get\+Platform\+Specific\+Registration\+Error\+Code()} returns the rejection cause which is retrieved from the modem.  The below specific error codes are from 3\+G\+PP TS 24.\+008 $<$section 10.\+5.\+3.\+6$>$ Release 1999.~\newline
 The reject cause return values are described below

I\+M\+SI unknown in H\+LR = 0x02,~\newline
 Illegal MS = 0x03,~\newline
 I\+M\+SI unknown in V\+LR = 0x04,~\newline
 I\+M\+EI not accepted = 0x05,~\newline
 Illegal ME = 0x06,~\newline
 G\+P\+RS services not allowed = 0x07,~\newline
 G\+P\+RS services and non-\/\+G\+P\+RS services not allowed = 0x08,~\newline
 MS identity cannot be derived by the network = 0x09,~\newline
 Implicitly detached = 0x0A,~\newline
 P\+L\+MN not allowed = 0x0B,~\newline
 Location Area not allowed = 0x0C,~\newline
 Roaming not allowed in this location area = 0x0D,~\newline
 G\+P\+RS services not allowed in this P\+L\+MN = 0x0E,~\newline
 No Suitable Cells In Location Area = 0x0F,~\newline
 M\+SC temporarily not reachable = 0x10,~\newline
 M\+AC failure = 0x14,~\newline
 Synch failure = 0x15,~\newline
 Network failure = 0x11,~\newline
 Congestion = 0x16,~\newline
 G\+SM authentication unacceptable = 0x17,~\newline
 Service option not supported = 0x20,~\newline
 Requested service option not subscribed = 0x21,~\newline
 Service option temporarily out of order = 0x22,~\newline
 Call cannot be identified = 0x26,~\newline
 No P\+DP context activated = 0x28,~\newline
 Semantically incorrect message = 0x5F,~\newline
 Invalid mandatory information = 0x60,~\newline
 Message type non-\/existent or not implemented = 0x61,~\newline
 Message not compatible with protocol state = 0x62,~\newline
 Information element non-\/existent or not implemented = 0x63,~\newline
 Conditional IE error = 0x64,~\newline
 Message not compatible with protocol state = 0x65,~\newline
 Protocol error, unspecified = 0x6F.~\newline

\end{DoxyItemize}

{\bfseries \hyperlink{c_sms}{S\+MS} \+:}
\begin{DoxyItemize}
\item \hyperlink{le__sms__interface_8h_a9cfbc2131df38f99272a71bf05cb1254}{le\+\_\+sms\+\_\+\+Get\+Platform\+Specific\+Error\+Code()} returns the platform specific error code which is retrieved from modem. The platform specific error return values are described below

E\+R\+R\+\_\+\+N\+O\+NE = 0x0000,~\newline
 E\+R\+R\+\_\+\+M\+A\+L\+F\+O\+R\+M\+E\+D\+\_\+\+M\+SG = 0x0001,~\newline
 E\+R\+R\+\_\+\+N\+O\+\_\+\+M\+E\+M\+O\+RY = 0x0002,~\newline
 E\+R\+R\+\_\+\+I\+N\+T\+E\+R\+N\+AL = 0x0003,~\newline
 E\+R\+R\+\_\+\+A\+B\+O\+R\+T\+ED = 0x0004,~\newline
 E\+R\+R\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+I\+D\+S\+\_\+\+E\+X\+H\+A\+U\+S\+T\+ED = 0x0005,~\newline
 E\+R\+R\+\_\+\+U\+N\+A\+B\+O\+R\+T\+A\+B\+L\+E\+\_\+\+T\+R\+A\+N\+S\+A\+C\+T\+I\+ON = 0x0006,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+ID = 0x0007,~\newline
 E\+R\+R\+\_\+\+N\+O\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+DS = 0x0008,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+H\+A\+N\+D\+LE = 0x0009,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+P\+R\+O\+F\+I\+LE = 0x000A,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+P\+I\+N\+ID = 0x000B,~\newline
 E\+R\+R\+\_\+\+I\+N\+C\+O\+R\+R\+E\+C\+T\+\_\+\+P\+IN = 0x000C,~\newline
 E\+R\+R\+\_\+\+N\+O\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+F\+O\+U\+ND = 0x000D,~\newline
 E\+R\+R\+\_\+\+C\+A\+L\+L\+\_\+\+F\+A\+I\+L\+ED = 0x000E,~\newline
 E\+R\+R\+\_\+\+O\+U\+T\+\_\+\+O\+F\+\_\+\+C\+A\+LL = 0x000F,~\newline
 E\+R\+R\+\_\+\+N\+O\+T\+\_\+\+P\+R\+O\+V\+I\+S\+I\+O\+N\+ED = 0x0010,~\newline
 E\+R\+R\+\_\+\+M\+I\+S\+S\+I\+N\+G\+\_\+\+A\+RG = 0x0011,~\newline
 E\+R\+R\+\_\+\+A\+R\+G\+\_\+\+T\+O\+O\+\_\+\+L\+O\+NG = 0x0013,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+T\+X\+\_\+\+ID = 0x0016,~\newline
 E\+R\+R\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+I\+N\+\_\+\+U\+SE = 0x0017,~\newline
 E\+R\+R\+\_\+\+O\+P\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+U\+N\+S\+U\+P\+P\+O\+R\+T\+ED = 0x0018,~\newline
 E\+R\+R\+\_\+\+O\+P\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+U\+N\+S\+U\+P\+P\+O\+R\+T\+ED = 0x0019,~\newline
 E\+R\+R\+\_\+\+N\+O\+\_\+\+E\+F\+F\+E\+CT = 0x001A,~\newline
 E\+R\+R\+\_\+\+N\+O\+\_\+\+F\+R\+E\+E\+\_\+\+P\+R\+O\+F\+I\+LE = 0x001B,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+P\+D\+P\+\_\+\+T\+Y\+PE = 0x001C,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+T\+E\+C\+H\+\_\+\+P\+R\+EF = 0x001D,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+P\+R\+O\+F\+I\+L\+E\+\_\+\+T\+Y\+PE = 0x001E,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+T\+Y\+PE = 0x001F,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+A\+C\+T\+I\+ON = 0x0020,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+P\+S\+\_\+\+A\+T\+T\+A\+C\+H\+\_\+\+A\+C\+T\+I\+ON = 0x0021,~\newline
 E\+R\+R\+\_\+\+A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+I\+O\+N\+\_\+\+F\+A\+I\+L\+ED = 0x0022,~\newline
 E\+R\+R\+\_\+\+P\+I\+N\+\_\+\+B\+L\+O\+C\+K\+ED = 0x0023,~\newline
 E\+R\+R\+\_\+\+P\+I\+N\+\_\+\+P\+E\+R\+M\+\_\+\+B\+L\+O\+C\+K\+ED = 0x0024,~\newline
 E\+R\+R\+\_\+\+S\+I\+M\+\_\+\+N\+O\+T\+\_\+\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+ED = 0x0025,~\newline
 E\+R\+R\+\_\+\+M\+A\+X\+\_\+\+Q\+O\+S\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+S\+\_\+\+I\+N\+\_\+\+U\+SE = 0x0026,~\newline
 E\+R\+R\+\_\+\+I\+N\+C\+O\+R\+R\+E\+C\+T\+\_\+\+F\+L\+O\+W\+\_\+\+F\+I\+L\+T\+ER = 0x0027,~\newline
 E\+R\+R\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+Q\+O\+S\+\_\+\+U\+N\+A\+W\+A\+RE = 0x0028,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+ID = 0x0029,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+Q\+O\+S\+\_\+\+ID = 0x0029,~\newline
 E\+R\+R\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+E\+D\+\_\+\+N\+U\+M\+\_\+\+U\+N\+S\+U\+P\+P\+O\+R\+T\+ED = 0x002A,~\newline
 E\+R\+R\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+\_\+\+N\+O\+T\+\_\+\+F\+O\+U\+ND = 0x002B,~\newline
 E\+R\+R\+\_\+\+F\+L\+O\+W\+\_\+\+S\+U\+S\+P\+E\+N\+D\+ED = 0x002C,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+D\+A\+T\+A\+\_\+\+F\+O\+R\+M\+AT = 0x002D,~\newline
 E\+R\+R\+\_\+\+G\+E\+N\+E\+R\+AL = 0x002E,~\newline
 E\+R\+R\+\_\+\+U\+N\+K\+N\+O\+WN = 0x002F,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+A\+RG = 0x0030,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+I\+N\+D\+EX = 0x0031,~\newline
 E\+R\+R\+\_\+\+N\+O\+\_\+\+E\+N\+T\+RY = 0x0032,~\newline
 E\+R\+R\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+S\+T\+O\+R\+A\+G\+E\+\_\+\+F\+U\+LL = 0x0033,~\newline
 E\+R\+R\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+N\+O\+T\+\_\+\+R\+E\+A\+DY = 0x0034,~\newline
 E\+R\+R\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+N\+O\+T\+\_\+\+R\+E\+A\+DY = 0x0035,~\newline
 E\+R\+R\+\_\+\+C\+A\+U\+S\+E\+\_\+\+C\+O\+DE = 0x0036,~\newline
 E\+R\+R\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+O\+T\+\_\+\+S\+E\+NT = 0x0037,~\newline
 E\+R\+R\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+D\+E\+L\+I\+V\+E\+R\+Y\+\_\+\+F\+A\+I\+L\+U\+RE = 0x0038,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+ID = 0x0039,~\newline
 E\+R\+R\+\_\+\+E\+N\+C\+O\+D\+I\+NG = 0x003A,~\newline
 E\+R\+R\+\_\+\+A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+I\+O\+N\+\_\+\+L\+O\+CK = 0x003B,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+T\+R\+A\+N\+S\+I\+T\+I\+ON = 0x003C,~\newline
 E\+R\+R\+\_\+\+N\+O\+T\+\_\+\+A\+\_\+\+M\+C\+A\+S\+T\+\_\+\+I\+F\+A\+CE = 0x003D,~\newline
 E\+R\+R\+\_\+\+M\+A\+X\+\_\+\+M\+C\+A\+S\+T\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+S\+\_\+\+I\+N\+\_\+\+U\+SE = 0x003E,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+M\+C\+A\+S\+T\+\_\+\+H\+A\+N\+D\+LE = 0x003F,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+I\+P\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+P\+R\+EF = 0x0040,~\newline
 E\+R\+R\+\_\+\+S\+E\+S\+S\+I\+O\+N\+\_\+\+I\+N\+A\+C\+T\+I\+VE = 0x0041,~\newline
 E\+R\+R\+\_\+\+S\+E\+S\+S\+I\+O\+N\+\_\+\+I\+N\+V\+A\+L\+ID = 0x0042,~\newline
 E\+R\+R\+\_\+\+S\+E\+S\+S\+I\+O\+N\+\_\+\+O\+W\+N\+E\+R\+S\+H\+IP = 0x0043,~\newline
 E\+R\+R\+\_\+\+I\+N\+S\+U\+F\+F\+I\+C\+I\+E\+N\+T\+\_\+\+R\+E\+S\+O\+U\+R\+C\+ES = 0x0044,~\newline
 E\+R\+R\+\_\+\+D\+I\+S\+A\+B\+L\+ED = 0x0045,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+O\+P\+E\+R\+A\+T\+I\+ON = 0x0046,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+Q\+M\+I\+\_\+\+C\+MD = 0x0047,~\newline
 E\+R\+R\+\_\+\+T\+P\+D\+U\+\_\+\+T\+Y\+PE = 0x0048,~\newline
 E\+R\+R\+\_\+\+S\+M\+S\+C\+\_\+\+A\+D\+DR = 0x0049,~\newline
 E\+R\+R\+\_\+\+I\+N\+F\+O\+\_\+\+U\+N\+A\+V\+A\+I\+L\+A\+B\+LE = 0x004A,~\newline
 E\+R\+R\+\_\+\+S\+E\+G\+M\+E\+N\+T\+\_\+\+T\+O\+O\+\_\+\+L\+O\+NG = 0x004B,~\newline
 E\+R\+R\+\_\+\+S\+E\+G\+M\+E\+N\+T\+\_\+\+O\+R\+D\+ER = 0x004C,~\newline
 E\+R\+R\+\_\+\+B\+U\+N\+D\+L\+I\+N\+G\+\_\+\+N\+O\+T\+\_\+\+S\+U\+P\+P\+O\+R\+T\+ED = 0x004D,~\newline
 E\+R\+R\+\_\+\+O\+P\+\_\+\+P\+A\+R\+T\+I\+A\+L\+\_\+\+F\+A\+I\+L\+U\+RE = 0x004E,~\newline
 E\+R\+R\+\_\+\+P\+O\+L\+I\+C\+Y\+\_\+\+M\+I\+S\+M\+A\+T\+CH = 0x004F,~\newline
 E\+R\+R\+\_\+\+S\+I\+M\+\_\+\+F\+I\+L\+E\+\_\+\+N\+O\+T\+\_\+\+F\+O\+U\+ND = 0x0050,~\newline
 E\+R\+R\+\_\+\+E\+X\+T\+E\+N\+D\+E\+D\+\_\+\+I\+N\+T\+E\+R\+N\+AL = 0x0051,~\newline
 E\+R\+R\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+D\+E\+N\+I\+ED = 0x0052,~\newline
 E\+R\+R\+\_\+\+H\+A\+R\+D\+W\+A\+R\+E\+\_\+\+R\+E\+S\+T\+R\+I\+C\+T\+ED = 0x0053,~\newline
 E\+R\+R\+\_\+\+A\+C\+K\+\_\+\+N\+O\+T\+\_\+\+S\+E\+NT = 0x0054,~\newline
 E\+R\+R\+\_\+\+I\+N\+J\+E\+C\+T\+\_\+\+T\+I\+M\+E\+O\+UT = 0x0055,~\newline
 E\+R\+R\+\_\+\+I\+N\+C\+O\+M\+P\+A\+T\+I\+B\+L\+E\+\_\+\+S\+T\+A\+TE = 0x005A,~\newline
 E\+R\+R\+\_\+\+F\+D\+N\+\_\+\+R\+E\+S\+T\+R\+I\+CT = 0x005B,~\newline
 E\+R\+R\+\_\+\+S\+U\+P\+S\+\_\+\+F\+A\+I\+L\+U\+R\+E\+\_\+\+C\+A\+U\+SE = 0x005C,~\newline
 E\+R\+R\+\_\+\+N\+O\+\_\+\+R\+A\+D\+IO = 0x005D,~\newline
 E\+R\+R\+\_\+\+N\+O\+T\+\_\+\+S\+U\+P\+P\+O\+R\+T\+ED = 0x005E,~\newline
 E\+R\+R\+\_\+\+N\+O\+\_\+\+S\+U\+B\+S\+C\+R\+I\+P\+T\+I\+ON = 0x005F,~\newline
 E\+R\+R\+\_\+\+C\+A\+R\+D\+\_\+\+C\+A\+L\+L\+\_\+\+C\+O\+N\+T\+R\+O\+L\+\_\+\+F\+A\+I\+L\+ED = 0x0060,~\newline
 E\+R\+R\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+A\+B\+O\+R\+T\+ED = 0x0061,~\newline
 E\+R\+R\+\_\+\+M\+S\+G\+\_\+\+B\+L\+O\+C\+K\+ED = 0x0062,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+S\+E\+S\+S\+I\+O\+N\+\_\+\+T\+Y\+PE = 0x0064,~\newline
 E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+P\+B\+\_\+\+T\+Y\+PE = 0x0065,~\newline
 E\+R\+R\+\_\+\+N\+O\+\_\+\+S\+IM = 0x0066,~\newline
 E\+R\+R\+\_\+\+P\+B\+\_\+\+N\+O\+T\+\_\+\+R\+E\+A\+DY = 0x0067,~\newline
 E\+R\+R\+\_\+\+P\+I\+N\+\_\+\+R\+E\+S\+T\+R\+I\+C\+T\+I\+ON = 0x0068,~\newline
 E\+R\+R\+\_\+\+P\+I\+N2\+\_\+\+R\+E\+S\+T\+R\+I\+C\+T\+I\+ON = 0x0069,~\newline
 E\+R\+R\+\_\+\+P\+U\+K\+\_\+\+R\+E\+S\+T\+R\+I\+C\+T\+I\+ON = 0x006A,~\newline
 E\+R\+R\+\_\+\+P\+U\+K2\+\_\+\+R\+E\+S\+T\+R\+I\+C\+T\+I\+ON = 0x006B,~\newline
 E\+R\+R\+\_\+\+P\+B\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+R\+E\+S\+T\+R\+I\+C\+T\+ED = 0x006C,~\newline
 E\+R\+R\+\_\+\+P\+B\+\_\+\+D\+E\+L\+E\+T\+E\+\_\+\+I\+N\+\_\+\+P\+R\+OG = 0x006D,~\newline
 E\+R\+R\+\_\+\+P\+B\+\_\+\+T\+E\+X\+T\+\_\+\+T\+O\+O\+\_\+\+L\+O\+NG = 0x006E,~\newline
 E\+R\+R\+\_\+\+P\+B\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+T\+O\+O\+\_\+\+L\+O\+NG = 0x006F,~\newline
 E\+R\+R\+\_\+\+P\+B\+\_\+\+H\+I\+D\+D\+E\+N\+\_\+\+K\+E\+Y\+\_\+\+R\+E\+S\+T\+R\+I\+C\+T\+I\+ON = 0x0070,~\newline
 E\+R\+R\+\_\+\+P\+B\+\_\+\+N\+O\+T\+\_\+\+A\+V\+A\+I\+L\+A\+B\+LE = 0x0071,~\newline
 E\+R\+R\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+M\+E\+M\+O\+R\+Y\+\_\+\+E\+R\+R\+OR = 0x0072,~\newline
 E\+R\+R\+\_\+\+N\+O\+\_\+\+P\+E\+R\+M\+I\+S\+S\+I\+ON = 0x0073,~\newline
 E\+R\+R\+\_\+\+T\+O\+O\+\_\+\+S\+O\+ON = 0x0074,~\newline
 E\+R\+R\+\_\+\+T\+I\+M\+E\+\_\+\+N\+O\+T\+\_\+\+A\+C\+Q\+U\+I\+R\+ED = 0x0075,~\newline
 E\+R\+R\+\_\+\+O\+P\+\_\+\+I\+N\+\_\+\+P\+R\+O\+G\+R\+E\+SS = 0x0076,~\newline

\end{DoxyItemize}





Copyright (C) Sierra Wireless Inc. \hypertarget{c_mcc}{}\subsubsection{Modem Call Control}\label{c_mcc}
\hyperlink{le__mcc__interface_8h}{A\+PI Reference}





The Modem Call Control (mcc) A\+PI functions of this A\+PI are provided by the {\bfseries modem\+Service} service.\hypertarget{c_mcc_le_mcc_binding}{}\paragraph{I\+P\+C interfaces binding}\label{c_mcc_le_mcc_binding}
Here\textquotesingle{}s a code sample binding to modem services\+: \begin{DoxyVerb}bindings:
{
   clientExe.clientComponent.le_mcc -> modemService.le_mcc
}
\end{DoxyVerb}
\hypertarget{c_mcc_le_mcc_starting_a_call}{}\paragraph{Starting a Call}\label{c_mcc_le_mcc_starting_a_call}
To initiate a call, create a new call object with a destination telephone number calling the \hyperlink{le__mcc__interface_8h_a42130fc6b1d69413a387e3292117b3d3}{le\+\_\+mcc\+\_\+\+Create()} function.

\hyperlink{le__mcc__interface_8h_a72a32869bb23864b3e86c606368bed70}{le\+\_\+mcc\+\_\+\+Start()} must still initiate the call when ready.

The \hyperlink{le__mcc__interface_8h_a72a32869bb23864b3e86c606368bed70}{le\+\_\+mcc\+\_\+\+Start()} function initiates a call attempt (it\textquotesingle{}s asynchronous because it can take time for a call to connect). If function failed, the \hyperlink{le__mcc__interface_8h_ab16921abc02e0569b129f4a7d92bf3c9}{le\+\_\+mcc\+\_\+\+Get\+Termination\+Reason()} A\+PI can be used to retrieve the terminal reason.

It\textquotesingle{}s essential to register a handler function to get the call events. Use \hyperlink{le__mcc__interface_8h_ab826cf4b9e3911e659a90d483081e7fe}{le\+\_\+mcc\+\_\+\+Add\+Call\+Event\+Handler()} A\+PI to install that handler function. The handler will be called for all calls\textquotesingle{} events (incoming and outgoing).

The \hyperlink{le__mcc__interface_8h_aa7682ff49924db10aefee547fcb0b4d8}{le\+\_\+mcc\+\_\+\+Remove\+Call\+Event\+Handler()} A\+PI uninstalls the handler function.

The following A\+P\+Is can be used to manage incoming or outgoing calls\+:
\begin{DoxyItemize}
\item \hyperlink{le__mcc__interface_8h_ab16921abc02e0569b129f4a7d92bf3c9}{le\+\_\+mcc\+\_\+\+Get\+Termination\+Reason()} -\/ termination reason.
\item \hyperlink{le__mcc__interface_8h_a68b9b8ed1b221924dcea1be0fd610a54}{le\+\_\+mcc\+\_\+\+Get\+Platform\+Specific\+Termination\+Code()} -\/ let you get the platform specific termination code by retrieving the termination code from {\ttfamily le\+\_\+mcc\+\_\+\+Call\+Ref\+\_\+t}. Please refer to \hyperlink{platformConstraintsSpecificErrorCodes}{Platform specific error codes} for platform specific termination code description.
\item \hyperlink{le__mcc__interface_8h_a07e4856dffdbf887f51879e39ec43e42}{le\+\_\+mcc\+\_\+\+Is\+Connected()} -\/ connection status.
\item \hyperlink{le__mcc__interface_8h_a6b5922dc325e4f45c90b2ecfd0f0a74f}{le\+\_\+mcc\+\_\+\+Get\+Remote\+Tel()} -\/ displays remote party telephone number associated with the call.
\item \hyperlink{le__mcc__interface_8h_a7b9567715a3cd30c83a3b6886eeb2044}{le\+\_\+mcc\+\_\+\+Hang\+Up()} will disconnect this call.
\end{DoxyItemize}

When finished with the call object, call \hyperlink{le__mcc__interface_8h_a1a016e6443df2d3ee99113649f4f34ae}{le\+\_\+mcc\+\_\+\+Delete()} to free all the allocated resources associated with the object.

Multi-\/threading/multi-\/application behaviour\+: the call\+Ref is linked to a specific client (i.\+e. connection with the mcc service). Each client will have its own call\+Ref for a same call. That is, if a call event handler is registered by one thread but \hyperlink{le__mcc__interface_8h_a42130fc6b1d69413a387e3292117b3d3}{le\+\_\+mcc\+\_\+\+Create()} is called by another thread, they will each get different call references for the same call. So, when multiple threads are being used to work with the same call, a comparison of the call references themselves can\textquotesingle{}t be used to tell whether or not they refer to the same call.

The Adaptive Multi Rate (A\+MR) is an audio compression format optimized for speech coding and used during a voice call. Two A\+M\+Rs are supported\+: An A\+MR Narrowband that encodes a bandwidth of 200–3400 Hz signals at variable bitrates ranging from 4.\+75 to 12.\+2 kbit/s and an A\+MR Wideband that encodes a wider bandwidth of 50–7000 Hz and thus improves the speech quality.

\hyperlink{le__mcc__interface_8h_ab2df0040963d964f360cb2b7148f9277}{le\+\_\+mcc\+\_\+\+Set\+Amr\+Wb\+Capability()} function enables or disables the A\+MR Wideband supported capability. \hyperlink{le__mcc__interface_8h_a3762311b9860dc66c52b00f4324dc140}{le\+\_\+mcc\+\_\+\+Get\+Amr\+Wb\+Capability()} function returns the A\+MR Wideband capability status.\hypertarget{c_mcc_le_mcc_answering_a_call}{}\paragraph{Answering a call}\label{c_mcc_le_mcc_answering_a_call}
Receiving calls is similar sending calls. Add a handler through \hyperlink{le__mcc__interface_8h_ab826cf4b9e3911e659a90d483081e7fe}{le\+\_\+mcc\+\_\+\+Add\+Call\+Event\+Handler()} to be notified of incoming calls.

To answer, call \hyperlink{le__mcc__interface_8h_a598349c6ccfa151dbd1d2f2a9c293ca4}{le\+\_\+mcc\+\_\+\+Answer()}. To reject it, call \hyperlink{le__mcc__interface_8h_a7b9567715a3cd30c83a3b6886eeb2044}{le\+\_\+mcc\+\_\+\+Hang\+Up()}.\hypertarget{c_mcc_le_mcc_ending_all_call}{}\paragraph{Ending all calls}\label{c_mcc_le_mcc_ending_all_call}
A special function can be used to hang-\/up all the ongoing calls\+: \hyperlink{le__mcc__interface_8h_a38ac8543a579ecc81430c121a64bd346}{le\+\_\+mcc\+\_\+\+Hang\+Up\+All()}. This function can be used to hang-\/up any calls that have been initiated through another client like AT commands.\hypertarget{c_mcc_le_mcc_ss}{}\paragraph{Supplementary service}\label{c_mcc_le_mcc_ss}
Calling Line Identification Restriction (C\+L\+IR) can be activated or deactivated by \hyperlink{le__mcc__interface_8h_a6b7fda9b1d0f0208a99b4bdcafe97538}{le\+\_\+mcc\+\_\+\+Set\+Caller\+Id\+Restrict()} A\+PI. The status is independent for each call object reference. Status can be read with the \hyperlink{le__mcc__interface_8h_a54093f7d51cae9a186a97aa799ac3ddc}{le\+\_\+mcc\+\_\+\+Get\+Caller\+Id\+Restrict()} A\+PI. If the status is not set, \hyperlink{le__mcc__interface_8h_a54093f7d51cae9a186a97aa799ac3ddc}{le\+\_\+mcc\+\_\+\+Get\+Caller\+Id\+Restrict()} A\+PI returns L\+E\+\_\+\+U\+N\+A\+V\+A\+I\+L\+A\+B\+LE. By default the C\+L\+IR status is not set.

Call waiting supplementary service can be activated or deactivated by \hyperlink{le__mcc__interface_8h_ac637e687387a5b8cf9c5b02cbb7816fa}{le\+\_\+mcc\+\_\+\+Set\+Call\+Waiting\+Service()}. Its status can be given by \hyperlink{le__mcc__interface_8h_acdf73f5a2e498ee201d8a11c416de29b}{le\+\_\+mcc\+\_\+\+Get\+Call\+Waiting\+Service()}. A call waiting can be answered using \hyperlink{le__mcc__interface_8h_a62626d9db0d9bf56fb2660d9acfdfcc5}{le\+\_\+mcc\+\_\+\+Activate\+Call()} A\+PI. This A\+PI is also used to activate an on hold call (current call is then placed on hold). An activated, waiting or on hold call can be released using \hyperlink{le__mcc__interface_8h_a7b9567715a3cd30c83a3b6886eeb2044}{le\+\_\+mcc\+\_\+\+Hang\+Up()} function. See 3\+G\+PP TS 02.\+83 / 22.\+083 for any details concerning call waiting / call hold supplementary services.

\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000063}{Todo}]Other Supplementary services will be available in a future release. Create simpler examples.\end{DoxyRefDesc}
\hypertarget{c_mcc_le_mcc_samples}{}\paragraph{Sample codes}\label{c_mcc_le_mcc_samples}
A sample code that implements a dialing call can be found in {\bfseries le\+\_\+mcc\+Test.\+c} file (please refer to \hyperlink{c_mccTest}{Sample code of Modem Call control} page).





Copyright (C) Sierra Wireless Inc. \hypertarget{c_mdc}{}\subsubsection{Modem Data Control}\label{c_mdc}
\hyperlink{le__mdc__interface_8h}{A\+PI Reference}





A data session is useful for applications that need to send or receive data over a network where S\+MS messages are insufficient. To start a data session, a data profile must be configured as specified by the target network.

The Modem Data Control (mdc) A\+PI is used to manage data profiles and data sessions.\hypertarget{c_mdc_le_mdc_binding}{}\paragraph{I\+P\+C interfaces binding}\label{c_mdc_le_mdc_binding}
All the functions of this A\+PI are provided by the {\bfseries modem\+Service} service.

Here\textquotesingle{}s a code sample binding to modem services\+: \begin{DoxyVerb}bindings:
{
   clientExe.clientComponent.le_mdc -> modemService.le_mdc
}
\end{DoxyVerb}
\hypertarget{c_mdc_le_mdc_profile}{}\paragraph{Data Profiles}\label{c_mdc_le_mdc_profile}
If a pre-\/defined data profile has been configured then this profile can be loaded using \hyperlink{le__mdc__interface_8h_a638b693cd5f644fa5c24f81e1e36483c}{le\+\_\+mdc\+\_\+\+Get\+Profile()}. \hyperlink{le__mdc__interface_8h_a638b693cd5f644fa5c24f81e1e36483c}{le\+\_\+mdc\+\_\+\+Get\+Profile()} must be called with {\ttfamily L\+E\+\_\+\+M\+D\+C\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+P\+R\+O\+F\+I\+LE} to retrieve the default index used by the modem for data connection. \hyperlink{le__mdc__interface_8h_a638b693cd5f644fa5c24f81e1e36483c}{le\+\_\+mdc\+\_\+\+Get\+Profile()} must be called with {\ttfamily L\+E\+\_\+\+M\+D\+C\+\_\+\+S\+I\+M\+T\+O\+O\+L\+K\+I\+T\+\_\+\+B\+I\+P\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+P\+R\+O\+F\+I\+LE} to retrieve the default index used by the modem for Bearer Independent Protocol (B\+IP). The maximum number of data profiles supported is modem dependent and can be retrieved with \hyperlink{le__mdc__interface_8h_a790602f1b17d7bf9626a51eac5599439}{le\+\_\+mdc\+\_\+\+Num\+Profiles()}.

\begin{DoxyNote}{Note}
\hyperlink{le__mdc__interface_8h_a638b693cd5f644fa5c24f81e1e36483c}{le\+\_\+mdc\+\_\+\+Get\+Profile()} creates a new profile if the profile\textquotesingle{}s index can\textquotesingle{}t be found.
\end{DoxyNote}
\begin{DoxyWarning}{Warning}
0 is not a valid index.
\end{DoxyWarning}
A pre-\/defined data profile can be retrieved using \hyperlink{le__mdc__interface_8h_a2ea0573e6e9cd16c04e95146f2b2e693}{le\+\_\+mdc\+\_\+\+Get\+Profile\+From\+Apn()} thanks to its A\+PN.

A default A\+PN can be set for a defined profile with \hyperlink{le__mdc__interface_8h_ad44bd756fd5cbfd43a5b348054786a4d}{le\+\_\+mdc\+\_\+\+Set\+Default\+A\+P\+N()}, based on the S\+IM identification number (I\+C\+C\+ID). If no match is found in the database using the I\+C\+C\+ID, the search falls back on the home network (M\+C\+C/\+M\+NC) to determine the default A\+PN.

\begin{DoxyWarning}{Warning}
Ensure to check the list of supported data profiles for your specific platform.
\end{DoxyWarning}
The following data profile parameters can be retrieved\+:
\begin{DoxyItemize}
\item Packet Data Protocol using \hyperlink{le__mdc__interface_8h_a0a51125579f1d5009dac03c79ddff498}{le\+\_\+mdc\+\_\+\+Get\+P\+D\+P()}.
\item Access Point Name using \hyperlink{le__mdc__interface_8h_afc0c149bfa4455f3e9a8ccc06f0c5fed}{le\+\_\+mdc\+\_\+\+Get\+A\+P\+N()}.
\item Authentication settings using \hyperlink{le__mdc__interface_8h_a3f83b1b922271091e3f1da418a4f39ca}{le\+\_\+mdc\+\_\+\+Get\+Authentication()}.
\end{DoxyItemize}

The following data profile parameters can be set\+:
\begin{DoxyItemize}
\item Packet Data Protocol using \hyperlink{le__mdc__interface_8h_a73e66a7a63dc95d7f261fc2a26470386}{le\+\_\+mdc\+\_\+\+Set\+P\+D\+P()}.
\item Access Point Name using \hyperlink{le__mdc__interface_8h_ae8ebd11b9cb9afb9b6b5745903f50156}{le\+\_\+mdc\+\_\+\+Set\+A\+P\+N()}.
\item Authentication settings using \hyperlink{le__mdc__interface_8h_a9f69d0751927b5ead6c756202179b222}{le\+\_\+mdc\+\_\+\+Set\+Authentication()}.
\end{DoxyItemize}

\begin{DoxyWarning}{Warning}
The maximum A\+PN length might be limited by the platform. Please refer to the platform documentation.
\end{DoxyWarning}
A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mdcDataProfiles}{Sample code for Data Profiles}
\end{DoxyItemize}\hypertarget{c_mdc_le_mdc_session}{}\paragraph{Data Sessions}\label{c_mdc_le_mdc_session}
\hypertarget{c_mdc_le_mdc_session_MO}{}\subparagraph{Mobile Originated (\+M\+O-\/\+P\+D\+P context activation)}\label{c_mdc_le_mdc_session_MO}
\hyperlink{le__mdc__interface_8h_a56cd547a4e2b9cc98c1f0d052aeb92e6}{le\+\_\+mdc\+\_\+\+Map\+Profile\+On\+Network\+Interface()} may be used to map a data session with a network interface. To take effect, this A\+PI has to be called before starting the data session. Otherwise, the mapping will be taken into account at the next start of the data profile.

A data session can be started using \hyperlink{le__mdc__interface_8h_a2cb08d5c3e6c43297d80448891719649}{le\+\_\+mdc\+\_\+\+Start\+Session()}. To start a data session, a data profile must be created and written to the modem, or an existing data profile can be used. A data session can be stopped using \hyperlink{le__mdc__interface_8h_a53453f85065c3cace0922150b7e3d869}{le\+\_\+mdc\+\_\+\+Stop\+Session()}. The number of simultaneous data sessions supported is dependent on the modem, but cannot be more than the maximum number of supported profiles.

A data session can be started using \hyperlink{le__mdc__interface_8h_aa03d6e31263ddf8bf1d94b183c9934d9}{le\+\_\+mdc\+\_\+\+Start\+Session\+Async()} and stopped using \hyperlink{le__mdc__interface_8h_ac5b357f7437c9e253fa17b2511fa14ef}{le\+\_\+mdc\+\_\+\+Stop\+Session\+Async()}. These functions are not blocking. The response will be returned with the {\ttfamily le\+\_\+mdc\+\_\+\+Session\+Handler\+Func\+\_\+t} handler function.

The current state of a data session can be queried using \hyperlink{le__mdc__interface_8h_add91c364e8b3e4e82a0ce64e480c016b}{le\+\_\+mdc\+\_\+\+Get\+Session\+State()}. An application can also a register handler to be notified when the session state changes. The handler can be managed using \hyperlink{le__mdc__interface_8h_a594c85c1ccb56ddfbaf36496f35f681e}{le\+\_\+mdc\+\_\+\+Add\+Session\+State\+Handler()} and \hyperlink{le__mdc__interface_8h_af223a193b73ce6f870947557f69136dc}{le\+\_\+mdc\+\_\+\+Remove\+Session\+State\+Handler()}.\hypertarget{c_mdc_le_mdc_session_MT}{}\subparagraph{Mobile Terminated (\+M\+T-\/\+P\+D\+P context activation)}\label{c_mdc_le_mdc_session_MT}
To be notified by the M\+T-\/\+P\+DP context request, the application has to subscribe to the state handler using \hyperlink{le__mdc__interface_8h_ada19c2a399ba8c0aa038e27c21689472}{le\+\_\+mdc\+\_\+\+Add\+Mt\+Pdp\+Session\+State\+Handler()}. When the incoming M\+T-\/\+P\+DP context request is notified, the application takes responsibility to trigger the data session for that MT P\+DP request using \hyperlink{le__mdc__interface_8h_a2cb08d5c3e6c43297d80448891719649}{le\+\_\+mdc\+\_\+\+Start\+Session()}. That data session can be stopped using \hyperlink{le__mdc__interface_8h_a53453f85065c3cace0922150b7e3d869}{le\+\_\+mdc\+\_\+\+Stop\+Session()}.

The network interface settings of that M\+T-\/\+P\+DP context can be retrieved using the provided Data Profile. Please refer to \hyperlink{c_mdc_le_mdc_session_networkItf}{Network interface settings}.

A data session can be rejected using \hyperlink{le__mdc__interface_8h_ae3b49edad910960b84a9012ecc33c66a}{le\+\_\+mdc\+\_\+\+Reject\+Mt\+Pdp\+Session()}. The number of simultaneous data sessions supported is dependent on the modem, but cannot be more than the maximum number of supported profiles.

The handler can be released using \hyperlink{le__mdc__interface_8h_a68b03606241ea2215e076966a7c08d99}{le\+\_\+mdc\+\_\+\+Remove\+Mt\+Pdp\+Session\+State\+Handler()}.

\begin{DoxyWarning}{Warning}
The M\+T-\/\+P\+DP context activation feature is not supported on all platforms. Please refer to \hyperlink{platformConstraintsMdc_MT-PDP_context}{Mobile Terminated P\+DP context} section for full details.
\end{DoxyWarning}
\hypertarget{c_mdc_le_mdc_session_networkItf}{}\subparagraph{Network interface settings}\label{c_mdc_le_mdc_session_networkItf}
Once a data session starts, a Linux network interface is created. It\textquotesingle{}s the application\textquotesingle{}s responsibility to configure the network interface, usually through a D\+H\+CP client. Query the interface name using \hyperlink{le__mdc__interface_8h_a4c22a8691d6e6a69270a7ed6ab9974af}{le\+\_\+mdc\+\_\+\+Get\+Interface\+Name()}. The IP Preference can be checked with \hyperlink{le__mdc__interface_8h_aa3912e94864a6e5862e07f58b3772cba}{le\+\_\+mdc\+\_\+\+Is\+I\+Pv4()} or \hyperlink{le__mdc__interface_8h_adde11de0b17b2c937acca6355b6fba11}{le\+\_\+mdc\+\_\+\+Is\+I\+Pv6()} when the profile is connected. The IP address for the current data session can be retrieved by \hyperlink{le__mdc__interface_8h_a0b5e11efda06472fc6c525101fceafe6}{le\+\_\+mdc\+\_\+\+Get\+I\+Pv4\+Address()} or \hyperlink{le__mdc__interface_8h_a73ef38d4d2399580d552b12c62f1c508}{le\+\_\+mdc\+\_\+\+Get\+I\+Pv6\+Address()}. The Gateway and D\+NS addresses can be retrieved using \hyperlink{le__mdc__interface_8h_a290cff563b19ee4891bcd5c8908c54f9}{le\+\_\+mdc\+\_\+\+Get\+I\+Pv4\+Gateway\+Address()}, \hyperlink{le__mdc__interface_8h_a0dd0dcf60d647388fa3e1973917a6161}{le\+\_\+mdc\+\_\+\+Get\+I\+Pv4\+D\+N\+S\+Addresses()} or \hyperlink{le__mdc__interface_8h_a3bb60671304e2b4d3b23d8e623f9940c}{le\+\_\+mdc\+\_\+\+Get\+I\+Pv6\+Gateway\+Address()}, \hyperlink{le__mdc__interface_8h_ad9cb7d3299620d9dcde551cec45389a1}{le\+\_\+mdc\+\_\+\+Get\+I\+Pv6\+D\+N\+S\+Addresses()}. The Access Point Name can be retrieved by \hyperlink{le__mdc__interface_8h_afc0c149bfa4455f3e9a8ccc06f0c5fed}{le\+\_\+mdc\+\_\+\+Get\+A\+P\+N()}. The Data bearer Technology can be retrieved by \hyperlink{le__mdc__interface_8h_a1b17bb87b347162013b5ad608cdcda2d}{le\+\_\+mdc\+\_\+\+Get\+Data\+Bearer\+Technology()}.

\hyperlink{le__mdc__interface_8h_afe73f44c23b1bd120dd82a85b36c6059}{le\+\_\+mdc\+\_\+\+Get\+Disconnection\+Reason()} or \hyperlink{le__mdc__interface_8h_a3e3a92b0f5e3edab9400412170517a62}{le\+\_\+mdc\+\_\+\+Get\+Platform\+Specific\+Disconnection\+Code()} let you get the reason for disconnection of data session by retrieving the call end failure code from {\ttfamily le\+\_\+mdc\+\_\+\+Profile\+Ref\+\_\+t}.

\hyperlink{le__mdc__interface_8h_a438ff354100b5020ace1059635b740b4}{le\+\_\+mdc\+\_\+\+Get\+Platform\+Specific\+Failure\+Connection\+Reason()} let you get the data session connection failure reason by retrieving the call connection failure code and type from {\ttfamily le\+\_\+mdc\+\_\+\+Profile\+Ref\+\_\+t}.

Please refer to \hyperlink{platformConstraintsSpecificErrorCodes}{Platform specific error codes} for platform specific disconnection code description.

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mdcDataSessions}{Sample code for network interface settings}
\end{DoxyItemize}\hypertarget{c_SDD_mdc_le_mdc_dataStatistics}{}\paragraph{Data Statistics}\label{c_SDD_mdc_le_mdc_dataStatistics}
The amount of received and transmitted data can be retrieved through \hyperlink{le__mdc__interface_8h_aaad833c105f7d0ae77f18195d6739080}{le\+\_\+mdc\+\_\+\+Get\+Bytes\+Counters()}. The returned values correspond to the number of received and transmitted bytes since the last call to \hyperlink{le__mdc__interface_8h_a63636b2779d2ee6a6520ebfb2d26666c}{le\+\_\+mdc\+\_\+\+Reset\+Bytes\+Counter()}.

The data statistics collection can be enabled with \hyperlink{le__mdc__interface_8h_a30f390941d98c9e9c4144a5e035da3aa}{le\+\_\+mdc\+\_\+\+Start\+Bytes\+Counter()} and disabled without resetting the counters with \hyperlink{le__mdc__interface_8h_a1d6007bc8f84e5e4869af4af11b7363f}{le\+\_\+mdc\+\_\+\+Stop\+Bytes\+Counter()}.

\begin{DoxyNote}{Note}
The data statistics collection activation and the data counters are persistent even after a reboot of the platform.
\end{DoxyNote}
A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mdcDataStatistics}{Sample code for Data Statistics}
\end{DoxyItemize}





Copyright (C) Sierra Wireless Inc. \hypertarget{c_mdcDataProfiles}{}\paragraph{Sample code for Data Profiles}\label{c_mdcDataProfiles}

\begin{DoxyCodeInclude}
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} DefaultCid[] = \textcolor{stringliteral}{"default"};
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} automaticApn[] = \textcolor{stringliteral}{"auto"};
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} PdpIpv4[] = \textcolor{stringliteral}{"ipv4"};
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} PdpIpv6[] = \textcolor{stringliteral}{"ipv6"};
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} PdpIpv4v6[] = \textcolor{stringliteral}{"ipv4v6"};
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} AuthPap[] = \textcolor{stringliteral}{"pap"};
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} AuthChap[] = \textcolor{stringliteral}{"chap"};
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} AuthPapChap[] = \textcolor{stringliteral}{"pap-chap"};
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} Map[] = \textcolor{stringliteral}{"map"};
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} Cid[] = \textcolor{stringliteral}{"cid"};
\textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} Rmnet[] = \textcolor{stringliteral}{"rmnet"};

\textcolor{comment}{// Structure used to set the configuration}
\textcolor{keyword}{typedef} \textcolor{keyword}{struct}
\{
    \textcolor{keywordtype}{char}   cid[10];                                 \textcolor{comment}{// profile identifier}
    \textcolor{keywordtype}{char}   pdp[10];                                 \textcolor{comment}{// packet data protocol}
    \textcolor{keywordtype}{char}   apn[\hyperlink{le__mdc__interface_8h_a94003147532b5c18b83cac9a4e1eb054}{LE\_MDC\_APN\_NAME\_MAX\_LEN}];            \textcolor{comment}{// access point network}
    \textcolor{keywordtype}{char}   auth[10];                                \textcolor{comment}{// authentication level}
    \textcolor{keywordtype}{char}   userName[\hyperlink{le__mdc__interface_8h_ad246bc94c8c69c08d2765cc0570aa3cf}{LE\_MDC\_USER\_NAME\_MAX\_LEN}];      \textcolor{comment}{// username for authentication}
    \textcolor{keywordtype}{char}   password[\hyperlink{le__mdc__interface_8h_a37643c42ade5141861f6c19c17378c2f}{LE\_MDC\_PASSWORD\_NAME\_MAX\_LEN}];  \textcolor{comment}{// password for
       authentication}
\}
Configuration\_t;

\textcolor{comment}{// Tests cases}
\textcolor{keyword}{typedef} \textcolor{keyword}{enum}
\{
    TEST\_SYNC,
    TEST\_ASYNC,
    TEST\_MAX
\} Testcase\_t;

\textcolor{comment}{// Tests definition}
\textcolor{keyword}{struct}
\{
    \textcolor{keywordtype}{char} testName[20];
    Testcase\_t  testCase;
\} testsDef[] = \{
                    TEST\_DEF(TEST\_SYNC),
                    TEST\_DEF(TEST\_ASYNC),
                    TEST\_DEF(TEST\_MAX)
\};

\textcolor{comment}{}
\textcolor{comment}{//! [Data\_session]}
\textcolor{comment}{}\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Session handler response for connection and disconnection.}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} SessionHandlerFunc
(
    \hyperlink{le__mdc__interface_8h_a91074d8f0d88c6645e3085dfadf87011}{le\_mdc\_ProfileRef\_t} profileRef,
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} result,
    \textcolor{keywordtype}{void}* contextPtr
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t}* activationPtr = contextPtr;
    *activationPtr = result;

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Session result %d for profile %d"}, result, 
      \hyperlink{le__mdc__interface_8h_a108f7c3db74a377c2ae5482543d4e0d9}{le\_mdc\_GetProfileIndex}(profileRef));

    \hyperlink{le__semaphore_8h_abb859411cc58fbcc576c986ef52083b2}{le\_sem\_Post}(AsyncTestSemaphore);
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Start asynchronous session.}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} SessionStartAsync
(
    \textcolor{keywordtype}{void}* param1Ptr,
    \textcolor{keywordtype}{void}* param2Ptr
)
\{
    \hyperlink{le__mdc__interface_8h_a91074d8f0d88c6645e3085dfadf87011}{le\_mdc\_ProfileRef\_t} profileRef = param1Ptr;

    \hyperlink{le__mdc__interface_8h_aa03d6e31263ddf8bf1d94b183c9934d9}{le\_mdc\_StartSessionAsync}(profileRef, SessionHandlerFunc, param2Ptr);
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Stop asynchronous session.}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} SessionStopAsync
(
    \textcolor{keywordtype}{void}* param1Ptr,
    \textcolor{keywordtype}{void}* param2Ptr
)
\{
    \hyperlink{le__mdc__interface_8h_a91074d8f0d88c6645e3085dfadf87011}{le\_mdc\_ProfileRef\_t} profileRef = param1Ptr;

    \hyperlink{le__mdc__interface_8h_ac5b357f7437c9e253fa17b2511fa14ef}{le\_mdc\_StopSessionAsync}(profileRef, SessionHandlerFunc, param2Ptr);
\}
\textcolor{comment}{}
\textcolor{comment}{//! [Data\_session]}
\textcolor{comment}{}\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Set the configuration.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} SetConfiguration
(
    \hyperlink{le__mdc__interface_8h_a91074d8f0d88c6645e3085dfadf87011}{le\_mdc\_ProfileRef\_t}* profileRefPtr
)
\{
    \textcolor{comment}{// Check the configuration file}
    FILE* configFilePtr = fopen(\textcolor{stringliteral}{"/tmp/config.txt"},\textcolor{stringliteral}{"r"});
    Configuration\_t configuration;

    memset(&configuration, 0, \textcolor{keyword}{sizeof}(Configuration\_t));

    \textcolor{comment}{// if configuration file absent, use default settings}
    \textcolor{keywordflow}{if} (NULL == configFilePtr)
    \{
        \hyperlink{le__utf8_8h_aa5ae72c01396c106fdf3b4741ead7477}{le\_utf8\_Copy}(configuration.cid, DefaultCid, \textcolor{keyword}{sizeof}(configuration.cid), NULL);
        \hyperlink{le__utf8_8h_aa5ae72c01396c106fdf3b4741ead7477}{le\_utf8\_Copy}(configuration.pdp, PdpIpv4, \textcolor{keyword}{sizeof}(configuration.pdp), NULL);
        \hyperlink{le__utf8_8h_aa5ae72c01396c106fdf3b4741ead7477}{le\_utf8\_Copy}(configuration.apn, automaticApn, \textcolor{keyword}{sizeof}(configuration.apn), NULL);
    \}
    \textcolor{keywordflow}{else}
    \{
        \textcolor{comment}{// Get the configuration from the file}
        fseek(configFilePtr, 0, SEEK\_END);
        uint32\_t len = ftell(configFilePtr);
        \textcolor{keywordtype}{char} cmdLine[ len + 1 ];
        \textcolor{keywordtype}{char}* saveLinePtr;
        \textcolor{keywordtype}{char}* saveParamPtr;
        \textcolor{keywordtype}{char}* cmdLinePtr;

        memset(cmdLine,0,len+1);
        fseek(configFilePtr, 0, SEEK\_SET);
        fread(cmdLine, 1, len, configFilePtr);
        fclose(configFilePtr);

        \textcolor{comment}{// Get first line}
        cmdLinePtr = strtok\_r(cmdLine, \textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"}, &saveLinePtr);

        \textcolor{comment}{// Get profile number}
        \textcolor{keywordtype}{char}* cidPtr =  strtok\_r(cmdLinePtr, \textcolor{stringliteral}{" "}, &saveParamPtr);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(NULL != cidPtr);
        \hyperlink{le__utf8_8h_aa5ae72c01396c106fdf3b4741ead7477}{le\_utf8\_Copy}(configuration.cid, cidPtr, \textcolor{keyword}{sizeof}(configuration.cid), NULL);

        \textcolor{comment}{// Get pdp type}
        \textcolor{keywordtype}{char}* pdpPtr = strtok\_r(NULL, \textcolor{stringliteral}{" "}, &saveParamPtr);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(NULL != pdpPtr);
        \hyperlink{le__utf8_8h_aa5ae72c01396c106fdf3b4741ead7477}{le\_utf8\_Copy}(configuration.pdp, pdpPtr, \textcolor{keyword}{sizeof}(configuration.pdp), NULL);

        \textcolor{comment}{// Get apn}
        \textcolor{keywordtype}{char}* apnPtr = strtok\_r(NULL, \textcolor{stringliteral}{" "}, &saveParamPtr);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(NULL != apnPtr);
        \hyperlink{le__utf8_8h_aa5ae72c01396c106fdf3b4741ead7477}{le\_utf8\_Copy}(configuration.apn, apnPtr, \textcolor{keyword}{sizeof}(configuration.apn), NULL);

        \textcolor{comment}{// Get authentication}
        \textcolor{keywordtype}{char}* authPtr = strtok\_r(NULL, \textcolor{stringliteral}{" "}, &saveParamPtr);
        \textcolor{keywordflow}{if} (NULL != authPtr)
        \{
            \hyperlink{le__utf8_8h_aa5ae72c01396c106fdf3b4741ead7477}{le\_utf8\_Copy}(configuration.auth, authPtr, \textcolor{keyword}{sizeof}(configuration.auth), NULL);
        \}

        \textcolor{comment}{// Get username}
        \textcolor{keywordtype}{char}* userNamePtr = strtok\_r(NULL, \textcolor{stringliteral}{" "}, &saveParamPtr);
        \textcolor{keywordflow}{if} (NULL != userNamePtr)
        \{
            \hyperlink{le__utf8_8h_aa5ae72c01396c106fdf3b4741ead7477}{le\_utf8\_Copy}(configuration.userName, userNamePtr, \textcolor{keyword}{sizeof}(configuration.userName), 
      NULL);
        \}

        \textcolor{comment}{// Get password}
        \textcolor{keywordtype}{char}* passwordPtr = strtok\_r(NULL, \textcolor{stringliteral}{" "}, &saveParamPtr);
        \textcolor{keywordflow}{if} (NULL != passwordPtr)
        \{
            \hyperlink{le__utf8_8h_aa5ae72c01396c106fdf3b4741ead7477}{le\_utf8\_Copy}(configuration.password, passwordPtr, \textcolor{keyword}{sizeof}(configuration.password), 
      NULL);
        \}

        \textcolor{comment}{// Get optional lines}
        cmdLinePtr = strtok\_r(NULL, \textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"}, &saveLinePtr);

        \textcolor{keywordflow}{while} (cmdLinePtr)
        \{
            \textcolor{keywordtype}{char}* optionPtr = strtok\_r(cmdLinePtr, \textcolor{stringliteral}{" "}, &saveParamPtr);

            \textcolor{comment}{// Check mapping cid}
            \textcolor{keywordflow}{if} (strncmp(optionPtr, Map, strlen(Map)) == 0)
            \{
                \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"mapping cid"});
                \textcolor{keywordtype}{char}* cidPtr = strtok\_r(NULL, \textcolor{stringliteral}{" "}, &saveParamPtr);

                \textcolor{keywordflow}{if} (strncmp(cidPtr, Cid, strlen(Cid)) == 0)
                \{
                    \textcolor{keywordtype}{int} cid = strtol((\textcolor{keyword}{const} \textcolor{keywordtype}{char}*) cidPtr+strlen(Cid), NULL, 10);

                    \textcolor{keywordflow}{if} (0 != \hyperlink{supervisor_8c_a0a4ccfdbe1cf7b37afc60d34e748b066}{errno})
                    \{
                        \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"Bad cid %d %m"}, \hyperlink{supervisor_8c_a0a4ccfdbe1cf7b37afc60d34e748b066}{errno});
                        \hyperlink{app_stop_client_8c_a310220604a584e112ba8f7aa3dfe23f1}{exit}(EXIT\_FAILURE);
                    \}

                    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"map cid %d"}, cid);

                    \textcolor{keywordtype}{char}* rmnetPtr = strtok\_r(NULL, \textcolor{stringliteral}{" "}, &saveParamPtr);

                    \textcolor{keywordflow}{if} (0 == strncmp(rmnetPtr, Rmnet, strlen(Rmnet)))
                    \{
                        \textcolor{keywordtype}{int} rmnet = strtol(rmnetPtr+strlen(Rmnet), NULL, 10);

                        \textcolor{keywordflow}{if} (0 != \hyperlink{supervisor_8c_a0a4ccfdbe1cf7b37afc60d34e748b066}{errno})
                        \{
                            \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"Bad rmnet %d %m"}, \hyperlink{supervisor_8c_a0a4ccfdbe1cf7b37afc60d34e748b066}{errno});
                            \hyperlink{app_stop_client_8c_a310220604a584e112ba8f7aa3dfe23f1}{exit}(EXIT\_FAILURE);
                        \}

                        \hyperlink{le__mdc__interface_8h_a91074d8f0d88c6645e3085dfadf87011}{le\_mdc\_ProfileRef\_t} profileRef = 
      \hyperlink{le__mdc__interface_8h_a638b693cd5f644fa5c24f81e1e36483c}{le\_mdc\_GetProfile}(cid);

                        \textcolor{keywordtype}{char} \textcolor{keywordtype}{string}[20];
                        memset(\textcolor{keywordtype}{string},0,\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{string}));
                        \hyperlink{app_stop_client_8c_a2b6c4b2a795957a91039524b524be480}{snprintf}(\textcolor{keywordtype}{string},\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{string}),\textcolor{stringliteral}{"rmnet\_data%d"}, rmnet);
                        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"cid %d rmnet: %s"}, cid, \textcolor{keywordtype}{string});

                        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mdc__interface_8h_a56cd547a4e2b9cc98c1f0d052aeb92e6}{le\_mdc\_MapProfileOnNetworkInterface}
      (profileRef, \textcolor{keywordtype}{string}) == LE\_OK);
                    \}
                \}
            \}

            cmdLinePtr = strtok\_r(NULL, \textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"}, &saveLinePtr);
        \}
    \}

    uint32\_t profile;

    \textcolor{keywordflow}{if} ( strncmp(configuration.cid, DefaultCid, \textcolor{keyword}{sizeof}(DefaultCid)) == 0 )
    \{
        profile = \hyperlink{le__mdc__interface_8h_abf72eaa8891f7591477e229bb4ad5723}{LE\_MDC\_DEFAULT\_PROFILE};
    \}
    \textcolor{keywordflow}{else}
    \{
        profile = strtol(configuration.cid, NULL, 10);

        \textcolor{keywordflow}{if} (\hyperlink{supervisor_8c_a0a4ccfdbe1cf7b37afc60d34e748b066}{errno} != 0)
        \{
            \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"Bad profile %d %m"}, \hyperlink{supervisor_8c_a0a4ccfdbe1cf7b37afc60d34e748b066}{errno});
            \hyperlink{app_stop_client_8c_a310220604a584e112ba8f7aa3dfe23f1}{exit}(EXIT\_FAILURE);
        \}
    \}
\textcolor{comment}{}
\textcolor{comment}{//! [Profile\_parameters]}
\textcolor{comment}{}
    \textcolor{comment}{// Get the profile reference}
    *profileRefPtr = \hyperlink{le__mdc__interface_8h_a638b693cd5f644fa5c24f81e1e36483c}{le\_mdc\_GetProfile}(profile);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(NULL != *profileRefPtr);

    \textcolor{comment}{// Check the current state of the cid}
    \hyperlink{le__mdc__interface_8h_a0727e543d0394422963c8d6297947333}{le\_mdc\_ConState\_t} state = \hyperlink{le__mdc__interface_8h_a0727e543d0394422963c8d6297947333a6d11ee963528c79d73a269eb85202ba7}{LE\_MDC\_DISCONNECTED};

    \textcolor{comment}{// Check the state}
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(LE\_OK == \hyperlink{le__mdc__interface_8h_add91c364e8b3e4e82a0ce64e480c016b}{le\_mdc\_GetSessionState}(*profileRefPtr, &state));

    \textcolor{comment}{// If already connected, disconnect the session}
    \textcolor{keywordflow}{if} (\hyperlink{le__mdc__interface_8h_a0727e543d0394422963c8d6297947333a0a8a2113935b881b76c59b94cf7223b8}{LE\_MDC\_CONNECTED} == state)
    \{
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mdc__interface_8h_a53453f85065c3cace0922150b7e3d869}{le\_mdc\_StopSession}(*profileRefPtr) == LE\_OK);
    \}

    \textcolor{comment}{// Set pdp type}
    \hyperlink{le__mdc__interface_8h_a85721ec6046140c2f87c23f877dce247}{le\_mdc\_Pdp\_t} pdp = \hyperlink{le__mdc__interface_8h_a85721ec6046140c2f87c23f877dce247a590fd5c933c3751e42053f996d530987}{LE\_MDC\_PDP\_UNKNOWN};

    \textcolor{keywordflow}{if} (0 == strncmp(configuration.pdp, PdpIpv4, \textcolor{keyword}{sizeof}(PdpIpv4)))
    \{
        pdp = \hyperlink{le__mdc__interface_8h_a85721ec6046140c2f87c23f877dce247af550adf5bcecb680294f92f28496a830}{LE\_MDC\_PDP\_IPV4};
    \}
    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (0 == strncmp(configuration.pdp, PdpIpv6, \textcolor{keyword}{sizeof}(PdpIpv6)))
    \{
        pdp = \hyperlink{le__mdc__interface_8h_a85721ec6046140c2f87c23f877dce247ac2d2a34bad2d18be1ea8facef0effad0}{LE\_MDC\_PDP\_IPV6};
    \}
    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (0 == strncmp(configuration.pdp, PdpIpv4v6, \textcolor{keyword}{sizeof}(PdpIpv4v6)))
    \{
        pdp = \hyperlink{le__mdc__interface_8h_a85721ec6046140c2f87c23f877dce247a4427db8ba7a89ebf66c7b62eacfc8275}{LE\_MDC\_PDP\_IPV4V6};
    \}

    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(LE\_OK == \hyperlink{le__mdc__interface_8h_a73e66a7a63dc95d7f261fc2a26470386}{le\_mdc\_SetPDP}(*profileRefPtr, pdp));

    \textcolor{comment}{// Set APN}
    \textcolor{keywordflow}{if} (0 == strncmp(configuration.apn, automaticApn, \textcolor{keyword}{sizeof}(automaticApn)))
    \{
        \textcolor{comment}{// Set default APN}
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(LE\_OK == \hyperlink{le__mdc__interface_8h_ad44bd756fd5cbfd43a5b348054786a4d}{le\_mdc\_SetDefaultAPN}(*profileRefPtr));
    \}
    \textcolor{keywordflow}{else}
    \{
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(LE\_OK == \hyperlink{le__mdc__interface_8h_ae8ebd11b9cb9afb9b6b5745903f50156}{le\_mdc\_SetAPN}(*profileRefPtr, configuration.apn));
    \}

    \hyperlink{le__mdc__interface_8h_ae9758eecfab89fbc1bc01341393a7723}{le\_mdc\_Auth\_t} auth = \hyperlink{le__mdc__interface_8h_ae9758eecfab89fbc1bc01341393a7723a10fb016f4d6f7a7e893cf66846c24de2}{LE\_MDC\_AUTH\_NONE};
    \textcolor{keywordflow}{if} (\textcolor{charliteral}{'\(\backslash\)0'} != configuration.auth[0])
    \{
        \textcolor{comment}{// Set the authentication, username and password}
        \textcolor{keywordflow}{if} (0 == strncmp(configuration.auth, AuthPapChap, \textcolor{keyword}{sizeof}(AuthPapChap)))
        \{
            auth = \hyperlink{le__mdc__interface_8h_ae9758eecfab89fbc1bc01341393a7723a151065be441aa8f065d0ead3d739b6f0}{LE\_MDC\_AUTH\_PAP} | \hyperlink{le__mdc__interface_8h_ae9758eecfab89fbc1bc01341393a7723ae93a464a7ee2f31346aa01676afc7054}{LE\_MDC\_AUTH\_CHAP};
        \}
        \textcolor{comment}{// Set the authentication, username and password}
        \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (0 == strncmp(configuration.auth, AuthPap, \textcolor{keyword}{sizeof}(AuthPap)))
        \{
            auth = \hyperlink{le__mdc__interface_8h_ae9758eecfab89fbc1bc01341393a7723a151065be441aa8f065d0ead3d739b6f0}{LE\_MDC\_AUTH\_PAP};
        \}
        \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (0 == strncmp(configuration.auth, AuthChap, \textcolor{keyword}{sizeof}(AuthChap)))
        \{
            auth = \hyperlink{le__mdc__interface_8h_ae9758eecfab89fbc1bc01341393a7723ae93a464a7ee2f31346aa01676afc7054}{LE\_MDC\_AUTH\_CHAP};
        \}

        \textcolor{keywordflow}{if} (\hyperlink{le__mdc__interface_8h_ae9758eecfab89fbc1bc01341393a7723a10fb016f4d6f7a7e893cf66846c24de2}{LE\_MDC\_AUTH\_NONE} != auth)
        \{
            \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(LE\_OK == \hyperlink{le__mdc__interface_8h_a9f69d0751927b5ead6c756202179b222}{le\_mdc\_SetAuthentication}(*profileRefPtr,
                                                auth,
                                                configuration.userName,
                                                configuration.password));
        \}
    \}

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"cid: %d pdp: %d apn: %s auth: %d username: %s password: %s"},
            \hyperlink{le__mdc__interface_8h_a108f7c3db74a377c2ae5482543d4e0d9}{le\_mdc\_GetProfileIndex}(*profileRefPtr), pdp, configuration.apn, auth,
            configuration.userName, configuration.password);
\}
\end{DoxyCodeInclude}
\hypertarget{c_mdcDataSessions}{}\paragraph{Sample code for network interface settings}\label{c_mdcDataSessions}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Set the network configuration.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} SetNetworkConfiguration
(
    \hyperlink{le__mdc__interface_8h_a91074d8f0d88c6645e3085dfadf87011}{le\_mdc\_ProfileRef\_t} profileRef
)
\{
    \textcolor{keywordtype}{char} ipAddr[100] = \{0\};
    \textcolor{keywordtype}{char} gatewayAddr[100] = \{0\};
    \textcolor{keywordtype}{char} dns1Addr[100] = \{0\};
    \textcolor{keywordtype}{char} dns2Addr[100] = \{0\};
    \textcolor{keywordtype}{char} systemCmd[200] = \{0\};
    FILE* resolvFilePtr;
    \hyperlink{le__mdc__interface_8h_a0727e543d0394422963c8d6297947333}{le\_mdc\_ConState\_t} state = \hyperlink{le__mdc__interface_8h_a0727e543d0394422963c8d6297947333a6d11ee963528c79d73a269eb85202ba7}{LE\_MDC\_DISCONNECTED};
    mode\_t oldMask;

    \textcolor{comment}{// Check the state}
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}( \hyperlink{le__mdc__interface_8h_add91c364e8b3e4e82a0ce64e480c016b}{le\_mdc\_GetSessionState}(profileRef, &state) == LE\_OK );
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}( state == \hyperlink{le__mdc__interface_8h_a0727e543d0394422963c8d6297947333a0a8a2113935b881b76c59b94cf7223b8}{LE\_MDC\_CONNECTED} );

    \textcolor{comment}{// Get IP, gateway and DNS addresses for IPv4 or IPv6 connectivity}
    \textcolor{keywordflow}{if} ( \hyperlink{le__mdc__interface_8h_aa3912e94864a6e5862e07f58b3772cba}{le\_mdc\_IsIPv4}(profileRef) )
    \{
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mdc__interface_8h_a0b5e11efda06472fc6c525101fceafe6}{le\_mdc\_GetIPv4Address}(profileRef, ipAddr, \textcolor{keyword}{sizeof}(ipAddr)) 
      == LE\_OK);
        \hyperlink{le__print_8h_a1a6709c55d8d08c496846ba2295138b7}{LE\_PRINT\_VALUE}(\textcolor{stringliteral}{"%s"}, ipAddr);

        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mdc__interface_8h_a290cff563b19ee4891bcd5c8908c54f9}{le\_mdc\_GetIPv4GatewayAddress}(profileRef, gatewayAddr
      , \textcolor{keyword}{sizeof}(gatewayAddr))
                                                                                          == LE\_OK);
        \hyperlink{le__print_8h_a1a6709c55d8d08c496846ba2295138b7}{LE\_PRINT\_VALUE}(\textcolor{stringliteral}{"%s"}, gatewayAddr);

        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mdc__interface_8h_a0dd0dcf60d647388fa3e1973917a6161}{le\_mdc\_GetIPv4DNSAddresses}( profileRef,
                                              dns1Addr, \textcolor{keyword}{sizeof}(dns1Addr),
                                              dns2Addr, \textcolor{keyword}{sizeof}(dns2Addr)) == LE\_OK );
        \hyperlink{le__print_8h_a1a6709c55d8d08c496846ba2295138b7}{LE\_PRINT\_VALUE}(\textcolor{stringliteral}{"%s"}, dns1Addr);
        \hyperlink{le__print_8h_a1a6709c55d8d08c496846ba2295138b7}{LE\_PRINT\_VALUE}(\textcolor{stringliteral}{"%s"}, dns2Addr);

        \hyperlink{app_stop_client_8c_a2b6c4b2a795957a91039524b524be480}{snprintf}(systemCmd, \textcolor{keyword}{sizeof}(systemCmd), \textcolor{stringliteral}{"/sbin/route add default gw %s"}, gatewayAddr);
    \}
    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( \hyperlink{le__mdc__interface_8h_adde11de0b17b2c937acca6355b6fba11}{le\_mdc\_IsIPv6}(profileRef) )
    \{
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mdc__interface_8h_a73ef38d4d2399580d552b12c62f1c508}{le\_mdc\_GetIPv6Address}(profileRef, ipAddr, \textcolor{keyword}{sizeof}(ipAddr)) 
      == LE\_OK);
        \hyperlink{le__print_8h_a1a6709c55d8d08c496846ba2295138b7}{LE\_PRINT\_VALUE}(\textcolor{stringliteral}{"%s"}, ipAddr);

        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mdc__interface_8h_a3bb60671304e2b4d3b23d8e623f9940c}{le\_mdc\_GetIPv6GatewayAddress}(profileRef, gatewayAddr
      , \textcolor{keyword}{sizeof}(gatewayAddr))
                                                                                          == LE\_OK);
        \hyperlink{le__print_8h_a1a6709c55d8d08c496846ba2295138b7}{LE\_PRINT\_VALUE}(\textcolor{stringliteral}{"%s"}, gatewayAddr);

        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mdc__interface_8h_ad9cb7d3299620d9dcde551cec45389a1}{le\_mdc\_GetIPv6DNSAddresses}( profileRef,
                                              dns1Addr, \textcolor{keyword}{sizeof}(dns1Addr),
                                              dns2Addr, \textcolor{keyword}{sizeof}(dns2Addr)) == LE\_OK );
        \hyperlink{le__print_8h_a1a6709c55d8d08c496846ba2295138b7}{LE\_PRINT\_VALUE}(\textcolor{stringliteral}{"%s"}, dns1Addr);
        \hyperlink{le__print_8h_a1a6709c55d8d08c496846ba2295138b7}{LE\_PRINT\_VALUE}(\textcolor{stringliteral}{"%s"}, dns2Addr);

        \hyperlink{app_stop_client_8c_a2b6c4b2a795957a91039524b524be480}{snprintf}(systemCmd, \textcolor{keyword}{sizeof}(systemCmd), \textcolor{stringliteral}{"/sbin/route -A inet6 add default gw %s"},
                                                gatewayAddr);
    \}

    sleep(5);

    \hyperlink{le__log_8h_a2a91ea8857cf190fde71d85ba930a498}{LE\_DEBUG}(\textcolor{stringliteral}{"%s"}, systemCmd);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}( system(systemCmd) == 0 );

    \textcolor{comment}{// allow fopen to create file with mode=644}
    oldMask = \hyperlink{update_daemon_8c_aa5c063c7e6dcd964c817f5fe9b1d72fc}{umask}(022);

    \textcolor{comment}{// open the resolver configuration}
    resolvFilePtr = fopen(\textcolor{stringliteral}{"/etc/resolv.conf"}, \textcolor{stringliteral}{"w+"});

    \textcolor{keywordflow}{if} (resolvFilePtr == NULL)
    \{
        \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"Unable to open resolv.conf: %m"});
    \}
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}( resolvFilePtr != NULL );

    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}( fprintf(resolvFilePtr, \textcolor{stringliteral}{"nameserver %s\(\backslash\)n"}, dns1Addr) > 0 );

    \textcolor{keywordflow}{if} (dns2Addr[0] != \textcolor{charliteral}{'\(\backslash\)0'})
    \{
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}( fprintf(resolvFilePtr, \textcolor{stringliteral}{"nameserver %s\(\backslash\)n"}, dns2Addr) > 0 );
    \}

    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}( fclose(resolvFilePtr) == 0 );

    \textcolor{comment}{// restore old mask}
    \hyperlink{update_daemon_8c_aa5c063c7e6dcd964c817f5fe9b1d72fc}{umask}(oldMask);
\}
\end{DoxyCodeInclude}
\hypertarget{c_mdcDataStatistics}{}\paragraph{Sample code for Data Statistics}\label{c_mdcDataStatistics}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test the connectivity.}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keywordtype}{void} TestConnectivity
(
    \hyperlink{le__mdc__interface_8h_a91074d8f0d88c6645e3085dfadf87011}{le\_mdc\_ProfileRef\_t} profileRef
)
\{
    \textcolor{keywordtype}{int} status;
    \textcolor{keywordtype}{char} systemCmd[200] = \{0\};
    \textcolor{keywordtype}{char} itfName[\hyperlink{le__mdc__interface_8h_a33ebf9afd03f0ffc91a80c32c15afb42}{LE\_MDC\_INTERFACE\_NAME\_MAX\_BYTES}] = \textcolor{stringliteral}{"\(\backslash\)0"};
    \hyperlink{le__mdc__interface_8h_a7a9d8c4b2053b048a53257ed810f527e}{le\_mdc\_DataBearerTechnology\_t} downlinkDataBearerTech;
    \hyperlink{le__mdc__interface_8h_a7a9d8c4b2053b048a53257ed810f527e}{le\_mdc\_DataBearerTechnology\_t} uplinkDataBearerTech;
    uint64\_t rxBytes = 0, txBytes = 0;
    uint64\_t latestRxBytes = 0, latestTxBytes = 0;

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mdc__interface_8h_a1b17bb87b347162013b5ad608cdcda2d}{le\_mdc\_GetDataBearerTechnology}(profileRef,
                                                &downlinkDataBearerTech,
                                                &uplinkDataBearerTech));

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"downlinkDataBearerTech %d, uplinkDataBearerTech %d"},
            downlinkDataBearerTech, uplinkDataBearerTech);

    \textcolor{comment}{// Get interface name}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mdc__interface_8h_a4c22a8691d6e6a69270a7ed6ab9974af}{le\_mdc\_GetInterfaceName}(profileRef, itfName, 
      \hyperlink{le__mdc__interface_8h_a33ebf9afd03f0ffc91a80c32c15afb42}{LE\_MDC\_INTERFACE\_NAME\_MAX\_BYTES}));

    \textcolor{keywordflow}{if} (\hyperlink{le__mdc__interface_8h_aa3912e94864a6e5862e07f58b3772cba}{le\_mdc\_IsIPv4}(profileRef))
    \{
        \hyperlink{app_stop_client_8c_a2b6c4b2a795957a91039524b524be480}{snprintf}(systemCmd, \textcolor{keyword}{sizeof}(systemCmd), \textcolor{stringliteral}{"ping -c 4 www.sierrawireless.com -I %s"}, itfName);
    \}
    \textcolor{keywordflow}{else}
    \{
        \textcolor{comment}{// TODO ping6 needs raw access to socket and therefore root permissions => find a different}
        \textcolor{comment}{// way to test the connectivity}
        \hyperlink{app_stop_client_8c_a2b6c4b2a795957a91039524b524be480}{snprintf}(systemCmd, \textcolor{keyword}{sizeof}(systemCmd), \textcolor{stringliteral}{"ping6 -c 4 www.sierrawireless.com -I %s"}, itfName);
    \}

    \textcolor{comment}{// Ping to test the connectivity}
    status = system(systemCmd);
    \textcolor{keywordflow}{if} (WEXITSTATUS(status))
    \{
        \hyperlink{le__mdc__interface_8h_a53453f85065c3cace0922150b7e3d869}{le\_mdc\_StopSession}(profileRef);
    \}
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(!WEXITSTATUS(status));

    \textcolor{comment}{// Get data counters}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mdc__interface_8h_aaad833c105f7d0ae77f18195d6739080}{le\_mdc\_GetBytesCounters}(&rxBytes, &txBytes));
    latestRxBytes = rxBytes;
    latestTxBytes = txBytes;
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"rxBytes %"}PRIu64\textcolor{stringliteral}{", txBytes %"}PRIu64, rxBytes, txBytes);

    \textcolor{comment}{// Stop data counters and ping to test the connectivity}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mdc__interface_8h_a1d6007bc8f84e5e4869af4af11b7363f}{le\_mdc\_StopBytesCounter}());
    status = system(systemCmd);
    \textcolor{keywordflow}{if} (WEXITSTATUS(status))
    \{
        \hyperlink{le__mdc__interface_8h_a53453f85065c3cace0922150b7e3d869}{le\_mdc\_StopSession}(profileRef);
    \}
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(!WEXITSTATUS(status));

    \textcolor{comment}{// Get data counters}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mdc__interface_8h_aaad833c105f7d0ae77f18195d6739080}{le\_mdc\_GetBytesCounters}(&rxBytes, &txBytes));
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"rxBytes %"}PRIu64\textcolor{stringliteral}{", txBytes %"}PRIu64, rxBytes, txBytes);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(latestRxBytes == rxBytes);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(latestTxBytes == txBytes);

    \textcolor{comment}{// Start data counters}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mdc__interface_8h_a30f390941d98c9e9c4144a5e035da3aa}{le\_mdc\_StartBytesCounter}());
\}
\end{DoxyCodeInclude}
\hypertarget{c_mrc}{}\subsubsection{Modem Radio Control}\label{c_mrc}
\hyperlink{le__mrc__interface_8h}{A\+PI Reference}





The Modem Radio Control (M\+RC) A\+P\+Is is used to control cellular network environments.

It\textquotesingle{}s important for many M2M apps to know details about cellular network environments (like network registration and signal quality). It allows you to limit some M2M services based on the reliability of the network environment, and provides information to control power consumption (power on or shutdown the radio module).\hypertarget{c_mrc_le_mrc_binding}{}\paragraph{I\+P\+C interfaces binding}\label{c_mrc_le_mrc_binding}
All the functions of this A\+PI are provided by the {\bfseries modem\+Service} service.

Here\textquotesingle{}s a code sample binding to modem services\+: \begin{DoxyVerb}bindings:
{
   clientExe.clientComponent.le_mrc -> modemService.le_mrc
}
\end{DoxyVerb}
\hypertarget{c_mrc_le_mrc_power}{}\paragraph{Radio Power Management}\label{c_mrc_le_mrc_power}
\hyperlink{le__mrc__interface_8h_a78bd27d92337e2122320f41bcaa5480f}{le\+\_\+mrc\+\_\+\+Set\+Radio\+Power()} A\+PI allows the application to power up or shutdown the radio module.

\hyperlink{le__mrc__interface_8h_aac51332c6c84e460746eb1ad45c064d6}{le\+\_\+mrc\+\_\+\+Get\+Radio\+Power()} A\+PI displays radio module power state.

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mrcRadioPower}{Sample code for Radio Power Management}
\end{DoxyItemize}\hypertarget{c_mrc_le_mrc_configuration}{}\paragraph{Radio Configuration preferences}\label{c_mrc_le_mrc_configuration}
The following functions let you configure and retrieve the radio configuration preferences\+: \hyperlink{le__mrc__interface_8h_acb434a9f91afb5b6639baf3678ee9388}{le\+\_\+mrc\+\_\+\+Set\+Automatic\+Register\+Mode()}, \hyperlink{le__mrc__interface_8h_ac694b8aa7543eb9f058e77a844a5c0bf}{le\+\_\+mrc\+\_\+\+Set\+Manual\+Register\+Mode()} and \hyperlink{le__mrc__interface_8h_a9ad2729c28e97ae450f7aee0865197f6}{le\+\_\+mrc\+\_\+\+Get\+Register\+Mode()} let you set/get the selected Scan mode.

\hyperlink{le__mrc__interface_8h_ac808b4dc721e031566da92e00663c027}{le\+\_\+mrc\+\_\+\+Set\+Band\+Preferences()}, \hyperlink{le__mrc__interface_8h_a04418f56480070ba6c4f3d176dafaa37}{le\+\_\+mrc\+\_\+\+Get\+Band\+Preferences()} let you set/get the 2\+G/3G band preferences by using a bit mask built with {\ttfamily le\+\_\+mrc\+\_\+\+Band\+Bit\+Mask\+\_\+t} 

The 2\+G/3G band preferences can be\+:
\begin{DoxyItemize}
\item Band-\/\+Class-\/0-\/\+A-\/\+System
\item Band-\/\+Class-\/0-\/\+B-\/\+System
\item Band-\/\+Class-\/1-\/\+All-\/\+Blocks
\item Band-\/\+Class-\/2-\/\+Placeholder
\item Band-\/\+Class-\/3-\/\+A-\/\+System
\item Band-\/\+Class-\/4-\/\+All-\/\+Blocks
\item Band-\/\+Class-\/5-\/\+All-\/\+Blocks
\item Band-\/\+Class-\/6
\item Band-\/\+Class-\/7
\item Band-\/\+Class-\/8
\item Band-\/\+Class-\/9
\item Band-\/\+Class-\/10
\item Band-\/\+Class-\/11
\item Band-\/\+Class-\/12
\item Band-\/\+Class-\/13
\item Band-\/\+Class-\/14
\item Band-\/\+Class-\/15
\item Band-\/\+Class-\/16
\item Band-\/\+Class-\/17
\item Band-\/\+Class-\/18
\item Band-\/\+Class-\/19
\item G\+S\+M-\/\+D\+C\+S-\/1800
\item E-\/\+G\+S\+M-\/900 (for Extended G\+SM 900 band)
\item Primary-\/\+G\+S\+M-\/900
\item G\+S\+M-\/450
\item G\+S\+M-\/480
\item G\+S\+M-\/750
\item G\+S\+M-\/850
\item G\+S\+M\+R-\/900 (for G\+SM Railways G\+SM 900 band)
\item G\+S\+M-\/\+P\+C\+S-\/1900
\item W\+C\+D\+M\+A-\/\+E\+U-\/\+J-\/\+C\+H-\/\+I\+M\+T-\/2100 (for W\+C\+D\+MA Europe, Japan, and China I\+MT 2100 band)
\item W\+C\+D\+M\+A-\/\+U\+S-\/\+P\+C\+S-\/1900 (for W\+C\+D\+MA U.\+S. P\+CS 1900 band)
\item W\+C\+D\+M\+A-\/\+E\+U-\/\+C\+H-\/\+D\+C\+S-\/1800 (for W\+C\+D\+MA Europe and China D\+CS 1800 band)
\item W\+C\+D\+M\+A-\/\+U\+S-\/1700 (for W\+C\+D\+MA U.\+S. 1700 band)
\item W\+C\+D\+M\+A-\/\+U\+S-\/850 (for W\+C\+D\+MA U.\+S. 850 band)
\item W\+C\+D\+M\+A-\/\+J-\/800 (for W\+C\+D\+MA Japan 800 band)
\item W\+C\+D\+M\+A-\/\+E\+U-\/2600 (for W\+C\+D\+MA Europe 2600 band)
\item W\+C\+D\+M\+A-\/\+E\+U-\/\+J-\/900 (for W\+C\+D\+MA Europe and Japan 900 band)
\item W\+C\+D\+M\+A-\/\+J-\/1700 (for W\+C\+D\+MA Japan 1700 band)
\end{DoxyItemize}

\hyperlink{le__mrc__interface_8h_a21d2fe7c736e9a4a342dcc461a5d6e02}{le\+\_\+mrc\+\_\+\+Set\+Lte\+Band\+Preferences()}, \hyperlink{le__mrc__interface_8h_af4ec5bd36ba8df68bc12a10618268742}{le\+\_\+mrc\+\_\+\+Get\+Lte\+Band\+Preferences()} let you set/get the L\+TE band preferences by using a bit mask built with {\ttfamily le\+\_\+mrc\+\_\+\+Lte\+Band\+Bit\+Mask\+\_\+t}.

The L\+TE band preferences can be 0 to 43 except 15, 16, 22, 23, and 26 to 32.

\hyperlink{le__mrc__interface_8h_a8765511597189b64e486fa8f17bcddcd}{le\+\_\+mrc\+\_\+\+Set\+Td\+Scdma\+Band\+Preferences()}, \hyperlink{le__mrc__interface_8h_aed41544004ed7df9de8e874b8bb09d3b}{le\+\_\+mrc\+\_\+\+Get\+Td\+Scdma\+Band\+Preferences()} let you set/get the T\+D-\/\+S\+C\+D\+MA band preferences by using a bit mask built with {\ttfamily le\+\_\+mrc\+\_\+\+Td\+Scdma\+Band\+Bit\+Mask\+\_\+t} 

The T\+D-\/\+S\+C\+D\+MA band preferences can be \textquotesingle{}A\textquotesingle{} to \textquotesingle{}F\textquotesingle{}

\begin{DoxyWarning}{Warning}
Ensure to check the supported preferences for your specific platform.
\end{DoxyWarning}
\hyperlink{le__mrc__interface_8h_a5128219051d27ee12711744aafd48418}{le\+\_\+mrc\+\_\+\+Add\+Preferred\+Operator()} , \hyperlink{le__mrc__interface_8h_ad974cf77b5ccce8e36495aab315dd3e4}{le\+\_\+mrc\+\_\+\+Remove\+Preferred\+Operator()} to add/remove a preferred operator by specifying the M\+C\+C/\+M\+NC and the Radio Access Technology.

\hyperlink{le__mrc__interface_8h_a1ea0d2943accd51d3b428e0e6c94d297}{le\+\_\+mrc\+\_\+\+Get\+Preferred\+Operators\+List()}, \hyperlink{le__mrc__interface_8h_a9648b653b7551cd065ec323b96a0aa1b}{le\+\_\+mrc\+\_\+\+Get\+First\+Preferred\+Operator()}, \hyperlink{le__mrc__interface_8h_a896703cabaacf97a70708d944cfbfc87}{le\+\_\+mrc\+\_\+\+Get\+Next\+Preferred\+Operator()}, \hyperlink{le__mrc__interface_8h_a60679f563ffecc8f107425b806edcdf0}{le\+\_\+mrc\+\_\+\+Delete\+Preferred\+Operators\+List()}, \hyperlink{le__mrc__interface_8h_a0ea2ddea624145387c5be285de1f59e5}{le\+\_\+mrc\+\_\+\+Get\+Preferred\+Operator\+Details()} let you retrieve a list of the selected preferred operators and get their details.

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mrcRadioConfigurationPreferences}{Sample code for Radio Configuration Preferences}
\end{DoxyItemize}\hypertarget{c_mrc_le_mrc_NetworkRejectHandler}{}\paragraph{Report Network Reject Indication}\label{c_mrc_le_mrc_NetworkRejectHandler}
The application can register a handler function to report network reject with M\+N\+C/\+M\+CC code and the Radio Access Technology using \hyperlink{le__mrc__interface_8h_af3a8698b1b5c75d301b45aa129f80f62}{le\+\_\+mrc\+\_\+\+Add\+Network\+Reject\+Handler()} A\+PI.

\hyperlink{le__mrc__interface_8h_aa07a993c6457767f0a5a168a1681fa26}{le\+\_\+mrc\+\_\+\+Remove\+Network\+Reject\+Handler()} A\+PI uninstalls the handler function.\hypertarget{c_mrc_le_mrc_capabilities}{}\paragraph{Radio Capabilities}\label{c_mrc_le_mrc_capabilities}
\hyperlink{le__mrc__interface_8h_a7cb0a206729c652692701cd24226d34f}{le\+\_\+mrc\+\_\+\+Get\+Band\+Capabilities()} let you get the 2\+G/3G band capabilities by retrieving a bit mask built with {\ttfamily le\+\_\+mrc\+\_\+\+Band\+Bit\+Mask\+\_\+t} 

\hyperlink{le__mrc__interface_8h_ad6b44639b1d9755b92720d5184ee2515}{le\+\_\+mrc\+\_\+\+Get\+Lte\+Band\+Capabilities()} let you get the L\+TE band capabilities by retrieving a bit mask built with {\ttfamily le\+\_\+mrc\+\_\+\+Lte\+Band\+Bit\+Mask\+\_\+t} 

\hyperlink{le__mrc__interface_8h_adfa81f2361744bc67697221845713a98}{le\+\_\+mrc\+\_\+\+Get\+Td\+Scdma\+Band\+Capabilities()} let you get the T\+D-\/\+S\+C\+D\+MA band capabilities by retrieving a bit mask built with {\ttfamily le\+\_\+mrc\+\_\+\+Td\+Scdma\+Band\+Bit\+Mask\+\_\+t} 

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mrcBandCapabilities}{Sample code for Band Capabilities}
\end{DoxyItemize}\hypertarget{c_mrc_le_mrc_rat}{}\paragraph{Radio Access Technology (\+R\+A\+T)}\label{c_mrc_le_mrc_rat}
\hyperlink{le__mrc__interface_8h_a3ad9533c467cec0902d5d165bb32d67b}{le\+\_\+mrc\+\_\+\+Get\+Radio\+Access\+Tech\+In\+Use()} A\+PI retrieves the current active Radio Access Technology (R\+AT). \begin{DoxyNote}{Note}
The A\+PI returns the R\+AT only if the device is registered on the network.
\end{DoxyNote}
The application can register a handler function to retrieve the Radio Access Technology each time the R\+AT changes.

\hyperlink{le__mrc__interface_8h_aedd9c526588a8298322525cfba6f875d}{le\+\_\+mrc\+\_\+\+Add\+Rat\+Change\+Handler()} A\+PI installs a R\+AT change handler.

\hyperlink{le__mrc__interface_8h_a818abae622b5d2cb3cfec53b15f7023e}{le\+\_\+mrc\+\_\+\+Remove\+Rat\+Change\+Handler()} A\+PI uninstalls the handler function.

\hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\+\_\+mrc\+\_\+\+Set\+Rat\+Preferences()}, \hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\+\_\+mrc\+\_\+\+Get\+Rat\+Preferences()} let you set/get the Radio Access Technology preferences by using a bit mask built with {\ttfamily le\+\_\+mrc\+\_\+\+Rat\+Bit\+Mask\+\_\+t}.

The Radio Access Technology preferences can be\+:
\begin{DoxyItemize}
\item C\+D\+MA (C\+D\+M\+A2000-\/1X + C\+D\+M\+A2000-\/\+H\+R\+PD)
\item G\+SM
\item U\+M\+TS (U\+M\+TS)
\item T\+D\+S\+C\+D\+MA (T\+D-\/\+S\+C\+D\+MA)
\item L\+TE
\end{DoxyItemize}

\begin{DoxyNote}{Note}
L\+E\+\_\+\+M\+R\+C\+\_\+\+B\+I\+T\+M\+A\+S\+K\+\_\+\+R\+A\+T\+\_\+\+A\+LL value can be used to select the R\+AT in automatic mode.
\end{DoxyNote}
A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mrcRAT}{Sample code for Radio Access Technology}
\end{DoxyItemize}\hypertarget{c_mrc_le_mrc_registration}{}\paragraph{Network Registration}\label{c_mrc_le_mrc_registration}
\hyperlink{le__mrc__interface_8h_a4f11e27862fef384c0023f5b538e543d}{le\+\_\+mrc\+\_\+\+Get\+Net\+Reg\+State()} A\+PI retrieves the radio module network registration status.

The application can register a handler function to retrieve the registration status each time the registration state changes.

\hyperlink{le__mrc__interface_8h_a929745b84719754d28f539540f71a552}{le\+\_\+mrc\+\_\+\+Add\+Net\+Reg\+State\+Event\+Handler()} A\+PI installs a registration state handler.

\hyperlink{le__mrc__interface_8h_a619adffdee5b1760348a1aa1331ac108}{le\+\_\+mrc\+\_\+\+Remove\+Net\+Reg\+State\+Event\+Handler()} A\+PI uninstalls the handler function. \begin{DoxyNote}{Note}
If only one handler is registered, the le\+\_\+mrc\+\_\+\+Remove\+Net\+Reg\+State\+Handler() A\+PI resets the registration mode to its original value before any handler functions were added.
\end{DoxyNote}
\hyperlink{le__mrc__interface_8h_ac694b8aa7543eb9f058e77a844a5c0bf}{le\+\_\+mrc\+\_\+\+Set\+Manual\+Register\+Mode()} A\+PI registers on a cellular network.

Call \hyperlink{le__mrc__interface_8h_a5b40356a56f524f5f5c9e5744687919d}{le\+\_\+mrc\+\_\+\+Set\+Manual\+Register\+Mode\+Async()} function to set the manual registration mode asynchronously. The function is not blocking. The response will be returned with the {\ttfamily le\+\_\+mrc\+\_\+\+Manual\+Selection\+Handler\+Func\+\_\+t} handler function.

When the network registration fails, the platform specific network registration error code can be known by using \hyperlink{le__mrc__interface_8h_a153247be5ea13ae2bc13ace0dd8c739c}{le\+\_\+mrc\+\_\+\+Get\+Platform\+Specific\+Registration\+Error\+Code()} A\+PI. Please refer to \hyperlink{platformConstraintsSpecificErrorCodes}{Platform specific error codes} for platform specific registration error code description.

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mrcNetworkRegistration}{Sample code for Network Registration}
\end{DoxyItemize}\hypertarget{c_mrc_le_mrc_service}{}\paragraph{Packet services state}\label{c_mrc_le_mrc_service}
\hyperlink{le__mrc__interface_8h_a2be4a96c3dfd80a63832203f22a661bb}{le\+\_\+mrc\+\_\+\+Get\+Packet\+Switched\+State()} A\+PI retrieves the current Packet Switched state \hyperlink{le__mrc__interface_8h_ae2877a1e1252ac79e6c9cae3d3c25a61}{le\+\_\+mrc\+\_\+\+Net\+Reg\+State\+\_\+t}.

The Packet Switched services state can be\+:
\begin{DoxyItemize}
\item N\+O\+NE
\item H\+O\+ME
\item R\+O\+A\+M\+I\+NG
\end{DoxyItemize}

The application can register a handler function to retrieve the Packet Switched state each time the service state changes.

\hyperlink{le__mrc__interface_8h_ad407c67e0e2bd3d040e2cbbc6338ec2e}{le\+\_\+mrc\+\_\+\+Add\+Packet\+Switched\+Change\+Handler()} A\+PI installs a Packet Switched state handler.

\hyperlink{le__mrc__interface_8h_a77a657cf71ac533bd8da6772348fc04f}{le\+\_\+mrc\+\_\+\+Remove\+Packet\+Switched\+Change\+Handler()} A\+PI uninstalls the handler function.

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mrcGetService}{Sample code for Get the Current Packet Switched state}
\end{DoxyItemize}\hypertarget{c_mrc_le_mrc_signal}{}\paragraph{Signal Quality}\label{c_mrc_le_mrc_signal}
\hyperlink{le__mrc__interface_8h_a717aa0f4e4dc9a83b6adc2f26f3f0258}{le\+\_\+mrc\+\_\+\+Get\+Signal\+Qual()} retrieves the received signal strength details.

You must call \hyperlink{le__mrc__interface_8h_ad3662723a7ed47cf45d9a2eaaa1fb16e}{le\+\_\+mrc\+\_\+\+Measure\+Signal\+Metrics()} to measure the signal metrics of the serving cell (aka the \textquotesingle{}serving\textquotesingle{} cell). It returns a reference of le\+\_\+mrc\+\_\+\+Metrics\+Ref\+\_\+t type.

When the signal metrics are no longer needed, you must call \hyperlink{le__mrc__interface_8h_a20addd98ee6cb07f9ee1a45be01b5203}{le\+\_\+mrc\+\_\+\+Delete\+Signal\+Metrics()} to free all allocated ressources associated with the Metrics object.

\hyperlink{le__mrc__interface_8h_a5564bace31c937bcef096e597f33d3a4}{le\+\_\+mrc\+\_\+\+Get\+Rat\+Of\+Signal\+Metrics()} returns the Radio Access Technology of the signal measures.

\hyperlink{le__mrc__interface_8h_a9d7243b29bf4c705c4eba83fa3799582}{le\+\_\+mrc\+\_\+\+Get\+Gsm\+Signal\+Metrics()} the signal strength in d\+Bm and the bit error rate measured on G\+SM network.

\hyperlink{le__mrc__interface_8h_a456648564abfc8e9711b60a5d8bddc9b}{le\+\_\+mrc\+\_\+\+Get\+Umts\+Signal\+Metrics()} returns the signal metrics measured on U\+M\+TS or T\+D-\/\+S\+C\+D\+MA networks.

\hyperlink{le__mrc__interface_8h_a030880c064afbf2686726fd2e538adfe}{le\+\_\+mrc\+\_\+\+Get\+Lte\+Signal\+Metrics()} returns the signal metrics measured on L\+TE network.

\hyperlink{le__mrc__interface_8h_a09ff33b24fd01be18a145b2b3f1f579a}{le\+\_\+mrc\+\_\+\+Get\+Cdma\+Signal\+Metrics()} returns the signal metrics measured on C\+D\+MA network.

The application can register a handler function to get notifications when the signal strength changes of a certain threshold value.

\hyperlink{le__mrc__interface_8h_ab62b444715b2b530efe5d397eb86a6e8}{le\+\_\+mrc\+\_\+\+Add\+Signal\+Strength\+Change\+Handler()} A\+PI installs a signal strength change handler. The R\+AT, the lower-\/range and the upper-\/range thresholds must be passed as input parameters. These parameters are updated each time the function is called, the previous thresholds are replaced by the new ones if the function is called with the same R\+AT. The event is notified when we cross the range limits in both direction.

\begin{DoxyWarning}{Warning}
A fatal error will be thrown if the R\+AT is not valid and the le\+\_\+mrc\+\_\+\+Add\+Signal\+Strength\+Change\+Handler function won\textquotesingle{}t return.
\end{DoxyWarning}
\hyperlink{le__mrc__interface_8h_ade04ec8db3b79c1555b3ab4bdb052216}{le\+\_\+mrc\+\_\+\+Remove\+Signal\+Strength\+Change\+Handler()} A\+PI uninstalls the handler function.

\hyperlink{le__mrc__interface_8h_aa7883e8c1193c7c8efc87b42cd07c502}{le\+\_\+mrc\+\_\+\+Set\+Signal\+Strength\+Ind\+Thresholds()} A\+PI changes or sets new thresholds.

\hyperlink{le__mrc__interface_8h_a0f2b4015962c83ec9a74ee68f7b509fd}{le\+\_\+mrc\+\_\+\+Set\+Signal\+Strength\+Ind\+Delta()} A\+PI sets a signal strength indication delta value for a specific R\+AT. The event is notified when the delta range is crossed in both direction.

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mrcQuality}{Sample code for Signal Quality}
\end{DoxyItemize}\hypertarget{c_mrc_le_mrc_location}{}\paragraph{Serving cell\textquotesingle{}s location information}\label{c_mrc_le_mrc_location}
\hyperlink{le__mrc__interface_8h_aafc9fb71c3013b7b26dc386b13ca4a85}{le\+\_\+mrc\+\_\+\+Get\+Serving\+Cell\+Id()} retrieves the the serving Cell Identifier.

\hyperlink{le__mrc__interface_8h_a8ba03765e7595f85783f6f6a022311f8}{le\+\_\+mrc\+\_\+\+Get\+Serving\+Cell\+Loc\+Area\+Code()} retrieves the Location Area Code of the serving cell.

\hyperlink{le__mrc__interface_8h_a856dc7825b4fa8de095f26020e03f015}{le\+\_\+mrc\+\_\+\+Get\+Serving\+Cell\+Lte\+Trac\+Area\+Code()} retrieves the the Tracking Area Code of the serving cell (L\+TE only).

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mrcLocationinformation}{Sample code for Location information}
\end{DoxyItemize}\hypertarget{c_mrc_le_mrc_network_information}{}\paragraph{Current Network Information}\label{c_mrc_le_mrc_network_information}
\hyperlink{le__mrc__interface_8h_a45fe1941f520c1e4a23b2794dd2a8232}{le\+\_\+mrc\+\_\+\+Get\+Current\+Network\+Name()} retrieves the Current Network Name. \hyperlink{le__mrc__interface_8h_ac1a0c4fad80538c7df63176576e1d9a3}{le\+\_\+mrc\+\_\+\+Get\+Current\+Network\+Mcc\+Mnc()} retrieves the Current Network P\+L\+MN information.

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mrcGetCurrentNetwork}{Sample code for Get Current Network Information}
\end{DoxyItemize}\hypertarget{c_mrc_le_mrc_networkScan}{}\paragraph{Network Scan}\label{c_mrc_le_mrc_networkScan}
Call \hyperlink{le__mrc__interface_8h_ab4a246dd466fa8175aca0158e0cab227}{le\+\_\+mrc\+\_\+\+Perform\+Cellular\+Network\+Scan()} to fill a list of all network in sight. You can go through all Scan Information by calling \hyperlink{le__mrc__interface_8h_ae006d053b037cec589aa85053472a2af}{le\+\_\+mrc\+\_\+\+Get\+First\+Cellular\+Network\+Scan()} and \hyperlink{le__mrc__interface_8h_ae0ca9f0c1c106d6ddeef784c6bb0d69b}{le\+\_\+mrc\+\_\+\+Get\+Next\+Cellular\+Network\+Scan()}.

Call \hyperlink{le__mrc__interface_8h_ab66e29d054d7902c61f87e79fd6d987f}{le\+\_\+mrc\+\_\+\+Perform\+Cellular\+Network\+Scan\+Async()} to start a network scan asynchronously. The function is not blocking. The scan list reference will be returned with the handler function response ({\ttfamily le\+\_\+mrc\+\_\+\+Cellular\+Network\+Scan\+Handler\+Func\+\_\+t}).

For each Scan Information, you can call\+:


\begin{DoxyItemize}
\item \hyperlink{le__mrc__interface_8h_aad275d839efe8b2b5eafe65ef87bd3d3}{le\+\_\+mrc\+\_\+\+Get\+Cellular\+Network\+Mcc\+Mnc()} to have the operator code.
\item \hyperlink{le__mrc__interface_8h_a6fcb9785c79cb9f8a4d1bef2484ca9d5}{le\+\_\+mrc\+\_\+\+Get\+Cellular\+Network\+Name()} to get the operator name.
\item \hyperlink{le__mrc__interface_8h_ad33fbe1d2b7acee0e47f3e54cab78274}{le\+\_\+mrc\+\_\+\+Get\+Cellular\+Network\+Rat()} to get the radio access technology.
\item \hyperlink{le__mrc__interface_8h_a4c859fc1364c183aa1d26a022db365c6}{le\+\_\+mrc\+\_\+\+Is\+Cellular\+Network\+In\+Use()} to check if this is currently in use by the network.
\item \hyperlink{le__mrc__interface_8h_a72ca8072f90d453169baff44441c41c0}{le\+\_\+mrc\+\_\+\+Is\+Cellular\+Network\+Available()} to check if this is available.
\item \hyperlink{le__mrc__interface_8h_a7333dfc638f50524f9c6fd81457828ba}{le\+\_\+mrc\+\_\+\+Is\+Cellular\+Network\+Home()} to check if this is in home status.
\item \hyperlink{le__mrc__interface_8h_a699a52d014550124a5b3362ee888a780}{le\+\_\+mrc\+\_\+\+Is\+Cellular\+Network\+Forbidden()} to check if this is forbidden by the network.
\end{DoxyItemize}

\hyperlink{le__mrc__interface_8h_ac45ce335b3fa063b83bb925e67eeaeb3}{le\+\_\+mrc\+\_\+\+Delete\+Cellular\+Network\+Scan()} should be called when you do not need the list anymore.

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mrcNetworkScan}{Sample code for Network Scan}
\end{DoxyItemize}\hypertarget{c_mrc_le_mrc_ngbr}{}\paragraph{Neighboring Cells Information}\label{c_mrc_le_mrc_ngbr}
\begin{DoxyWarning}{Warning}
The following functions do not apply to C\+D\+MA network.
\end{DoxyWarning}
You must call \hyperlink{le__mrc__interface_8h_a8d44fe46e61f3399c5e0dd6002b042ae}{le\+\_\+mrc\+\_\+\+Get\+Neighbor\+Cells\+Info()} to retrieve the neighboring cells information. It returns a reference of le\+\_\+mrc\+\_\+\+Neighbor\+Cells\+Ref\+\_\+t type.

When the neighboring cells information is no longer needed, you must call \hyperlink{le__mrc__interface_8h_a101343359e8d36ab41180aede2891b07}{le\+\_\+mrc\+\_\+\+Delete\+Neighbor\+Cells\+Info()} to free all allocated resources associated with the object.

Then, you can use the following function to get the information\+:
\begin{DoxyItemize}
\item \hyperlink{le__mrc__interface_8h_ab50724fd74818d71da1dfcd2217dd795}{le\+\_\+mrc\+\_\+\+Get\+First\+Neighbor\+Cell\+Info()} and \hyperlink{le__mrc__interface_8h_ab50724fd74818d71da1dfcd2217dd795}{le\+\_\+mrc\+\_\+\+Get\+First\+Neighbor\+Cell\+Info()} allow to go among the single cell information retrieved with \hyperlink{le__mrc__interface_8h_a8d44fe46e61f3399c5e0dd6002b042ae}{le\+\_\+mrc\+\_\+\+Get\+Neighbor\+Cells\+Info()}. These two functions return a reference of le\+\_\+mrc\+\_\+\+Cell\+Info\+Ref\+\_\+t type.
\item \hyperlink{le__mrc__interface_8h_abdbc94e474235417d8610e2eb95558eb}{le\+\_\+mrc\+\_\+\+Get\+Neighbor\+Cell\+Id()} gets the identifier of the cell specified with the le\+\_\+mrc\+\_\+\+Cell\+Info\+Ref\+\_\+t parameter (can be called for any kind of R\+AT). U\+I\+N\+T32\+\_\+\+M\+AX value is returned if the value is not available.
\item \hyperlink{le__mrc__interface_8h_a70ba0ca70367bc673a6bca1e246bb88f}{le\+\_\+mrc\+\_\+\+Get\+Neighbor\+Cell\+Loc\+Area\+Code()} gets the location area code of the cell specified with the le\+\_\+mrc\+\_\+\+Cell\+Info\+Ref\+\_\+t parameter (can be called for any kind of R\+AT). U\+I\+N\+T16\+\_\+\+M\+AX value is returned if the value is not available.
\item \hyperlink{le__mrc__interface_8h_aeae116235802afd041afd9df009642aa}{le\+\_\+mrc\+\_\+\+Get\+Neighbor\+Cell\+Rx\+Level()} gets the signal strength (in d\+Bm) of the cell specified with the le\+\_\+mrc\+\_\+\+Cell\+Info\+Ref\+\_\+t parameter (can be called for any kind of R\+AT).
\item \hyperlink{le__mrc__interface_8h_a5bb3e75b74260a9cee57247e1968a31f}{le\+\_\+mrc\+\_\+\+Get\+Neighbor\+Cell\+Rat()} gets the Radio Access Technology of the cell specified with the le\+\_\+mrc\+\_\+\+Cell\+Info\+Ref\+\_\+t parameter.
\item \hyperlink{le__mrc__interface_8h_a94e452e3d7063d3359dcbb97a31b984b}{le\+\_\+mrc\+\_\+\+Get\+Neighbor\+Cell\+Umts\+Ec\+Io()} gets the Ec/\+Io (the received energy per chip divided by the power density in the band measured in d\+Bm on the primary C\+P\+I\+CH channel of serving cell) of the cell specified with the le\+\_\+mrc\+\_\+\+Cell\+Info\+Ref\+\_\+t parameter.
\item \hyperlink{le__mrc__interface_8h_a7754836120c34cd2610b9777bd56409f}{le\+\_\+mrc\+\_\+\+Get\+Neighbor\+Cell\+Lte\+Intra\+Freq()} gets the R\+S\+RP and R\+S\+RQ of the Interfrequency of the cell specified with the le\+\_\+mrc\+\_\+\+Cell\+Info\+Ref\+\_\+t parameter.
\item \hyperlink{le__mrc__interface_8h_a331545d4e396c513bba028db981c016b}{le\+\_\+mrc\+\_\+\+Get\+Neighbor\+Cell\+Lte\+Inter\+Freq()} gets the R\+S\+RP and R\+S\+RQ of the Interfrequency of the cell specified with the le\+\_\+mrc\+\_\+\+Cell\+Info\+Ref\+\_\+t parameter.
\end{DoxyItemize}

A sample code can be seen in the following page\+:
\begin{DoxyItemize}
\item \hyperlink{c_mrcNeighborCells}{Sample code for Neighboring Cells Information}
\end{DoxyItemize}\hypertarget{c_mrc_le_mrc_jamming}{}\paragraph{Jamming detection}\label{c_mrc_le_mrc_jamming}
The jamming detection algorithm is based on power measurements and cell synchronization actions performed during a G\+SM network scan procedure. During this procedure some intermediate results are reported, that allows user to take some preventive actions if necessary. This result is reported as a jammed state probability. See \hyperlink{le__mrc__interface_8h_ac55bd8f71baee81d0021cc48f8ca0e09}{le\+\_\+mrc\+\_\+\+Jamming\+Status\+\_\+t} enumeration for probability description. Each time the jamming status changes during the scan procedure, it is reported to the user. See \hyperlink{le__mrc__interface_8h_a06440780b5eeaeed66051e5c81ff20df}{le\+\_\+mrc\+\_\+\+Jamming\+Report\+\_\+t} enumeration for details.

The jamming status is reported\+:
\begin{DoxyItemize}
\item In an unsolicited way, each time the protocol stack initiates a scan for P\+L\+MN selection or reselection.
\item On user demand, when a user P\+L\+MN scan is performed.
\end{DoxyItemize}

Call \hyperlink{le__mrc__interface_8h_ab1876d046a3aff763a2159da29f0481c}{le\+\_\+mrc\+\_\+\+Start\+Jamming\+Detection()} to launch jamming monitoring. By registering a handler by calling \hyperlink{le__mrc__interface_8h_a191db5e4637e5307db7ee10104128867}{le\+\_\+mrc\+\_\+\+Add\+Jamming\+Detection\+Event\+Handler()}, the notification on jamming detection can be sent to the registered application.

For each jamming detection monitoring, the following A\+P\+Is can be called\+:
\begin{DoxyItemize}
\item \hyperlink{le__mrc__interface_8h_ab1876d046a3aff763a2159da29f0481c}{le\+\_\+mrc\+\_\+\+Start\+Jamming\+Detection()} to start the jamming monitoring.
\item \hyperlink{le__mrc__interface_8h_a8cd71575d2d253e5b829bd120a70c491}{le\+\_\+mrc\+\_\+\+Stop\+Jamming\+Detection()} to stop the jamming monitoring.
\item \hyperlink{le__mrc__interface_8h_a191db5e4637e5307db7ee10104128867}{le\+\_\+mrc\+\_\+\+Add\+Jamming\+Detection\+Event\+Handler()} to register an event handler.
\item \hyperlink{le__mrc__interface_8h_a68746d5c30c0102321e7e922bd9375cd}{le\+\_\+mrc\+\_\+\+Remove\+Jamming\+Detection\+Event\+Handler()} to remove an event handler.
\end{DoxyItemize}





Copyright (C) Sierra Wireless Inc. \hypertarget{c_mrcRadioPower}{}\paragraph{Sample code for Radio Power Management}\label{c_mrcRadioPower}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Radio Power Management.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_Power
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t}   res;
    \hyperlink{le__basics_8h_ae2138c90c41d30e2d510be01d8b374da}{le\_onoff\_t}    onoff;

    res = \hyperlink{le__mrc__interface_8h_a78bd27d92337e2122320f41bcaa5480f}{le\_mrc\_SetRadioPower}(\hyperlink{le__basics_8h_ae2138c90c41d30e2d510be01d8b374daa66236546b5af0328d2db0e6970f67e50}{LE\_OFF});
    \textcolor{keywordflow}{if} (res != LE\_OK)
    \{
        \hyperlink{le__mrc__interface_8h_a78bd27d92337e2122320f41bcaa5480f}{le\_mrc\_SetRadioPower}(\hyperlink{le__basics_8h_ae2138c90c41d30e2d510be01d8b374daa73623e8b9450d62517b467b9be2afce8}{LE\_ON});
    \}
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    sleep(5);

    res = \hyperlink{le__mrc__interface_8h_aac51332c6c84e460746eb1ad45c064d6}{le\_mrc\_GetRadioPower}(&onoff);
    \textcolor{keywordflow}{if} ((res != LE\_OK) || (onoff == \hyperlink{le__basics_8h_ae2138c90c41d30e2d510be01d8b374daa66236546b5af0328d2db0e6970f67e50}{LE\_OFF}))
    \{
        \hyperlink{le__mrc__interface_8h_a78bd27d92337e2122320f41bcaa5480f}{le\_mrc\_SetRadioPower}(\hyperlink{le__basics_8h_ae2138c90c41d30e2d510be01d8b374daa73623e8b9450d62517b467b9be2afce8}{LE\_ON});
    \}
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(onoff == \hyperlink{le__basics_8h_ae2138c90c41d30e2d510be01d8b374daa66236546b5af0328d2db0e6970f67e50}{LE\_OFF});

    res = \hyperlink{le__mrc__interface_8h_a78bd27d92337e2122320f41bcaa5480f}{le\_mrc\_SetRadioPower}(\hyperlink{le__basics_8h_ae2138c90c41d30e2d510be01d8b374daa73623e8b9450d62517b467b9be2afce8}{LE\_ON});
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    sleep(5);

    res = \hyperlink{le__mrc__interface_8h_aac51332c6c84e460746eb1ad45c064d6}{le\_mrc\_GetRadioPower}(&onoff);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(onoff == \hyperlink{le__basics_8h_ae2138c90c41d30e2d510be01d8b374daa73623e8b9450d62517b467b9be2afce8}{LE\_ON});

    sleep(5);
\}
\end{DoxyCodeInclude}
\hypertarget{c_mrcRadioConfigurationPreferences}{}\paragraph{Sample code for Radio Configuration Preferences}\label{c_mrcRadioConfigurationPreferences}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: 2G/3G band Preferences mode.}
\textcolor{comment}{ *}
\textcolor{comment}{ * le\_mrc\_GetBandPreferences() API test}
\textcolor{comment}{ * le\_mrc\_SetBandPreferences() API test}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_BandPreferences
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res;
    \hyperlink{le__mrc__interface_8h_a048374324f72ee7df52c2e0521c0dda3}{le\_mrc\_BandBitMask\_t} bandMask = 0;
    \hyperlink{le__mrc__interface_8h_a048374324f72ee7df52c2e0521c0dda3}{le\_mrc\_BandBitMask\_t} bandMaskOrigin = 0;

\textcolor{preprocessor}{#define  PRINT\_BAND(x)   LE\_INFO("Band preferences 0x%016"PRIX64, x);}

    \textcolor{comment}{// Get the current rat preference.}
    res = \hyperlink{le__mrc__interface_8h_a04418f56480070ba6c4f3d176dafaa37}{le\_mrc\_GetBandPreferences}(&bandMaskOrigin);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    PRINT\_BAND(bandMaskOrigin);

    \hyperlink{le__log_8h_a8d8f204806cd5fc0455fe3caacf1d251}{LE\_WARN\_IF}(( bandMaskOrigin == 0), \textcolor{stringliteral}{"le\_mrc\_GetBandPreferences bandMaskOrigin = 0"});

    \textcolor{keywordflow}{if} (bandMaskOrigin != 0)
    \{
        res = \hyperlink{le__mrc__interface_8h_ac808b4dc721e031566da92e00663c027}{le\_mrc\_SetBandPreferences}(bandMaskOrigin);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

        \textcolor{comment}{// Get the current rat preference.}
        res = \hyperlink{le__mrc__interface_8h_a04418f56480070ba6c4f3d176dafaa37}{le\_mrc\_GetBandPreferences}(&bandMask);
        PRINT\_BAND(bandMask);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(bandMask == bandMaskOrigin);
    \}
\}


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Lte band Preferences mode.}
\textcolor{comment}{ *}
\textcolor{comment}{ * le\_mrc\_GetLteBandPreferences() API test}
\textcolor{comment}{ * le\_mrc\_SetLteBandPreferences() API test}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_LteBandPreferences
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res;
    \hyperlink{le__mrc__interface_8h_a81d705d61ee7ee56eab6aafb1af92579}{le\_mrc\_LteBandBitMask\_t} bandMask = 0;
    \hyperlink{le__mrc__interface_8h_a81d705d61ee7ee56eab6aafb1af92579}{le\_mrc\_LteBandBitMask\_t} bandMaskOrigin = 0;

\textcolor{preprocessor}{#define  PRINT\_BANDLTE(x)   LE\_INFO("LTE Band MRC preferences 0x%016X", x);}

    \textcolor{comment}{// Get the current rat preference.}
    res = \hyperlink{le__mrc__interface_8h_af4ec5bd36ba8df68bc12a10618268742}{le\_mrc\_GetLteBandPreferences}(&bandMaskOrigin);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    PRINT\_BANDLTE(bandMaskOrigin);

    \hyperlink{le__log_8h_a8d8f204806cd5fc0455fe3caacf1d251}{LE\_WARN\_IF}(( bandMaskOrigin == 0), \textcolor{stringliteral}{"Testle\_mrc\_LteBandPreferences bandMaskOrigin = 0"});

    \textcolor{keywordflow}{if} (bandMaskOrigin != 0)
    \{
        res = \hyperlink{le__mrc__interface_8h_a21d2fe7c736e9a4a342dcc461a5d6e02}{le\_mrc\_SetLteBandPreferences}(bandMaskOrigin);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

        \textcolor{comment}{// Get the current rat preference.}
        res = \hyperlink{le__mrc__interface_8h_af4ec5bd36ba8df68bc12a10618268742}{le\_mrc\_GetLteBandPreferences}(&bandMask);
        PRINT\_BANDLTE(bandMask);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(bandMask == bandMaskOrigin);
    \}
\}


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: TD-SCDMA band Preferences mode.}
\textcolor{comment}{ *}
\textcolor{comment}{ * le\_mrc\_GetTdScdmaBandPreferences() API test}
\textcolor{comment}{ * le\_mrc\_SetTdScdmaBandPreferences() API test}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_TdScdmaBandPreferences
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res;
    \hyperlink{le__mrc__interface_8h_a418a508a9a6dbd3a4a68458f0c64a00e}{le\_mrc\_TdScdmaBandBitMask\_t} bandMask = 0;
    \hyperlink{le__mrc__interface_8h_a418a508a9a6dbd3a4a68458f0c64a00e}{le\_mrc\_TdScdmaBandBitMask\_t} bandMaskOrigin = 0;

\textcolor{preprocessor}{#define  PRINT\_BANDCDMA(x)   LE\_INFO("TD-SCDMA Band preferences 0x%016X", x);}

    \textcolor{comment}{// Get the current rat preference.}
    res = \hyperlink{le__mrc__interface_8h_aed41544004ed7df9de8e874b8bb09d3b}{le\_mrc\_GetTdScdmaBandPreferences}(&bandMaskOrigin);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}((LE\_OK == res) || (\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5377262702e8434207b03533259e0c5f}{LE\_UNSUPPORTED} == res));

    \textcolor{keywordflow}{if} (LE\_OK == res)
    \{
        \textcolor{comment}{// The TD-SCDMA is supported}
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(0 != bandMaskOrigin);
        PRINT\_BANDCDMA(bandMaskOrigin);
        \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_a8765511597189b64e486fa8f17bcddcd}{le\_mrc\_SetTdScdmaBandPreferences}(
      bandMaskOrigin));

        \textcolor{comment}{// Get the current rat preference.}
        \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_aed41544004ed7df9de8e874b8bb09d3b}{le\_mrc\_GetTdScdmaBandPreferences}(&bandMask
      ));
        PRINT\_BANDCDMA(bandMask);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(bandMask == bandMaskOrigin);
    \}
    \textcolor{keywordflow}{else}
    \{
        \textcolor{comment}{// Try to set a Band when TD-SCDMA is not supported}
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5377262702e8434207b03533259e0c5f}{LE\_UNSUPPORTED} == 
      \hyperlink{le__mrc__interface_8h_a8765511597189b64e486fa8f17bcddcd}{le\_mrc\_SetTdScdmaBandPreferences}(
                                                       
      \hyperlink{le__mrc__interface_8h_a418a508a9a6dbd3a4a68458f0c64a00eac4a5c547bb90e92be59b6a6b523d542d}{LE\_MRC\_BITMASK\_TDSCDMA\_BAND\_A} |
                                                       
      \hyperlink{le__mrc__interface_8h_a418a508a9a6dbd3a4a68458f0c64a00ea960d203c6fb17b72ea6dd266d9212151}{LE\_MRC\_BITMASK\_TDSCDMA\_BAND\_F}));

        \textcolor{comment}{// Try to get the TD-SCDMA Band Preferences when TD-SCDMA is not supported}
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5377262702e8434207b03533259e0c5f}{LE\_UNSUPPORTED} == 
      \hyperlink{le__mrc__interface_8h_aed41544004ed7df9de8e874b8bb09d3b}{le\_mrc\_GetTdScdmaBandPreferences}(&bandMask));
    \}
\}
\end{DoxyCodeInclude}
\hypertarget{c_mrcBandCapabilities}{}\paragraph{Sample code for Band Capabilities}\label{c_mrcBandCapabilities}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Get platform band capabilities.}
\textcolor{comment}{ *}
\textcolor{comment}{ * le\_mrc\_GetBandCapabilities() API test}
\textcolor{comment}{ * le\_mrc\_GetLteBandCapabilities() API test}
\textcolor{comment}{ * le\_mrc\_GetTdScdmaBandCapabilities() API test}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test band capabilities according to RAT}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{bool} Test\_BandCapabilities
(
    \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93}{le\_mrc\_RatBitMask\_t} ratMask,
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res
)
\{
    \textcolor{keywordtype}{bool} test = \textcolor{keyword}{true};
    \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93}{le\_mrc\_RatBitMask\_t} bitMaskOrigin;

    \textcolor{comment}{// Get the current rat preference.}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMaskOrigin));

    \textcolor{keywordflow}{if} ((\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5377262702e8434207b03533259e0c5f}{LE\_UNSUPPORTED} == \hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(ratMask)) && (
      \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5377262702e8434207b03533259e0c5f}{LE\_UNSUPPORTED} != res))
    \{
        test = \textcolor{keyword}{false};
    \}
    \textcolor{comment}{// Restore origin RAT.}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(bitMaskOrigin));
    \textcolor{keywordflow}{return} test;
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Get platform band capabilities.}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_GetBandCapabilities
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__mrc__interface_8h_a048374324f72ee7df52c2e0521c0dda3}{le\_mrc\_BandBitMask\_t}        bands;
    \hyperlink{le__mrc__interface_8h_a81d705d61ee7ee56eab6aafb1af92579}{le\_mrc\_LteBandBitMask\_t}     lteBands;
    \hyperlink{le__mrc__interface_8h_a418a508a9a6dbd3a4a68458f0c64a00e}{le\_mrc\_TdScdmaBandBitMask\_t} tdScdmaBands;
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t}                 res;

    res = \hyperlink{le__mrc__interface_8h_a7cb0a206729c652692701cd24226d34f}{le\_mrc\_GetBandCapabilities}(&bands);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798}{LE\_FAULT} != res);
    \textcolor{comment}{// Not supported on all platform}
    \textcolor{keywordflow}{switch}(res)
    \{
        \textcolor{keywordflow}{case} LE\_OK:
            \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(0L != bands);
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Get 2G/3G Band Capabilities bit mask: 0x%016"}PRIX64, (uint64\_t)bands);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5377262702e8434207b03533259e0c5f}{LE\_UNSUPPORTED}:
            \hyperlink{le__log_8h_a0201b2f60ee0e945479f91e181bf04b6}{LE\_WARN}(\textcolor{stringliteral}{"Unable to get Band Capabilities on this platform"});
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{default}:
            \hyperlink{le__log_8h_a54b4b07f5396e19a8d9fca74238f4795}{LE\_FATAL}(\textcolor{stringliteral}{"le\_mrc\_GetBandCapabilities failed"});
            \textcolor{keywordflow}{break};
    \}

    \textcolor{comment}{// Test if LTE Band Capabilities are supported}
    res = \hyperlink{le__mrc__interface_8h_ad6b44639b1d9755b92720d5184ee2515}{le\_mrc\_GetLteBandCapabilities}(&lteBands);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798}{LE\_FAULT} != res);

    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\textcolor{keyword}{true} == Test\_BandCapabilities(LE\_MRC\_BITMASK\_RAT\_LTE, res));

    \textcolor{keywordflow}{switch}(res)
    \{
        \textcolor{keywordflow}{case} LE\_OK:
            \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(0 != lteBands);
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Get LTE Band Capabilities bit mask: 0x%016"}PRIX64, (uint64\_t)lteBands);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5377262702e8434207b03533259e0c5f}{LE\_UNSUPPORTED}:
            \hyperlink{le__log_8h_a0201b2f60ee0e945479f91e181bf04b6}{LE\_WARN}(\textcolor{stringliteral}{"Unable to get Band Capabilities on this platform"});
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{default}:
            \hyperlink{le__log_8h_a54b4b07f5396e19a8d9fca74238f4795}{LE\_FATAL}(\textcolor{stringliteral}{"le\_mrc\_GetLteBandCapabilities failed"});
            \textcolor{keywordflow}{break};
    \}

    \textcolor{comment}{// Test if TD-SCDMA Band Capabilities are supported}
    res = \hyperlink{le__mrc__interface_8h_adfa81f2361744bc67697221845713a98}{le\_mrc\_GetTdScdmaBandCapabilities}(&tdScdmaBands);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798}{LE\_FAULT} != res);

    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\textcolor{keyword}{true} == Test\_BandCapabilities(\hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93a704e1357fc74db4ae2fef1548aa18bcc}{LE\_MRC\_BITMASK\_RAT\_TDSCDMA}, 
      res));

    \textcolor{keywordflow}{switch}(res)
    \{
        \textcolor{keywordflow}{case} LE\_OK:
            \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(0 != tdScdmaBands);
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Get TD-SCDMA Band Capabilities bit mask: 0x%016"}PRIX64,
                    (uint64\_t)tdScdmaBands);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5377262702e8434207b03533259e0c5f}{LE\_UNSUPPORTED}:
            \hyperlink{le__log_8h_a0201b2f60ee0e945479f91e181bf04b6}{LE\_WARN}(\textcolor{stringliteral}{"Unable to get Band Capabilities on this platform"});
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{default}:
            \hyperlink{le__log_8h_a54b4b07f5396e19a8d9fca74238f4795}{LE\_FATAL}(\textcolor{stringliteral}{"le\_mrc\_GetTdScdmaBandCapabilities failed"});
            \textcolor{keywordflow}{break};
    \}
\}
\end{DoxyCodeInclude}
\hypertarget{c_mrcRAT}{}\paragraph{Sample code for Radio Access Technology}\label{c_mrcRAT}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Radio Access Technology.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_GetRat
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t}   res;
    \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43}{le\_mrc\_Rat\_t}  rat;

    res = \hyperlink{le__mrc__interface_8h_a3ad9533c467cec0902d5d165bb32d67b}{le\_mrc\_GetRadioAccessTechInUse}(&rat);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}((rat>=\hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43a6088198c65a39429fe6a67f322df0480}{LE\_MRC\_RAT\_UNKNOWN}) && (rat<=
      \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43aaf2b25a8ec75f9bacb51967f23247176}{LE\_MRC\_RAT\_LTE}));

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_GetRadioAccessTechInUse return rat 0x%02X"},rat);
\}
\end{DoxyCodeInclude}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Display bitmask RAT}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} PrintRat
(
    \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93}{le\_mrc\_RatBitMask\_t} bitMask
)
\{
    \textcolor{keywordflow}{if}(\hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93aa6e87ad274b7f5011413ea0e8375300b}{LE\_MRC\_BITMASK\_RAT\_ALL} != bitMask)
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Rat preferences %02X=> CDMA.%c GSM.%c LTE.%c UMTS.%c TD-SCDMA.%c"}, bitMask,
            ((bitMask & LE\_MRC\_BITMASK\_RAT\_CDMA) ? \textcolor{charliteral}{'Y'} : \textcolor{charliteral}{'N'}),
            ((bitMask & LE\_MRC\_BITMASK\_RAT\_GSM) ? \textcolor{charliteral}{'Y'} : \textcolor{charliteral}{'N'}),
            ((bitMask & LE\_MRC\_BITMASK\_RAT\_LTE) ? \textcolor{charliteral}{'Y'} : \textcolor{charliteral}{'N'}),
            ((bitMask & LE\_MRC\_BITMASK\_RAT\_UMTS) ? \textcolor{charliteral}{'Y'} : \textcolor{charliteral}{'N'}),
            ((bitMask & \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93a704e1357fc74db4ae2fef1548aa18bcc}{LE\_MRC\_BITMASK\_RAT\_TDSCDMA}) ? \textcolor{charliteral}{'Y'} : \textcolor{charliteral}{'N'}));
    \}
    \textcolor{keywordflow}{else}
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Rat preferences => LE\_MRC\_BITMASK\_RAT\_ALL"});
    \}
\}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: rat preferences mode. Module must supported GSM and LTEs}
\textcolor{comment}{ *}
\textcolor{comment}{ * le\_mrc\_GetRatPreferences() API test}
\textcolor{comment}{ * le\_mrc\_SetRatPreferences() API test}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_RatPreferences
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93}{le\_mrc\_RatBitMask\_t} bitMask = 0;
    \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93}{le\_mrc\_RatBitMask\_t} bitMaskOrigin = 0;
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res;

    \textcolor{comment}{// Get the current rat preference.}
    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMaskOrigin));
    PrintRat(bitMaskOrigin);

    res = \hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(LE\_MRC\_BITMASK\_RAT\_LTE);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}((LE\_OK == res) || (\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5377262702e8434207b03533259e0c5f}{LE\_UNSUPPORTED} == res));

    \textcolor{keywordflow}{if} (LE\_OK == res)
    \{
        \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMask));
        PrintRat(bitMask);

        \textcolor{keywordflow}{if} ((LE\_MRC\_BITMASK\_RAT\_LTE != bitMask))
        \{
            \textcolor{keywordflow}{if} ((LE\_MRC\_BITMASK\_RAT\_LTE | LE\_MRC\_BITMASK\_RAT\_GSM) == bitMask)
            \{
                \hyperlink{le__log_8h_a0201b2f60ee0e945479f91e181bf04b6}{LE\_WARN}(\textcolor{stringliteral}{"LTE only not supported"});
            \}
            \textcolor{keywordflow}{else}
            \{
                \hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(bitMaskOrigin);
            \}
        \}
    \}

    res = \hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(
      \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93a704e1357fc74db4ae2fef1548aa18bcc}{LE\_MRC\_BITMASK\_RAT\_TDSCDMA});
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}((LE\_OK == res) || (\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5377262702e8434207b03533259e0c5f}{LE\_UNSUPPORTED} == res));

    \textcolor{keywordflow}{if} (LE\_OK == res)
    \{
        \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMask));
        PrintRat(bitMask);

        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93a704e1357fc74db4ae2fef1548aa18bcc}{LE\_MRC\_BITMASK\_RAT\_TDSCDMA} == bitMask);
    \}

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(LE\_MRC\_BITMASK\_RAT\_GSM));

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMask));
    PrintRat(bitMask);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(LE\_MRC\_BITMASK\_RAT\_GSM == bitMask);

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(LE\_MRC\_BITMASK\_RAT\_GSM | 
      LE\_MRC\_BITMASK\_RAT\_UMTS));

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMask));
    PrintRat(bitMask);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}((LE\_MRC\_BITMASK\_RAT\_GSM | LE\_MRC\_BITMASK\_RAT\_UMTS) == bitMask);

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(
      \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93aa6e87ad274b7f5011413ea0e8375300b}{LE\_MRC\_BITMASK\_RAT\_ALL}));

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMask));
    PrintRat(bitMask);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93aa6e87ad274b7f5011413ea0e8375300b}{LE\_MRC\_BITMASK\_RAT\_ALL} == bitMask);

    \textcolor{keywordflow}{if} (bitMaskOrigin & LE\_MRC\_BITMASK\_RAT\_CDMA)
    \{
        \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(LE\_MRC\_BITMASK\_RAT\_CDMA))
      ;

        \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMask));
        PrintRat(bitMask);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(LE\_MRC\_BITMASK\_RAT\_CDMA == bitMask);
    \}

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(LE\_MRC\_BITMASK\_RAT\_UMTS));

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMask));
    PrintRat(bitMask);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(LE\_MRC\_BITMASK\_RAT\_UMTS == bitMask);

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(bitMaskOrigin));

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMask));
    PrintRat(bitMask);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(bitMaskOrigin == bitMask);
\}
\end{DoxyCodeInclude}
\hypertarget{c_mrcNetworkRegistration}{}\paragraph{Sample code for Network Registration}\label{c_mrcNetworkRegistration}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Register mode.}
\textcolor{comment}{ * This test doesn't work in roaming.!!}
\textcolor{comment}{ *}
\textcolor{comment}{ * le\_mrc\_SetAutomaticRegisterMode() API test}
\textcolor{comment}{ * le\_mrc\_SetManualRegisterMode() API test}
\textcolor{comment}{ * le\_mrc\_GetRegisterMode() API test}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_RegisterMode
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res;
    \textcolor{keywordtype}{int} cmpRes;
    \textcolor{keywordtype}{char} mccStr[\hyperlink{le__mrc__interface_8h_aeae0e240c77730be724ad7ac42596469}{LE\_MRC\_MNC\_BYTES}] = \{0\};
    \textcolor{keywordtype}{char} mncStr[\hyperlink{le__mrc__interface_8h_aeae0e240c77730be724ad7ac42596469}{LE\_MRC\_MNC\_BYTES}] = \{0\};
    \textcolor{keywordtype}{bool} isManualOrigin, isManual;

    \textcolor{comment}{// Get the home PLMN to compare results.}
    res = \hyperlink{le__sim__interface_8h_a6bab381ed34046b553145bfbe53dfa3c}{le\_sim\_GetHomeNetworkMccMnc}(
      \hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdda4270fb44e8fa7876f337864675b42f2d}{LE\_SIM\_EXTERNAL\_SLOT\_1}, mccHomeStr, LE\_MRC\_MCC\_BYTES,
                                      mncHomeStr, LE\_MRC\_MNC\_BYTES);
    \hyperlink{le__log_8h_aceaf11a11691d6c676e36dd317b38dbd}{LE\_ERROR\_IF}(res != LE\_OK, \textcolor{stringliteral}{"Home PLMN can't be retrives for test case"});
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Home PLMN is mcc.%s mnc.%s"}, mccHomeStr, mncHomeStr);

    res = \hyperlink{le__mrc__interface_8h_a9ad2729c28e97ae450f7aee0865197f6}{le\_mrc\_GetRegisterMode}(&isManualOrigin,
                    mccStr, LE\_MRC\_MCC\_BYTES, mncStr, LE\_MRC\_MNC\_BYTES);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_GetRegisterMode Manual(%c), mcc.%s mnc.%s"},
        (isManualOrigin ? \textcolor{charliteral}{'Y'} : \textcolor{charliteral}{'N'}),
        mccStr, mncStr);

    res = \hyperlink{le__mrc__interface_8h_acb434a9f91afb5b6639baf3678ee9388}{le\_mrc\_SetAutomaticRegisterMode}();
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(\hyperlink{le__mrc__interface_8h_a153247be5ea13ae2bc13ace0dd8c739c}{le\_mrc\_GetPlatformSpecificRegistrationErrorCode}
      () == 0);

    sleep(5);

    memset(mccStr,0,LE\_MRC\_MCC\_BYTES);
    memset(mncStr,0,LE\_MRC\_MNC\_BYTES);
    res = \hyperlink{le__mrc__interface_8h_a9ad2729c28e97ae450f7aee0865197f6}{le\_mrc\_GetRegisterMode}(&isManual, mccStr, LE\_MRC\_MCC\_BYTES, mncStr, 
      LE\_MRC\_MNC\_BYTES);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(isManual == \textcolor{keyword}{false});
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_GetRegisterMode Manual(%c), mcc.%s mnc.%s"},
        (isManualOrigin ? \textcolor{charliteral}{'Y'} : \textcolor{charliteral}{'N'}),
        mccStr, mncStr);

    res = \hyperlink{le__mrc__interface_8h_ac694b8aa7543eb9f058e77a844a5c0bf}{le\_mrc\_SetManualRegisterMode}(mccHomeStr, mncHomeStr);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_SetManualRegisterMode %s,%s return %d"},mccHomeStr, mncHomeStr, res);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    sleep(5);

    memset(mccStr,0,LE\_MRC\_MCC\_BYTES);
    memset(mncStr,0,LE\_MRC\_MNC\_BYTES);
    res = \hyperlink{le__mrc__interface_8h_a9ad2729c28e97ae450f7aee0865197f6}{le\_mrc\_GetRegisterMode}(&isManual, mccStr, LE\_MRC\_MCC\_BYTES, mncStr, 
      LE\_MRC\_MNC\_BYTES);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(isManual == \textcolor{keyword}{true});
    cmpRes = strcmp(mccHomeStr, mccStr);
    \hyperlink{le__log_8h_a8d8f204806cd5fc0455fe3caacf1d251}{LE\_WARN\_IF}(cmpRes, \textcolor{stringliteral}{"Doesn't match mccHomeStr (%s) mccStr (%s)"},mccHomeStr, mccStr)
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(cmpRes == 0);
    cmpRes = strcmp(mncHomeStr, mncStr);
    \hyperlink{le__log_8h_a8d8f204806cd5fc0455fe3caacf1d251}{LE\_WARN\_IF}(cmpRes, "Doesn't match mncHomeStr (%s) mncStr (%s)",mncHomeStr, mncStr)
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(cmpRes == 0);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}("\hyperlink{le__mrc__interface_8h_a9ad2729c28e97ae450f7aee0865197f6}{le\_mrc\_GetRegisterMode} Manual(Y), mcc.%s mnc.%s", mccStr, mncStr)
      ;

    res = le\_mrc\_SetAutomaticRegisterMode();
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    sleep(5);

    memset(mccStr,0,LE\_MRC\_MCC\_BYTES);
    memset(mncStr,0,LE\_MRC\_MNC\_BYTES);
    res = \hyperlink{le__mrc__interface_8h_a9ad2729c28e97ae450f7aee0865197f6}{le\_mrc\_GetRegisterMode}(&isManual, mccStr, LE\_MRC\_MCC\_BYTES, mncStr, 
      LE\_MRC\_MNC\_BYTES);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(isManual == false);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}("\hyperlink{le__mrc__interface_8h_a9ad2729c28e97ae450f7aee0865197f6}{le\_mrc\_GetRegisterMode} Manual(N)");
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Manual selection call back function.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
static \textcolor{keywordtype}{void} MyManualSelectionHandler
(
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} result,
    \textcolor{keywordtype}{void}* contextPtr
)
\{
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_SetManualRegisterModeAsync return %d"}, result);
    \textcolor{keywordflow}{if} (result == LE\_OK )
    \{
        \hyperlink{le__semaphore_8h_abb859411cc58fbcc576c986ef52083b2}{le\_sem\_Post}(ThreadSemaphore);
    \}
    \textcolor{keywordflow}{else}
    \{
        \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"Failed"});
    \}
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Thread for test Register mode asynchronous .}
\textcolor{comment}{ *}
\textcolor{comment}{ * Test API: le\_mrc\_SetManualRegisterModeAsync() API test}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void}* MyRegisterModeAsyncThread
(
    \textcolor{keywordtype}{void}* context   \textcolor{comment}{///< Context}
\textcolor{comment}{})
\{
    \hyperlink{le__sim__interface_8h_a84a7ff3ace6afa68bce12b85c18f9bf0}{le\_sim\_ConnectService}();
    \hyperlink{le__mrc__interface_8h_aa19103931ad3974ee014f0ce2705a4ff}{le\_mrc\_ConnectService}();

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_SetManualRegisterModeAsync mcc.%s mnc.%s"},
        mccHomeStr, mncHomeStr);

    \hyperlink{le__mrc__interface_8h_a5b40356a56f524f5f5c9e5744687919d}{le\_mrc\_SetManualRegisterModeAsync}(mccHomeStr, mncHomeStr, 
      MyManualSelectionHandler, NULL);

    \hyperlink{le__event_loop_8h_ae313b457994371c658be9fe0494a01ff}{le\_event\_RunLoop}();
    \textcolor{keywordflow}{return} NULL;
\}


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Register mode asynchronous.}
\textcolor{comment}{ * This test doesn't work in roaming.!!}
\textcolor{comment}{ *}
\textcolor{comment}{ * le\_mrc\_SetAutomaticRegisterMode() API test}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_RegisterModeAsync
(
    \textcolor{keywordtype}{void}
)
\{
    \textcolor{keywordtype}{char} mccStr[\hyperlink{le__mrc__interface_8h_aeae0e240c77730be724ad7ac42596469}{LE\_MRC\_MNC\_BYTES}] = \{0\};
    \textcolor{keywordtype}{char} mncStr[\hyperlink{le__mrc__interface_8h_aeae0e240c77730be724ad7ac42596469}{LE\_MRC\_MNC\_BYTES}] = \{0\};
    \textcolor{keywordtype}{bool} isManual;
    \textcolor{keywordtype}{int} cmpRes;
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res;
    \hyperlink{structle__clk___time__t}{le\_clk\_Time\_t} time;
    time.\hyperlink{structle__clk___time__t_ae28e527dbd551b3537edc1737611782f}{sec} = 180;
    time.\hyperlink{structle__clk___time__t_a8324bdde9199a09a47489a3f246f184c}{usec} = 0;

    res = \hyperlink{le__mrc__interface_8h_acb434a9f91afb5b6639baf3678ee9388}{le\_mrc\_SetAutomaticRegisterMode}();
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    sleep(5);

    \textcolor{comment}{// Get the home PLMN to compare results.}
    res = \hyperlink{le__sim__interface_8h_a6bab381ed34046b553145bfbe53dfa3c}{le\_sim\_GetHomeNetworkMccMnc}(
      \hyperlink{le__sim__interface_8h_aace49df88426119626fb1ef4e544ccdda4270fb44e8fa7876f337864675b42f2d}{LE\_SIM\_EXTERNAL\_SLOT\_1}, mccHomeStr, LE\_MRC\_MCC\_BYTES,
        mncHomeStr, LE\_MRC\_MNC\_BYTES);
    \hyperlink{le__log_8h_aceaf11a11691d6c676e36dd317b38dbd}{LE\_ERROR\_IF}(res != LE\_OK, \textcolor{stringliteral}{"Home PLMN can't be retrieve for test case"});
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Home PLMN is mcc.%s mnc.%s"}, mccHomeStr, mncHomeStr);

    \textcolor{comment}{// Init the semaphore for asynchronous callback}
    ThreadSemaphore = \hyperlink{le__semaphore_8h_add9fab5440abcff5a8bc3b8bd1126d99}{le\_sem\_Create}(\textcolor{stringliteral}{"HandlerSem"},0);

    RegistrationThreadRef = \hyperlink{le__thread_8h_a87e02a46f92e9e3e11ed28a2b265872f}{le\_thread\_Create}(\textcolor{stringliteral}{"CallBack"}, MyRegisterModeAsyncThread, NULL);
    \hyperlink{le__thread_8h_a38df3877ee5ab9fac17b2fc0be46c27e}{le\_thread\_Start}(RegistrationThreadRef);

    \textcolor{comment}{// Wait for complete asynchronous registration}
    res = \hyperlink{le__semaphore_8h_a14475f0c2f5483427279d39220f55eaa}{le\_sem\_WaitWithTimeOut}(ThreadSemaphore, time);

    \hyperlink{le__log_8h_aceaf11a11691d6c676e36dd317b38dbd}{LE\_ERROR\_IF}(res != LE\_OK, \textcolor{stringliteral}{"SYNC FAILED"});
    \hyperlink{le__thread_8h_a0f1c1b98f354a96e6e31e55a71b58f6a}{le\_thread\_Cancel}(RegistrationThreadRef);
    \hyperlink{le__semaphore_8h_a96361b126f59934354ca17bf8b74b8f6}{le\_sem\_Delete}(ThreadSemaphore);

    sleep(SLEEP\_5S);

    memset(mccStr,0,LE\_MRC\_MCC\_BYTES);
    memset(mncStr,0,LE\_MRC\_MNC\_BYTES);
    res = \hyperlink{le__mrc__interface_8h_a9ad2729c28e97ae450f7aee0865197f6}{le\_mrc\_GetRegisterMode}(&isManual, mccStr, LE\_MRC\_MCC\_BYTES, mncStr, 
      LE\_MRC\_MNC\_BYTES);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(isManual == \textcolor{keyword}{true});
    cmpRes = strcmp(mccHomeStr, mccStr);
    \hyperlink{le__log_8h_a8d8f204806cd5fc0455fe3caacf1d251}{LE\_WARN\_IF}(cmpRes, \textcolor{stringliteral}{"Doesn't match mccHomeStr (%s) mccStr (%s)"},mccHomeStr, mccStr)
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(cmpRes == 0);
    cmpRes = strcmp(mncHomeStr, mncStr);
    \hyperlink{le__log_8h_a8d8f204806cd5fc0455fe3caacf1d251}{LE\_WARN\_IF}(cmpRes, "Doesn't match mncHomeStr (%s) mncStr (%s)",mncHomeStr, mncStr)
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(cmpRes == 0);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}("\hyperlink{le__mrc__interface_8h_a9ad2729c28e97ae450f7aee0865197f6}{le\_mrc\_GetRegisterMode} %c, mcc.%s mnc.%s",
        (isManual ? 'Y':'N'), mccStr, mncStr);

    sleep(SLEEP\_5S);
    res = le\_mrc\_SetAutomaticRegisterMode();
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    sleep(SLEEP\_5S);
\}
\end{DoxyCodeInclude}
\hypertarget{c_mrcGetService}{}\paragraph{Sample code for Get the Current Packet Switched state}\label{c_mrcGetService}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Packet Switched state}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_GetPSState
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__mrc__interface_8h_ae2877a1e1252ac79e6c9cae3d3c25a61}{le\_mrc\_NetRegState\_t}  psState;

    \hyperlink{le__log_8h_a7cd2daa3d4af1de4d29e0eed95187484}{LE\_ASSERT\_OK}(\hyperlink{le__mrc__interface_8h_a2be4a96c3dfd80a63832203f22a661bb}{le\_mrc\_GetPacketSwitchedState}(&psState));
    \textcolor{keywordflow}{switch}(psState)
    \{
        \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_ae2877a1e1252ac79e6c9cae3d3c25a61a90fd9c8ee7f965840af2536e2a33316a}{LE\_MRC\_REG\_HOME}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_GetPacketSwitchedState returns LE\_MRC\_REG\_HOME"});
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_ae2877a1e1252ac79e6c9cae3d3c25a61a9f5ddbf3dcdceb8e24e46aea83ba4e7f}{LE\_MRC\_REG\_ROAMING}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_GetPacketSwitchedState returns LE\_MRC\_REG\_ROAMING"});
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_ae2877a1e1252ac79e6c9cae3d3c25a61affdd881b043ba92f868ffef52b0b9124}{LE\_MRC\_REG\_NONE}:
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_GetPacketSwitchedState returns LE\_MRC\_REG\_NONE"});
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{default}:
            \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"le\_mrc\_GetPacketSwitchedState returns an unknown PS state %d"}, psState);
            \textcolor{keywordflow}{break};
    \}

\}
\end{DoxyCodeInclude}
\hypertarget{c_mrcQuality}{}\paragraph{Sample code for Signal Quality}\label{c_mrcQuality}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Network Registration State + Signal Quality.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_GetStateAndQual
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t}           res;
    \hyperlink{le__mrc__interface_8h_ae2877a1e1252ac79e6c9cae3d3c25a61}{le\_mrc\_NetRegState\_t}  state;
    uint32\_t              quality;

    res = \hyperlink{le__mrc__interface_8h_a4f11e27862fef384c0023f5b538e543d}{le\_mrc\_GetNetRegState}(&state);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}((state>=\hyperlink{le__mrc__interface_8h_ae2877a1e1252ac79e6c9cae3d3c25a61affdd881b043ba92f868ffef52b0b9124}{LE\_MRC\_REG\_NONE}) && (state<=
      \hyperlink{le__mrc__interface_8h_ae2877a1e1252ac79e6c9cae3d3c25a61acdba928b7dfb851adfa0211acccabb65}{LE\_MRC\_REG\_UNKNOWN}));

    res = \hyperlink{le__mrc__interface_8h_a717aa0f4e4dc9a83b6adc2f26f3f0258}{le\_mrc\_GetSignalQual}(&quality);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(quality<=5);
\}


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Get Signal Metrics.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_GetSignalMetrics
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t}   res;
    \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43}{le\_mrc\_Rat\_t}  rat;
    int32\_t rxLevel = 0;
    uint32\_t er = 0;
    int32\_t ecio = 0;
    int32\_t rscp = 0;
    int32\_t sinr = 0;
    int32\_t rsrq = 0;
    int32\_t rsrp = 0;
    int32\_t snr = 0;
    int32\_t io = 0;

    \hyperlink{le__mrc__interface_8h_a6ad5afb123492b2e249f3ecd414d6e83}{le\_mrc\_MetricsRef\_t} metricsRef = 
      \hyperlink{le__mrc__interface_8h_ad3662723a7ed47cf45d9a2eaaa1fb16e}{le\_mrc\_MeasureSignalMetrics}();
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(metricsRef != NULL);

    rat = \hyperlink{le__mrc__interface_8h_a5564bace31c937bcef096e597f33d3a4}{le\_mrc\_GetRatOfSignalMetrics}(metricsRef);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"RAT of signal metrics is %d"},rat);
    \textcolor{keywordflow}{switch}(rat)
    \{
        \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43ae19505d98b78ac22398bce06605dd1a4}{LE\_MRC\_RAT\_GSM}:
            res = \hyperlink{le__mrc__interface_8h_a9d7243b29bf4c705c4eba83fa3799582}{le\_mrc\_GetGsmSignalMetrics}(metricsRef, &rxLevel, &er);
            \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"GSM metrics rxLevel.%ddBm, er.%d"}, rxLevel, er);
            \textcolor{keywordflow}{break};

        \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43afe34c4f3a53aa717f5ecb94dd59bf728}{LE\_MRC\_RAT\_UMTS}:
        \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43a1b0c0f61b82d3619cc951c7c249ebbcf}{LE\_MRC\_RAT\_TDSCDMA}:
            res = \hyperlink{le__mrc__interface_8h_a456648564abfc8e9711b60a5d8bddc9b}{le\_mrc\_GetUmtsSignalMetrics}(metricsRef, &rxLevel, &er, &ecio, 
      &rscp, &sinr);
            \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"UMTS/TD-SCDMA metrics rxLevel.%ddBm, er.%d, ecio.%010.1fdB,"}
                    \textcolor{stringliteral}{"rscp.%ddBm, sinr.%ddB"}, rxLevel, er, ((\textcolor{keywordtype}{double})ecio/10), rscp, sinr);
            \textcolor{keywordflow}{break};

        \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43aaf2b25a8ec75f9bacb51967f23247176}{LE\_MRC\_RAT\_LTE}:
            res = \hyperlink{le__mrc__interface_8h_a030880c064afbf2686726fd2e538adfe}{le\_mrc\_GetLteSignalMetrics}(metricsRef, &rxLevel, &er, &rsrq, &
      rsrp, &snr);
            \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"LTE metrics rxLevel.%ddBm, er.%d, rsrq.%010.1fdB, "}
                    \textcolor{stringliteral}{"rsrp.%010.1fdBm, snr.%010.1fdB"},
                    rxLevel, er, ((\textcolor{keywordtype}{double})rsrq/10), ((\textcolor{keywordtype}{double})rsrp/10), ((\textcolor{keywordtype}{double})snr/10));
            \textcolor{keywordflow}{break};

        \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43a1634a4ab71f130dd2aae46aa09ca0771}{LE\_MRC\_RAT\_CDMA}:
            res = \hyperlink{le__mrc__interface_8h_a09ff33b24fd01be18a145b2b3f1f579a}{le\_mrc\_GetCdmaSignalMetrics}(metricsRef,  &rxLevel, &er, &ecio,
       &sinr, &io);
            \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"CDMA metrics rxLevel.%ddBm, er.%d, ecio.%010.1fdB, "}
                    \textcolor{stringliteral}{"sinr.%ddB, io.%ddBm"},
                    rxLevel, er, ((\textcolor{keywordtype}{double})ecio/10), sinr, io);
            \textcolor{keywordflow}{break};

        \textcolor{keywordflow}{default}:
            \hyperlink{le__log_8h_a54b4b07f5396e19a8d9fca74238f4795}{LE\_FATAL}(\textcolor{stringliteral}{"Unknown RAT!"});
            \textcolor{keywordflow}{break};
    \}

    \hyperlink{le__mrc__interface_8h_a20addd98ee6cb07f9ee1a45be01b5203}{le\_mrc\_DeleteSignalMetrics}(metricsRef);
\}
\end{DoxyCodeInclude}
\hypertarget{c_mrcLocationinformation}{}\paragraph{Sample code for Location information}\label{c_mrcLocationinformation}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Location information.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_GetLocInfo
(
    \textcolor{keywordtype}{void}
)
\{
    uint32\_t  cellId, lac;
    uint16\_t  tac;

    cellId = \hyperlink{le__mrc__interface_8h_aafc9fb71c3013b7b26dc386b13ca4a85}{le\_mrc\_GetServingCellId}();
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_GetServingCellId returns cellId.%d"}, cellId);
    lac = \hyperlink{le__mrc__interface_8h_a8ba03765e7595f85783f6f6a022311f8}{le\_mrc\_GetServingCellLocAreaCode}();
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_GetServingCellLocAreaCode returns lac.%d"},lac);
    tac = \hyperlink{le__mrc__interface_8h_a856dc7825b4fa8de095f26020e03f015}{le\_mrc\_GetServingCellLteTracAreaCode}();
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_GetServingCellLteTracAreaCode returns Tac.0x%X (%d)"}, tac, tac);
\}
\end{DoxyCodeInclude}
\hypertarget{c_mrcGetCurrentNetwork}{}\paragraph{Sample code for Get Current Network Information}\label{c_mrcGetCurrentNetwork}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Get the Current network name.}
\textcolor{comment}{ * le\_mrc\_GetCurrentNetworkName() API test}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_GetCurrentNetworkName
(
    \textcolor{keywordtype}{void}
)
\{

    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res;
    \textcolor{keywordtype}{char} nameStr[100] = \{0\};

    res = \hyperlink{le__mrc__interface_8h_a45fe1941f520c1e4a23b2794dd2a8232}{le\_mrc\_GetCurrentNetworkName}(nameStr, 1);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cae42c9d785827fc3a9c47fb55baca7879}{LE\_OVERFLOW});

    res = \hyperlink{le__mrc__interface_8h_a45fe1941f520c1e4a23b2794dd2a8232}{le\_mrc\_GetCurrentNetworkName}(nameStr, 100);;
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Plmn name.%s"},nameStr);
\}
\end{DoxyCodeInclude}
\hypertarget{c_mrcNetworkScan}{}\paragraph{Sample code for Network Scan}\label{c_mrcNetworkScan}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Read scan information}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} ReadScanInfo
(
    \hyperlink{le__mrc__interface_8h_a3e7fe3e0d8f10fe7853f00eb254529ea}{le\_mrc\_ScanInformationRef\_t}     scanInfoRef
)
\{
    \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43}{le\_mrc\_Rat\_t} rat;
    \textcolor{keywordtype}{bool} boolTest;
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res;
    \textcolor{keywordtype}{char} mcc[\hyperlink{le__mrc__interface_8h_aec88b97b54a45f86e6cb34f65b2d0afd}{LE\_MRC\_MCC\_BYTES}] = \{0\};
    \textcolor{keywordtype}{char} mnc[\hyperlink{le__mrc__interface_8h_aeae0e240c77730be724ad7ac42596469}{LE\_MRC\_MNC\_BYTES}] = \{0\};
    \textcolor{keywordtype}{char} nameStr[100] = \{0\};

    res = \hyperlink{le__mrc__interface_8h_aad275d839efe8b2b5eafe65ef87bd3d3}{le\_mrc\_GetCellularNetworkMccMnc}(scanInfoRef, mcc, LE\_MRC\_MCC\_BYTES
      , mnc, LE\_MRC\_MCC\_BYTES);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    res = \hyperlink{le__mrc__interface_8h_a6fcb9785c79cb9f8a4d1bef2484ca9d5}{le\_mrc\_GetCellularNetworkName}(scanInfoRef, nameStr, 1);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cae42c9d785827fc3a9c47fb55baca7879}{LE\_OVERFLOW});
    res = \hyperlink{le__mrc__interface_8h_a6fcb9785c79cb9f8a4d1bef2484ca9d5}{le\_mrc\_GetCellularNetworkName}(scanInfoRef, nameStr, 100);;
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"1st cellular network name.%s"}, nameStr);

    rat = \hyperlink{le__mrc__interface_8h_ad33fbe1d2b7acee0e47f3e54cab78274}{le\_mrc\_GetCellularNetworkRat}(scanInfoRef);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}((rat>=\hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43a6088198c65a39429fe6a67f322df0480}{LE\_MRC\_RAT\_UNKNOWN}) && (rat<=
      \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43aaf2b25a8ec75f9bacb51967f23247176}{LE\_MRC\_RAT\_LTE}));
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_GetCellularNetworkRat returns rat %d"}, rat);

    boolTest = \hyperlink{le__mrc__interface_8h_a4c859fc1364c183aa1d26a022db365c6}{le\_mrc\_IsCellularNetworkInUse}(scanInfoRef);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"IsCellularNetworkInUse is %s"}, ( (boolTest) ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"}));

    boolTest = \hyperlink{le__mrc__interface_8h_a72ca8072f90d453169baff44441c41c0}{le\_mrc\_IsCellularNetworkAvailable}(scanInfoRef);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_IsCellularNetworkAvailable is %s"}, ( (boolTest) ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"}));

    boolTest = \hyperlink{le__mrc__interface_8h_a7333dfc638f50524f9c6fd81457828ba}{le\_mrc\_IsCellularNetworkHome}(scanInfoRef);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_IsCellularNetworkHome is %s"}, ( (boolTest) ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"}));

    boolTest = \hyperlink{le__mrc__interface_8h_a699a52d014550124a5b3362ee888a780}{le\_mrc\_IsCellularNetworkForbidden}(scanInfoRef);
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"le\_mrc\_IsCellularNetworkForbidden is %s"}, ( (boolTest) ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"}));
\}


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Cellular Network Scan.}
\textcolor{comment}{ *}
\textcolor{comment}{ * le\_mrc\_PerformCellularNetworkScan() API test}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_PerformCellularNetworkScan
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res;
    \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93}{le\_mrc\_RatBitMask\_t} bitMaskOrigin = 0;
    \hyperlink{le__mrc__interface_8h_a25a9e79cc9078e22cec22444fd959c61}{le\_mrc\_ScanInformationListRef\_t} scanInfoListRef = NULL;
    \hyperlink{le__mrc__interface_8h_a3e7fe3e0d8f10fe7853f00eb254529ea}{le\_mrc\_ScanInformationRef\_t}     scanInfoRef = NULL;

    \textcolor{comment}{// Get the current rat preference.}
    res = \hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMaskOrigin);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    \textcolor{keywordflow}{if} ((bitMaskOrigin & LE\_MRC\_BITMASK\_RAT\_GSM) || (bitMaskOrigin == 
      \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93aa6e87ad274b7f5011413ea0e8375300b}{LE\_MRC\_BITMASK\_RAT\_ALL}))
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Perform scan on GSM"});
        scanInfoListRef = \hyperlink{le__mrc__interface_8h_ab4a246dd466fa8175aca0158e0cab227}{le\_mrc\_PerformCellularNetworkScan}(
      LE\_MRC\_BITMASK\_RAT\_GSM);
    \}
    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (bitMaskOrigin & LE\_MRC\_BITMASK\_RAT\_UMTS)
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Perform scan on UMTS"});
        scanInfoListRef = \hyperlink{le__mrc__interface_8h_ab4a246dd466fa8175aca0158e0cab227}{le\_mrc\_PerformCellularNetworkScan}(
      LE\_MRC\_BITMASK\_RAT\_UMTS);
    \}
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(scanInfoListRef != NULL);

    scanInfoRef = \hyperlink{le__mrc__interface_8h_ae006d053b037cec589aa85053472a2af}{le\_mrc\_GetFirstCellularNetworkScan}(scanInfoListRef);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(scanInfoRef != NULL);
    ReadScanInfo(scanInfoRef);

    \textcolor{keywordflow}{while} ((scanInfoRef = \hyperlink{le__mrc__interface_8h_ae0ca9f0c1c106d6ddeef784c6bb0d69b}{le\_mrc\_GetNextCellularNetworkScan}(
      scanInfoListRef)) != NULL)
    \{
        ReadScanInfo(scanInfoRef);
    \}

    \hyperlink{le__mrc__interface_8h_ac45ce335b3fa063b83bb925e67eeaeb3}{le\_mrc\_DeleteCellularNetworkScan}(scanInfoListRef);

    res = \hyperlink{le__mrc__interface_8h_a2d4abd391bc69c218538f5d8e1be4e01}{le\_mrc\_SetRatPreferences}(bitMaskOrigin);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(LE\_OK == res);
\}


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Cellular Network Scan handler function.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} MyNetworkScanHandler
(
    \hyperlink{le__mrc__interface_8h_a25a9e79cc9078e22cec22444fd959c61}{le\_mrc\_ScanInformationListRef\_t} listRef,
    \textcolor{keywordtype}{void}* contextPtr
)
\{
    \hyperlink{le__mrc__interface_8h_a3e7fe3e0d8f10fe7853f00eb254529ea}{le\_mrc\_ScanInformationRef\_t}     scanInfoRef = NULL;

    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(listRef != NULL);

    scanInfoRef = \hyperlink{le__mrc__interface_8h_ae006d053b037cec589aa85053472a2af}{le\_mrc\_GetFirstCellularNetworkScan}(listRef);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(scanInfoRef != NULL);
    ReadScanInfo(scanInfoRef);

    \textcolor{keywordflow}{while} ((scanInfoRef = \hyperlink{le__mrc__interface_8h_ae0ca9f0c1c106d6ddeef784c6bb0d69b}{le\_mrc\_GetNextCellularNetworkScan}(listRef)) != 
      NULL)
    \{
        ReadScanInfo(scanInfoRef);
    \}

    \hyperlink{le__mrc__interface_8h_ac45ce335b3fa063b83bb925e67eeaeb3}{le\_mrc\_DeleteCellularNetworkScan}(listRef);

    \hyperlink{le__semaphore_8h_abb859411cc58fbcc576c986ef52083b2}{le\_sem\_Post}(ThreadSemaphore);
\}


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Thread for asynchronous Network scan test.}
\textcolor{comment}{ *}
\textcolor{comment}{ * Test API: le\_mrc\_PerformCellularNetworkScanAsync() API test}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void}* MyNetworkScanAsyncThread
(
    \textcolor{keywordtype}{void}* context   \textcolor{comment}{///< See parameter documentation above.}
\textcolor{comment}{})
\{
    \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93}{le\_mrc\_RatBitMask\_t} bitMaskOrigin;

    \hyperlink{le__mrc__interface_8h_aa19103931ad3974ee014f0ce2705a4ff}{le\_mrc\_ConnectService}();

    \textcolor{comment}{// Get the current rat preference.}
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res = \hyperlink{le__mrc__interface_8h_ae9fa8655738c63e392c8dcc862bdb1d5}{le\_mrc\_GetRatPreferences}(&bitMaskOrigin);
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

    \textcolor{keywordflow}{if} ((bitMaskOrigin & LE\_MRC\_BITMASK\_RAT\_GSM) || (bitMaskOrigin == 
      \hyperlink{le__mrc__interface_8h_af643c7005da7f2466302eebdf7a29d93aa6e87ad274b7f5011413ea0e8375300b}{LE\_MRC\_BITMASK\_RAT\_ALL}))
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Perform scan on GSM"});
        \hyperlink{le__mrc__interface_8h_ab66e29d054d7902c61f87e79fd6d987f}{le\_mrc\_PerformCellularNetworkScanAsync}(LE\_MRC\_BITMASK\_RAT\_GSM
      ,
            MyNetworkScanHandler, NULL);
    \}
    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (bitMaskOrigin & LE\_MRC\_BITMASK\_RAT\_UMTS)
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Perform scan on UMTS"});
        \hyperlink{le__mrc__interface_8h_ab66e29d054d7902c61f87e79fd6d987f}{le\_mrc\_PerformCellularNetworkScanAsync}(
      LE\_MRC\_BITMASK\_RAT\_UMTS,
            MyNetworkScanHandler, NULL);
    \}

    \hyperlink{le__event_loop_8h_ae313b457994371c658be9fe0494a01ff}{le\_event\_RunLoop}();
    \textcolor{keywordflow}{return} NULL;
\}
\end{DoxyCodeInclude}
\hypertarget{c_mrcNeighborCells}{}\paragraph{Sample code for Neighboring Cells Information}\label{c_mrcNeighborCells}

\begin{DoxyCodeInclude}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Test: Neighbor Cells Information.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} Testle\_mrc\_GetNeighboringCellsInfo
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} res;
    \hyperlink{le__mrc__interface_8h_a672ea94ad892bb95f43836b5fbd24188}{le\_mrc\_NeighborCellsRef\_t} ngbrRef;
    \hyperlink{le__mrc__interface_8h_a8fbb2523c254ba473a3f59efa452355e}{le\_mrc\_CellInfoRef\_t} cellRef;
    uint32\_t i = 0;
    uint32\_t cid = 0;
    uint32\_t lac = 0;
    int32\_t rxLevel = 0;
    \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43}{le\_mrc\_Rat\_t} rat = 0;
    int32\_t ecio = 0;
    int32\_t intraRsrp = 0;
    int32\_t intraRsrq = 0;
    int32\_t interRsrp = 0;
    int32\_t interRsrq = 0;

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Start Testle\_mrc\_GetNeighborCellsInfo"});

    ngbrRef = \hyperlink{le__mrc__interface_8h_a8d44fe46e61f3399c5e0dd6002b042ae}{le\_mrc\_GetNeighborCellsInfo}();
    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(ngbrRef);

    \textcolor{keywordflow}{if} (ngbrRef)
    \{
        i = 0;

        cellRef = \hyperlink{le__mrc__interface_8h_ab50724fd74818d71da1dfcd2217dd795}{le\_mrc\_GetFirstNeighborCellInfo}(ngbrRef);
        \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(cellRef);
        cid = \hyperlink{le__mrc__interface_8h_abdbc94e474235417d8610e2eb95558eb}{le\_mrc\_GetNeighborCellId}(cellRef);
        lac = \hyperlink{le__mrc__interface_8h_a70ba0ca70367bc673a6bca1e246bb88f}{le\_mrc\_GetNeighborCellLocAreaCode}(cellRef);
        rxLevel = \hyperlink{le__mrc__interface_8h_aeae116235802afd041afd9df009642aa}{le\_mrc\_GetNeighborCellRxLevel}(cellRef);
        rat = \hyperlink{le__mrc__interface_8h_a5bb3e75b74260a9cee57247e1968a31f}{le\_mrc\_GetNeighborCellRat}(cellRef);
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Cell #%d, cid.%d, lac.%d, rxLevel.%ddBm, RAT.%d"}, i, cid, lac, rxLevel, rat);
        \textcolor{comment}{// Specific values for UMTS and LTE}
        \textcolor{keywordflow}{switch}(rat)
        \{
            \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43afe34c4f3a53aa717f5ecb94dd59bf728}{LE\_MRC\_RAT\_UMTS}:
                ecio = \hyperlink{le__mrc__interface_8h_a94e452e3d7063d3359dcbb97a31b984b}{le\_mrc\_GetNeighborCellUmtsEcIo}(cellRef);
                \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Cell #%d, UMTS EcIo.%010.1fdB"}, i, ((\textcolor{keywordtype}{double})ecio/10));
                \textcolor{keywordflow}{break};

            \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43aaf2b25a8ec75f9bacb51967f23247176}{LE\_MRC\_RAT\_LTE}:
                res = \hyperlink{le__mrc__interface_8h_a7754836120c34cd2610b9777bd56409f}{le\_mrc\_GetNeighborCellLteIntraFreq}(cellRef, &
      intraRsrq, &intraRsrp);
                \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
                res = \hyperlink{le__mrc__interface_8h_a331545d4e396c513bba028db981c016b}{le\_mrc\_GetNeighborCellLteInterFreq}(cellRef, &
      interRsrq, &interRsrp);
                \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

                \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Cell #%d, LTE Intra-RSRQ.%010.1fdB, Intra-RSRP.%010.1fdBm, "}
                        \textcolor{stringliteral}{"Inter-RSRQ.%010.1fdB, Inter-RSRP.%010.1fdBm"},
                        i, ((\textcolor{keywordtype}{double})intraRsrq/10), ((\textcolor{keywordtype}{double})intraRsrp/10),
                        ((\textcolor{keywordtype}{double})interRsrq/10), ((\textcolor{keywordtype}{double})interRsrp/10));
                \textcolor{keywordflow}{break};

            \textcolor{keywordflow}{default}:
                \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Nothing more to display"});
                \textcolor{keywordflow}{break};
        \}

        \textcolor{keywordflow}{while} ((cellRef = \hyperlink{le__mrc__interface_8h_a0baede61d9b260a3ec83e3ab320d0715}{le\_mrc\_GetNextNeighborCellInfo}(ngbrRef)) != NULL)
        \{
            i++;
            cid = \hyperlink{le__mrc__interface_8h_abdbc94e474235417d8610e2eb95558eb}{le\_mrc\_GetNeighborCellId}(cellRef);
            lac = \hyperlink{le__mrc__interface_8h_a70ba0ca70367bc673a6bca1e246bb88f}{le\_mrc\_GetNeighborCellLocAreaCode}(cellRef);
            rxLevel = \hyperlink{le__mrc__interface_8h_aeae116235802afd041afd9df009642aa}{le\_mrc\_GetNeighborCellRxLevel}(cellRef);
            rat = \hyperlink{le__mrc__interface_8h_a5bb3e75b74260a9cee57247e1968a31f}{le\_mrc\_GetNeighborCellRat}(cellRef);
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Cell #%d, cid.%d, lac.%d, rxLevel.%ddBm, RAT.%d"}, i, cid, lac, rxLevel, rat);
            \textcolor{comment}{// Specific values for UMTS and LTE}
            \textcolor{keywordflow}{switch}(rat)
            \{
                \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43afe34c4f3a53aa717f5ecb94dd59bf728}{LE\_MRC\_RAT\_UMTS}:
                    ecio = \hyperlink{le__mrc__interface_8h_a94e452e3d7063d3359dcbb97a31b984b}{le\_mrc\_GetNeighborCellUmtsEcIo}(cellRef);
                    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Cell #%d, UMTS EcIo.%010.1fdB"}, i, ((\textcolor{keywordtype}{double})ecio/10));
                    \textcolor{keywordflow}{break};

                \textcolor{keywordflow}{case} \hyperlink{le__mrc__interface_8h_aaf23906c37ad59fb96a8a48f7fab5b43aaf2b25a8ec75f9bacb51967f23247176}{LE\_MRC\_RAT\_LTE}:
                    res = \hyperlink{le__mrc__interface_8h_a7754836120c34cd2610b9777bd56409f}{le\_mrc\_GetNeighborCellLteIntraFreq}(cellRef, &
      intraRsrq, &intraRsrp);
                    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);
                    res = \hyperlink{le__mrc__interface_8h_a331545d4e396c513bba028db981c016b}{le\_mrc\_GetNeighborCellLteInterFreq}(cellRef, &
      interRsrq, &interRsrp);
                    \hyperlink{le__log_8h_ac0dbbef91dc0fed449d0092ff0557b39}{LE\_ASSERT}(res == LE\_OK);

                    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Cell #%d, LTE Intra-RSRQ.%010.1fdB, Intra-RSRP.%010.1fdBm, "}
                            \textcolor{stringliteral}{"Inter-RSRQ.%010.1fdB, Inter-RSRP.%010.1fdBm"},
                            i, ((\textcolor{keywordtype}{double})intraRsrq/10), ((\textcolor{keywordtype}{double})intraRsrp/10),
                            ((\textcolor{keywordtype}{double})interRsrq/10), ((\textcolor{keywordtype}{double})interRsrp/10));
                    \textcolor{keywordflow}{break};

                \textcolor{keywordflow}{default}:
                    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Nothing more to display"});
                    \textcolor{keywordflow}{break};
            \}
        \}

        \hyperlink{le__mrc__interface_8h_a101343359e8d36ab41180aede2891b07}{le\_mrc\_DeleteNeighborCellsInfo}(ngbrRef);
    \}
\}
\end{DoxyCodeInclude}
\hypertarget{c_sms}{}\subsubsection{S\+MS}\label{c_sms}
\hyperlink{le__sms__interface_8h}{A\+PI Reference}





This file contains data structures and prototypes definitions for high level S\+MS A\+P\+Is.

S\+MS is a common way to communicate in the M2M world.

It\textquotesingle{}s an easy, fast way to send a small amount of data (e.\+g., sensor values for gas telemetry). Usually, the radio module requests small power resources to send or receive a message. It\textquotesingle{}s often a good way to wake-\/up a device that was disconnected from the network or that was operating in low power mode.\hypertarget{c_sms_le_sms_binding}{}\paragraph{I\+P\+C interfaces binding}\label{c_sms_le_sms_binding}
All the functions of this A\+PI are provided by the {\bfseries modem\+Service}.

Here\textquotesingle{}s a code sample binding to modem services\+: \begin{DoxyVerb}bindings:
{
   clientExe.clientComponent.le_sms -> modemService.le_sms
}
\end{DoxyVerb}
\hypertarget{c_sms_le_sms_ops_creating_msg}{}\paragraph{Creating a Message object}\label{c_sms_le_sms_ops_creating_msg}
There are 3 kinds of supported messages\+: text messages, binary messages, and P\+DU messages.

You must create a Message object by calling {\ttfamily \hyperlink{le__sms__interface_8h_a668abcbcff2f1f3c5cdf799315a81058}{le\+\_\+sms\+\_\+\+Create()}} before using the message A\+P\+Is. It automatically allocates needed resources for the Message object, which is referenced by {\ttfamily le\+\_\+sms\+\_\+\+Msg\+Ref\+\_\+t} type.

When the Message object is no longer needed, call {\ttfamily \hyperlink{le__sms__interface_8h_aca1691010c88995cb47225f2889910fa}{le\+\_\+sms\+\_\+\+Delete()}} to free all allocated resources associated with the object.\hypertarget{c_sms_le_sms_ops_deleting_msg}{}\paragraph{Deleting a Message object}\label{c_sms_le_sms_ops_deleting_msg}
To delete a Message object, call \hyperlink{le__sms__interface_8h_aca1691010c88995cb47225f2889910fa}{le\+\_\+sms\+\_\+\+Delete()}. This frees all the resources allocated for the Message object. If several users own the Message object (e.\+g., several handler functions registered for S\+MS message reception), the Message object will be deleted only after the last user deletes the Message object.\hypertarget{c_sms_le_sms_ops_sending}{}\paragraph{Sending a message}\label{c_sms_le_sms_ops_sending}
To send a message, create an {\ttfamily le\+\_\+sms\+\_\+\+Msg\+Ref\+\_\+t} object by calling the {\ttfamily \hyperlink{le__sms__interface_8h_a668abcbcff2f1f3c5cdf799315a81058}{le\+\_\+sms\+\_\+\+Create()}} function. Then, set all the needed parameters for the message\+:
\begin{DoxyItemize}
\item Destination telephone number with \hyperlink{le__sms__interface_8h_a6fda3e193c9662c394412816ae508c23}{le\+\_\+sms\+\_\+\+Set\+Destination()};
\item Text content with \hyperlink{le__sms__interface_8h_aa5468a01069d8c8d03e5204453560d9a}{le\+\_\+sms\+\_\+\+Set\+Text()}, the total length are set as well with this A\+PI, maximum 160 characters as only the 7-\/bit alphabet is supported.
\item Binary content with \hyperlink{le__sms__interface_8h_ad135130755ab2979a265f65178a3ae0d}{le\+\_\+sms\+\_\+\+Set\+Binary()}, total length is set with this A\+PI, maximum 140 bytes.
\item P\+DU content with \hyperlink{le__sms__interface_8h_a0fc5c9da622cc48ef5f9d908dbcbbf92}{le\+\_\+sms\+\_\+\+Set\+P\+D\+U()}, total length is set with this A\+PI, max 36 (header) + 140 (payload) bytes long.
\item U\+C\+S2 content (16-\/bit format) with \hyperlink{le__sms__interface_8h_ac351541bd51f008551a55ea645e31599}{le\+\_\+sms\+\_\+\+Set\+U\+C\+S2()}, total length is set with this A\+PI, maximum 70 characters (140 bytes).
\item A specific timeout value can be used with \hyperlink{le__sms__interface_8h_a2b14febf0e2285b0b3c2dbcd1c2bb7b0}{le\+\_\+sms\+\_\+\+Set\+Timeout()} A\+PI.
\end{DoxyItemize}

After the Msg object is ready, call {\ttfamily \hyperlink{le__sms__interface_8h_ab7dee7d2c74cfcadd9ea0d5fe1786dfc}{le\+\_\+sms\+\_\+\+Send()}}.

{\ttfamily \hyperlink{le__sms__interface_8h_ab7dee7d2c74cfcadd9ea0d5fe1786dfc}{le\+\_\+sms\+\_\+\+Send()}} is a blocking function, it will return once the Modem has given back a positive or negative answer to the sending operation. The return of {\ttfamily \hyperlink{le__sms__interface_8h_ab7dee7d2c74cfcadd9ea0d5fe1786dfc}{le\+\_\+sms\+\_\+\+Send()}} A\+PI provides definitive status of the sending operation. T\+P-\/\+Validity-\/\+Period(T\+P-\/\+VP) parameter value indicates the time period for which the short message is valid, i.\+e. for how long the Service Center (SC) shall guarantee its existence in the SC memory before delivery to the recipient has been carried out. The default validity period(T\+P-\/\+VP) is set to 7 days for MO S\+MS.

When a message sending has failed and returned L\+E\+\_\+\+F\+A\+U\+LT, call \hyperlink{le__sms__interface_8h_a9ee511af99c91383344debf532fae1ae}{le\+\_\+sms\+\_\+\+Get\+Error\+Code()} to retrieve the 3\+G\+PP message error code or \hyperlink{le__sms__interface_8h_a46afe91bbded617ad444ea29a9dd910a}{le\+\_\+sms\+\_\+\+Get3\+G\+P\+P2\+Error\+Code()} to retrieve the 3\+G\+P\+P2 message error code. If L\+E\+\_\+\+S\+M\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+3\+G\+P\+P\+\_\+\+P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+S\+P\+E\+C\+I\+F\+IC or L\+E\+\_\+\+S\+M\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+3\+G\+P\+P2\+\_\+\+P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+S\+P\+E\+C\+I\+F\+IC values is returned, call \hyperlink{le__sms__interface_8h_a9cfbc2131df38f99272a71bf05cb1254}{le\+\_\+sms\+\_\+\+Get\+Platform\+Specific\+Error\+Code()} to retrieve the platform specific error code.

Please refer to \hyperlink{platformConstraintsSpecificErrorCodes}{Platform specific error codes} for platform specific error code description.

Please refer to \hyperlink{c_smsSampleMO}{Sample code for Mobile Originated S\+MS message} page to get an example of S\+MS message sending.\hypertarget{c_sms_le_sms_ops_async_sending}{}\paragraph{Sending asynchronously a message}\label{c_sms_le_sms_ops_async_sending}
To send an asynchronous message, \hyperlink{le__sms__interface_8h_a0ba61dcf10157e9982702373577c6b45}{le\+\_\+sms\+\_\+\+Send\+Async()} A\+PI can be called instead of \hyperlink{le__sms__interface_8h_ab7dee7d2c74cfcadd9ea0d5fe1786dfc}{le\+\_\+sms\+\_\+\+Send()} and a specific timeout value can be used with \hyperlink{le__sms__interface_8h_a2b14febf0e2285b0b3c2dbcd1c2bb7b0}{le\+\_\+sms\+\_\+\+Set\+Timeout()} A\+PI. The default validity period(T\+P-\/\+VP) is set to 7 days for MO S\+MS.

A text message can be sent with one simple function\+: \hyperlink{le__sms__interface_8h_a275932e7f318db06cd1d1cbc8e3f573f}{le\+\_\+sms\+\_\+\+Send\+Text()}. You only have to pass the three following parameters\+:
\begin{DoxyItemize}
\item the destination telephone number.
\item the text message, the total length are set as well with this function, maximum 160 characters as only the 7-\/bit alphabet is supported.
\item the callback function to get a notification indicating the sending result\+: L\+E\+\_\+\+S\+M\+S\+\_\+\+S\+E\+NT, L\+E\+\_\+\+S\+M\+S\+\_\+\+S\+E\+N\+D\+I\+N\+G\+\_\+\+F\+A\+I\+L\+ED or L\+E\+\_\+\+S\+M\+S\+\_\+\+S\+E\+N\+D\+I\+N\+G\+\_\+\+T\+I\+M\+E\+O\+UT. The default validity period(T\+P-\/\+VP) is set to 7 days for MO S\+MS.
\end{DoxyItemize}

A P\+DU message can be sent using the \hyperlink{le__sms__interface_8h_a6c45951342396e9c4bc0e995b4e70784}{le\+\_\+sms\+\_\+\+Send\+Pdu()} functions. The parameters to give are\+:
\begin{DoxyItemize}
\item the P\+DU content, total length is set with this A\+PI, maximum 176 bytes long = 36 (header) + 140 (payload).
\item the callback function to get a notification indicating the sending result\+: L\+E\+\_\+\+S\+M\+S\+\_\+\+S\+E\+NT, L\+E\+\_\+\+S\+M\+S\+\_\+\+S\+E\+N\+D\+I\+N\+G\+\_\+\+F\+A\+I\+L\+ED or L\+E\+\_\+\+S\+M\+S\+\_\+\+S\+E\+N\+D\+I\+N\+G\+\_\+\+T\+I\+M\+E\+O\+UT. The default validity period(T\+P-\/\+VP) is set to 7 days for MO S\+MS.
\end{DoxyItemize}

When a message sending has failed, call \hyperlink{le__sms__interface_8h_a9ee511af99c91383344debf532fae1ae}{le\+\_\+sms\+\_\+\+Get\+Error\+Code()} to retrieve the 3\+G\+PP message error code or \hyperlink{le__sms__interface_8h_a46afe91bbded617ad444ea29a9dd910a}{le\+\_\+sms\+\_\+\+Get3\+G\+P\+P2\+Error\+Code()} to retrieve the 3\+G\+P\+P2 message error code. If L\+E\+\_\+\+S\+M\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+3\+G\+P\+P\+\_\+\+P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+S\+P\+E\+C\+I\+F\+IC or L\+E\+\_\+\+S\+M\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+3\+G\+P\+P2\+\_\+\+P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+S\+P\+E\+C\+I\+F\+IC values is returned, call \hyperlink{le__sms__interface_8h_a9cfbc2131df38f99272a71bf05cb1254}{le\+\_\+sms\+\_\+\+Get\+Platform\+Specific\+Error\+Code()} to retrieve the platform specific error code.

Message object is never deleted regardless of the sending result. Caller has to delete it. Message object once used for sending the message can not be reused to send another message regardless of success or failure. New object has to be created for new message.\hypertarget{c_sms_le_sms_ops_receiving}{}\paragraph{Receiving a message}\label{c_sms_le_sms_ops_receiving}
To receive S\+MS messages, register a handler function to obtain incoming messages. Use {\ttfamily \hyperlink{le__sms__interface_8h_a844d595f3ae8d170b2fff80d854abb8d}{le\+\_\+sms\+\_\+\+Add\+Rx\+Message\+Handler()}} to register that handler.

The handler must satisfy the following prototype\+: {\ttfamily typedef} void ($\ast$le\+\_\+sms\+\_\+\+Rx\+Message\+Handler\+Func\+\_\+t)(le\+\_\+sms\+\_\+\+Msg\+Ref\+\_\+t msg).

When a new incoming message is received, a Message object is automatically created and the handler is called. This Message object is Read-\/\+Only, any calls of a le\+\_\+sms\+\_\+\+Set\+X\+XX A\+PI will return a L\+E\+\_\+\+N\+O\+T\+\_\+\+P\+E\+R\+M\+I\+T\+T\+ED error.

Use the following A\+P\+Is to retrieve message information and data from the Message object\+:
\begin{DoxyItemize}
\item \hyperlink{le__sms__interface_8h_a5c2b8ce7043b4732c7b0ede7c5d7118c}{le\+\_\+sms\+\_\+\+Get\+Format()} -\/ determine if it is a binary or a text message.
\item \hyperlink{le__sms__interface_8h_aa4651e8dc97aa01df80ed6d9a7a486c6}{le\+\_\+sms\+\_\+\+Get\+Sender\+Tel()} -\/ get the sender\textquotesingle{}s Telephone number.
\item \hyperlink{le__sms__interface_8h_af018ca1bc2085a48e4b6d4691bef3cc7}{le\+\_\+sms\+\_\+\+Get\+Time\+Stamp()} -\/ get the timestamp sets by the Service Center.
\item \hyperlink{le__sms__interface_8h_a6165464dd3502b3c76b79b32206ba10f}{le\+\_\+sms\+\_\+\+Get\+Userdata\+Len()} -\/ get the message content (text, binary or U\+C\+S2) length.
\item \hyperlink{le__sms__interface_8h_abb89b302e564f3d55d604bb0c0dda022}{le\+\_\+sms\+\_\+\+Get\+P\+D\+U\+Len()} -\/ get the P\+DU message length.
\item \hyperlink{le__sms__interface_8h_aebf0c28efce6ec0b9616ffa8ecb80782}{le\+\_\+sms\+\_\+\+Get\+Text()} -\/ get the message text.
\item \hyperlink{le__sms__interface_8h_adafdc63a36a6a50c8e942bf69958789f}{le\+\_\+sms\+\_\+\+Get\+U\+C\+S2()} -\/ get the U\+C\+S2 message content (16-\/bit format).
\item \hyperlink{le__sms__interface_8h_af652a15437db583f333257ff5cef808d}{le\+\_\+sms\+\_\+\+Get\+Binary()} -\/ get the message binary content.
\item \hyperlink{le__sms__interface_8h_a77555788d56f73fa52f56904cd39cd2f}{le\+\_\+sms\+\_\+\+Get\+P\+D\+U()} -\/ get the message P\+DU data.
\item \hyperlink{le__sms__interface_8h_a2a63c6b5179025a80fb86c7f188e1eb7}{le\+\_\+sms\+\_\+\+Get\+Type()} -\/ get the message type.
\end{DoxyItemize}

\begin{DoxyNote}{Note}
-\/ If two (or more) registered handler functions exist, they are all called and get a different message object reference.

-\/ For incoming S\+MS, if the returned format is L\+E\+\_\+\+S\+M\+S\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P\+DU, the P\+DU length can be retrieved by calling \hyperlink{le__sms__interface_8h_abb89b302e564f3d55d604bb0c0dda022}{le\+\_\+sms\+\_\+\+Get\+P\+D\+U\+Len()} and the content can be read by \hyperlink{le__sms__interface_8h_a77555788d56f73fa52f56904cd39cd2f}{le\+\_\+sms\+\_\+\+Get\+P\+D\+U()}.
\end{DoxyNote}
If a succession of messages is received, a new Message object is created for each, and the handler is called for each new message.

Uninstall the handler function by calling {\ttfamily \hyperlink{le__sms__interface_8h_a469a4d08b9ccb8b61ed7b8294e6ee3ef}{le\+\_\+sms\+\_\+\+Remove\+Rx\+Message\+Handler()}}. \begin{DoxyNote}{Note}
{\ttfamily \hyperlink{le__sms__interface_8h_a469a4d08b9ccb8b61ed7b8294e6ee3ef}{le\+\_\+sms\+\_\+\+Remove\+Rx\+Message\+Handler()}} A\+PI does not delete the Message Object. The caller has to delete it.
\end{DoxyNote}
Please refer to \hyperlink{c_smsSampleMT}{Sample code for Mobile Terminated S\+MS message} page to get an example of S\+MS message reception handling.\hypertarget{c_sms_le_sms_ops_sms_storage}{}\paragraph{Receiving a full S\+M\+S storage indication}\label{c_sms_le_sms_ops_sms_storage}
To receive a S\+MS full storage status, the application has to register a handler function. Use {\ttfamily \hyperlink{le__sms__interface_8h_a1ae7c04f5de9245489956e62bd607430}{le\+\_\+sms\+\_\+\+Add\+Full\+Storage\+Event\+Handler()}} to register that handler.

The handler must satisfy the following prototype\+: {\ttfamily typedef} void ($\ast$le\+\_\+sms\+\_\+\+Full\+Storage\+Event\+Func\+\_\+t)(le\+\_\+sms\+\_\+\+Storage\+\_\+t storage).

Uninstall the handler function by calling {\ttfamily \hyperlink{le__sms__interface_8h_ad4f895d18ab6a6456c0914c7f4bfb8b7}{le\+\_\+sms\+\_\+\+Remove\+Full\+Storage\+Event\+Handler()}}.

Please refer to \hyperlink{c_smsSampleMT}{Sample code for Mobile Terminated S\+MS message} page to get an example of S\+MS storage indication handling.\hypertarget{c_sms_le_sms_ops_listing}{}\paragraph{Listing  messages recorded in storage area}\label{c_sms_le_sms_ops_listing}
Call {\ttfamily \hyperlink{le__sms__interface_8h_aee4328f9e417108fa16794cc135073d0}{le\+\_\+sms\+\_\+\+Create\+Rx\+Msg\+List()}} to create a List object that lists the received messages present in the storage area, which is referenced by {\ttfamily le\+\_\+sms\+\_\+\+Msg\+List\+Ref\+\_\+t} type.

If messages are not present, the \hyperlink{le__sms__interface_8h_aee4328f9e417108fa16794cc135073d0}{le\+\_\+sms\+\_\+\+Create\+Rx\+Msg\+List()} returns N\+U\+LL.

Once the list is available, call {\ttfamily \hyperlink{le__sms__interface_8h_a934253dee33a6090656876cff853b2c6}{le\+\_\+sms\+\_\+\+Get\+First()}} to get the first message from the list, and then call {\ttfamily \hyperlink{le__sms__interface_8h_ac3b6a30a6d4e4f21749b536184b836ec}{le\+\_\+sms\+\_\+\+Get\+Next()}} A\+PI to get the next message.

Call {\ttfamily \hyperlink{le__sms__interface_8h_a4027c05c4ee7552ab0e081caa315c8a2}{le\+\_\+sms\+\_\+\+Delete\+List()}} to free all allocated resources associated with the List object.

Call {\ttfamily \hyperlink{le__sms__interface_8h_ae1843c72eca77cd6da94cb686e5c2ae8}{le\+\_\+sms\+\_\+\+Get\+Status()}} to read the status of a message (Received Read, Received Unread).

To finish, you can also modify the received status of a message with {\ttfamily \hyperlink{le__sms__interface_8h_a3dbd11952804520512fed270d183461d}{le\+\_\+sms\+\_\+\+Mark\+Read()}} and {\ttfamily \hyperlink{le__sms__interface_8h_a6ef04e331af6563b79e77bb51b28bc55}{le\+\_\+sms\+\_\+\+Mark\+Unread()}}.\hypertarget{c_sms_le_sms_ops_deleting}{}\paragraph{Deleting a message from the storage area}\label{c_sms_le_sms_ops_deleting}
{\ttfamily \hyperlink{le__sms__interface_8h_aff755186b683b94ba2788b48e28284a3}{le\+\_\+sms\+\_\+\+Delete\+From\+Storage()}} deletes the message from the storage area. Message is identified with {\ttfamily le\+\_\+sms\+\_\+\+Msg\+Ref\+\_\+t} object. The A\+PI returns an error if the deletion cannot be performed or if it is a broadcast or a non stored message.

\begin{DoxyNote}{Note}
If several users own the Message object on new reception (e.\+g., several handler functions registered for S\+MS message reception), the Message will be deleted from the storage area only after the last user deletes the Message object reference (not necessary from storage). A\+PI returns always L\+E\+\_\+\+OK in this case.

If one client creates a list and deletes all sms from storage, other clients won’t see sms stored If they have not created a sms list too. Sms List creation locks and delays sms deletion from storage until all references have been deleted.
\end{DoxyNote}
\hypertarget{c_sms_le_sms_ops_broadcast}{}\paragraph{S\+M\+S Cell Broadcast}\label{c_sms_le_sms_ops_broadcast}
The Cell Broadcast service permits a number of unacknowledged general messages to be broadcast to all receivers within a particular region. Cell Broadcast messages are broadcast to defined geographical areas known as cell broadcast areas. These areas may comprise of one or more cells, or may comprise the entire P\+L\+MN.

G\+SM or U\+M\+TS S\+MS cell broadcast service can be activated or deactivated with \hyperlink{le__sms__interface_8h_a4607c63f325465d078514b5682347c7f}{le\+\_\+sms\+\_\+\+Activate\+Cell\+Broadcast()} and \hyperlink{le__sms__interface_8h_aa57c2f717c71b33e93f278673a7806e9}{le\+\_\+sms\+\_\+\+Deactivate\+Cell\+Broadcast()} A\+P\+Is.

C\+D\+MA cell broadcast service can be activated or deactivated with \hyperlink{le__sms__interface_8h_a45a160fea5a8f6cd195e3aff33830602}{le\+\_\+sms\+\_\+\+Activate\+Cdma\+Cell\+Broadcast()} and \hyperlink{le__sms__interface_8h_a26d43a50652431063e0a8e4d88fdba86}{le\+\_\+sms\+\_\+\+Deactivate\+Cdma\+Cell\+Broadcast()} A\+P\+Is.

Cell broadcast message receptions are notify by the S\+MS handler like a S\+MS message reception, but there are neither stored in S\+IM nor in the modem. So \hyperlink{le__sms__interface_8h_aff755186b683b94ba2788b48e28284a3}{le\+\_\+sms\+\_\+\+Delete\+From\+Storage()} can\textquotesingle{}t be used but the message reference shall be delete with \hyperlink{le__sms__interface_8h_aca1691010c88995cb47225f2889910fa}{le\+\_\+sms\+\_\+\+Delete()}.


\begin{DoxyItemize}
\item \hyperlink{le__sms__interface_8h_a5c2b8ce7043b4732c7b0ede7c5d7118c}{le\+\_\+sms\+\_\+\+Get\+Format()} -\/ determine if it is a binary or a text message.
\item \hyperlink{le__sms__interface_8h_a6165464dd3502b3c76b79b32206ba10f}{le\+\_\+sms\+\_\+\+Get\+Userdata\+Len()} -\/ get the message content (text, binary or U\+C\+S2) length.
\item \hyperlink{le__sms__interface_8h_abb89b302e564f3d55d604bb0c0dda022}{le\+\_\+sms\+\_\+\+Get\+P\+D\+U\+Len()} -\/ get the P\+DU message received length.
\item \hyperlink{le__sms__interface_8h_aebf0c28efce6ec0b9616ffa8ecb80782}{le\+\_\+sms\+\_\+\+Get\+Text()} -\/ get the message text.
\item \hyperlink{le__sms__interface_8h_af652a15437db583f333257ff5cef808d}{le\+\_\+sms\+\_\+\+Get\+Binary()} -\/ get the message binary content.
\item \hyperlink{le__sms__interface_8h_adafdc63a36a6a50c8e942bf69958789f}{le\+\_\+sms\+\_\+\+Get\+U\+C\+S2()} -\/ get the U\+C\+S2 message content (16-\/bit format).
\item \hyperlink{le__sms__interface_8h_a77555788d56f73fa52f56904cd39cd2f}{le\+\_\+sms\+\_\+\+Get\+P\+D\+U()} -\/ get the message P\+DU data received length.
\item \hyperlink{le__sms__interface_8h_aa28c1d04ff19b88100b766737610b128}{le\+\_\+sms\+\_\+\+Get\+Cell\+Broadcast\+Id()} -\/ get the message identifier received (3\+G\+PP 23.\+41).
\item \hyperlink{le__sms__interface_8h_aa3e075b4a9396b2e4af233e4543f40bd}{le\+\_\+sms\+\_\+\+Get\+Cell\+Broadcast\+Serial\+Number()} get the message Serial Number received (3\+G\+PP 23.\+41).
\end{DoxyItemize}

A sample code that implements a function for S\+MS Cell Broadcast reception can be found in {\bfseries sms\+C\+B\+Test.\+c} file (please refer to \hyperlink{c_smsCbSample}{Sample code for S\+MS Cell Broadcast reception} page).

{\bfseries Serial} {\bfseries Number} 

Cell Broadcast Serial Number parameter is a 16-\/bit integer which identifies a particular C\+BS message from the source and type indicated by the Message Identifier and is altered every time the C\+BS message with a given Message Identifier is changed.

The two bytes of the Serial Number field are divided into a 2-\/bit Geographical Scope (GS) indicator, a 10-\/bit Message Code and a 4-\/bit Update Number as shown below\+:


\begin{DoxyItemize}
\item GS code (bit 14 and 15)\+: The Geographical Scope (GS) indicates the geographical area over which the Message Code is unique, and the display mode.
\item Message Code (bit 4 to 13) \+: The Message Code differentiates between C\+BS messages from the same source and type (i.\+e. with the same Message Identifier). Message Codes are for allocation by P\+L\+MN operators. The Message Code identifies different message themes. For example, let the value for the Message Identifier be \char`\"{}\+Automotive Association\char`\"{} (= source), \char`\"{}\+Traffic Reports\char`\"{} (= type). Then \char`\"{}\+Crash on A1 J5\char`\"{} could be one value for the message code, \char`\"{}\+Cow on A32 J4\char`\"{} could be another, and \char`\"{}\+Slow vehicle on M3 J3\char`\"{} yet another.
\item Update Number (bit 0 to 3) \+: The Update Number indicates a change of the message content of the same C\+BS message, i.\+e. the C\+BS message with the same Message Identifier, Geographical Scope, and Message Code.
\end{DoxyItemize}

Serial Number fields meaning are defined in the 3\+G\+PP 23.\+041 (9.\+4.\+1.\+2.\+1 Serial Number).

{\bfseries Message} {\bfseries Identifier} 

Message Identifier parameter identifies the source and type of the C\+BS message. For example, \char`\"{}\+Automotive Association\char`\"{} (= source), \char`\"{}\+Traffic Reports\char`\"{} (= type) could correspond to one value. A number of C\+BS messages may originate from the same source and/or be of the same type. These will be distinguished by the Serial Number.

Message identifier meaning ranges are defined in the 3\+G\+PP 23.\+041 (9.\+4.\+1.\+2.\+2 Message Identifier).\hypertarget{c_sms_le_sms_ops_broadcast_configuration}{}\paragraph{S\+M\+S Cell Broadcast configuration}\label{c_sms_le_sms_ops_broadcast_configuration}
G\+SM or U\+M\+TS Cell broadcast Message identifiers range can be added or removed with \hyperlink{le__sms__interface_8h_aae87dacecc438ea9182d370895e5cb3f}{le\+\_\+sms\+\_\+\+Add\+Cell\+Broadcast\+Ids()} and \hyperlink{le__sms__interface_8h_a656fefe815bb965e10087ee65b59faa0}{le\+\_\+sms\+\_\+\+Remove\+Cell\+Broadcast\+Ids()} A\+P\+Is. All Message identifiers can be removed with \hyperlink{le__sms__interface_8h_ae3333cbf700035067f2dae8ea0e564d0}{le\+\_\+sms\+\_\+\+Clear\+Cell\+Broadcast\+Ids()} A\+PI.

C\+D\+MA Cell broadcast Service categories can be added or removed with \hyperlink{le__sms__interface_8h_ad57196114a634f36b057a9cfbcb7d58a}{le\+\_\+sms\+\_\+\+Add\+Cdma\+Cell\+Broadcast\+Services()} and \hyperlink{le__sms__interface_8h_ae7c58d4ed9ff586d2403232b0cda99e7}{le\+\_\+sms\+\_\+\+Remove\+Cdma\+Cell\+Broadcast\+Services()} A\+P\+Is. All Service categories can be removed with \hyperlink{le__sms__interface_8h_ac737aaab68b6fa1d51a21b518ad112a9}{le\+\_\+sms\+\_\+\+Clear\+Cdma\+Cell\+Broadcast\+Services()} A\+PI.\hypertarget{c_sms_le_sms_ops_statusReport}{}\paragraph{S\+M\+S Status Report}\label{c_sms_le_sms_ops_statusReport}
S\+MS Status Report may be sent by the S\+MS Center (S\+M\+SC) to inform the originating device about the final outcome of the message delivery.

S\+MS Status Report can be activated or deactivated for outgoing messages with \hyperlink{le__sms__interface_8h_abb90bbe4ce17b1b8d029d25a6e6cc2de}{le\+\_\+sms\+\_\+\+Enable\+Status\+Report()} and \hyperlink{le__sms__interface_8h_af9c9679ca63f412c1c2a1165eb293d51}{le\+\_\+sms\+\_\+\+Disable\+Status\+Report()}. The current activation state can be retrieved with \hyperlink{le__sms__interface_8h_a301b97fc1568ad3f2699846bde5f71b4}{le\+\_\+sms\+\_\+\+Is\+Status\+Report\+Enabled()}.

The reception of a S\+MS Status Report is notified by the S\+MS handler like a S\+MS message reception, but the message is neither stored in S\+IM nor in the modem. So \hyperlink{le__sms__interface_8h_aff755186b683b94ba2788b48e28284a3}{le\+\_\+sms\+\_\+\+Delete\+From\+Storage()} can\textquotesingle{}t be used, but the message reference shall be delete with \hyperlink{le__sms__interface_8h_aca1691010c88995cb47225f2889910fa}{le\+\_\+sms\+\_\+\+Delete()}. Received S\+MS Status Reports are identified by a specific type\+: \hyperlink{le__sms__interface_8h_a9001c5bc939bda5d5865e363bdf7662caa2fb7260ae0bba4a3d1635f199b86811}{L\+E\+\_\+\+S\+M\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+R\+E\+P\+O\+RT}.

The different elements of the S\+MS Status Report can be retrieved with the following A\+P\+Is\+:
\begin{DoxyItemize}
\item \hyperlink{le__sms__interface_8h_aa69393d6233b862f1196e6f65d0c45ba}{le\+\_\+sms\+\_\+\+Get\+Tp\+Mr()} gives the Message Reference, defined in 3\+G\+PP TS 23.\+040 section 9.\+2.\+3.\+6.
\item \hyperlink{le__sms__interface_8h_acbcc4f0517d19ea9b01813ae5da068c7}{le\+\_\+sms\+\_\+\+Get\+Tp\+Ra()} gives the Recipient Address, defined in 3\+G\+PP TS 23.\+040 section 9.\+2.\+3.\+14, and the Recipient Address Type of Address, defined in 3\+G\+PP TS 24.\+011 section 8.\+2.\+5.\+2.
\item \hyperlink{le__sms__interface_8h_a7420855708637a4c35d36a20d1f5146d}{le\+\_\+sms\+\_\+\+Get\+Tp\+Sc\+Ts()} gives the Service Centre Time Stamp, defined in 3\+G\+PP TS 23.\+040 section 9.\+2.\+3.\+11.
\item \hyperlink{le__sms__interface_8h_ae3f6f7e4d53e171b3d8c62dcec9cc0c6}{le\+\_\+sms\+\_\+\+Get\+Tp\+Dt()} gives the Discharge Time, defined in 3\+G\+PP TS 23.\+040 section 9.\+2.\+3.\+13.
\item \hyperlink{le__sms__interface_8h_a8ef30b42f4e23f568cde8b60abe05709}{le\+\_\+sms\+\_\+\+Get\+Tp\+St()} gives the Status, defined in 3\+G\+PP TS 23.\+040 section 9.\+2.\+3.\+15.
\end{DoxyItemize}\hypertarget{c_sms_le_sms_ops_configuration}{}\paragraph{S\+M\+S configuration}\label{c_sms_le_sms_ops_configuration}
Modem S\+MS Center Address can be set or get with \hyperlink{le__sms__interface_8h_ac26c1b63cd99291dcb912ca98c0eb153}{le\+\_\+sms\+\_\+\+Set\+Sms\+Center\+Address()} and \hyperlink{le__sms__interface_8h_ae46b8ea579c788950049948edf1110b6}{le\+\_\+sms\+\_\+\+Get\+Sms\+Center\+Address()} functions\hypertarget{c_sms_le_sms_ops_storage_configuration}{}\paragraph{Preferred S\+M\+S storage configuration}\label{c_sms_le_sms_ops_storage_configuration}
Preferred S\+MS storage for incoming messages can be set or get with \hyperlink{le__sms__interface_8h_a05e4196eb01d4d36ed2412c6eedc406e}{le\+\_\+sms\+\_\+\+Set\+Preferred\+Storage()} and \hyperlink{le__sms__interface_8h_a5275b917903dbd1d782867f42d256c55}{le\+\_\+sms\+\_\+\+Get\+Preferred\+Storage()} functions.\hypertarget{c_sms_le_sms_ops_statistics}{}\paragraph{S\+M\+S statistics}\label{c_sms_le_sms_ops_statistics}
The number of S\+MS successfully sent or received through the Legato A\+PI can be counted. This feature is activated by default. \hyperlink{le__sms__interface_8h_ade1b38b464c14cca08cd1fc330a6d8e3}{le\+\_\+sms\+\_\+\+Get\+Count()} allows retrieving the message count for each S\+MS type (cf. \hyperlink{le__sms__interface_8h_a9001c5bc939bda5d5865e363bdf7662c}{le\+\_\+sms\+\_\+\+Type\+\_\+t}).

\hyperlink{le__sms__interface_8h_aa5651e6a979fc08bed6908d817337021}{le\+\_\+sms\+\_\+\+Stop\+Count()} stops the message counting and \hyperlink{le__sms__interface_8h_a6acd2a2bf763a97ec30ceaedb15195eb}{le\+\_\+sms\+\_\+\+Start\+Count()} restarts it. \hyperlink{le__sms__interface_8h_af45c0dd18248c98b5e5313f707b67bfa}{le\+\_\+sms\+\_\+\+Reset\+Count()} can be used to reset the message counters.

\begin{DoxyNote}{Note}
The activation state of this feature is persistent even after a reboot of the platform.
\end{DoxyNote}
\hypertarget{c_sms_le_sms_ops_samples}{}\paragraph{Sample codes}\label{c_sms_le_sms_ops_samples}
A sample code that implements a function for Mobile Originated S\+MS message can be found in {\bfseries sms\+M\+O.\+c} file (please refer to \hyperlink{c_smsSampleMO}{Sample code for Mobile Originated S\+MS message} page).

A sample code that implements a function for Mobile Terminated S\+MS message can be found in {\bfseries sms\+M\+T.\+c} file (please refer to \hyperlink{c_smsSampleMT}{Sample code for Mobile Terminated S\+MS message} page).

These two samples can be easily compiled and run into the {\bfseries sms} app, to install and use this app\+:

\begin{DoxyVerb}$ make ar7
$ bin/instapp  build/ar7/bin/samples/sms.ar7 <ipaddress>
\end{DoxyVerb}
 where ipaddress is the address of your target device.

Then on your target, just run\+: \begin{DoxyVerb}$ app start sms
\end{DoxyVerb}


The sample replies to the sender by the message \char`\"{}\+Message from $<$phone number$>$ received\char`\"{}. Where \char`\"{}phone number\char`\"{} is the sender\textquotesingle{}s phone number.

Sample code for that application can be seen in the following pages\+:
\begin{DoxyItemize}
\item \hyperlink{c_smsSampleMO}{Sample code for Mobile Originated S\+MS message} ~\newline

\item \hyperlink{c_smsSampleMT}{Sample code for Mobile Terminated S\+MS message}
\end{DoxyItemize}





Copyright (C) Sierra Wireless Inc. \hypertarget{c_smsSampleMO}{}\paragraph{Sample code for Mobile Originated S\+MS message}\label{c_smsSampleMO}

\begin{DoxyCodeInclude}
\textcolor{comment}{ /**}
\textcolor{comment}{  * Sample code for Mobile Originated SMS messages.}
\textcolor{comment}{  *}
\textcolor{comment}{  * Copyright (C) Sierra Wireless Inc.}
\textcolor{comment}{  *}
\textcolor{comment}{  *}
\textcolor{comment}{  *}
\textcolor{comment}{  */}

\textcolor{preprocessor}{#include "\hyperlink{legato_8h}{legato.h}"}
\textcolor{preprocessor}{#include "interfaces.h"}


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * This function simply sends a text message.}
\textcolor{comment}{ *}
\textcolor{comment}{ * @return LE\_FAULT  The function failed.}
\textcolor{comment}{ * @return LE\_OK     The function succeed.}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} smsmo\_SendMessage
(
    \textcolor{keyword}{const} \textcolor{keywordtype}{char}*   destinationPtr, \textcolor{comment}{///< [IN] The destination number.}
\textcolor{comment}{}    \textcolor{keyword}{const} \textcolor{keywordtype}{char}*   textPtr         \textcolor{comment}{///< [IN] The SMS message text.}
\textcolor{comment}{})
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t}           res;
    \hyperlink{le__sms__interface_8h_a8eb2a15362fe26516fc68fd7a7d5e3e7}{le\_sms\_MsgRef\_t}      myMsg;

    myMsg = \hyperlink{le__sms__interface_8h_a668abcbcff2f1f3c5cdf799315a81058}{le\_sms\_Create}();
    \textcolor{keywordflow}{if} (!myMsg)
    \{
        \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"SMS message creation has failed!"});
        \textcolor{keywordflow}{return} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798}{LE\_FAULT};
    \}

    res = \hyperlink{le__sms__interface_8h_a6fda3e193c9662c394412816ae508c23}{le\_sms\_SetDestination}(myMsg, destinationPtr);
    \textcolor{keywordflow}{if} (res != LE\_OK)
    \{
        \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"le\_sms\_SetDestination has failed (res.%d)!"}, res);
        \textcolor{keywordflow}{return} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798}{LE\_FAULT};
    \}

    res = \hyperlink{le__sms__interface_8h_aa5468a01069d8c8d03e5204453560d9a}{le\_sms\_SetText}(myMsg, textPtr);
    \textcolor{keywordflow}{if} (res != LE\_OK)
    \{
        \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"le\_sms\_SetText has failed (res.%d)!"}, res);
        \textcolor{keywordflow}{return} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798}{LE\_FAULT};
    \}

    res = \hyperlink{le__sms__interface_8h_ab7dee7d2c74cfcadd9ea0d5fe1786dfc}{le\_sms\_Send}(myMsg);
    \textcolor{keywordflow}{if} (res != LE\_OK)
    \{
        \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"le\_sms\_Send has failed (res.%d)!"}, res);
        \textcolor{keywordflow}{return} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798}{LE\_FAULT};
    \}
    \textcolor{keywordflow}{else}
    \{
        \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"\(\backslash\)"%s\(\backslash\)" has been successfully sent to %s."}, textPtr, destinationPtr);
    \}

    \hyperlink{le__sms__interface_8h_aca1691010c88995cb47225f2889910fa}{le\_sms\_Delete}(myMsg);

    \textcolor{keywordflow}{return} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5066a4bcec691c6b67843b8f79656422}{LE\_OK};
\}

\end{DoxyCodeInclude}
 \hypertarget{c_smsSampleMT}{}\paragraph{Sample code for Mobile Terminated S\+MS message}\label{c_smsSampleMT}

\begin{DoxyCodeInclude}
\textcolor{comment}{ /**}
\textcolor{comment}{  * Sample code for Mobile Terminated SMS messages.}
\textcolor{comment}{  *}
\textcolor{comment}{  * Copyright (C) Sierra Wireless Inc.}
\textcolor{comment}{  *}
\textcolor{comment}{  *}
\textcolor{comment}{  *}
\textcolor{comment}{  */}

\textcolor{preprocessor}{#include "\hyperlink{legato_8h}{legato.h}"}
\textcolor{preprocessor}{#include "interfaces.h"}
\textcolor{preprocessor}{#include "smsSample.h"}

\textcolor{preprocessor}{#define  MESSAGE\_FEEDBACK "Message from %s received"}

\textcolor{keyword}{static} \hyperlink{le__sms__interface_8h_a77d2607cc541bf0369e69bb2d105d4bf}{le\_sms\_RxMessageHandlerRef\_t} RxHdlrRef;
\textcolor{keyword}{static} \hyperlink{le__sms__interface_8h_a30f936dfe4c276ff8025ad2a90a8e4e3}{le\_sms\_FullStorageEventHandlerRef\_t} FullStorageHdlrRef;


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Handler function for SMS message reception.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------- -----------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} RxMessageHandler
(
    \hyperlink{le__sms__interface_8h_a8eb2a15362fe26516fc68fd7a7d5e3e7}{le\_sms\_MsgRef\_t} msgRef,
    \textcolor{keywordtype}{void}*            contextPtr
)
\{
    \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t}  res;
    \textcolor{keywordtype}{char}         tel[\hyperlink{le__mdm_defs__interface_8h_ae6d4a4c7892f14d1e340f8df083d479f}{LE\_MDMDEFS\_PHONE\_NUM\_MAX\_BYTES}];
    \textcolor{keywordtype}{char}         timestamp[\hyperlink{le__sms__interface_8h_a9844280f515fbc2b393844e63aa83075}{LE\_SMS\_TIMESTAMP\_MAX\_BYTES}] = \{0\};
    \textcolor{keywordtype}{char}         text[\hyperlink{le__sms__interface_8h_a0dc5c2cec7c1fb166c47393fbb07e43f}{LE\_SMS\_TEXT\_MAX\_BYTES}] = \{0\};
    \textcolor{keywordtype}{char}         textReturn[\hyperlink{le__sms__interface_8h_a0dc5c2cec7c1fb166c47393fbb07e43f}{LE\_SMS\_TEXT\_MAX\_BYTES}] = \{0\};

    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"A New SMS message is received with ref.%p"}, msgRef);

    \textcolor{keywordflow}{if} (\hyperlink{le__sms__interface_8h_a5c2b8ce7043b4732c7b0ede7c5d7118c}{le\_sms\_GetFormat}(msgRef) == \hyperlink{le__sms__interface_8h_a337778c44e63660c44fa2116699296c0a1bb6a0d76a622b1185ee879e1595dff8}{LE\_SMS\_FORMAT\_TEXT})
    \{
        res = \hyperlink{le__sms__interface_8h_aa4651e8dc97aa01df80ed6d9a7a486c6}{le\_sms\_GetSenderTel}(msgRef, tel, \textcolor{keyword}{sizeof}(tel));
        \textcolor{keywordflow}{if}(res != LE\_OK)
        \{
            \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"le\_sms\_GetSenderTel has failed (res.%d)!"}, res);
        \}
        \textcolor{keywordflow}{else}
        \{
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Message is received from %s."}, tel);
        \}

        res = \hyperlink{le__sms__interface_8h_af018ca1bc2085a48e4b6d4691bef3cc7}{le\_sms\_GetTimeStamp}(msgRef, timestamp, \textcolor{keyword}{sizeof}(timestamp));
        \textcolor{keywordflow}{if}(res != LE\_OK)
        \{
            \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"le\_sms\_GetTimeStamp has failed (res.%d)!"}, res);
        \}
        \textcolor{keywordflow}{else}
        \{
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Message timestamp is %s."}, timestamp);
        \}

        res = \hyperlink{le__sms__interface_8h_aebf0c28efce6ec0b9616ffa8ecb80782}{le\_sms\_GetText}(msgRef, text, \textcolor{keyword}{sizeof}(text));
        \textcolor{keywordflow}{if}(res != LE\_OK)
        \{
            \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"le\_sms\_GetText has failed (res.%d)!"}, res);
        \}
        \textcolor{keywordflow}{else}
        \{
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"Message content: \(\backslash\)"%s\(\backslash\)""}, text);
        \}

        \hyperlink{app_stop_client_8c_a2b6c4b2a795957a91039524b524be480}{snprintf}(textReturn, \textcolor{keyword}{sizeof}(textReturn), MESSAGE\_FEEDBACK, tel);

        \textcolor{comment}{// Return a message to sender with phone number include (see smsMO.c file)}
        res = smsmo\_SendMessage(tel, textReturn);
        \textcolor{keywordflow}{if} (res != LE\_OK)
        \{
            \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"SmsMoMessage has failed (res.%d)!"}, res);
        \}
        \textcolor{keywordflow}{else}
        \{
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"the message has been successfully sent."});
        \}

        res = \hyperlink{le__sms__interface_8h_aff755186b683b94ba2788b48e28284a3}{le\_sms\_DeleteFromStorage}(msgRef);
        \textcolor{keywordflow}{if}(res != LE\_OK)
        \{
            \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"le\_sms\_DeleteFromStorage has failed (res.%d)!"}, res);
        \}
        \textcolor{keywordflow}{else}
        \{
            \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"the message has been successfully deleted from storage."});
        \}
    \}
    \textcolor{keywordflow}{else}
    \{
        \hyperlink{le__log_8h_a0201b2f60ee0e945479f91e181bf04b6}{LE\_WARN}(\textcolor{stringliteral}{"Warning! I read only Text messages!"});
    \}

    \hyperlink{le__sms__interface_8h_aca1691010c88995cb47225f2889910fa}{le\_sms\_Delete}(msgRef);
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Handler function for SMS storage full message indication.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------- -----------------------------------------------------------------------------}
\textcolor{keyword}{static} \textcolor{keywordtype}{void} StorageMessageHandler
(
    \hyperlink{le__sms__interface_8h_a3b6b0bfc35728f2a70c4eed9dbb7b995}{le\_sms\_Storage\_t}  storage,
    \textcolor{keywordtype}{void}*            contextPtr
)
\{
    \hyperlink{le__log_8h_a23e6d206faa64f612045d688cdde5808}{LE\_INFO}(\textcolor{stringliteral}{"A Full storage SMS message is received. Type of full storage %d"}, storage);
\}


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * This function installs an handler for message reception.}
\textcolor{comment}{ *}
\textcolor{comment}{ * @return LE\_FAULT  The function failed.}
\textcolor{comment}{ * @return LE\_OK     The function succeed.}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} smsmt\_Receiver
(
    \textcolor{keywordtype}{void}
)
\{
    RxHdlrRef = \hyperlink{le__sms__interface_8h_a844d595f3ae8d170b2fff80d854abb8d}{le\_sms\_AddRxMessageHandler}(RxMessageHandler, NULL);
    \textcolor{keywordflow}{if} (!RxHdlrRef)
    \{
        \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"le\_sms\_AddRxMessageHandler has failed!"});
        \textcolor{keywordflow}{return} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798}{LE\_FAULT};
    \}
    \textcolor{keywordflow}{else}
    \{
        \textcolor{keywordflow}{return} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5066a4bcec691c6b67843b8f79656422}{LE\_OK};
    \}
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * This function installs an handler for storage message indication.}
\textcolor{comment}{ *}
\textcolor{comment}{ * @return LE\_FAULT  The function failed.}
\textcolor{comment}{ * @return LE\_OK     The function succeed.}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\_result\_t} smsmt\_MonitorStorage
(
    \textcolor{keywordtype}{void}
)
\{
    FullStorageHdlrRef = \hyperlink{le__sms__interface_8h_a1ae7c04f5de9245489956e62bd607430}{le\_sms\_AddFullStorageEventHandler}(
      StorageMessageHandler, NULL);
    \textcolor{keywordflow}{if} (!FullStorageHdlrRef)
    \{
        \hyperlink{le__log_8h_a353590f91b3143a7ba3a416ae5a50c3d}{LE\_ERROR}(\textcolor{stringliteral}{"le\_sms\_AddFullStorageEventHandler has failed!"});
        \textcolor{keywordflow}{return} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798}{LE\_FAULT};
    \}
    \textcolor{keywordflow}{else}
    \{
        \textcolor{keywordflow}{return} \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86ca5066a4bcec691c6b67843b8f79656422}{LE\_OK};
    \}
\}


\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * This function remove the handler for message reception.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keywordtype}{void} smsmt\_HandlerRemover
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__sms__interface_8h_a469a4d08b9ccb8b61ed7b8294e6ee3ef}{le\_sms\_RemoveRxMessageHandler}(RxHdlrRef);
\}

\textcolor{comment}{//--------------------------------------------------------------------------------------------------}\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * This function remove the handler for storage message indication.}
\textcolor{comment}{ *}
\textcolor{comment}{ */}
\textcolor{comment}{//--------------------------------------------------------------------------------------------------}
\textcolor{keywordtype}{void} smsmt\_StorageHandlerRemover
(
    \textcolor{keywordtype}{void}
)
\{
    \hyperlink{le__sms__interface_8h_ad4f895d18ab6a6456c0914c7f4bfb8b7}{le\_sms\_RemoveFullStorageEventHandler}(FullStorageHdlrRef);
\}
\end{DoxyCodeInclude}
 \hypertarget{basicTarget}{}\section{Configure S\+WI Target}\label{basicTarget}
The following contains different methods on setting up and configuring a Sierra Wireless Module.

To connect to your device you must use either a U\+SB or Serial cable and connect the device directly to your Dev Machine. All other interfaces are turned off by default for security reasons.\hypertarget{basicTarget_targetConnectUSB}{}\subsection{Connect using U\+SB}\label{basicTarget_targetConnectUSB}
Install a ssh client on your dev machine\+:

\begin{DoxyVerb}$ sudo apt-get install openssh-client
\end{DoxyVerb}


The default IP for Sierra Wireless devices over U\+SB is 192.\+168.\+2.\+2.

\begin{DoxyVerb}$ ssh root@192.168.2.2
\end{DoxyVerb}


\begin{DoxyNote}{Note}
Currently there is an outstanding issue in Ubuntu 15.\+10+ with the E\+C\+M\+Usb driver. This bug may cause Ubuntu Connection Manager to crash. The workaround is to uninstall modem\+Manager on your dev machine. {\ttfamily  \$ sudo apt-\/get remove modemmanager}
\end{DoxyNote}
\hypertarget{basicTarget_targetConnectUART}{}\subsection{Connect using U\+A\+RT}\label{basicTarget_targetConnectUART}
To connect using the U\+A\+RT port connect a Serial to U\+SB cable to your target and install a serial communications program like Minicom.

Install minicom on your dev machine\+:

\begin{DoxyVerb}$ sudo apt-get install minicom
\end{DoxyVerb}


Connect using Minicom to the U\+SB Port that your device is plugged into\+:

\begin{DoxyVerb}$ minicom -D /dev/ttyUSB0
\end{DoxyVerb}


Press enter, and you should be prompted to log in.

\begin{DoxyNote}{Note}
If tty\+U\+S\+B0 does not work, try a different port such as tty\+U\+S\+B1 or tty\+U\+S\+B2. The port number will need to correspond to the U\+SB port on your dev machine which your U\+S\+B-\/to-\/serial cable is connected.
\end{DoxyNote}
If the device can not be opened. You may need to add your user to the dialout group.

\begin{DoxyVerb}$ sudo usermod -a -G dialout $USER
$ newgrp dialout # Updates the current shell
\end{DoxyVerb}
\hypertarget{basicTarget_targetLogin}{}\subsection{Setup Login Authentication}\label{basicTarget_targetLogin}
In Legato 16.\+10.\+0+ a menu will prompt you upon first connection to choose your method of Login Authentication.

\begin{DoxyVerb}It is strongly recommended to setup credentials for remote login.
  Please select one of the following options:
    1) Setup ssh keys and disable passwords-based authentication via ssh (the most secure)
    2) Setup password (better than nothing)
    3) Do nothing
\end{DoxyVerb}
\hypertarget{basicTarget_targetSSHKeys}{}\subsubsection{Setup S\+S\+H Keys}\label{basicTarget_targetSSHKeys}
{\bfseries This is the method we strongly recommend!}

1) On the target, choose {\ttfamily 1} to setup ssh keys.

2) On the dev Machine, run \hyperlink{toolsHost_configtargetssh}{configtargetssh} (ensure you run bin/legs first to configure the Legato shell).

\hyperlink{toolsHost_configtargetssh}{configtargetssh} is a tool that will set your ssh-\/keys and copy those keys to your target device.

\begin{DoxyVerb}$ configtargetssh 192.168.2.2   # The target device IP
\end{DoxyVerb}


The ssh key pair is only authorized on the dev machine \& target that you ran {\ttfamily configtargetssh} on. If you need to use the target device on another PC, or set up a new target on the current PC you will have to run {\ttfamily configtargetssh} for the new device(s).

\begin{DoxyNote}{Note}
You can manually setup ssh keys using {\ttfamily ssh-\/keygen}, and copy the public key to the target\textquotesingle{}s ssh directory for any dev machine.
\end{DoxyNote}
3) After {\ttfamily configtargetssh} finishes, choose {\ttfamily 1} (Done), and answer the \char`\"{}are you sure\char`\"{} questions. The configure local console menu will then display\+:

\begin{DoxyVerb}1) Disable console access (the most secure)
2) Disable password-based authentication for root user account
       but leave the console for debug messages (less secure)
       WARNING: This will disable password-based authentication for
       root user account completely (even over ssh).
3) Enable password-based authentication for root user account
\end{DoxyVerb}


4) Choose {\ttfamily 1} if local access through the serial console isn\textquotesingle{}t needed, it\textquotesingle{}s recommended to completely disable console access. Choose {\ttfamily 2} if you are only connecting from the dev machine that {\ttfamily configtargetssh} was just run. Choose {\ttfamily 3} if you are still need to connect to the target from other dev machines that you have not set up ssh keys with. It is recommended to set a {\bfseries strong} password if this option is chosen.

\begin{DoxyWarning}{Warning}
Please test your ssh keys and/or passwords in a separate terminal before logging off from all terminals to ensure you don\textquotesingle{}t lose access to your target device.
\end{DoxyWarning}
\hypertarget{basicTarget_targetSetupPass}{}\subsubsection{Setup Password}\label{basicTarget_targetSetupPass}
If you choose to just set up a root password, the system will prompt you through the process, and then ask you if you would like to disable your console access.

\begin{DoxyVerb}Changing password for root
Enter the new password (minimum of 5 characters)
Please use a combination of upper and lower case letters and numbers.
New password:
Re-enter new password:
passwd: password changed.

Configure local console login.
  Disable console access [Y/n]?


You are about to disable console access for all users.
Are you sure [y/N]?
\end{DoxyVerb}
\hypertarget{basicTarget_targetDoNothing}{}\subsubsection{Do Nothing}\label{basicTarget_targetDoNothing}
If you choose the option to \char`\"{}\+Do Nothing\char`\"{}, you will be presented the option to choose if you would like to go through this menu the next time you connect to the target.

\begin{DoxyNote}{Note}
If you choose this option you always have the option of setting up ssh keys using {\ttfamily configtargetssh}, or setting a root password manually using {\ttfamily passwd}.
\end{DoxyNote}
\hypertarget{basicTarget_targetRecover}{}\subsection{Recover a Target}\label{basicTarget_targetRecover}
To recover a Sierra Wireless Target Device (e.\+g., mang\+OH or W\+P8545) you must use the proprietary Sierra Wireless flash tool. Instructions and the tool can be found on \href{https://source.sierrawireless.com/resources/airprime/software/swiflash/}{\tt the Source.}\hypertarget{basicTarget_targetOptionalConfig}{}\subsection{Optional Configuration}\label{basicTarget_targetOptionalConfig}
To configure other network interfaces, install software or enable/disable Developer Mode\+:

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*2{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf Section }&{\bf Description  }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf Section }&{\bf Description  }\\\cline{1-2}
\endhead
\hyperlink{basicTargetConfigETH}{Configure Ethernet Interface} &Configure Ethernet interfaces \\\cline{1-2}
\hyperlink{basicTargetConfigUSB}{Configure U\+SB Interface} &Configure U\+SB interfaces \\\cline{1-2}
\hyperlink{basicTargetModem}{Configure Cell Modems} &Configure a Cell Modem \\\cline{1-2}
\hyperlink{basicTargetDevMode}{Developer Mode} &Manage Developer Mode \\\cline{1-2}
\end{longtabu}
Copyright (C) Sierra Wireless Inc. \hypertarget{basicTargetConfigETH}{}\subsection{Configure Ethernet Interface}\label{basicTargetConfigETH}
\hypertarget{basicTargetConfigETH_targetEthSetIP}{}\subsubsection{Set Fixed M\+A\+C Address}\label{basicTargetConfigETH_targetEthSetIP}
Some target devices (e.\+g., mang\+OH, or the S\+WI Dev Kit) do not have a dedicated M\+AC address set. Every time you reboot the device it will grab a new IP address and may be confusing to connect to.

To configure the M\+AC address to a static address use target\+Tools\+Set\+Net. This will set the M\+AC address to the current address\+:

\begin{DoxyVerb}$ minicom -D /dev/ttyUSB0          # Log in as an administrator

# setNet macfixed
# ifconfig                      # check that the MAC address and IP address are set
# legato restart                # reboots the target device
\end{DoxyVerb}
\hypertarget{basicTargetConfigETH_targetEthEnableSSH}{}\subsubsection{Check Firewall Rules}\label{basicTargetConfigETH_targetEthEnableSSH}
Upon upgrading to Legato 16.\+10.\+0+ {\bfseries S\+SH} is disabled on all network interfaces except {\ttfamily usb0}.

I\+P\+Table rules have been added to {\bfseries D\+R\+OP} any S\+SH (port 22) traffic on all interfaces except {\ttfamily usb0}.

Rule configuration is stored in /etc/iptables. {\ttfamily rules.\+v4} (I\+P\+V4) and {\ttfamily rules.\+v6} (I\+P\+V6) contain the following default configuration\+:

I\+P\+V4 Config\+:

\begin{DoxyVerb}# less /etc/iptables/rules.v4        # or rules.v6 to check the IPv6 rules


# Allow traffic on already established connections
-A INPUT -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT

# Allow DNS replies
-A INPUT -p udp -m udp --sport 53 -j ACCEPT

# Allow PING replies
-A INPUT -p icmp -m icmp --icmp-type 0 -j ACCEPT

# Allow incoming SSH connections and PING requests over ECM interface
-A INPUT -i usb0 -p tcp -m tcp --dport 22 -j ACCEPT
-A INPUT -i usb0 -p icmp -m icmp --icmp-type 8 -j ACCEPT

# Create more custom rules here, e.g.:
# Allow incoming TCP connections for service port <port> on interface <if>
# -A INPUT -i <if> -p tcp -m tcp --dport <port> -j ACCEPT

COMMIT
\end{DoxyVerb}
\hypertarget{basicTargetConfigETH_targetUSBSSHEditRules}{}\paragraph{Editing Firewall Rules}\label{basicTargetConfigETH_targetUSBSSHEditRules}
Create custom rules to enable ssh on more than just the U\+SB interface (e.\+g., enable S\+SH over eth0) by adding rules to the Custom section.

\begin{DoxyVerb}# Create more custom rules here, e.g.:
# Allow incoming TCP connections for service port <port> on interface <if>
# -A INPUT -i <if> -p tcp -m tcp --dport <port> -j ACCEPT

-A INPUT -i eth0 -p tcp -m tcp --dport 22 -j ACCEPT
\end{DoxyVerb}


To apply the updated rules {\ttfamily reboot} your target.\hypertarget{basicTargetConfigETH_targetEthIPV6}{}\subsubsection{Setting up I\+Pv6 over Ethernet}\label{basicTargetConfigETH_targetEthIPV6}
Check to see if I\+Pv6 is enabled on your dev machine and target.

\begin{DoxyVerb}ip -6 address show <interface> \end{DoxyVerb}


If there is no I\+Pv6 address add config for the interface

\begin{DoxyVerb}$ sudo cp /etc/network/interfaces /etc/network/interfaces.backup
$ sudo vi /etc/network/interfaces
\end{DoxyVerb}


Add the following lines (modify for your interface, and IP address you wish to use)

\begin{DoxyVerb}auto <interface>
iface <interface> inet6 static
    address <desired ip address>
    netmask 127
\end{DoxyVerb}


Restart the networking on your device\+:

Dev Machine\+: \begin{DoxyVerb}$ sudo systemctl restart networking
\end{DoxyVerb}


Target\+: Reboot your device

Test by pinging your Target Device from your dev machine on the IP address assigned\+:

\begin{DoxyVerb}$ ping6 <ipv6 address>
\end{DoxyVerb}
\hypertarget{basicTargetConfigETH_targetEthTroubleshooting}{}\subsubsection{Troubleshooting}\label{basicTargetConfigETH_targetEthTroubleshooting}
\hypertarget{basicTargetConfigETH_targetEthTroubleConnectivty}{}\paragraph{Connectivity Issues}\label{basicTargetConfigETH_targetEthTroubleConnectivty}

\begin{DoxyItemize}
\item If you are having issues connecting over IP on the Target device try connection over U\+SB or Serial Cable and bring the interface up and down, or reboot the device.
\end{DoxyItemize}

\begin{DoxyVerb}# ifdown eth0
# ifup eth0
\end{DoxyVerb}
\hypertarget{basicTargetConfigETH_targetEthTroubleDS}{}\paragraph{Developer Studio Connectivity}\label{basicTargetConfigETH_targetEthTroubleDS}
If the Target is not being recognized in \href{https://source.sierrawireless.com/resources/airprime/software/developer-studio-installinstructions}{\tt Developer Studio}\+:

Check to see if {\ttfamily dev\+Mode} is running

\begin{DoxyVerb}# app status devMode
\end{DoxyVerb}


Start developer mode (restart if needed)

\begin{DoxyVerb}# app stop devMode
# app start devMode
\end{DoxyVerb}


For further help with Developer Studio see the Developer Studio Guide within the Help section of \href{https://source.sierrawireless.com/resources/airprime/software/developer-studio-installinstructions}{\tt Developer Studio}.

Copyright (C) Sierra Wireless Inc. \hypertarget{basicTargetConfigUSB}{}\subsection{Configure U\+SB Interface}\label{basicTargetConfigUSB}
The W\+P85 module on a mang\+OH board is pre-\/configured to connect over U\+SB. S\+SH is enabled over U\+SB only for all targets on Legato 16.\+10.\+0+.

By default the U\+SB IP address is 192.\+168.\+2.\+2.\hypertarget{basicTargetConfigUSB_targetUSBConnect}{}\subsubsection{Connect using S\+S\+H over U\+SB}\label{basicTargetConfigUSB_targetUSBConnect}
Install a ssh client on your dev machine.

In Linux\+:

\begin{DoxyVerb}$ sudo apt-get install openssh-client
\end{DoxyVerb}


The default IP for WP devices over U\+SB is 192.\+168.\+2.\+2.

\begin{DoxyVerb}$ ssh 192.168.2.2   # you may have to specify a user depending on how the Target it configured
\end{DoxyVerb}
\hypertarget{basicTargetConfigUSB_targetUSBCheckFW}{}\subsubsection{Check Firewall Rules}\label{basicTargetConfigUSB_targetUSBCheckFW}
Upon upgrading to Legato 16.\+10.\+0 {\bfseries S\+SH} is disabled on all network interfaces except {\ttfamily usb0}.

Rule configuration is stored in /etc/iptables. {\ttfamily rules.\+v4} (I\+P\+V4) and {\ttfamily rules.\+v6} (I\+P\+V6)

Check the config by running\+:

\begin{DoxyVerb}# less /etc/iptables/rules.v4       # or rules.v6 to check the IPv6 rules
\end{DoxyVerb}


To further modify the firewall rules see \hyperlink{basicTargetConfigETH_targetEthEnableSSH}{Check Firewall Rules}\hypertarget{basicTargetConfigUSB_targetUSBIPV6}{}\subsubsection{Set up I\+Pv6 over U\+SB}\label{basicTargetConfigUSB_targetUSBIPV6}
Check to see if I\+Pv6 is enabled on your dev machine and target.

\begin{DoxyVerb}$ ip -6 address show <interface>
\end{DoxyVerb}


If there is no I\+Pv6 address add config for the interface

\begin{DoxyVerb}$ sudo cp /etc/network/interfaces /etc/network/interfaces.backup
$ sudo vi /etc/network/interfaces
\end{DoxyVerb}


Add the following lines (modify for your interface (usb0 on the Target), and IP address you wish to use

\begin{DoxyVerb}auto <interface>
iface <interface> inet6 static
    address <desired ip address>
    netmask 127
\end{DoxyVerb}


Restart the networking on your device.

Dev Machine\+: \begin{DoxyVerb}$ sudo systemctl restart networking
\end{DoxyVerb}


Target\+: Reboot your device

Test by pinging your Target Device from your dev machine on the IP address assigned and run {\ttfamily ifconfig} {\ttfamily usb0} on both the Target and dev machine to display the configuration.

\begin{DoxyVerb}$ ping6 <ipv6 address>
\end{DoxyVerb}
\hypertarget{basicTargetConfigUSB_targetUSBTroubleshoot}{}\subsubsection{Troubleshoot Issues}\label{basicTargetConfigUSB_targetUSBTroubleshoot}
{\bfseries Connectivity Issues\+:}


\begin{DoxyItemize}
\item Currently there is an outstanding issue in Ubuntu 15.\+10+ with the E\+C\+M\+Usb driver. This bug may cause your Ubuntu Connection Manager to crash. The workaround is to uninstall Modem Manager on your Ubuntu PC.
\end{DoxyItemize}

\begin{DoxyVerb}$ sudo apt-get remove modemmanager
\end{DoxyVerb}



\begin{DoxyItemize}
\item If you are having issues connecting over IP on the Target device try connection over U\+SB or Serial Cable and bring the interface up and down, or reboot the device.
\end{DoxyItemize}

\begin{DoxyVerb}# ifdown usb0
# ifup usb0
\end{DoxyVerb}



\begin{DoxyItemize}
\item If U\+SB isn\textquotesingle{}t configured on a WP target, then delete {\ttfamily /mnt/flash/ufs/etc} and reboot\+: \begin{DoxyVerb}# rm -rf /mnt/flash/ufs/etc
# reboot
\end{DoxyVerb}

\end{DoxyItemize}

{\bfseries Developer Studio\+:}

If the Target is not being recognized in \href{https://source.sierrawireless.com/resources/airprime/software/developer-studio-installinstructions}{\tt Developer Studio}\+:

Check to see if {\ttfamily dev\+Mode} is running

\begin{DoxyVerb}# app status devMode
\end{DoxyVerb}


Start developer mode (restart if needed)

\begin{DoxyVerb}# app stop devMode
# app start devMode
\end{DoxyVerb}


For further help with Developer Studio see the Developer Studio Guide within the Help section of \href{https://source.sierrawireless.com/resources/airprime/software/developer-studio-installinstructions}{\tt Developer Studio}.

Copyright (C) Sierra Wireless Inc. \hypertarget{basicTargetModem}{}\subsection{Configure Cell Modems}\label{basicTargetModem}
To connect your Target to a Cell Network you must have an active sim card inserted into the target.

All commands to configure the target are done with the \hyperlink{toolsTarget_cm}{cm} tool.\hypertarget{basicTargetModem_targetModemConf}{}\subsubsection{Configure Cell Connection}\label{basicTargetModem_targetModemConf}
Run {\ttfamily cm} {\ttfamily info} to display the info about the sim including the F\+SN (serial number) and I\+M\+EI.

\begin{DoxyVerb}# cm info
Device:     WP8548
IMEI:       123456789101112
FSN:        123456789
Firmware:   SWI9X15Y_07.11.18.00 r33561 CARMD-EV-FRMWR1 2016/11/18 10:03:20
Bootloader: SWI9X15Y_07.11.18.00 r33561 CARMD-EV-FRMWR1 2016/11/18 10:03:20
priIdPn:    XXXXXXX
priIdRev:   0X.XX
skuId:      XXXXXXX
\end{DoxyVerb}


Next, run {\ttfamily cm} {\ttfamily radio} to display info about the mobile network that the S\+IM is registered on.

\begin{DoxyVerb}# cm radio
Power:      ON
Current Network Operator: <your network operator>
Status:     UMTS network (LE_MRC_RAT_UMTS)
Signal:     Strong signal strength (4)
\end{DoxyVerb}


You will need to manually set the A\+PN for your S\+IM card. Contact your Mobile carrier to find the A\+PN settings that you will need.

Run {\ttfamily cm} {\ttfamily data} to display the current connection data and A\+PN settings (A\+PN should be blank).

\begin{DoxyVerb}# cm data
Index:      1
APN:
PDP Type:   IPV4
Connected:  no
Auth type:  CHAP
User name:
\end{DoxyVerb}


To update the A\+PN run\+:

\begin{DoxyVerb}# cm data apn <your apn>
# cm data                           # displays the settings for verification
\end{DoxyVerb}


\begin{DoxyNote}{Note}
If your Mobile Carrier supports different A\+PN\textquotesingle{}s for 3G and L\+TE make sure your settings correspond to the correct network. For example, the W\+P8548 module only supports 3G and the A\+PN for the 3G network needs to be used.
\end{DoxyNote}
\hypertarget{basicTargetModem_targetModemConnect}{}\subsubsection{Connect to a Mobile Network}\label{basicTargetModem_targetModemConnect}
Run {\ttfamily cm} {\ttfamily data} {\ttfamily connect} \&

\begin{DoxyNote}{Note}
It may take a few minutes to connect; \textquotesingle{}\&\textquotesingle{} will run the process in the background.
\end{DoxyNote}
Once the device is connected the target will display\+: \begin{DoxyVerb}Connected through interface 'rmnet0' \end{DoxyVerb}
\hypertarget{basicTargetModem_targetModemDisconnect}{}\subsubsection{Disconnect to a Mobile Network}\label{basicTargetModem_targetModemDisconnect}
To disconnect, terminate the {\ttfamily cm} {\ttfamily data} {\ttfamily connect} background process by sending it a {\ttfamily S\+I\+G\+T\+E\+RM} or {\ttfamily S\+I\+G\+I\+NT} signal. This can be done using {\ttfamily kill} (S\+I\+G\+T\+E\+RM) or by bringing the process back to the foreground and hitting {\ttfamily C\+T\+R\+L-\/C} (S\+I\+G\+I\+NT).

\begin{DoxyVerb}# kill %1
#
[1]+ Terminated           cm data connect
#
\end{DoxyVerb}


OR

\begin{DoxyVerb}# fg
cm data connect
^C
#
\end{DoxyVerb}


Copyright (C) Sierra Wireless Inc. \hypertarget{basicTargetDevMode}{}\subsection{Developer Mode}\label{basicTargetDevMode}
Developer Mode is provided as a pre-\/built core app (but is not installed by default). It is created to install tools and features for use by developers that should be removed before the target is deployed into production.

{\ttfamily dev\+Mode} provides the following features\+:~\newline

\begin{DoxyItemize}
\item installs \hyperlink{howToDebugGDB}{gdbserver} executable for use on the target device, allowing step-\/by-\/step debugging of Legato apps.
\item installs strace for use on the target device, allowing tracing of kernel calls.
\item sets the probation period of apps to 10 seconds, to prevent aggressive roll-\/back.
\item holds a wake lock, so the target won\textquotesingle{}t go to sleep when disconnected from U\+SB.
\item removes the boot count file on startup to disable the boot loop detection feature of Legato.
\end{DoxyItemize}

{\ttfamily dev\+Mode} also provides specific tools for Developer Studio support\+:
\begin{DoxyItemize}
\item tcf-\/agent, making the target is able to be auto-\/discoverable by Developer Studio.
\item enables S\+F\+TP for use over S\+SH, facilitating file transfers from Developer Studio to the target (S\+F\+TP can also be used as an alternative for scp through the C\+LI).
\end{DoxyItemize}

\begin{DoxyWarning}{Warning}
Before deploying your system image or target in a production environment dev\+Mode must be uninstalled. dev\+Mode installs gdbserver which is licensed with \href{https://www.gnu.org/licenses/gpl-3.0.en.html}{\tt G\+P\+Lv3}, uninstalling dev\+Mode removes all G\+P\+Lv3 software from your target.
\end{DoxyWarning}
\hypertarget{basicTargetDevMode_howToDevMode_installDev}{}\subsubsection{Install Developer Mode}\label{basicTargetDevMode_howToDevMode_installDev}
{\ttfamily dev\+Mode} is a core app that is built during the {\ttfamily make} {\ttfamily } $<$target$>$ process but it is not included by default in the {\ttfamily system.\+sdef}.

To install {\ttfamily dev\+Mode\+:} 

\begin{DoxyVerb}$ make wp85
$ app install $LEGATO_ROOT/build/wp85/tools/devMode.wp85.update 192.168.2.2
\end{DoxyVerb}
\hypertarget{basicTargetDevMode_devMode_enableDev}{}\subsubsection{Enable Developer Mode}\label{basicTargetDevMode_devMode_enableDev}
To start {\ttfamily dev\+Mode} on your target (if it\textquotesingle{}s disabled)\+:

Start the app\+:

\begin{DoxyVerb}app start devMode \end{DoxyVerb}


Modify the config on the target to enable starting dev\+Mode upon reboot\+:

\begin{DoxyVerb}config set /apps/devMode/startManual false bool \end{DoxyVerb}


To configure enabling/disabling {\ttfamily dev\+Mode} (even after a system rebuild) add a start\+: auto (enabled) or start\+: manual (disabled) to the {\ttfamily dev\+Mode} adef.

Example dev\+Mode adef\+:

\begin{DoxyVerb}sandboxed: false
start: auto                 <-- change to manual to disable

executables:
{
    devMode = ( $LEGATO_ROOT/components/devMode/devMode )
}

processes:
{
    run:
    {
\end{DoxyVerb}
\hypertarget{basicTargetDevMode_DevMode_disableDev}{}\subsubsection{Disable Developer Mode}\label{basicTargetDevMode_DevMode_disableDev}
To temporarily stop dev\+Mode\+:

\begin{DoxyVerb}app stop devMode \end{DoxyVerb}
\hypertarget{basicTargetDevMode_devMode_removeDev}{}\subsubsection{Remove Developer Mode}\label{basicTargetDevMode_devMode_removeDev}
To remove dev\+Mode from your target\+:

\begin{DoxyVerb}app remove devMode \end{DoxyVerb}


It is advisable to remove the dev\+Mode app before deploying targets in production. This can be done by removing dev\+Mode from the system sdef file and rebuilding the system for the target device.

\begin{DoxyNote}{Note}
The tcf-\/agent creates extra network traffic between the host and the target. Stopping or removing dev\+Mode will decrease the traffic.
\end{DoxyNote}
Copyright (C) Sierra Wireless Inc. \hypertarget{raspbianMain}{}\section{Configure Raspberry Pi}\label{raspbianMain}
This topic provides some helpful tips to install Legato on a Raspbian distribution.\hypertarget{raspbianMain_raspbianMain_downloadRaspbian_downloadInstall}{}\subsection{Download and Install}\label{raspbianMain_raspbianMain_downloadRaspbian_downloadInstall}
\href{https://www.raspberrypi.org/downloads/raspbian/}{\tt Download Raspbian} Lite image from the official website.

Then, install the Raspbian system on your Raspberry Pi.

See the \href{https://www.raspberrypi.org/documentation/installation/installing-images/linux.md}{\tt Raspbian Linux docs} for details.

\begin{DoxyNote}{Note}
Legato requires specific kernel options, so you need to rebuild your kernel. This will be changed in a future release.
\end{DoxyNote}
\hypertarget{raspbianMain_raspbianMain_rebuildKernel}{}\subsection{Rebuild Kernel}\label{raspbianMain_raspbianMain_rebuildKernel}
Before building the kernel, you need to setup the configuration.

First, create a file in the directory of the downloaded kernel with these configuration settings\+:

{\bfseries Sample {\ttfamily legatocfg}} 


\begin{DoxyCode}
CONFIG\_CGROUPS=y
CONFIG\_CGROUP\_DEBUG=y
CONFIG\_CGROUP\_FREEZER=y
CONFIG\_CGROUP\_CPUACCT=y
CONFIG\_CGROUP\_DEVICE=y
CONFIG\_MEMCG=y
\textcolor{preprocessor}{# CONFIG\_MEMCG\_SWAP is not set}
\textcolor{preprocessor}{# CONFIG\_MEMCG\_KMEM is not set}
CONFIG\_CGROUP\_SCHED=y
CONFIG\_FAIR\_GROUP\_SCHED=y
CONFIG\_RT\_GROUP\_SCHED=y
CONFIG\_BLK\_CGROUP=y
CONFIG\_SECURITY=y
CONFIG\_SECURITY\_SMACK=y
CONFIG\_DEFAULT\_SECURITY\_SMACK=y
\textcolor{preprocessor}{# CONFIG\_DEFAULT\_SECURITY\_DAC is not set}
CONFIG\_DEFAULT\_SECURITY=\textcolor{stringliteral}{"smack"}
CONFIG\_HOTPLUG\_CPU=y
CONFIG\_ARM\_CPU\_SUSPEND=y
CONFIG\_SUSPEND=y
CONFIG\_PM\_SLEEP=y
CONFIG\_PM\_WAKELOCKS=y
CONFIG\_PM\_WAKELOCKS\_LIMIT=100
CONFIG\_PM\_WAKELOCKS\_GC=y
CONFIG\_PM\_DEBUG=y
CONFIG\_PM\_ADVANCED\_DEBUG=y
\textcolor{preprocessor}{# CONFIG\_PM\_TEST\_SUSPEND is not set}
CONFIG\_PM\_SLEEP\_DEBUG=y
CONFIG\_SQUASHFS=y
CONFIG\_SQUASHFS\_DECOMP\_SINGLE=y
CONFIG\_SQUASHFS\_EMBEDDED=y
CONFIG\_SQUASHFS\_FILE\_DIRECT=y
\textcolor{preprocessor}{# CONFIG\_SQUASHFS\_FILE\_CACHE is not set}
\end{DoxyCode}


Then, run the following command to set up the default kernel configuration for the Raspberry Pi 3 merging options needed by Legato. 
\begin{DoxyCode}
ARCH=arm make bcm2709\_defconfig && ARCH=arm scripts/kconfig/merge\_config.sh -O . .config legatocfg
\end{DoxyCode}


If you have a {\bfseries Raspberry Pi 2}, use {\ttfamily bcm2835} instead of {\ttfamily bcm2709}.

After you\textquotesingle{}ve set the options, you can build the kernel\+: 
\begin{DoxyCode}
$ make -j 4 ARCH=arm CROSS\_COMPILE=arm-linux-gnueabihf- zImage modules dtbs
\end{DoxyCode}


Follow the \href{https://www.raspberrypi.org/documentation/installation/installing-images/linux.md}{\tt Raspbian installing Linux images docs} for details on how to update the kernel on the SD card.

See the \href{https://www.raspberrypi.org/documentation/linux/kernel/building.md}{\tt Raspbian building docs} if you want detailed info about building the kernel (C\+R\+O\+S\+S-\/\+C\+O\+M\+P\+I\+L\+I\+NG).\hypertarget{raspbianMain_raspbianMain_installLegato}{}\subsection{Download and Install Legato Framework}\label{raspbianMain_raspbianMain_installLegato}
{\bfseries On the Target}, run these commands\+: 
\begin{DoxyCode}
$ mkdir /mnt/flash
$ mkdir /mnt/legato
$ mkdir /legato
$ cp /lib/systemd/system/systemd-journald.service /etc/systemd/system/
\end{DoxyCode}


You also need to edit\+:
\begin{DoxyItemize}
\item {\ttfamily /etc/systemd/system/systemd-\/journald}.service
\item add {\bfseries \char`\"{}\+Smack\+Process\+Label=syslog\char`\"{}} in {\bfseries }\mbox{[}Service\mbox{]}
\end{DoxyItemize}

To allow you to login as root\+:
\begin{DoxyItemize}
\item edit {\ttfamily /etc/ssh/sshd\+\_\+config} 
\item set {\bfseries Permit\+Root\+Login} to {\bfseries Yes}.
\end{DoxyItemize}

On the {\bfseries Host PC}, download Legato from the \href{https://github.com/legatoproject/legato-af}{\tt Git\+Hub repo}

If you have a {\bfseries Rapberry Pi 3}, Legato\textquotesingle{}s toolchain doesn\textquotesingle{}t currently support the A\+R\+Mv8 processor. You have to do a few extra steps to add the A\+R\+Mv8 support\+:

{\bfseries Clone} the \href{https://github.com/raspberrypi/tools}{\tt Raspberry Pi tools repository}.

{\bfseries Set} the following {\ttfamily envvars}, changing {\ttfamily $\sim$/rpi/} to your cloned directory name\+: 
\begin{DoxyCode}
export RASPI\_TOOLCHAIN\_DIR=~/rpi/tools/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian-x64/bin/
export RASPI\_TOOLCHAIN\_PREFIX=arm-linux-gnueabihf-
\end{DoxyCode}
\hypertarget{raspbianMain_raspbianMain_make}{}\subsection{Make Legato for Raspbian}\label{raspbianMain_raspbianMain_make}
You can now make Legato for Raspbian.

{\bfseries cd} to your Legato directory

{\bfseries Run} {\ttfamily \$ make raspi}

The makefile creates a {\ttfamily /build/raspi/legato}.squashfs file system. Copy this file into the {\ttfamily /boot} of the SD card\+: 
\begin{DoxyCode}
$ scp build/raspi/legato.squashfs root@IP\_RASPBERRY:/boot
\end{DoxyCode}


To finish, mount the squash file on the Raspberry Pi and start Legato\+: 
\begin{DoxyCode}
$ sudo mount -t squashfs /boot/legato.squashfs /mnt/legato/
$ /./mnt/legato/start
\end{DoxyCode}


\begin{DoxyNote}{Note}
To use data connection, you must install P\+PP Daemon (use \textquotesingle{}apt-\/get install ppp\textquotesingle{})
\end{DoxyNote}
\hypertarget{raspbianMain_raspbianMain_configWifi}{}\subsection{Configure Wi\+Fi}\label{raspbianMain_raspbianMain_configWifi}
To use your Raspberry Pi as a Wi\+Fi access point, you need to configure {\ttfamily wlan0} in the {\ttfamily /etc/network/interfaces} file like this\+:


\begin{DoxyCode}
allow-hotplug wlan0
iface wlan0 inet manual
    wireless-mode master
\end{DoxyCode}


The \hyperlink{wifi_wifiap_testapp}{Wi\+Fi access point sample app} demonstrates how one Internet connection can be shared with multiple Wi\+Fi devices. To have Wireless W\+AN connectivity on a Raspberry Pi, a module like \href{http://linkwave.co.uk/}{\tt Linkwave}\textquotesingle{}s \href{http://linkwave.co.uk/the-pilot}{\tt The PiloT} is required. The PiloT is known to work with Legato and Raspberry Pi, and can be used to create a wireless Wi\+Fi hotspot with the \hyperlink{wifi_wifiap_testapp}{Wi\+Fi access point sample app}.

Copyright (C) Sierra Wireless Inc. 