\hypertarget{wifi_web_ap_8c}{}\section{modules/\+Wi\+Fi/apps/sample/wifi\+Web\+Ap/wifi\+Web\+Ap\+Component/wifi\+Web\+Ap.c File Reference}
\label{wifi_web_ap_8c}\index{modules/\+Wi\+Fi/apps/sample/wifi\+Web\+Ap/wifi\+Web\+Ap\+Component/wifi\+Web\+Ap.\+c@{modules/\+Wi\+Fi/apps/sample/wifi\+Web\+Ap/wifi\+Web\+Ap\+Component/wifi\+Web\+Ap.\+c}}
{\ttfamily \#include $<$time.\+h$>$}\\*
{\ttfamily \#include $<$signal.\+h$>$}\\*
{\ttfamily \#include \char`\"{}legato.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}interfaces.\+h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{wifi_web_ap_8c_a6d3fef197146b932f5ad01fce683a66b}{L\+O\+G\+F\+I\+LE}~\char`\"{}/tmp/wifi\+\_\+http.\+log\char`\"{}
\item 
\#define \hyperlink{wifi_web_ap_8c_a6821bafc3c88dfb2e433a095df9940c6}{B\+U\+F\+\_\+\+S\+I\+ZE}~256
\item 
\#define \hyperlink{wifi_web_ap_8c_a38a196d020f78f178a33927d741a03f2}{S\+T\+R\+\_\+\+S\+I\+ZE}~1024
\item 
\#define \hyperlink{wifi_web_ap_8c_a3a52b089b63a5e3dd7ab3c09d087cab7}{H\+T\+T\+P\+\_\+\+P\+O\+R\+T\+\_\+\+N\+U\+M\+B\+ER}~\char`\"{}8080\char`\"{}
\item 
\#define \hyperlink{wifi_web_ap_8c_a1e2016846a2b10da624b27d615f4e23e}{H\+T\+T\+P\+\_\+\+S\+Y\+S\+\_\+\+C\+MD}
\item 
\#define \hyperlink{wifi_web_ap_8c_a82537bb19424822684b5833c5b6df381}{H\+T\+T\+P\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+P\+O\+RT}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{wifi_web_ap_8c_a0537ef0622f1e63d8b6f0941e4490893}{Wifi\+Event\+Log} (const char $\ast$data, F\+I\+LE $\ast$file)
\item 
static \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{wifi_web_ap_8c_aa7ad3867f0cb365faabfcd9138524f8a}{Wifi\+Event\+Handler} (\hyperlink{le__wifi_ap__interface_8h_aeac8ad63bcfc5ee984cdd86ec9f116d5}{le\+\_\+wifi\+Ap\+\_\+\+Event\+\_\+t} event, \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} $\ast$context\+Ptr)
\item 
static \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{wifi_web_ap_8c_a2c3849e6ce413f9b273ea90830ed2fdf}{Subscribe\+Ap\+Events} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
static \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{wifi_web_ap_8c_afbb9bce8bf22a4ebb79a2a04afe15ac2}{Start\+Web\+Server} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
static \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{wifi_web_ap_8c_a0cb6aeaa0f81555be3ba30adae7ec242}{Run\+System\+Command} (char $\ast$command\+String\+Ptr)
\item 
static \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{wifi_web_ap_8c_aeb874c5c858498e94aebb1054c789f0e}{Stop\+Web\+Server} (int signal\+Id)
\item 
\hyperlink{wifi_web_ap_8c_ad154182b5f4a887a1ad68dccf17a99da}{L\+E\+\_\+\+I\+N\+FO} (\char`\"{}======== Wi\+Fi Web Ap ======== on port \char`\"{}H\+T\+T\+P\+\_\+\+P\+O\+R\+T\+\_\+\+N\+U\+M\+B\+ER)
\item 
\hyperlink{wifi_web_ap_8c_a3e7d2684b89b7cadb9a8ac6541ca701d}{putenv} (\char`\"{}P\+A\+TH=/legato/systems/current/bin\+:\char`\"{}\char`\"{}/usr/local/bin\+:/usr/bin\+:/bin\+:/usr/local/sbin\+:/usr/sbin\+:/sbin\char`\"{})
\item 
\hyperlink{wifi_web_ap_8c_a3444558be0dc15e6446bf46ca7c59b27}{tzset} ()
\item 
\hyperlink{wifi_web_ap_8c_a03cad32fd83cd248a28c18c6b7874184}{le\+\_\+sig\+\_\+\+Block} (S\+I\+G\+T\+E\+RM)
\item 
\hyperlink{wifi_web_ap_8c_a82e0efc52a9653e5c686da48d88d95a8}{le\+\_\+sig\+\_\+\+Set\+Event\+Handler} (S\+I\+G\+T\+E\+RM, \hyperlink{wifi_web_ap_8c_aeb874c5c858498e94aebb1054c789f0e}{Stop\+Web\+Server})
\item 
\hyperlink{wifi_web_ap_8c_a2bf420bda7cb80e4552dcff350cddbef}{if} (W\+E\+X\+I\+T\+S\+T\+A\+T\+US(\hyperlink{wifi_web_ap_8c_a30467b1dec89ba4714905eed4c11b38a}{rc}))
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static F\+I\+LE $\ast$ \hyperlink{wifi_web_ap_8c_a272be4cb667cac2ddf1c803e4054d972}{Httpd\+Cmd\+Pipe\+Ptr} = N\+U\+LL
\item 
static F\+I\+LE $\ast$ \hyperlink{wifi_web_ap_8c_a8749b3e0f9b6e0ba2c864e53551aa3eb}{Log\+File\+Pipe\+Ptr} = N\+U\+LL
\item 
static \hyperlink{le__wifi_ap__interface_8h_a4df46c1b6b67cb8462d3d869d992880c}{le\+\_\+wifi\+Ap\+\_\+\+New\+Event\+Handler\+Ref\+\_\+t} \hyperlink{wifi_web_ap_8c_a4feef0350bb13f381aeb3c7da44d3cff}{Hdlr\+Ref} = N\+U\+LL
\item 
static uint32\+\_\+t \hyperlink{wifi_web_ap_8c_a1c5b7dea9bf6d6ecc287dfb3069264bd}{Number\+Clients} = 0
\item 
\hyperlink{wifi_web_ap_8c_a0392d452f926ce36c4852de26b5eca12}{C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+I\+N\+IT}
\item 
\hyperlink{wifi_web_ap_8c_a30467b1dec89ba4714905eed4c11b38a}{rc} = system(\char`\"{}/usr/sbin/iptables-\/save $>$ /tmp/iptables.\+tmp\char`\"{})
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!B\+U\+F\+\_\+\+S\+I\+ZE@{B\+U\+F\+\_\+\+S\+I\+ZE}}
\index{B\+U\+F\+\_\+\+S\+I\+ZE@{B\+U\+F\+\_\+\+S\+I\+ZE}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{B\+U\+F\+\_\+\+S\+I\+ZE}{BUF_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B\+U\+F\+\_\+\+S\+I\+ZE~256}\hypertarget{wifi_web_ap_8c_a6821bafc3c88dfb2e433a095df9940c6}{}\label{wifi_web_ap_8c_a6821bafc3c88dfb2e433a095df9940c6}
\index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!H\+T\+T\+P\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+P\+O\+RT@{H\+T\+T\+P\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+P\+O\+RT}}
\index{H\+T\+T\+P\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+P\+O\+RT@{H\+T\+T\+P\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+P\+O\+RT}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{H\+T\+T\+P\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+P\+O\+RT}{HTTP_CONNECTION_REPORT}}]{\setlength{\rightskip}{0pt plus 5cm}\#define H\+T\+T\+P\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+P\+O\+RT}\hypertarget{wifi_web_ap_8c_a82537bb19424822684b5833c5b6df381}{}\label{wifi_web_ap_8c_a82537bb19424822684b5833c5b6df381}
{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{stringliteral}{"<font color=\(\backslash\)"black\(\backslash\)" >%s:</font>"} \(\backslash\)
    \textcolor{stringliteral}{" Total clients connected: %d</br>\(\backslash\)r\(\backslash\)n"}
\end{DoxyCode}
\index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!H\+T\+T\+P\+\_\+\+P\+O\+R\+T\+\_\+\+N\+U\+M\+B\+ER@{H\+T\+T\+P\+\_\+\+P\+O\+R\+T\+\_\+\+N\+U\+M\+B\+ER}}
\index{H\+T\+T\+P\+\_\+\+P\+O\+R\+T\+\_\+\+N\+U\+M\+B\+ER@{H\+T\+T\+P\+\_\+\+P\+O\+R\+T\+\_\+\+N\+U\+M\+B\+ER}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{H\+T\+T\+P\+\_\+\+P\+O\+R\+T\+\_\+\+N\+U\+M\+B\+ER}{HTTP_PORT_NUMBER}}]{\setlength{\rightskip}{0pt plus 5cm}\#define H\+T\+T\+P\+\_\+\+P\+O\+R\+T\+\_\+\+N\+U\+M\+B\+ER~\char`\"{}8080\char`\"{}}\hypertarget{wifi_web_ap_8c_a3a52b089b63a5e3dd7ab3c09d087cab7}{}\label{wifi_web_ap_8c_a3a52b089b63a5e3dd7ab3c09d087cab7}
\index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!H\+T\+T\+P\+\_\+\+S\+Y\+S\+\_\+\+C\+MD@{H\+T\+T\+P\+\_\+\+S\+Y\+S\+\_\+\+C\+MD}}
\index{H\+T\+T\+P\+\_\+\+S\+Y\+S\+\_\+\+C\+MD@{H\+T\+T\+P\+\_\+\+S\+Y\+S\+\_\+\+C\+MD}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{H\+T\+T\+P\+\_\+\+S\+Y\+S\+\_\+\+C\+MD}{HTTP_SYS_CMD}}]{\setlength{\rightskip}{0pt plus 5cm}\#define H\+T\+T\+P\+\_\+\+S\+Y\+S\+\_\+\+C\+MD}\hypertarget{wifi_web_ap_8c_a1e2016846a2b10da624b27d615f4e23e}{}\label{wifi_web_ap_8c_a1e2016846a2b10da624b27d615f4e23e}
{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{stringliteral}{"/usr/sbin/httpd -v -p "} \hyperlink{wifi_web_ap_8c_a3a52b089b63a5e3dd7ab3c09d087cab7}{HTTP\_PORT\_NUMBER} \(\backslash\)
    \textcolor{stringliteral}{" -u root -h /legato/systems/current/apps/wifiWebAp/read-only/var/www/ 2>&1"}
\end{DoxyCode}
\index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!L\+O\+G\+F\+I\+LE@{L\+O\+G\+F\+I\+LE}}
\index{L\+O\+G\+F\+I\+LE@{L\+O\+G\+F\+I\+LE}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{L\+O\+G\+F\+I\+LE}{LOGFILE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+O\+G\+F\+I\+LE~\char`\"{}/tmp/wifi\+\_\+http.\+log\char`\"{}}\hypertarget{wifi_web_ap_8c_a6d3fef197146b932f5ad01fce683a66b}{}\label{wifi_web_ap_8c_a6d3fef197146b932f5ad01fce683a66b}
This module implements a Web interface for setting up the Wi\+Fi access point

Copyright (C) Sierra Wireless Inc.

It starts the webserver and it subscribes to the Wi\+Fi access point events and logs them to a logfile. The page index.\+html provides an interface page with two parts. The first part is an interface to setup the Wi\+Fi access point. The second part is the content of the logfile provided by this app. \index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!S\+T\+R\+\_\+\+S\+I\+ZE@{S\+T\+R\+\_\+\+S\+I\+ZE}}
\index{S\+T\+R\+\_\+\+S\+I\+ZE@{S\+T\+R\+\_\+\+S\+I\+ZE}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{S\+T\+R\+\_\+\+S\+I\+ZE}{STR_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+T\+R\+\_\+\+S\+I\+ZE~1024}\hypertarget{wifi_web_ap_8c_a38a196d020f78f178a33927d741a03f2}{}\label{wifi_web_ap_8c_a38a196d020f78f178a33927d741a03f2}


\subsection{Function Documentation}
\index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!if@{if}}
\index{if@{if}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{if(\+W\+E\+X\+I\+T\+S\+T\+A\+T\+U\+S(rc))}{if(WEXITSTATUS(rc))}}]{\setlength{\rightskip}{0pt plus 5cm}if (
\begin{DoxyParamCaption}
\item[{W\+E\+X\+I\+T\+S\+T\+A\+T\+US({\bf rc})}]{}
\end{DoxyParamCaption}
)}\hypertarget{wifi_web_ap_8c_a2bf420bda7cb80e4552dcff350cddbef}{}\label{wifi_web_ap_8c_a2bf420bda7cb80e4552dcff350cddbef}
\index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!L\+E\+\_\+\+I\+N\+FO@{L\+E\+\_\+\+I\+N\+FO}}
\index{L\+E\+\_\+\+I\+N\+FO@{L\+E\+\_\+\+I\+N\+FO}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{L\+E\+\_\+\+I\+N\+F\+O(""======== Wi\+Fi Web Ap ======== on port ""H\+T\+T\+P\+\_\+\+P\+O\+R\+T\+\_\+\+N\+U\+M\+B\+E\+R)}{LE_INFO("======== WiFi Web Ap ======== on port "HTTP_PORT_NUMBER)}}]{\setlength{\rightskip}{0pt plus 5cm}L\+E\+\_\+\+I\+N\+FO (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{wifi_web_ap_8c_ad154182b5f4a887a1ad68dccf17a99da}{}\label{wifi_web_ap_8c_ad154182b5f4a887a1ad68dccf17a99da}
\index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!le\+\_\+sig\+\_\+\+Block@{le\+\_\+sig\+\_\+\+Block}}
\index{le\+\_\+sig\+\_\+\+Block@{le\+\_\+sig\+\_\+\+Block}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{le\+\_\+sig\+\_\+\+Block(\+S\+I\+G\+T\+E\+R\+M)}{le_sig_Block(SIGTERM)}}]{\setlength{\rightskip}{0pt plus 5cm}le\+\_\+sig\+\_\+\+Block (
\begin{DoxyParamCaption}
\item[{S\+I\+G\+T\+E\+RM}]{}
\end{DoxyParamCaption}
)}\hypertarget{wifi_web_ap_8c_a03cad32fd83cd248a28c18c6b7874184}{}\label{wifi_web_ap_8c_a03cad32fd83cd248a28c18c6b7874184}
\index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!le\+\_\+sig\+\_\+\+Set\+Event\+Handler@{le\+\_\+sig\+\_\+\+Set\+Event\+Handler}}
\index{le\+\_\+sig\+\_\+\+Set\+Event\+Handler@{le\+\_\+sig\+\_\+\+Set\+Event\+Handler}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{le\+\_\+sig\+\_\+\+Set\+Event\+Handler(\+S\+I\+G\+T\+E\+R\+M, Stop\+Web\+Server)}{le_sig_SetEventHandler(SIGTERM, StopWebServer)}}]{\setlength{\rightskip}{0pt plus 5cm}le\+\_\+sig\+\_\+\+Set\+Event\+Handler (
\begin{DoxyParamCaption}
\item[{S\+I\+G\+T\+E\+RM}]{, }
\item[{{\bf Stop\+Web\+Server}}]{}
\end{DoxyParamCaption}
)}\hypertarget{wifi_web_ap_8c_a82e0efc52a9653e5c686da48d88d95a8}{}\label{wifi_web_ap_8c_a82e0efc52a9653e5c686da48d88d95a8}
\index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!putenv@{putenv}}
\index{putenv@{putenv}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{putenv(""P\+A\+T\+H=/legato/systems/current/bin\+:""""/usr/local/bin\+:/usr/bin\+:/bin\+:/usr/local/sbin\+:/usr/sbin\+:/sbin"")}{putenv("PATH=/legato/systems/current/bin:""/usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/sbin:/sbin")}}]{\setlength{\rightskip}{0pt plus 5cm}putenv (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{wifi_web_ap_8c_a3e7d2684b89b7cadb9a8ac6541ca701d}{}\label{wifi_web_ap_8c_a3e7d2684b89b7cadb9a8ac6541ca701d}
\index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!Run\+System\+Command@{Run\+System\+Command}}
\index{Run\+System\+Command@{Run\+System\+Command}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{Run\+System\+Command(char $\ast$command\+String\+Ptr)}{RunSystemCommand(char *commandStringPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf void} Run\+System\+Command (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command\+String\+Ptr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{wifi_web_ap_8c_a0cb6aeaa0f81555be3ba30adae7ec242}{}\label{wifi_web_ap_8c_a0cb6aeaa0f81555be3ba30adae7ec242}
runs the command \index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!Start\+Web\+Server@{Start\+Web\+Server}}
\index{Start\+Web\+Server@{Start\+Web\+Server}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{Start\+Web\+Server(void)}{StartWebServer(void)}}]{\setlength{\rightskip}{0pt plus 5cm}Start\+Web\+Server (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{wifi_web_ap_8c_afbb9bce8bf22a4ebb79a2a04afe15ac2}{}\label{wifi_web_ap_8c_afbb9bce8bf22a4ebb79a2a04afe15ac2}
Starts the H\+T\+TP server. All AP configuration is done in the webscript. \index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!Stop\+Web\+Server@{Stop\+Web\+Server}}
\index{Stop\+Web\+Server@{Stop\+Web\+Server}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{Stop\+Web\+Server(int signal\+Id)}{StopWebServer(int signalId)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf void} Stop\+Web\+Server (
\begin{DoxyParamCaption}
\item[{int}]{signal\+Id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{wifi_web_ap_8c_aeb874c5c858498e94aebb1054c789f0e}{}\label{wifi_web_ap_8c_aeb874c5c858498e94aebb1054c789f0e}
Stops the H\+T\+TP server. \index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!Subscribe\+Ap\+Events@{Subscribe\+Ap\+Events}}
\index{Subscribe\+Ap\+Events@{Subscribe\+Ap\+Events}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{Subscribe\+Ap\+Events(void)}{SubscribeApEvents(void)}}]{\setlength{\rightskip}{0pt plus 5cm}Subscribe\+Ap\+Events (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{wifi_web_ap_8c_a2c3849e6ce413f9b273ea90830ed2fdf}{}\label{wifi_web_ap_8c_a2c3849e6ce413f9b273ea90830ed2fdf}
Starts the H\+T\+TP server. All AP configuration is done in the webscript. \index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!tzset@{tzset}}
\index{tzset@{tzset}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{tzset()}{tzset()}}]{\setlength{\rightskip}{0pt plus 5cm}tzset (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{wifi_web_ap_8c_a3444558be0dc15e6446bf46ca7c59b27}{}\label{wifi_web_ap_8c_a3444558be0dc15e6446bf46ca7c59b27}
\index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!Wifi\+Event\+Handler@{Wifi\+Event\+Handler}}
\index{Wifi\+Event\+Handler@{Wifi\+Event\+Handler}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{Wifi\+Event\+Handler(le\+\_\+wifi\+Ap\+\_\+\+Event\+\_\+t event, void $\ast$context\+Ptr)}{WifiEventHandler(le_wifiAp_Event_t event, void *contextPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf void} Wifi\+Event\+Handler (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+wifi\+Ap\+\_\+\+Event\+\_\+t}}]{event, }
\item[{{\bf void} $\ast$}]{context\+Ptr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{wifi_web_ap_8c_aa7ad3867f0cb365faabfcd9138524f8a}{}\label{wifi_web_ap_8c_aa7ad3867f0cb365faabfcd9138524f8a}
Handler for Wi\+Fi events $<$ A client connect to AP

$<$ A client disconnect from AP 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event} & Wi\+Fi event to process \\
\hline
\mbox{\tt in}  & {\em context\+Ptr} & Associated Wi\+Fi event context \\
\hline
\end{DoxyParams}
\index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!Wifi\+Event\+Log@{Wifi\+Event\+Log}}
\index{Wifi\+Event\+Log@{Wifi\+Event\+Log}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{Wifi\+Event\+Log(const char $\ast$data, F\+I\+L\+E $\ast$file)}{WifiEventLog(const char *data, FILE *file)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf le\+\_\+result\+\_\+t} Wifi\+Event\+Log (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{data, }
\item[{F\+I\+LE $\ast$}]{file}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{wifi_web_ap_8c_a0537ef0622f1e63d8b6f0941e4490893}{}\label{wifi_web_ap_8c_a0537ef0622f1e63d8b6f0941e4490893}
Log Wi\+Fi events in the given file 

\subsection{Variable Documentation}
\index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+I\+N\+IT@{C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+I\+N\+IT}}
\index{C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+I\+N\+IT@{C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+I\+N\+IT}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+I\+N\+IT}{COMPONENT_INIT}}]{\setlength{\rightskip}{0pt plus 5cm}C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+I\+N\+IT}\hypertarget{wifi_web_ap_8c_a0392d452f926ce36c4852de26b5eca12}{}\label{wifi_web_ap_8c_a0392d452f926ce36c4852de26b5eca12}
{\bfseries Initial value\+:}
\begin{DoxyCode}
\{
    \textcolor{keywordtype}{int} \hyperlink{wifi_web_ap_8c_a30467b1dec89ba4714905eed4c11b38a}{rc}
\end{DoxyCode}
App init. \index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!Hdlr\+Ref@{Hdlr\+Ref}}
\index{Hdlr\+Ref@{Hdlr\+Ref}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{Hdlr\+Ref}{HdlrRef}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+wifi\+Ap\+\_\+\+New\+Event\+Handler\+Ref\+\_\+t} Hdlr\+Ref = N\+U\+LL\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{wifi_web_ap_8c_a4feef0350bb13f381aeb3c7da44d3cff}{}\label{wifi_web_ap_8c_a4feef0350bb13f381aeb3c7da44d3cff}
Event handler reference. \index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!Httpd\+Cmd\+Pipe\+Ptr@{Httpd\+Cmd\+Pipe\+Ptr}}
\index{Httpd\+Cmd\+Pipe\+Ptr@{Httpd\+Cmd\+Pipe\+Ptr}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{Httpd\+Cmd\+Pipe\+Ptr}{HttpdCmdPipePtr}}]{\setlength{\rightskip}{0pt plus 5cm}F\+I\+LE$\ast$ Httpd\+Cmd\+Pipe\+Ptr = N\+U\+LL\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{wifi_web_ap_8c_a272be4cb667cac2ddf1c803e4054d972}{}\label{wifi_web_ap_8c_a272be4cb667cac2ddf1c803e4054d972}
\index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!Log\+File\+Pipe\+Ptr@{Log\+File\+Pipe\+Ptr}}
\index{Log\+File\+Pipe\+Ptr@{Log\+File\+Pipe\+Ptr}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{Log\+File\+Pipe\+Ptr}{LogFilePipePtr}}]{\setlength{\rightskip}{0pt plus 5cm}F\+I\+LE$\ast$ Log\+File\+Pipe\+Ptr = N\+U\+LL\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{wifi_web_ap_8c_a8749b3e0f9b6e0ba2c864e53551aa3eb}{}\label{wifi_web_ap_8c_a8749b3e0f9b6e0ba2c864e53551aa3eb}
\index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!Number\+Clients@{Number\+Clients}}
\index{Number\+Clients@{Number\+Clients}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{Number\+Clients}{NumberClients}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Number\+Clients = 0\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{wifi_web_ap_8c_a1c5b7dea9bf6d6ecc287dfb3069264bd}{}\label{wifi_web_ap_8c_a1c5b7dea9bf6d6ecc287dfb3069264bd}
The number of clients connected to the Wi\+Fi Access point (based on Connect/\+Disconnect events) \index{wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}!rc@{rc}}
\index{rc@{rc}!wifi\+Web\+Ap.\+c@{wifi\+Web\+Ap.\+c}}
\subsubsection[{\texorpdfstring{rc}{rc}}]{\setlength{\rightskip}{0pt plus 5cm}rc = system(\char`\"{}/usr/sbin/iptables-\/save $>$ /tmp/iptables.\+tmp\char`\"{})}\hypertarget{wifi_web_ap_8c_a30467b1dec89ba4714905eed4c11b38a}{}\label{wifi_web_ap_8c_a30467b1dec89ba4714905eed4c11b38a}
