\hypertarget{daemons_2linux_2update_daemon_2app_8h}{}\section{framework/daemons/linux/update\+Daemon/app.h File Reference}
\label{daemons_2linux_2update_daemon_2app_8h}\index{framework/daemons/linux/update\+Daemon/app.\+h@{framework/daemons/linux/update\+Daemon/app.\+h}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{daemons_2linux_2update_daemon_2app_8h_ac83c6468581c22aa4fbb963cae6c7728}{app\+\_\+\+Exists} (const char $\ast$app)
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{daemons_2linux_2update_daemon_2app_8h_ab0305dd523f10ef7195c0396a139c38e}{app\+\_\+\+Hash} (const char $\ast$app\+Name\+Ptr, char hash\+Buffer\mbox{[}\hyperlink{limit_8h_a54afff2397b4c963793b121a90abc1dc}{L\+I\+M\+I\+T\+\_\+\+M\+D5\+\_\+\+S\+T\+R\+\_\+\+B\+Y\+T\+ES}\mbox{]})
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{daemons_2linux_2update_daemon_2app_8h_a1191a9b48c2badc6ef1dbcfccaba0fac}{app\+\_\+\+Prep\+Unpack\+Dir} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{daemons_2linux_2update_daemon_2app_8h_abd33cfa945c3ac142ba70db27aff490f}{app\+\_\+\+Set\+Smack\+Perm\+Read\+Only} (const char $\ast$app\+Md5\+Ptr, const char $\ast$app\+Name\+Ptr)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{daemons_2linux_2update_daemon_2app_8h_aeb3d48b159b703d931635ef7b026f7f8}{app\+\_\+\+Set\+Up\+App\+Writeables} (const char $\ast$app\+Md5\+Ptr, const char $\ast$app\+Name\+Ptr)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{daemons_2linux_2update_daemon_2app_8h_a289ac74e5203fd85044eb7d749a5009a}{app\+\_\+\+Install\+Individual} (const char $\ast$app\+Md5\+Ptr, const char $\ast$app\+Name\+Ptr)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{daemons_2linux_2update_daemon_2app_8h_a1ff3f06b5329bfe0be75c08ca58eba66}{app\+\_\+\+Remove\+Individual} (const char $\ast$app\+Name\+Ptr)
\item 
\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{daemons_2linux_2update_daemon_2app_8h_a6715dece7d0aac8dd2e7247d30ebee00}{app\+\_\+\+Finish\+Updates} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void})
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const char $\ast$ \hyperlink{daemons_2linux_2update_daemon_2app_8h_a0d2076594302990a4c6ace287bbb4453}{app\+\_\+\+Unpack\+Path}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{daemons/linux/update\+Daemon/app.\+h@{daemons/linux/update\+Daemon/app.\+h}!app\+\_\+\+Exists@{app\+\_\+\+Exists}}
\index{app\+\_\+\+Exists@{app\+\_\+\+Exists}!daemons/linux/update\+Daemon/app.\+h@{daemons/linux/update\+Daemon/app.\+h}}
\subsubsection[{\texorpdfstring{app\+\_\+\+Exists(const char $\ast$app)}{app_Exists(const char *app)}}]{\setlength{\rightskip}{0pt plus 5cm}bool app\+\_\+\+Exists (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{md5\+Str\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{daemons_2linux_2update_daemon_2app_8h_ac83c6468581c22aa4fbb963cae6c7728}{}\label{daemons_2linux_2update_daemon_2app_8h_ac83c6468581c22aa4fbb963cae6c7728}
Check to see if the given application exists. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em md5\+Str\+Ptr} & The hash of the app to find. \\
\hline
\end{DoxyParams}
\index{daemons/linux/update\+Daemon/app.\+h@{daemons/linux/update\+Daemon/app.\+h}!app\+\_\+\+Finish\+Updates@{app\+\_\+\+Finish\+Updates}}
\index{app\+\_\+\+Finish\+Updates@{app\+\_\+\+Finish\+Updates}!daemons/linux/update\+Daemon/app.\+h@{daemons/linux/update\+Daemon/app.\+h}}
\subsubsection[{\texorpdfstring{app\+\_\+\+Finish\+Updates(void)}{app_FinishUpdates(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} app\+\_\+\+Finish\+Updates (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{daemons_2linux_2update_daemon_2app_8h_a6715dece7d0aac8dd2e7247d30ebee00}{}\label{daemons_2linux_2update_daemon_2app_8h_a6715dece7d0aac8dd2e7247d30ebee00}
Determine if an app update was interrupted, and if so finish it. \index{daemons/linux/update\+Daemon/app.\+h@{daemons/linux/update\+Daemon/app.\+h}!app\+\_\+\+Hash@{app\+\_\+\+Hash}}
\index{app\+\_\+\+Hash@{app\+\_\+\+Hash}!daemons/linux/update\+Daemon/app.\+h@{daemons/linux/update\+Daemon/app.\+h}}
\subsubsection[{\texorpdfstring{app\+\_\+\+Hash(const char $\ast$app\+Name\+Ptr, char hash\+Buffer[L\+I\+M\+I\+T\+\_\+\+M\+D5\+\_\+\+S\+T\+R\+\_\+\+B\+Y\+T\+ES])}{app_Hash(const char *appNamePtr, char hashBuffer[LIMIT_MD5_STR_BYTES])}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} app\+\_\+\+Hash (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{app\+Name\+Ptr, }
\item[{char}]{hash\+Buffer\mbox{[}\+L\+I\+M\+I\+T\+\_\+\+M\+D5\+\_\+\+S\+T\+R\+\_\+\+B\+Y\+T\+E\+S\mbox{]}}
\end{DoxyParamCaption}
)}\hypertarget{daemons_2linux_2update_daemon_2app_8h_ab0305dd523f10ef7195c0396a139c38e}{}\label{daemons_2linux_2update_daemon_2app_8h_ab0305dd523f10ef7195c0396a139c38e}
Get the hash ID for the named application.

\begin{DoxyReturn}{Returns}
On return the application\textquotesingle{}s hash is copied into the supplied hash\+Buffer.
\end{DoxyReturn}
Get the hash ID for the named application.

On return the application\textquotesingle{}s hash is copied into the supplied hash\+Buffer. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em app\+Name\+Ptr} & The name of the application to read. \\
\hline
\mbox{\tt out}  & {\em hash\+Buffer} & Buffer to hold the application hash ID. \\
\hline
\end{DoxyParams}
\index{daemons/linux/update\+Daemon/app.\+h@{daemons/linux/update\+Daemon/app.\+h}!app\+\_\+\+Install\+Individual@{app\+\_\+\+Install\+Individual}}
\index{app\+\_\+\+Install\+Individual@{app\+\_\+\+Install\+Individual}!daemons/linux/update\+Daemon/app.\+h@{daemons/linux/update\+Daemon/app.\+h}}
\subsubsection[{\texorpdfstring{app\+\_\+\+Install\+Individual(const char $\ast$app\+Md5\+Ptr, const char $\ast$app\+Name\+Ptr)}{app_InstallIndividual(const char *appMd5Ptr, const char *appNamePtr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} app\+\_\+\+Install\+Individual (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{app\+Md5\+Ptr, }
\item[{const char $\ast$}]{app\+Name\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{daemons_2linux_2update_daemon_2app_8h_a289ac74e5203fd85044eb7d749a5009a}{}\label{daemons_2linux_2update_daemon_2app_8h_a289ac74e5203fd85044eb7d749a5009a}
Install a new individual application update in the current running system.

\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item L\+E\+\_\+\+OK if successful.
\item L\+E\+\_\+\+D\+U\+P\+L\+I\+C\+A\+TE if requested to install same app.
\item L\+E\+\_\+\+F\+A\+U\+LT for any other failure. 
\end{DoxyItemize}
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em app\+Md5\+Ptr} & Hash ID of the application to install. \\
\hline
\mbox{\tt in}  & {\em app\+Name\+Ptr} & Name of the application to install. \\
\hline
\end{DoxyParams}
\index{daemons/linux/update\+Daemon/app.\+h@{daemons/linux/update\+Daemon/app.\+h}!app\+\_\+\+Prep\+Unpack\+Dir@{app\+\_\+\+Prep\+Unpack\+Dir}}
\index{app\+\_\+\+Prep\+Unpack\+Dir@{app\+\_\+\+Prep\+Unpack\+Dir}!daemons/linux/update\+Daemon/app.\+h@{daemons/linux/update\+Daemon/app.\+h}}
\subsubsection[{\texorpdfstring{app\+\_\+\+Prep\+Unpack\+Dir(void)}{app_PrepUnpackDir(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} app\+\_\+\+Prep\+Unpack\+Dir (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{daemons_2linux_2update_daemon_2app_8h_a1191a9b48c2badc6ef1dbcfccaba0fac}{}\label{daemons_2linux_2update_daemon_2app_8h_a1191a9b48c2badc6ef1dbcfccaba0fac}
Prepare the app unpack directory for use (delete any old one and create a fresh empty one). \index{daemons/linux/update\+Daemon/app.\+h@{daemons/linux/update\+Daemon/app.\+h}!app\+\_\+\+Remove\+Individual@{app\+\_\+\+Remove\+Individual}}
\index{app\+\_\+\+Remove\+Individual@{app\+\_\+\+Remove\+Individual}!daemons/linux/update\+Daemon/app.\+h@{daemons/linux/update\+Daemon/app.\+h}}
\subsubsection[{\texorpdfstring{app\+\_\+\+Remove\+Individual(const char $\ast$app\+Name\+Ptr)}{app_RemoveIndividual(const char *appNamePtr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} app\+\_\+\+Remove\+Individual (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{app\+Name\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{daemons_2linux_2update_daemon_2app_8h_a1ff3f06b5329bfe0be75c08ca58eba66}{}\label{daemons_2linux_2update_daemon_2app_8h_a1ff3f06b5329bfe0be75c08ca58eba66}
Remove the named app from the current running system.

\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item L\+E\+\_\+\+OK if successful.
\item L\+E\+\_\+\+N\+O\+T\+\_\+\+F\+O\+U\+ND if requested to remove non-\/existent app.
\item L\+E\+\_\+\+F\+A\+U\+LT for any other failure. 
\end{DoxyItemize}
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em app\+Name\+Ptr} & Name of the app to remove. \\
\hline
\end{DoxyParams}
\index{daemons/linux/update\+Daemon/app.\+h@{daemons/linux/update\+Daemon/app.\+h}!app\+\_\+\+Set\+Smack\+Perm\+Read\+Only@{app\+\_\+\+Set\+Smack\+Perm\+Read\+Only}}
\index{app\+\_\+\+Set\+Smack\+Perm\+Read\+Only@{app\+\_\+\+Set\+Smack\+Perm\+Read\+Only}!daemons/linux/update\+Daemon/app.\+h@{daemons/linux/update\+Daemon/app.\+h}}
\subsubsection[{\texorpdfstring{app\+\_\+\+Set\+Smack\+Perm\+Read\+Only(const char $\ast$app\+Md5\+Ptr, const char $\ast$app\+Name\+Ptr)}{app_SetSmackPermReadOnly(const char *appMd5Ptr, const char *appNamePtr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} app\+\_\+\+Set\+Smack\+Perm\+Read\+Only (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{app\+Md5\+Ptr, }
\item[{const char $\ast$}]{app\+Name\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{daemons_2linux_2update_daemon_2app_8h_abd33cfa945c3ac142ba70db27aff490f}{}\label{daemons_2linux_2update_daemon_2app_8h_abd33cfa945c3ac142ba70db27aff490f}
Setup smack permission for contents in app\textquotesingle{}s read-\/only directory.

\begin{DoxyReturn}{Returns}
L\+E\+\_\+\+OK if successful, L\+E\+\_\+\+F\+A\+U\+LT if fails.
\end{DoxyReturn}
Setup S\+M\+A\+CK permission for contents in app\textquotesingle{}s read-\/only directory.

\begin{DoxyReturn}{Returns}
L\+E\+\_\+\+OK if successful, L\+E\+\_\+\+F\+A\+U\+LT if fails. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em app\+Md5\+Ptr} & Hash ID of the application to install. \\
\hline
\mbox{\tt in}  & {\em app\+Name\+Ptr} & Name of the application to install. \\
\hline
\end{DoxyParams}
\index{daemons/linux/update\+Daemon/app.\+h@{daemons/linux/update\+Daemon/app.\+h}!app\+\_\+\+Set\+Up\+App\+Writeables@{app\+\_\+\+Set\+Up\+App\+Writeables}}
\index{app\+\_\+\+Set\+Up\+App\+Writeables@{app\+\_\+\+Set\+Up\+App\+Writeables}!daemons/linux/update\+Daemon/app.\+h@{daemons/linux/update\+Daemon/app.\+h}}
\subsubsection[{\texorpdfstring{app\+\_\+\+Set\+Up\+App\+Writeables(const char $\ast$app\+Md5\+Ptr, const char $\ast$app\+Name\+Ptr)}{app_SetUpAppWriteables(const char *appMd5Ptr, const char *appNamePtr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} app\+\_\+\+Set\+Up\+App\+Writeables (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{app\+Md5\+Ptr, }
\item[{const char $\ast$}]{app\+Name\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{daemons_2linux_2update_daemon_2app_8h_aeb3d48b159b703d931635ef7b026f7f8}{}\label{daemons_2linux_2update_daemon_2app_8h_aeb3d48b159b703d931635ef7b026f7f8}
Set up a given app\textquotesingle{}s writeable files in the \char`\"{}unpack\char`\"{} system.

Files will be copied to the system unpack area based on whether an app with the same name exists in the current system.

\begin{DoxyWarning}{Warning}
Assumes the app identified by the hash is installed in /legato/apps/$<$hash$>$.
\end{DoxyWarning}
\begin{DoxyReturn}{Returns}
L\+E\+\_\+\+OK if successful. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em app\+Md5\+Ptr} & Hash ID of the application to install. \\
\hline
\mbox{\tt in}  & {\em app\+Name\+Ptr} & Name of the application to install. \\
\hline
\end{DoxyParams}


\subsection{Variable Documentation}
\index{daemons/linux/update\+Daemon/app.\+h@{daemons/linux/update\+Daemon/app.\+h}!app\+\_\+\+Unpack\+Path@{app\+\_\+\+Unpack\+Path}}
\index{app\+\_\+\+Unpack\+Path@{app\+\_\+\+Unpack\+Path}!daemons/linux/update\+Daemon/app.\+h@{daemons/linux/update\+Daemon/app.\+h}}
\subsubsection[{\texorpdfstring{app\+\_\+\+Unpack\+Path}{app_UnpackPath}}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ app\+\_\+\+Unpack\+Path}\hypertarget{daemons_2linux_2update_daemon_2app_8h_a0d2076594302990a4c6ace287bbb4453}{}\label{daemons_2linux_2update_daemon_2app_8h_a0d2076594302990a4c6ace287bbb4453}
File system path to where apps are unpacked. 