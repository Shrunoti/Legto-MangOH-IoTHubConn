\hypertarget{_t_e_m_p_l_a_t_e__server_8c}{}\section{framework/tools/ifgen/lang\+C/templates/\+T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.c File Reference}
\label{_t_e_m_p_l_a_t_e__server_8c}\index{framework/tools/ifgen/lang\+C/templates/\+T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{framework/tools/ifgen/lang\+C/templates/\+T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}}
{\ttfamily \#include \char`\"{}\{\{api\+Name\}\}\+\_\+messages.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}\{\{api\+Name\}\}\+\_\+server.\+h\char`\"{}}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct___server_data__t}{\+\_\+\+Server\+Data\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{_t_e_m_p_l_a_t_e__server_8c_a1463c68fcb5f922014d30ede798ea4c9}{\+\_\+\+L\+O\+CK}~\hyperlink{sbtrace_8c_a7c6c2e5e914cf8eca19d150e90f3b106}{L\+E\+\_\+\+A\+S\+S\+E\+RT}(pthread\+\_\+mutex\+\_\+lock(\&\hyperlink{_t_e_m_p_l_a_t_e__client_8c_af77915076c169f68a06299449bf11f5d}{\+\_\+\+Mutex}) == 0);
\item 
\#define \hyperlink{_t_e_m_p_l_a_t_e__server_8c_af43f9cb14557f3c06d31efd32ba39ebe}{\+\_\+\+U\+N\+L\+O\+CK}~\hyperlink{sbtrace_8c_a7c6c2e5e914cf8eca19d150e90f3b106}{L\+E\+\_\+\+A\+S\+S\+E\+RT}(pthread\+\_\+mutex\+\_\+unlock(\&\hyperlink{_t_e_m_p_l_a_t_e__client_8c_af77915076c169f68a06299449bf11f5d}{\+\_\+\+Mutex}) == 0);
\item 
\#define \hyperlink{_t_e_m_p_l_a_t_e__server_8c_a5f6aa8edcd99914757600b5d3b259bb7}{T\+R\+A\+CE}(...)
\item 
\#define \hyperlink{_t_e_m_p_l_a_t_e__server_8c_a521df47841ad297abbf2e8ef767a5cb5}{I\+S\+\_\+\+T\+R\+A\+C\+E\+\_\+\+E\+N\+A\+B\+L\+ED}~0
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{_t_e_m_p_l_a_t_e__server_8c_abfeafc120c37a00ab94a2d74206a2726}{Cleanup\+Client\+Data} (\hyperlink{le__messaging_8h_aebfc01e15b430a5b4f3038a5bd518904}{le\+\_\+msg\+\_\+\+Session\+Ref\+\_\+t} \hyperlink{log_tool_8c_a0ba04d68f0faec00ca0db1c014f248be}{session\+Ref}, \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} $\ast$context\+Ptr)
\item 
static \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{_t_e_m_p_l_a_t_e__server_8c_a1f97216909496a169e96273aaa77aeb7}{Send\+Msg\+To\+Client\+Queued} (\hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} $\ast$\hyperlink{log_tool_8c_a42c1c76c43e8d3aac1aaa1dcd535b278}{msg\+Ref}, \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} $\ast$unused)
\item 
static \hyperlink{_t_e_m_p_l_a_t_e__cdef_8h_ac9c84fa68bbad002983e35ce3663c686}{void} \hyperlink{_t_e_m_p_l_a_t_e__server_8c_afbf2ef79894a8ce8c67b07358381df1f}{Send\+Msg\+To\+Client} (\hyperlink{le__messaging_8h_a1e5c37fdd50a4d6d24cad82cb166f770}{le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t} \hyperlink{log_tool_8c_a42c1c76c43e8d3aac1aaa1dcd535b278}{msg\+Ref})
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{le__safe_ref_8h_aaf8fb3412fb840cb50366856affaf69b}{le\+\_\+ref\+\_\+\+Map\+Ref\+\_\+t} \hyperlink{_t_e_m_p_l_a_t_e__server_8c_a4cbaa05e8a9fd4a9b4df1b3245934c6b}{\+\_\+\+Handler\+Ref\+Map}
\item 
static \hyperlink{le__messaging_8h_ad9f0b13cde1d8c1eab5318dbcf0d9e28}{le\+\_\+msg\+\_\+\+Service\+Ref\+\_\+t} \hyperlink{_t_e_m_p_l_a_t_e__server_8c_a09e686305c29f199c91844ff405d101c}{\+\_\+\+Server\+Service\+Ref}
\item 
static \hyperlink{le__thread_8h_a32121104c6b4ca39008eb79a4d6862f2}{le\+\_\+thread\+\_\+\+Ref\+\_\+t} \hyperlink{_t_e_m_p_l_a_t_e__server_8c_ace3682a2279c4f3c69f4875ea9bb730f}{\+\_\+\+Server\+Thread\+Ref}
\item 
static \hyperlink{le__messaging_8h_aebfc01e15b430a5b4f3038a5bd518904}{le\+\_\+msg\+\_\+\+Session\+Ref\+\_\+t} \hyperlink{_t_e_m_p_l_a_t_e__server_8c_abce80ccddd945aeb4a07719125d54a4a}{\+\_\+\+Client\+Session\+Ref}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}!\+\_\+\+L\+O\+CK@{\+\_\+\+L\+O\+CK}}
\index{\+\_\+\+L\+O\+CK@{\+\_\+\+L\+O\+CK}!T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+\+L\+O\+CK}{_LOCK}}]{\setlength{\rightskip}{0pt plus 5cm}\#define \+\_\+\+L\+O\+CK~{\bf L\+E\+\_\+\+A\+S\+S\+E\+RT}(pthread\+\_\+mutex\+\_\+lock(\&{\bf \+\_\+\+Mutex}) == 0);}\hypertarget{_t_e_m_p_l_a_t_e__server_8c_a1463c68fcb5f922014d30ede798ea4c9}{}\label{_t_e_m_p_l_a_t_e__server_8c_a1463c68fcb5f922014d30ede798ea4c9}
\index{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}!\+\_\+\+U\+N\+L\+O\+CK@{\+\_\+\+U\+N\+L\+O\+CK}}
\index{\+\_\+\+U\+N\+L\+O\+CK@{\+\_\+\+U\+N\+L\+O\+CK}!T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+\+U\+N\+L\+O\+CK}{_UNLOCK}}]{\setlength{\rightskip}{0pt plus 5cm}\#define \+\_\+\+U\+N\+L\+O\+CK~{\bf L\+E\+\_\+\+A\+S\+S\+E\+RT}(pthread\+\_\+mutex\+\_\+unlock(\&{\bf \+\_\+\+Mutex}) == 0);}\hypertarget{_t_e_m_p_l_a_t_e__server_8c_af43f9cb14557f3c06d31efd32ba39ebe}{}\label{_t_e_m_p_l_a_t_e__server_8c_af43f9cb14557f3c06d31efd32ba39ebe}
\index{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}!I\+S\+\_\+\+T\+R\+A\+C\+E\+\_\+\+E\+N\+A\+B\+L\+ED@{I\+S\+\_\+\+T\+R\+A\+C\+E\+\_\+\+E\+N\+A\+B\+L\+ED}}
\index{I\+S\+\_\+\+T\+R\+A\+C\+E\+\_\+\+E\+N\+A\+B\+L\+ED@{I\+S\+\_\+\+T\+R\+A\+C\+E\+\_\+\+E\+N\+A\+B\+L\+ED}!T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}}
\subsubsection[{\texorpdfstring{I\+S\+\_\+\+T\+R\+A\+C\+E\+\_\+\+E\+N\+A\+B\+L\+ED}{IS_TRACE_ENABLED}}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+S\+\_\+\+T\+R\+A\+C\+E\+\_\+\+E\+N\+A\+B\+L\+ED~0}\hypertarget{_t_e_m_p_l_a_t_e__server_8c_a521df47841ad297abbf2e8ef767a5cb5}{}\label{_t_e_m_p_l_a_t_e__server_8c_a521df47841ad297abbf2e8ef767a5cb5}
\index{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}!T\+R\+A\+CE@{T\+R\+A\+CE}}
\index{T\+R\+A\+CE@{T\+R\+A\+CE}!T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}}
\subsubsection[{\texorpdfstring{T\+R\+A\+CE}{TRACE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+A\+CE(
\begin{DoxyParamCaption}
\item[{}]{...}
\end{DoxyParamCaption}
)}\hypertarget{_t_e_m_p_l_a_t_e__server_8c_a5f6aa8edcd99914757600b5d3b259bb7}{}\label{_t_e_m_p_l_a_t_e__server_8c_a5f6aa8edcd99914757600b5d3b259bb7}
Trace reference used for controlling tracing in this module. 

\subsection{Function Documentation}
\index{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}!Cleanup\+Client\+Data@{Cleanup\+Client\+Data}}
\index{Cleanup\+Client\+Data@{Cleanup\+Client\+Data}!T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}}
\subsubsection[{\texorpdfstring{Cleanup\+Client\+Data(le\+\_\+msg\+\_\+\+Session\+Ref\+\_\+t session\+Ref, void $\ast$context\+Ptr)}{CleanupClientData(le_msg_SessionRef_t sessionRef, void *contextPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf void} Cleanup\+Client\+Data (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+msg\+\_\+\+Session\+Ref\+\_\+t}}]{session\+Ref, }
\item[{{\bf void} $\ast$}]{context\+Ptr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{_t_e_m_p_l_a_t_e__server_8c_abfeafc120c37a00ab94a2d74206a2726}{}\label{_t_e_m_p_l_a_t_e__server_8c_abfeafc120c37a00ab94a2d74206a2726}
Cleanup client data if the client is no longer connected \index{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}!Send\+Msg\+To\+Client@{Send\+Msg\+To\+Client}}
\index{Send\+Msg\+To\+Client@{Send\+Msg\+To\+Client}!T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}}
\subsubsection[{\texorpdfstring{Send\+Msg\+To\+Client(le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t msg\+Ref)}{SendMsgToClient(le_msg_MessageRef_t msgRef)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf void} Send\+Msg\+To\+Client (
\begin{DoxyParamCaption}
\item[{{\bf le\+\_\+msg\+\_\+\+Message\+Ref\+\_\+t}}]{msg\+Ref}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{_t_e_m_p_l_a_t_e__server_8c_afbf2ef79894a8ce8c67b07358381df1f}{}\label{_t_e_m_p_l_a_t_e__server_8c_afbf2ef79894a8ce8c67b07358381df1f}
Send the message to the client. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em msg\+Ref} & Reference to the message. \\
\hline
\end{DoxyParams}
\index{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}!Send\+Msg\+To\+Client\+Queued@{Send\+Msg\+To\+Client\+Queued}}
\index{Send\+Msg\+To\+Client\+Queued@{Send\+Msg\+To\+Client\+Queued}!T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}}
\subsubsection[{\texorpdfstring{Send\+Msg\+To\+Client\+Queued(void $\ast$msg\+Ref, void $\ast$unused)}{SendMsgToClientQueued(void *msgRef, void *unused)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf void} Send\+Msg\+To\+Client\+Queued (
\begin{DoxyParamCaption}
\item[{{\bf void} $\ast$}]{msg\+Ref, }
\item[{{\bf void} $\ast$}]{unused}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{_t_e_m_p_l_a_t_e__server_8c_a1f97216909496a169e96273aaa77aeb7}{}\label{_t_e_m_p_l_a_t_e__server_8c_a1f97216909496a169e96273aaa77aeb7}
Send the message to the client (queued version)

This is a wrapper around \hyperlink{le__messaging_8h_a073de097d281475c44a445b927fbb929}{le\+\_\+msg\+\_\+\+Send()} with an extra parameter so that it can be used with \hyperlink{le__event_loop_8h_a228da2d1f53ffa74517f108b0dcfa4d9}{le\+\_\+event\+\_\+\+Queue\+Function\+To\+Thread()}. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em msg\+Ref} & Reference to the message. \\
\hline
\mbox{\tt in}  & {\em unused} & Not used \\
\hline
\end{DoxyParams}


\subsection{Variable Documentation}
\index{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}!\+\_\+\+Client\+Session\+Ref@{\+\_\+\+Client\+Session\+Ref}}
\index{\+\_\+\+Client\+Session\+Ref@{\+\_\+\+Client\+Session\+Ref}!T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+\+Client\+Session\+Ref}{_ClientSessionRef}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+msg\+\_\+\+Session\+Ref\+\_\+t} \+\_\+\+Client\+Session\+Ref\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{_t_e_m_p_l_a_t_e__server_8c_abce80ccddd945aeb4a07719125d54a4a}{}\label{_t_e_m_p_l_a_t_e__server_8c_abce80ccddd945aeb4a07719125d54a4a}
Client Session Reference for the current message received from a client \index{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}!\+\_\+\+Handler\+Ref\+Map@{\+\_\+\+Handler\+Ref\+Map}}
\index{\+\_\+\+Handler\+Ref\+Map@{\+\_\+\+Handler\+Ref\+Map}!T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+\+Handler\+Ref\+Map}{_HandlerRefMap}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+ref\+\_\+\+Map\+Ref\+\_\+t} \+\_\+\+Handler\+Ref\+Map\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{_t_e_m_p_l_a_t_e__server_8c_a4cbaa05e8a9fd4a9b4df1b3245934c6b}{}\label{_t_e_m_p_l_a_t_e__server_8c_a4cbaa05e8a9fd4a9b4df1b3245934c6b}
{\bfseries Initial value\+:}
\begin{DoxyCode}
\{%- endif %\}




\textcolor{keyword}{static} \hyperlink{le__mem_8h_a44a896f6a0a1a8c733e8038eb332989e}{le\_mem\_PoolRef\_t} \_ServerDataPool
\end{DoxyCode}
Safe Reference Map for use with Add/\+Remove handler references

\begin{DoxyWarning}{Warning}
Use \+\_\+\+Mutex, defined below, to protect accesses to this data. 
\end{DoxyWarning}
\index{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}!\+\_\+\+Server\+Service\+Ref@{\+\_\+\+Server\+Service\+Ref}}
\index{\+\_\+\+Server\+Service\+Ref@{\+\_\+\+Server\+Service\+Ref}!T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+\+Server\+Service\+Ref}{_ServerServiceRef}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+msg\+\_\+\+Service\+Ref\+\_\+t} \+\_\+\+Server\+Service\+Ref\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{_t_e_m_p_l_a_t_e__server_8c_a09e686305c29f199c91844ff405d101c}{}\label{_t_e_m_p_l_a_t_e__server_8c_a09e686305c29f199c91844ff405d101c}
{\bfseries Initial value\+:}
\begin{DoxyCode}
\{#- #\}   


\textcolor{preprocessor}{#define \_LOCK}


\textcolor{preprocessor}{#define \_UNLOCK}





\textcolor{keyword}{static} \textcolor{keywordtype}{void} ServerMsgRecvHandler
(
    \hyperlink{le__messaging_8h_a1e5c37fdd50a4d6d24cad82cb166f770}{le\_msg\_MessageRef\_t} \hyperlink{log_tool_8c_a42c1c76c43e8d3aac1aaa1dcd535b278}{msgRef},
    \textcolor{keywordtype}{void}*               contextPtr
)
\end{DoxyCode}
Server Service Reference \index{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}!\+\_\+\+Server\+Thread\+Ref@{\+\_\+\+Server\+Thread\+Ref}}
\index{\+\_\+\+Server\+Thread\+Ref@{\+\_\+\+Server\+Thread\+Ref}!T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c@{T\+E\+M\+P\+L\+A\+T\+E\+\_\+server.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+\+Server\+Thread\+Ref}{_ServerThreadRef}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+thread\+\_\+\+Ref\+\_\+t} \+\_\+\+Server\+Thread\+Ref\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{_t_e_m_p_l_a_t_e__server_8c_ace3682a2279c4f3c69f4875ea9bb730f}{}\label{_t_e_m_p_l_a_t_e__server_8c_ace3682a2279c4f3c69f4875ea9bb730f}
Server Thread Reference

Reference to the thread that is registered to provide this service. 