\hypertarget{le__atom_file_8h}{}\section{le\+\_\+atom\+File.\+h File Reference}
\label{le__atom_file_8h}\index{le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{le__atom_file_8h_a43f88f0430d01f3828ac9310b48974e7}{le\+\_\+atom\+File\+\_\+\+Open} (const char $\ast$path\+Name\+Ptr, \hyperlink{le__file_lock_8h_a5e5400e33a5e10b7c624748a9ce11280}{le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t} access\+Mode)
\item 
int \hyperlink{le__atom_file_8h_a17672cb7568a41dfc4c84244e1104204}{le\+\_\+atom\+File\+\_\+\+Create} (const char $\ast$path\+Name\+Ptr, \hyperlink{le__file_lock_8h_a5e5400e33a5e10b7c624748a9ce11280}{le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t} access\+Mode, \hyperlink{le__file_lock_8h_a35d8c575df68d1da52a1048916f7e7d9}{le\+\_\+flock\+\_\+\+Create\+Mode\+\_\+t} create\+Mode, mode\+\_\+t permissions)
\item 
int \hyperlink{le__atom_file_8h_a57e9641d647ae59106bab67b5690cfb4}{le\+\_\+atom\+File\+\_\+\+Try\+Open} (const char $\ast$path\+Name\+Ptr, \hyperlink{le__file_lock_8h_a5e5400e33a5e10b7c624748a9ce11280}{le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t} access\+Mode)
\item 
int \hyperlink{le__atom_file_8h_af56b841ef635512caf5011824ace74e8}{le\+\_\+atom\+File\+\_\+\+Try\+Create} (const char $\ast$path\+Name\+Ptr, \hyperlink{le__file_lock_8h_a5e5400e33a5e10b7c624748a9ce11280}{le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t} access\+Mode, \hyperlink{le__file_lock_8h_a35d8c575df68d1da52a1048916f7e7d9}{le\+\_\+flock\+\_\+\+Create\+Mode\+\_\+t} create\+Mode, mode\+\_\+t permissions)
\item 
void \hyperlink{le__atom_file_8h_a2c44b530b5d7513e1de9ed28bbf651c0}{le\+\_\+atom\+File\+\_\+\+Cancel} (int fd)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{le__atom_file_8h_a8f8397f267beafb22701b422b4410707}{le\+\_\+atom\+File\+\_\+\+Close} (int fd)
\item 
F\+I\+LE $\ast$ \hyperlink{le__atom_file_8h_a9eecd192057a65b94255cc3fe042d7a2}{le\+\_\+atom\+File\+\_\+\+Open\+Stream} (const char $\ast$path\+Name\+Ptr, \hyperlink{le__file_lock_8h_a5e5400e33a5e10b7c624748a9ce11280}{le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t} access\+Mode, \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} $\ast$result\+Ptr)
\item 
F\+I\+LE $\ast$ \hyperlink{le__atom_file_8h_a84bd503ee3efb23393bc7228715b85c1}{le\+\_\+atom\+File\+\_\+\+Create\+Stream} (const char $\ast$path\+Name\+Ptr, \hyperlink{le__file_lock_8h_a5e5400e33a5e10b7c624748a9ce11280}{le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t} access\+Mode, \hyperlink{le__file_lock_8h_a35d8c575df68d1da52a1048916f7e7d9}{le\+\_\+flock\+\_\+\+Create\+Mode\+\_\+t} create\+Mode, mode\+\_\+t permissions, \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} $\ast$result\+Ptr)
\item 
F\+I\+LE $\ast$ \hyperlink{le__atom_file_8h_a5112afbf738c0f9d4909bdbc6da5c99d}{le\+\_\+atom\+File\+\_\+\+Try\+Open\+Stream} (const char $\ast$path\+Name\+Ptr, \hyperlink{le__file_lock_8h_a5e5400e33a5e10b7c624748a9ce11280}{le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t} access\+Mode, \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} $\ast$result\+Ptr)
\item 
F\+I\+LE $\ast$ \hyperlink{le__atom_file_8h_a0376766efe9b1768e939714420c0b47d}{le\+\_\+atom\+File\+\_\+\+Try\+Create\+Stream} (const char $\ast$path\+Name\+Ptr, \hyperlink{le__file_lock_8h_a5e5400e33a5e10b7c624748a9ce11280}{le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t} access\+Mode, \hyperlink{le__file_lock_8h_a35d8c575df68d1da52a1048916f7e7d9}{le\+\_\+flock\+\_\+\+Create\+Mode\+\_\+t} create\+Mode, mode\+\_\+t permissions, \hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} $\ast$result\+Ptr)
\item 
void \hyperlink{le__atom_file_8h_ae5cf35b73463f7eea098aba57587b7c3}{le\+\_\+atom\+File\+\_\+\+Cancel\+Stream} (F\+I\+LE $\ast$file\+Stream\+Ptr)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{le__atom_file_8h_aea745228ae746df24005a10ba06edd57}{le\+\_\+atom\+File\+\_\+\+Close\+Stream} (F\+I\+LE $\ast$file\+Stream\+Ptr)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{le__atom_file_8h_a0c305e7a46be873ce33e59fcd4285dfe}{le\+\_\+atom\+File\+\_\+\+Delete} (const char $\ast$path\+Name\+Ptr)
\item 
\hyperlink{le__basics_8h_a1cca095ed6ebab24b57a636382a6c86c}{le\+\_\+result\+\_\+t} \hyperlink{le__atom_file_8h_a113bc9bb8b5c685092263061b018e8ce}{le\+\_\+atom\+File\+\_\+\+Try\+Delete} (const char $\ast$path\+Name\+Ptr)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Legato \hyperlink{c_atomFile}{Atomic File Operation A\+PI} include file.

Copyright (C) Sierra Wireless Inc. 

\subsection{Function Documentation}
\index{le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}!le\+\_\+atom\+File\+\_\+\+Cancel@{le\+\_\+atom\+File\+\_\+\+Cancel}}
\index{le\+\_\+atom\+File\+\_\+\+Cancel@{le\+\_\+atom\+File\+\_\+\+Cancel}!le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+atom\+File\+\_\+\+Cancel(int fd)}{le_atomFile_Cancel(int fd)}}]{\setlength{\rightskip}{0pt plus 5cm}void le\+\_\+atom\+File\+\_\+\+Cancel (
\begin{DoxyParamCaption}
\item[{int}]{fd}
\end{DoxyParamCaption}
)}\hypertarget{le__atom_file_8h_a2c44b530b5d7513e1de9ed28bbf651c0}{}\label{le__atom_file_8h_a2c44b530b5d7513e1de9ed28bbf651c0}
Cancels all changes and closes the file descriptor. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em fd} & The file descriptor to close. \\
\hline
\end{DoxyParams}
\index{le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}!le\+\_\+atom\+File\+\_\+\+Cancel\+Stream@{le\+\_\+atom\+File\+\_\+\+Cancel\+Stream}}
\index{le\+\_\+atom\+File\+\_\+\+Cancel\+Stream@{le\+\_\+atom\+File\+\_\+\+Cancel\+Stream}!le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+atom\+File\+\_\+\+Cancel\+Stream(\+F\+I\+L\+E $\ast$file\+Stream\+Ptr)}{le_atomFile_CancelStream(FILE *fileStreamPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}void le\+\_\+atom\+File\+\_\+\+Cancel\+Stream (
\begin{DoxyParamCaption}
\item[{F\+I\+LE $\ast$}]{file\+Stream\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{le__atom_file_8h_ae5cf35b73463f7eea098aba57587b7c3}{}\label{le__atom_file_8h_ae5cf35b73463f7eea098aba57587b7c3}
Cancels all changes and closes the file stream. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em file\+Stream\+Ptr} & File stream pointer to close \\
\hline
\end{DoxyParams}
\index{le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}!le\+\_\+atom\+File\+\_\+\+Close@{le\+\_\+atom\+File\+\_\+\+Close}}
\index{le\+\_\+atom\+File\+\_\+\+Close@{le\+\_\+atom\+File\+\_\+\+Close}!le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+atom\+File\+\_\+\+Close(int fd)}{le_atomFile_Close(int fd)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} le\+\_\+atom\+File\+\_\+\+Close (
\begin{DoxyParamCaption}
\item[{int}]{fd}
\end{DoxyParamCaption}
)}\hypertarget{le__atom_file_8h_a8f8397f267beafb22701b422b4410707}{}\label{le__atom_file_8h_a8f8397f267beafb22701b422b4410707}
Commits all changes and closes the file descriptor. No need to close the file descriptor again if this function returns error (i.\+e. file descriptor is closed in both success and error scenario).

\begin{DoxyReturn}{Returns}
L\+E\+\_\+\+OK if successful. L\+E\+\_\+\+F\+A\+U\+LT if there was an error 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em fd} & The file descriptor to close. \\
\hline
\end{DoxyParams}
\index{le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}!le\+\_\+atom\+File\+\_\+\+Close\+Stream@{le\+\_\+atom\+File\+\_\+\+Close\+Stream}}
\index{le\+\_\+atom\+File\+\_\+\+Close\+Stream@{le\+\_\+atom\+File\+\_\+\+Close\+Stream}!le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+atom\+File\+\_\+\+Close\+Stream(\+F\+I\+L\+E $\ast$file\+Stream\+Ptr)}{le_atomFile_CloseStream(FILE *fileStreamPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} le\+\_\+atom\+File\+\_\+\+Close\+Stream (
\begin{DoxyParamCaption}
\item[{F\+I\+LE $\ast$}]{file\+Stream\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{le__atom_file_8h_aea745228ae746df24005a10ba06edd57}{}\label{le__atom_file_8h_aea745228ae746df24005a10ba06edd57}
Commits all changes and closes the file stream. No need to close the file stream again if this function returns error (i.\+e. file stream is closed in both success and error scenario).

\begin{DoxyReturn}{Returns}
L\+E\+\_\+\+OK if successful. L\+E\+\_\+\+F\+A\+U\+LT if there was an error 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em file\+Stream\+Ptr} & File stream pointer to close \\
\hline
\end{DoxyParams}
\index{le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}!le\+\_\+atom\+File\+\_\+\+Create@{le\+\_\+atom\+File\+\_\+\+Create}}
\index{le\+\_\+atom\+File\+\_\+\+Create@{le\+\_\+atom\+File\+\_\+\+Create}!le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+atom\+File\+\_\+\+Create(const char $\ast$path\+Name\+Ptr, le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t access\+Mode, le\+\_\+flock\+\_\+\+Create\+Mode\+\_\+t create\+Mode, mode\+\_\+t permissions)}{le_atomFile_Create(const char *pathNamePtr, le_flock_AccessMode_t accessMode, le_flock_CreateMode_t createMode, mode_t permissions)}}]{\setlength{\rightskip}{0pt plus 5cm}int le\+\_\+atom\+File\+\_\+\+Create (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path\+Name\+Ptr, }
\item[{{\bf le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t}}]{access\+Mode, }
\item[{{\bf le\+\_\+flock\+\_\+\+Create\+Mode\+\_\+t}}]{create\+Mode, }
\item[{mode\+\_\+t}]{permissions}
\end{DoxyParamCaption}
)}\hypertarget{le__atom_file_8h_a17672cb7568a41dfc4c84244e1104204}{}\label{le__atom_file_8h_a17672cb7568a41dfc4c84244e1104204}
Creates and opens file for atomic operation.

If the file does not exist it will be created with the file permissions specified in the argument permissions (modified by the process\textquotesingle{}s umask). Refer to the P\+O\+S\+IX function open(2) for details of mode\+\_\+t\+:

\href{http://man7.org/linux/man-pages/man2/open.2.html}{\tt http\+://man7.\+org/linux/man-\/pages/man2/open.\+2.\+html}

The file can be opened for reading, writing or both as specified in the access\+Mode argument. Parameter access\+Mode specifies the lock to be applied on the file (read lock will be applied for L\+E\+\_\+\+F\+L\+O\+C\+K\+\_\+\+R\+E\+AD and write lock will be placed for all other cases).

This is a blocking call. It will block until it can create and open the target file with specified parameters(i.\+e. access\+Mode, create\+Mode, permissions).

\begin{DoxyReturn}{Returns}
A file descriptor if successful. L\+E\+\_\+\+D\+U\+P\+L\+I\+C\+A\+TE if the file already exists and L\+E\+\_\+\+F\+L\+O\+C\+K\+\_\+\+F\+A\+I\+L\+\_\+\+I\+F\+\_\+\+E\+X\+I\+ST is specified in create\+Mode L\+E\+\_\+\+F\+A\+U\+LT if there was an error.
\end{DoxyReturn}
\begin{DoxyNote}{Note}
File must be closed using \hyperlink{le__atom_file_8h_a8f8397f267beafb22701b422b4410707}{le\+\_\+atom\+File\+\_\+\+Close()} or \hyperlink{le__atom_file_8h_a2c44b530b5d7513e1de9ed28bbf651c0}{le\+\_\+atom\+File\+\_\+\+Cancel()} function. 
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path\+Name\+Ptr} & Path of the file to open \\
\hline
\mbox{\tt in}  & {\em access\+Mode} & Access mode to open the file. \\
\hline
\mbox{\tt in}  & {\em create\+Mode} & Action to take if the file already exists. \\
\hline
\mbox{\tt in}  & {\em permissions} & File permissions used when creating the file. See the function header comments for more details. \\
\hline
\end{DoxyParams}
\index{le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}!le\+\_\+atom\+File\+\_\+\+Create\+Stream@{le\+\_\+atom\+File\+\_\+\+Create\+Stream}}
\index{le\+\_\+atom\+File\+\_\+\+Create\+Stream@{le\+\_\+atom\+File\+\_\+\+Create\+Stream}!le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+atom\+File\+\_\+\+Create\+Stream(const char $\ast$path\+Name\+Ptr, le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t access\+Mode, le\+\_\+flock\+\_\+\+Create\+Mode\+\_\+t create\+Mode, mode\+\_\+t permissions, le\+\_\+result\+\_\+t $\ast$result\+Ptr)}{le_atomFile_CreateStream(const char *pathNamePtr, le_flock_AccessMode_t accessMode, le_flock_CreateMode_t createMode, mode_t permissions, le_result_t *resultPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}F\+I\+LE$\ast$ le\+\_\+atom\+File\+\_\+\+Create\+Stream (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path\+Name\+Ptr, }
\item[{{\bf le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t}}]{access\+Mode, }
\item[{{\bf le\+\_\+flock\+\_\+\+Create\+Mode\+\_\+t}}]{create\+Mode, }
\item[{mode\+\_\+t}]{permissions, }
\item[{{\bf le\+\_\+result\+\_\+t} $\ast$}]{result\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{le__atom_file_8h_a84bd503ee3efb23393bc7228715b85c1}{}\label{le__atom_file_8h_a84bd503ee3efb23393bc7228715b85c1}
Creates and open a file via C standard library buffered file stream for atomic operation.

If the file does not exist it will be created with the file permissions specified in the argument permissions (modified by the process\textquotesingle{}s umask). Refer to the P\+O\+S\+IX function open(2) for details of mode\+\_\+t\+:

\href{http://man7.org/linux/man-pages/man2/open.2.html}{\tt http\+://man7.\+org/linux/man-\/pages/man2/open.\+2.\+html}

The file can be opened for reading, writing or both as specified in the access\+Mode argument. Parameter access\+Mode specifies the lock to be applied on the file (read lock will be applied for L\+E\+\_\+\+F\+L\+O\+C\+K\+\_\+\+R\+E\+AD and write lock will be placed for all other cases).

This is a blocking call. It will block until it can create and open the target file with specified parameters(i.\+e. access\+Mode, create\+Mode, permissions).

If there was an error N\+U\+LL is returned and result\+Ptr is set to\+:
\begin{DoxyItemize}
\item L\+E\+\_\+\+D\+U\+P\+L\+I\+C\+A\+TE if the file already exists and L\+E\+\_\+\+F\+L\+O\+C\+K\+\_\+\+F\+A\+I\+L\+\_\+\+I\+F\+\_\+\+E\+X\+I\+ST is specified in create\+Mode.
\item L\+E\+\_\+\+F\+A\+U\+LT if there was an error.
\end{DoxyItemize}

\begin{DoxyReturn}{Returns}
Buffered file stream handle to the file if successful. N\+U\+LL if there was an error.
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Stream must be closed using \hyperlink{le__atom_file_8h_aea745228ae746df24005a10ba06edd57}{le\+\_\+atom\+File\+\_\+\+Close\+Stream()} or \hyperlink{le__atom_file_8h_ae5cf35b73463f7eea098aba57587b7c3}{le\+\_\+atom\+File\+\_\+\+Cancel\+Stream()} function. 
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path\+Name\+Ptr} & Path of the file to open \\
\hline
\mbox{\tt in}  & {\em access\+Mode} & Access mode to open the file. \\
\hline
\mbox{\tt in}  & {\em create\+Mode} & Action to take if the file already exists. \\
\hline
\mbox{\tt in}  & {\em permissions} & File permissions used when creating the file. See the function header comments for more details. \\
\hline
\mbox{\tt out}  & {\em result\+Ptr} & Pointer to result code. This can be N\+U\+LL if the result code is not wanted. \\
\hline
\end{DoxyParams}
\index{le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}!le\+\_\+atom\+File\+\_\+\+Delete@{le\+\_\+atom\+File\+\_\+\+Delete}}
\index{le\+\_\+atom\+File\+\_\+\+Delete@{le\+\_\+atom\+File\+\_\+\+Delete}!le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+atom\+File\+\_\+\+Delete(const char $\ast$path\+Name\+Ptr)}{le_atomFile_Delete(const char *pathNamePtr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} le\+\_\+atom\+File\+\_\+\+Delete (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path\+Name\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{le__atom_file_8h_a0c305e7a46be873ce33e59fcd4285dfe}{}\label{le__atom_file_8h_a0c305e7a46be873ce33e59fcd4285dfe}
Atomically deletes a file. This function also ensures safe deletion of file (i.\+e. if any other process/thread is using the file by acquiring file lock, it won\textquotesingle{}t delete the file unless lock is released). This is a blocking call. It will block until lock on file is released.

\begin{DoxyReturn}{Returns}
L\+E\+\_\+\+OK if successful. L\+E\+\_\+\+N\+O\+T\+\_\+\+F\+O\+U\+ND if file doesn\textquotesingle{}t exists. L\+E\+\_\+\+F\+A\+U\+LT if there was an error. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path\+Name\+Ptr} & Path of the file to delete \\
\hline
\end{DoxyParams}
\index{le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}!le\+\_\+atom\+File\+\_\+\+Open@{le\+\_\+atom\+File\+\_\+\+Open}}
\index{le\+\_\+atom\+File\+\_\+\+Open@{le\+\_\+atom\+File\+\_\+\+Open}!le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+atom\+File\+\_\+\+Open(const char $\ast$path\+Name\+Ptr, le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t access\+Mode)}{le_atomFile_Open(const char *pathNamePtr, le_flock_AccessMode_t accessMode)}}]{\setlength{\rightskip}{0pt plus 5cm}int le\+\_\+atom\+File\+\_\+\+Open (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path\+Name\+Ptr, }
\item[{{\bf le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t}}]{access\+Mode}
\end{DoxyParamCaption}
)}\hypertarget{le__atom_file_8h_a43f88f0430d01f3828ac9310b48974e7}{}\label{le__atom_file_8h_a43f88f0430d01f3828ac9310b48974e7}
Opens an existing file for atomic access operation.

The file can be open for reading, writing or both as specified in the access\+Mode argument. Parameter access\+Mode specifies the lock to be applied on the file (read lock will be applied for L\+E\+\_\+\+F\+L\+O\+C\+K\+\_\+\+R\+E\+AD and write lock will be placed for all other cases).

This is a blocking call. It will block until it can open the target file with specified access\+Mode.

\begin{DoxyReturn}{Returns}
A file descriptor if successful. L\+E\+\_\+\+N\+O\+T\+\_\+\+F\+O\+U\+ND if the file does not exist. L\+E\+\_\+\+F\+A\+U\+LT if there was an error.
\end{DoxyReturn}
\begin{DoxyNote}{Note}
File must be closed using \hyperlink{le__atom_file_8h_a8f8397f267beafb22701b422b4410707}{le\+\_\+atom\+File\+\_\+\+Close()} or \hyperlink{le__atom_file_8h_a2c44b530b5d7513e1de9ed28bbf651c0}{le\+\_\+atom\+File\+\_\+\+Cancel()} function. 
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path\+Name\+Ptr} & Path of the file to open \\
\hline
\mbox{\tt in}  & {\em access\+Mode} & Access mode to open the file. \\
\hline
\end{DoxyParams}
\index{le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}!le\+\_\+atom\+File\+\_\+\+Open\+Stream@{le\+\_\+atom\+File\+\_\+\+Open\+Stream}}
\index{le\+\_\+atom\+File\+\_\+\+Open\+Stream@{le\+\_\+atom\+File\+\_\+\+Open\+Stream}!le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+atom\+File\+\_\+\+Open\+Stream(const char $\ast$path\+Name\+Ptr, le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t access\+Mode, le\+\_\+result\+\_\+t $\ast$result\+Ptr)}{le_atomFile_OpenStream(const char *pathNamePtr, le_flock_AccessMode_t accessMode, le_result_t *resultPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}F\+I\+LE$\ast$ le\+\_\+atom\+File\+\_\+\+Open\+Stream (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path\+Name\+Ptr, }
\item[{{\bf le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t}}]{access\+Mode, }
\item[{{\bf le\+\_\+result\+\_\+t} $\ast$}]{result\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{le__atom_file_8h_a9eecd192057a65b94255cc3fe042d7a2}{}\label{le__atom_file_8h_a9eecd192057a65b94255cc3fe042d7a2}
Opens an existing file via C standard library buffered file stream for atomic operation.

The file can be open for reading, writing or both as specified in the access\+Mode argument. Parameter access\+Mode specifies the lock to be applied on the file (read lock will be applied for L\+E\+\_\+\+F\+L\+O\+C\+K\+\_\+\+R\+E\+AD and write lock will be placed for all other cases).

This is a blocking call. It will block until it can open the target file with specified access\+Mode.

If there was an error N\+U\+LL is returned and result\+Ptr is set to\+:
\begin{DoxyItemize}
\item L\+E\+\_\+\+N\+O\+T\+\_\+\+F\+O\+U\+ND if the file does not exist.
\item L\+E\+\_\+\+F\+A\+U\+LT if there was an error.
\end{DoxyItemize}

\begin{DoxyReturn}{Returns}
Buffered file stream handle to the file if successful. N\+U\+LL if there was an error.
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Stream must be closed using \hyperlink{le__atom_file_8h_aea745228ae746df24005a10ba06edd57}{le\+\_\+atom\+File\+\_\+\+Close\+Stream()} or \hyperlink{le__atom_file_8h_ae5cf35b73463f7eea098aba57587b7c3}{le\+\_\+atom\+File\+\_\+\+Cancel\+Stream()} function. 
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path\+Name\+Ptr} & Path of the file to open \\
\hline
\mbox{\tt in}  & {\em access\+Mode} & Access mode to open the file. \\
\hline
\mbox{\tt out}  & {\em result\+Ptr} & Pointer to result code. This can be N\+U\+LL if the result code is not wanted. \\
\hline
\end{DoxyParams}
\index{le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}!le\+\_\+atom\+File\+\_\+\+Try\+Create@{le\+\_\+atom\+File\+\_\+\+Try\+Create}}
\index{le\+\_\+atom\+File\+\_\+\+Try\+Create@{le\+\_\+atom\+File\+\_\+\+Try\+Create}!le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+atom\+File\+\_\+\+Try\+Create(const char $\ast$path\+Name\+Ptr, le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t access\+Mode, le\+\_\+flock\+\_\+\+Create\+Mode\+\_\+t create\+Mode, mode\+\_\+t permissions)}{le_atomFile_TryCreate(const char *pathNamePtr, le_flock_AccessMode_t accessMode, le_flock_CreateMode_t createMode, mode_t permissions)}}]{\setlength{\rightskip}{0pt plus 5cm}int le\+\_\+atom\+File\+\_\+\+Try\+Create (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path\+Name\+Ptr, }
\item[{{\bf le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t}}]{access\+Mode, }
\item[{{\bf le\+\_\+flock\+\_\+\+Create\+Mode\+\_\+t}}]{create\+Mode, }
\item[{mode\+\_\+t}]{permissions}
\end{DoxyParamCaption}
)}\hypertarget{le__atom_file_8h_af56b841ef635512caf5011824ace74e8}{}\label{le__atom_file_8h_af56b841ef635512caf5011824ace74e8}
Same as {\ttfamily \hyperlink{le__atom_file_8h_a17672cb7568a41dfc4c84244e1104204}{le\+\_\+atom\+File\+\_\+\+Create()}} except that it is non-\/blocking function and it will fail and return L\+E\+\_\+\+W\+O\+U\+L\+D\+\_\+\+B\+L\+O\+CK immediately if target file has incompatible lock.

\begin{DoxyReturn}{Returns}
A file descriptor if successful. L\+E\+\_\+\+D\+U\+P\+L\+I\+C\+A\+TE if the file already exists and L\+E\+\_\+\+F\+L\+O\+C\+K\+\_\+\+F\+A\+I\+L\+\_\+\+I\+F\+\_\+\+E\+X\+I\+ST is specified in create\+Mode L\+E\+\_\+\+W\+O\+U\+L\+D\+\_\+\+B\+L\+O\+CK if there is already an incompatible lock on the file. L\+E\+\_\+\+F\+A\+U\+LT if there was an error.
\end{DoxyReturn}
\begin{DoxyNote}{Note}
File must be closed using \hyperlink{le__atom_file_8h_a8f8397f267beafb22701b422b4410707}{le\+\_\+atom\+File\+\_\+\+Close()} or \hyperlink{le__atom_file_8h_a2c44b530b5d7513e1de9ed28bbf651c0}{le\+\_\+atom\+File\+\_\+\+Cancel()} function. 
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path\+Name\+Ptr} & Path of the file to open \\
\hline
\mbox{\tt in}  & {\em access\+Mode} & Access mode to open the file. \\
\hline
\mbox{\tt in}  & {\em create\+Mode} & Action to take if the file already exists. \\
\hline
\mbox{\tt in}  & {\em permissions} & File permissions used when creating the file. \\
\hline
\end{DoxyParams}
\index{le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}!le\+\_\+atom\+File\+\_\+\+Try\+Create\+Stream@{le\+\_\+atom\+File\+\_\+\+Try\+Create\+Stream}}
\index{le\+\_\+atom\+File\+\_\+\+Try\+Create\+Stream@{le\+\_\+atom\+File\+\_\+\+Try\+Create\+Stream}!le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+atom\+File\+\_\+\+Try\+Create\+Stream(const char $\ast$path\+Name\+Ptr, le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t access\+Mode, le\+\_\+flock\+\_\+\+Create\+Mode\+\_\+t create\+Mode, mode\+\_\+t permissions, le\+\_\+result\+\_\+t $\ast$result\+Ptr)}{le_atomFile_TryCreateStream(const char *pathNamePtr, le_flock_AccessMode_t accessMode, le_flock_CreateMode_t createMode, mode_t permissions, le_result_t *resultPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}F\+I\+LE$\ast$ le\+\_\+atom\+File\+\_\+\+Try\+Create\+Stream (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path\+Name\+Ptr, }
\item[{{\bf le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t}}]{access\+Mode, }
\item[{{\bf le\+\_\+flock\+\_\+\+Create\+Mode\+\_\+t}}]{create\+Mode, }
\item[{mode\+\_\+t}]{permissions, }
\item[{{\bf le\+\_\+result\+\_\+t} $\ast$}]{result\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{le__atom_file_8h_a0376766efe9b1768e939714420c0b47d}{}\label{le__atom_file_8h_a0376766efe9b1768e939714420c0b47d}
Same as {\ttfamily \hyperlink{le__atom_file_8h_a84bd503ee3efb23393bc7228715b85c1}{le\+\_\+atom\+File\+\_\+\+Create\+Stream()}} except that it is non-\/blocking function and it will fail and return L\+E\+\_\+\+W\+O\+U\+L\+D\+\_\+\+B\+L\+O\+CK immediately if target file has incompatible lock.

If there was an error N\+U\+LL is returned and result\+Ptr is set to\+:
\begin{DoxyItemize}
\item L\+E\+\_\+\+D\+U\+P\+L\+I\+C\+A\+TE if the file already exists and L\+E\+\_\+\+F\+L\+O\+C\+K\+\_\+\+F\+A\+I\+L\+\_\+\+I\+F\+\_\+\+E\+X\+I\+ST is specified in create\+Mode.
\item L\+E\+\_\+\+W\+O\+U\+L\+D\+\_\+\+B\+L\+O\+CK if there is already an incompatible lock on the file.
\item L\+E\+\_\+\+F\+A\+U\+LT if there was an error.
\end{DoxyItemize}

\begin{DoxyReturn}{Returns}
Buffered file stream handle to the file if successful. N\+U\+LL if there was an error.
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Stream must be closed using \hyperlink{le__atom_file_8h_aea745228ae746df24005a10ba06edd57}{le\+\_\+atom\+File\+\_\+\+Close\+Stream()} or \hyperlink{le__atom_file_8h_ae5cf35b73463f7eea098aba57587b7c3}{le\+\_\+atom\+File\+\_\+\+Cancel\+Stream()} function. 
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path\+Name\+Ptr} & Path of the file to open \\
\hline
\mbox{\tt in}  & {\em access\+Mode} & Access mode to open the file. \\
\hline
\mbox{\tt in}  & {\em create\+Mode} & Action to take if the file already exists. \\
\hline
\mbox{\tt in}  & {\em permissions} & File permissions used when creating the file. \\
\hline
\mbox{\tt out}  & {\em result\+Ptr} & Pointer to result code. \\
\hline
\end{DoxyParams}
\index{le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}!le\+\_\+atom\+File\+\_\+\+Try\+Delete@{le\+\_\+atom\+File\+\_\+\+Try\+Delete}}
\index{le\+\_\+atom\+File\+\_\+\+Try\+Delete@{le\+\_\+atom\+File\+\_\+\+Try\+Delete}!le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+atom\+File\+\_\+\+Try\+Delete(const char $\ast$path\+Name\+Ptr)}{le_atomFile_TryDelete(const char *pathNamePtr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf le\+\_\+result\+\_\+t} le\+\_\+atom\+File\+\_\+\+Try\+Delete (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path\+Name\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{le__atom_file_8h_a113bc9bb8b5c685092263061b018e8ce}{}\label{le__atom_file_8h_a113bc9bb8b5c685092263061b018e8ce}
Same as {\ttfamily \hyperlink{le__atom_file_8h_a0c305e7a46be873ce33e59fcd4285dfe}{le\+\_\+atom\+File\+\_\+\+Delete()}} except that it is non-\/blocking function and it will fail and return L\+E\+\_\+\+W\+O\+U\+L\+D\+\_\+\+B\+L\+O\+CK immediately if target file is locked.

\begin{DoxyReturn}{Returns}
L\+E\+\_\+\+OK if successful. L\+E\+\_\+\+N\+O\+T\+\_\+\+F\+O\+U\+ND if file doesn\textquotesingle{}t exists. L\+E\+\_\+\+W\+O\+U\+L\+D\+\_\+\+B\+L\+O\+CK if file is already locked (i.\+e. someone is using it). L\+E\+\_\+\+F\+A\+U\+LT if there was an error. 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path\+Name\+Ptr} & Path of the file to delete \\
\hline
\end{DoxyParams}
\index{le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}!le\+\_\+atom\+File\+\_\+\+Try\+Open@{le\+\_\+atom\+File\+\_\+\+Try\+Open}}
\index{le\+\_\+atom\+File\+\_\+\+Try\+Open@{le\+\_\+atom\+File\+\_\+\+Try\+Open}!le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+atom\+File\+\_\+\+Try\+Open(const char $\ast$path\+Name\+Ptr, le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t access\+Mode)}{le_atomFile_TryOpen(const char *pathNamePtr, le_flock_AccessMode_t accessMode)}}]{\setlength{\rightskip}{0pt plus 5cm}int le\+\_\+atom\+File\+\_\+\+Try\+Open (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path\+Name\+Ptr, }
\item[{{\bf le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t}}]{access\+Mode}
\end{DoxyParamCaption}
)}\hypertarget{le__atom_file_8h_a57e9641d647ae59106bab67b5690cfb4}{}\label{le__atom_file_8h_a57e9641d647ae59106bab67b5690cfb4}
Same as {\ttfamily \hyperlink{le__atom_file_8h_a43f88f0430d01f3828ac9310b48974e7}{le\+\_\+atom\+File\+\_\+\+Open()}} except that it is non-\/blocking function and it will fail and return L\+E\+\_\+\+W\+O\+U\+L\+D\+\_\+\+B\+L\+O\+CK immediately if target file has incompatible lock.

\begin{DoxyReturn}{Returns}
A file descriptor if successful. L\+E\+\_\+\+N\+O\+T\+\_\+\+F\+O\+U\+ND if the file does not exist. L\+E\+\_\+\+W\+O\+U\+L\+D\+\_\+\+B\+L\+O\+CK if there is already an incompatible lock on the file. L\+E\+\_\+\+F\+A\+U\+LT if there was an error.
\end{DoxyReturn}
\begin{DoxyNote}{Note}
File must be closed using \hyperlink{le__atom_file_8h_a8f8397f267beafb22701b422b4410707}{le\+\_\+atom\+File\+\_\+\+Close()} or \hyperlink{le__atom_file_8h_a2c44b530b5d7513e1de9ed28bbf651c0}{le\+\_\+atom\+File\+\_\+\+Cancel()} function. 
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path\+Name\+Ptr} & Path of the file to open \\
\hline
\mbox{\tt in}  & {\em access\+Mode} & Access mode to open the file. \\
\hline
\end{DoxyParams}
\index{le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}!le\+\_\+atom\+File\+\_\+\+Try\+Open\+Stream@{le\+\_\+atom\+File\+\_\+\+Try\+Open\+Stream}}
\index{le\+\_\+atom\+File\+\_\+\+Try\+Open\+Stream@{le\+\_\+atom\+File\+\_\+\+Try\+Open\+Stream}!le\+\_\+atom\+File.\+h@{le\+\_\+atom\+File.\+h}}
\subsubsection[{\texorpdfstring{le\+\_\+atom\+File\+\_\+\+Try\+Open\+Stream(const char $\ast$path\+Name\+Ptr, le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t access\+Mode, le\+\_\+result\+\_\+t $\ast$result\+Ptr)}{le_atomFile_TryOpenStream(const char *pathNamePtr, le_flock_AccessMode_t accessMode, le_result_t *resultPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}F\+I\+LE$\ast$ le\+\_\+atom\+File\+\_\+\+Try\+Open\+Stream (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path\+Name\+Ptr, }
\item[{{\bf le\+\_\+flock\+\_\+\+Access\+Mode\+\_\+t}}]{access\+Mode, }
\item[{{\bf le\+\_\+result\+\_\+t} $\ast$}]{result\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{le__atom_file_8h_a5112afbf738c0f9d4909bdbc6da5c99d}{}\label{le__atom_file_8h_a5112afbf738c0f9d4909bdbc6da5c99d}
Same as {\ttfamily \hyperlink{le__atom_file_8h_a9eecd192057a65b94255cc3fe042d7a2}{le\+\_\+atom\+File\+\_\+\+Open\+Stream()}} except that it is non-\/blocking function and it will fail and return L\+E\+\_\+\+W\+O\+U\+L\+D\+\_\+\+B\+L\+O\+CK immediately if target file has incompatible lock.

If there was an error N\+U\+LL is returned and result\+Ptr is set to\+:
\begin{DoxyItemize}
\item L\+E\+\_\+\+N\+O\+T\+\_\+\+F\+O\+U\+ND if the file does not exist.
\item L\+E\+\_\+\+W\+O\+U\+L\+D\+\_\+\+B\+L\+O\+CK if there is already an incompatible lock on the file.
\item L\+E\+\_\+\+F\+A\+U\+LT if there was an error.
\end{DoxyItemize}

\begin{DoxyReturn}{Returns}
Buffered file stream handle to the file if successful. N\+U\+LL if there was an error.
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Stream must be closed using \hyperlink{le__atom_file_8h_aea745228ae746df24005a10ba06edd57}{le\+\_\+atom\+File\+\_\+\+Close\+Stream()} or \hyperlink{le__atom_file_8h_ae5cf35b73463f7eea098aba57587b7c3}{le\+\_\+atom\+File\+\_\+\+Cancel\+Stream()} function. 
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path\+Name\+Ptr} & Path of the file to open \\
\hline
\mbox{\tt in}  & {\em access\+Mode} & Access mode to open the file. \\
\hline
\mbox{\tt out}  & {\em result\+Ptr} & Pointer to result code. \\
\hline
\end{DoxyParams}
