<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Systems, Apps &amp; Components</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/javascript">
//<![CDATA[
    // Detect if doc is served by eclipse
    if( ( (window.location.hostname == "127.0.0.1") || (window.location.hostname == "localhost") ) &&
        ( (window.location.port != "") && (window.location.port != 80) && (window.location.port != 443) ) )
    {
        // Inhibit init function from navtree
        initNavTree = function(toroot,relpath) {}
        $(document).ready(function(){
            navTree = document.getElementById("side-nav");
            if(navTree)
            {
                navTree.parentElement.removeChild(navTree);
            }
            $("#doc-content").css('margin-left',10);
        });
    }
//]]>
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <a href="index.html" title="Legato">
      <img alt="Logo" src="legatoLogo.png"/>
    </a>
    <div id="projectbrief">Simplifying IoT development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('conceptsEnvironment.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Systems, Apps &amp; Components </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Legato Application Framework supports a hierarchy of Systems, Apps and Components. The tools help you develop and build your code into <b>components</b>. Components are then collected into <b>executables</b> and run within processes which then forms an app. <b>Apps</b> run their own secure sandbox and are assigned their unique user ID and file permissions are only granted to that user. Apps are then added to a <b>System</b> and the system is used to configure what Platform Services, other apps, build variables, kernel modules, commands and monitoring that is needed for your target.</p>
<div class="image">
<img src="getStartedApps-Overview.png" alt="getStartedApps-Overview.png"/>
</div>
<h1><a class="anchor" id="conceptsEnvironment__comp"></a>
Components</h1>
<p>Components can contain any number of source code files, pre-compiled binary files, resource files (e.g., audio files or images), or whatever files the component needs.</p>
<p>A component is defined by creating a folder in your system and naming it the name of your component. Components can be "built" generating output like object code libraries and other files. These files can be incorporated into applications and run on a target device</p>
<p>Each component must have a defFileCdef Component.cdef file. The file describes the component and how to build it for the <a class="el" href="toolsBuild.html">Build Tools</a> Build Tools. Think of it like a manifest or recipe for your source code. the <code>Component.cdef</code> are also used to specify the <b>external</b> <b>interfaces</b> and <b>internal</b> <b>content</b> of the components as well as defining the requirements from the system for the component.</p>
<p>A component can either contain customized code or can also use to bundle in programs and libraries that were built outside of legato.</p>
<p>Learn more about why Legato uses the basicComponents component based model, and the rationale behind it.</p>
<table class="doxtable">
<tr>
<th>Tutorial </th><th>Description  </th></tr>
<tr>
<td><a class="el" href="getStartedHW.html#getStartedHW_component">Create Component</a> </td><td>How to create a <code>Component.cdef</code> for source code </td></tr>
</table>
<p>Example <code>Component.cdef</code> that contains 1 source file and provides 1 API and requires 1 API from another source: </p><div class="fragment"><div class="line">sources:</div><div class="line">{</div><div class="line">    myComponent.c</div><div class="line">}</div><div class="line"></div><div class="line">provides:</div><div class="line">{</div><div class="line">    api:</div><div class="line">    {</div><div class="line">        myComponent = firstComponent.api</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line">requires:</div><div class="line">{</div><div class="line">    api:</div><div class="line">    {</div><div class="line">        anotherComponent.api</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="conceptsEnvironment__app"></a>
Apps</h1>
<p>Apps are the execution environment for your code, they contain one or more executables that run together in a <a class="el" href="conceptsSecuritySandboxOverview.html">sandbox</a>. Executables are created by combining one or more components. Executables are then given a process to run from within the app. Components within the app have liberal privileges between each other and can access shared files in and resources from within the app.</p>
<p>Each app must have an <a class="el" href="defFilesAdef.html">Application Definition .adef</a> file which contains all the instructions and flags on how the app should behave and run. <code></code>.adef file names are the name of the app.</p>
<p>Apps can also be used to wrap around 3rd party programs and libraries to run them within the Legato Application Framework.</p>
<table class="doxtable">
<tr>
<th>Tutorial </th><th>Description  </th></tr>
<tr>
<td><a class="el" href="getStartedHW.html#getStartedHW_buildApp">Build App</a> </td><td>How to create an app with 1 component </td></tr>
<tr>
<td><a class="el" href="howToPortLegacyC.html">Port Legacy C App</a> </td><td>How to bundle external programs and libraries into Legato </td></tr>
<tr>
<td><a class="el" href="howToAdd3rdParty.html">Add 3rd Party Files</a> </td><td>How to add 3rd party files and code to an application </td></tr>
</table>
<p>Example <code></code>.adef, with 2 components running in separate processes: </p><div class="fragment"><div class="line">sandboxed: <span class="keyword">true</span></div><div class="line">start: <span class="keyword">auto</span></div><div class="line"></div><div class="line">executables:</div><div class="line">{</div><div class="line">    myComponent = ( myComponent )</div><div class="line">    anotherComponent = ( anotherComponent )</div><div class="line">}</div><div class="line"></div><div class="line">processes:</div><div class="line">{</div><div class="line">    run:</div><div class="line">    {</div><div class="line">        ( myComponent )</div><div class="line">        ( anotherComponent )</div><div class="line">    }</div><div class="line"></div><div class="line">    faultAction: restart</div><div class="line">}</div><div class="line"></div><div class="line">bundles:</div><div class="line">{</div><div class="line">    file:</div><div class="line">    {</div><div class="line">        [rx] script/example.sh /bin/</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line">bindings:</div><div class="line">{</div><div class="line">    myComponent.myComponent.dataRouter -&gt; dataRouter.dataRouter</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="conceptsEnvironment__systems"></a>
Systems</h1>
<p>Systems are the collection of apps, kernel modules(drivers) and configuration settings that are used to build the Legato Runtime Environment that gets installed on your target. It includes all configuration and settings that are specific for a target and can also include other <code></code>.sdefs and include files to build your full target. Each system must have a defFileSdef will contains all the configuration for your system to be built for a target.</p>
<p>For example, the Legato Application Framework includes a <code>default.sdef</code> file which includes all the configuration, platform services and tools that are needed to enable the hardware on a supported target. It contains environment variables so that when you run <code>mksys</code> -t &lt;target&gt;, it knows how to include all the configuration that is specific to that target. When you build your own system you need to include the default.sdef file so that your system is not only built with your apps but also includes all the default configuration and platform services built for your target.</p>
<table class="doxtable">
<tr>
<th>Tutorial </th><th>Description  </th></tr>
<tr>
<td><a class="el" href="getStartedSystems.html">Legato Systems</a> </td><td>How to create a basic system </td></tr>
<tr>
<td><a class="el" href="getStartedKO.html">Kernel Modules</a> </td><td>How to add a Kernel Object into a system </td></tr>
</table>
<p>Example basic <code></code>.sdef: </p><div class="fragment"><div class="line"><span class="comment">//-------------------------------------------------------------------------------------------------</span></div><div class="line"><span class="comment">// sample system definition that extends the default Legato system and includes configuration</span></div><div class="line"><span class="comment">// specific to XXXX company.</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Copyright(C) XXXX company.  Use of this work is subject to license.</span></div><div class="line"><span class="comment">//-------------------------------------------------------------------------------------------------</span></div><div class="line"></div><div class="line"><span class="comment">//Provides all default platform services and target specific configuration.</span></div><div class="line"><span class="preprocessor">#include &quot;$LEGATO_ROOT/default.sdef&quot;</span></div><div class="line"></div><div class="line">apps:</div><div class="line">    {</div><div class="line">        $MYPROJECT/apps/myApp</div><div class="line">    }</div><div class="line"></div><div class="line">commands:</div><div class="line">    {</div><div class="line">        myTool = tools:/scripts/myTool</div><div class="line">    }</div><div class="line"></div><div class="line">interfaceSearch:</div><div class="line">    {</div><div class="line">        $MYPROJECT/interfaces</div><div class="line">    }</div><div class="line"></div><div class="line">kernelModules:</div><div class="line">    {</div><div class="line">        $MYPROJECT/drivers/example</div><div class="line">    }</div></div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>It is highly recommended that you comment your def files so that other users will be able to know what they need to include or exclude if extending your <code></code>.sdef. </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.11
        </div>
    </div>
</body>
</html>
