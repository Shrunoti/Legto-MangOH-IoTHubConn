<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>le_atomFile.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/javascript">
//<![CDATA[
    // Detect if doc is served by eclipse
    if( ( (window.location.hostname == "127.0.0.1") || (window.location.hostname == "localhost") ) &&
        ( (window.location.port != "") && (window.location.port != 80) && (window.location.port != 443) ) )
    {
        // Inhibit init function from navtree
        initNavTree = function(toroot,relpath) {}
        $(document).ready(function(){
            navTree = document.getElementById("side-nav");
            if(navTree)
            {
                navTree.parentElement.removeChild(navTree);
            }
            $("#doc-content").css('margin-left',10);
        });
    }
//]]>
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <a href="index.html" title="Legato">
      <img alt="Logo" src="legatoLogo.png"/>
    </a>
    <div id="projectbrief">Simplifying IoT development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('le__atom_file_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">le_atomFile.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="le__atom_file_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a43f88f0430d01f3828ac9310b48974e7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__atom_file_8h.html#a43f88f0430d01f3828ac9310b48974e7">le_atomFile_Open</a> (const char *pathNamePtr, <a class="el" href="le__file_lock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> accessMode)</td></tr>
<tr class="separator:a43f88f0430d01f3828ac9310b48974e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17672cb7568a41dfc4c84244e1104204"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__atom_file_8h.html#a17672cb7568a41dfc4c84244e1104204">le_atomFile_Create</a> (const char *pathNamePtr, <a class="el" href="le__file_lock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> accessMode, <a class="el" href="le__file_lock_8h.html#a35d8c575df68d1da52a1048916f7e7d9">le_flock_CreateMode_t</a> createMode, mode_t permissions)</td></tr>
<tr class="separator:a17672cb7568a41dfc4c84244e1104204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57e9641d647ae59106bab67b5690cfb4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__atom_file_8h.html#a57e9641d647ae59106bab67b5690cfb4">le_atomFile_TryOpen</a> (const char *pathNamePtr, <a class="el" href="le__file_lock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> accessMode)</td></tr>
<tr class="separator:a57e9641d647ae59106bab67b5690cfb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af56b841ef635512caf5011824ace74e8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__atom_file_8h.html#af56b841ef635512caf5011824ace74e8">le_atomFile_TryCreate</a> (const char *pathNamePtr, <a class="el" href="le__file_lock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> accessMode, <a class="el" href="le__file_lock_8h.html#a35d8c575df68d1da52a1048916f7e7d9">le_flock_CreateMode_t</a> createMode, mode_t permissions)</td></tr>
<tr class="separator:af56b841ef635512caf5011824ace74e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c44b530b5d7513e1de9ed28bbf651c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__atom_file_8h.html#a2c44b530b5d7513e1de9ed28bbf651c0">le_atomFile_Cancel</a> (int fd)</td></tr>
<tr class="separator:a2c44b530b5d7513e1de9ed28bbf651c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f8397f267beafb22701b422b4410707"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__atom_file_8h.html#a8f8397f267beafb22701b422b4410707">le_atomFile_Close</a> (int fd)</td></tr>
<tr class="separator:a8f8397f267beafb22701b422b4410707"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eecd192057a65b94255cc3fe042d7a2"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__atom_file_8h.html#a9eecd192057a65b94255cc3fe042d7a2">le_atomFile_OpenStream</a> (const char *pathNamePtr, <a class="el" href="le__file_lock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> accessMode, <a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> *resultPtr)</td></tr>
<tr class="separator:a9eecd192057a65b94255cc3fe042d7a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84bd503ee3efb23393bc7228715b85c1"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__atom_file_8h.html#a84bd503ee3efb23393bc7228715b85c1">le_atomFile_CreateStream</a> (const char *pathNamePtr, <a class="el" href="le__file_lock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> accessMode, <a class="el" href="le__file_lock_8h.html#a35d8c575df68d1da52a1048916f7e7d9">le_flock_CreateMode_t</a> createMode, mode_t permissions, <a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> *resultPtr)</td></tr>
<tr class="separator:a84bd503ee3efb23393bc7228715b85c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5112afbf738c0f9d4909bdbc6da5c99d"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__atom_file_8h.html#a5112afbf738c0f9d4909bdbc6da5c99d">le_atomFile_TryOpenStream</a> (const char *pathNamePtr, <a class="el" href="le__file_lock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> accessMode, <a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> *resultPtr)</td></tr>
<tr class="separator:a5112afbf738c0f9d4909bdbc6da5c99d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0376766efe9b1768e939714420c0b47d"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__atom_file_8h.html#a0376766efe9b1768e939714420c0b47d">le_atomFile_TryCreateStream</a> (const char *pathNamePtr, <a class="el" href="le__file_lock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> accessMode, <a class="el" href="le__file_lock_8h.html#a35d8c575df68d1da52a1048916f7e7d9">le_flock_CreateMode_t</a> createMode, mode_t permissions, <a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> *resultPtr)</td></tr>
<tr class="separator:a0376766efe9b1768e939714420c0b47d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5cf35b73463f7eea098aba57587b7c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__atom_file_8h.html#ae5cf35b73463f7eea098aba57587b7c3">le_atomFile_CancelStream</a> (FILE *fileStreamPtr)</td></tr>
<tr class="separator:ae5cf35b73463f7eea098aba57587b7c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea745228ae746df24005a10ba06edd57"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__atom_file_8h.html#aea745228ae746df24005a10ba06edd57">le_atomFile_CloseStream</a> (FILE *fileStreamPtr)</td></tr>
<tr class="separator:aea745228ae746df24005a10ba06edd57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c305e7a46be873ce33e59fcd4285dfe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__atom_file_8h.html#a0c305e7a46be873ce33e59fcd4285dfe">le_atomFile_Delete</a> (const char *pathNamePtr)</td></tr>
<tr class="separator:a0c305e7a46be873ce33e59fcd4285dfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a113bc9bb8b5c685092263061b018e8ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="le__atom_file_8h.html#a113bc9bb8b5c685092263061b018e8ce">le_atomFile_TryDelete</a> (const char *pathNamePtr)</td></tr>
<tr class="separator:a113bc9bb8b5c685092263061b018e8ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Legato <a class="el" href="c_atomFile.html">Atomic File Operation API</a> include file.</p>
<p>Copyright (C) Sierra Wireless Inc. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a2c44b530b5d7513e1de9ed28bbf651c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void le_atomFile_Cancel </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cancels all changes and closes the file descriptor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fd</td><td>The file descriptor to close. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae5cf35b73463f7eea098aba57587b7c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void le_atomFile_CancelStream </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fileStreamPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cancels all changes and closes the file stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fileStreamPtr</td><td>File stream pointer to close </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8f8397f267beafb22701b422b4410707"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_atomFile_Close </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Commits all changes and closes the file descriptor. No need to close the file descriptor again if this function returns error (i.e. file descriptor is closed in both success and error scenario).</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_FAULT if there was an error </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fd</td><td>The file descriptor to close. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aea745228ae746df24005a10ba06edd57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_atomFile_CloseStream </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fileStreamPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Commits all changes and closes the file stream. No need to close the file stream again if this function returns error (i.e. file stream is closed in both success and error scenario).</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_FAULT if there was an error </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fileStreamPtr</td><td>File stream pointer to close </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a17672cb7568a41dfc4c84244e1104204"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int le_atomFile_Create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pathNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__file_lock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a>&#160;</td>
          <td class="paramname"><em>accessMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__file_lock_8h.html#a35d8c575df68d1da52a1048916f7e7d9">le_flock_CreateMode_t</a>&#160;</td>
          <td class="paramname"><em>createMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mode_t&#160;</td>
          <td class="paramname"><em>permissions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates and opens file for atomic operation.</p>
<p>If the file does not exist it will be created with the file permissions specified in the argument permissions (modified by the process's umask). Refer to the POSIX function open(2) for details of mode_t:</p>
<p><a href="http://man7.org/linux/man-pages/man2/open.2.html">http://man7.org/linux/man-pages/man2/open.2.html</a></p>
<p>The file can be opened for reading, writing or both as specified in the accessMode argument. Parameter accessMode specifies the lock to be applied on the file (read lock will be applied for LE_FLOCK_READ and write lock will be placed for all other cases).</p>
<p>This is a blocking call. It will block until it can create and open the target file with specified parameters(i.e. accessMode, createMode, permissions).</p>
<dl class="section return"><dt>Returns</dt><dd>A file descriptor if successful. LE_DUPLICATE if the file already exists and LE_FLOCK_FAIL_IF_EXIST is specified in createMode LE_FAULT if there was an error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>File must be closed using <a class="el" href="le__atom_file_8h.html#a8f8397f267beafb22701b422b4410707">le_atomFile_Close()</a> or <a class="el" href="le__atom_file_8h.html#a2c44b530b5d7513e1de9ed28bbf651c0">le_atomFile_Cancel()</a> function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pathNamePtr</td><td>Path of the file to open </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accessMode</td><td>Access mode to open the file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">createMode</td><td>Action to take if the file already exists. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">permissions</td><td>File permissions used when creating the file. See the function header comments for more details. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a84bd503ee3efb23393bc7228715b85c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* le_atomFile_CreateStream </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pathNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__file_lock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a>&#160;</td>
          <td class="paramname"><em>accessMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__file_lock_8h.html#a35d8c575df68d1da52a1048916f7e7d9">le_flock_CreateMode_t</a>&#160;</td>
          <td class="paramname"><em>createMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mode_t&#160;</td>
          <td class="paramname"><em>permissions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> *&#160;</td>
          <td class="paramname"><em>resultPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates and open a file via C standard library buffered file stream for atomic operation.</p>
<p>If the file does not exist it will be created with the file permissions specified in the argument permissions (modified by the process's umask). Refer to the POSIX function open(2) for details of mode_t:</p>
<p><a href="http://man7.org/linux/man-pages/man2/open.2.html">http://man7.org/linux/man-pages/man2/open.2.html</a></p>
<p>The file can be opened for reading, writing or both as specified in the accessMode argument. Parameter accessMode specifies the lock to be applied on the file (read lock will be applied for LE_FLOCK_READ and write lock will be placed for all other cases).</p>
<p>This is a blocking call. It will block until it can create and open the target file with specified parameters(i.e. accessMode, createMode, permissions).</p>
<p>If there was an error NULL is returned and resultPtr is set to:</p><ul>
<li>LE_DUPLICATE if the file already exists and LE_FLOCK_FAIL_IF_EXIST is specified in createMode.</li>
<li>LE_FAULT if there was an error.</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>Buffered file stream handle to the file if successful. NULL if there was an error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Stream must be closed using <a class="el" href="le__atom_file_8h.html#aea745228ae746df24005a10ba06edd57">le_atomFile_CloseStream()</a> or <a class="el" href="le__atom_file_8h.html#ae5cf35b73463f7eea098aba57587b7c3">le_atomFile_CancelStream()</a> function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pathNamePtr</td><td>Path of the file to open </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accessMode</td><td>Access mode to open the file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">createMode</td><td>Action to take if the file already exists. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">permissions</td><td>File permissions used when creating the file. See the function header comments for more details. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resultPtr</td><td>Pointer to result code. This can be NULL if the result code is not wanted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0c305e7a46be873ce33e59fcd4285dfe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_atomFile_Delete </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pathNamePtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Atomically deletes a file. This function also ensures safe deletion of file (i.e. if any other process/thread is using the file by acquiring file lock, it won't delete the file unless lock is released). This is a blocking call. It will block until lock on file is released.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_NOT_FOUND if file doesn't exists. LE_FAULT if there was an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pathNamePtr</td><td>Path of the file to delete </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a43f88f0430d01f3828ac9310b48974e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int le_atomFile_Open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pathNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__file_lock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a>&#160;</td>
          <td class="paramname"><em>accessMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens an existing file for atomic access operation.</p>
<p>The file can be open for reading, writing or both as specified in the accessMode argument. Parameter accessMode specifies the lock to be applied on the file (read lock will be applied for LE_FLOCK_READ and write lock will be placed for all other cases).</p>
<p>This is a blocking call. It will block until it can open the target file with specified accessMode.</p>
<dl class="section return"><dt>Returns</dt><dd>A file descriptor if successful. LE_NOT_FOUND if the file does not exist. LE_FAULT if there was an error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>File must be closed using <a class="el" href="le__atom_file_8h.html#a8f8397f267beafb22701b422b4410707">le_atomFile_Close()</a> or <a class="el" href="le__atom_file_8h.html#a2c44b530b5d7513e1de9ed28bbf651c0">le_atomFile_Cancel()</a> function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pathNamePtr</td><td>Path of the file to open </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accessMode</td><td>Access mode to open the file. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9eecd192057a65b94255cc3fe042d7a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* le_atomFile_OpenStream </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pathNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__file_lock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a>&#160;</td>
          <td class="paramname"><em>accessMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> *&#160;</td>
          <td class="paramname"><em>resultPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens an existing file via C standard library buffered file stream for atomic operation.</p>
<p>The file can be open for reading, writing or both as specified in the accessMode argument. Parameter accessMode specifies the lock to be applied on the file (read lock will be applied for LE_FLOCK_READ and write lock will be placed for all other cases).</p>
<p>This is a blocking call. It will block until it can open the target file with specified accessMode.</p>
<p>If there was an error NULL is returned and resultPtr is set to:</p><ul>
<li>LE_NOT_FOUND if the file does not exist.</li>
<li>LE_FAULT if there was an error.</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>Buffered file stream handle to the file if successful. NULL if there was an error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Stream must be closed using <a class="el" href="le__atom_file_8h.html#aea745228ae746df24005a10ba06edd57">le_atomFile_CloseStream()</a> or <a class="el" href="le__atom_file_8h.html#ae5cf35b73463f7eea098aba57587b7c3">le_atomFile_CancelStream()</a> function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pathNamePtr</td><td>Path of the file to open </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accessMode</td><td>Access mode to open the file. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resultPtr</td><td>Pointer to result code. This can be NULL if the result code is not wanted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af56b841ef635512caf5011824ace74e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int le_atomFile_TryCreate </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pathNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__file_lock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a>&#160;</td>
          <td class="paramname"><em>accessMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__file_lock_8h.html#a35d8c575df68d1da52a1048916f7e7d9">le_flock_CreateMode_t</a>&#160;</td>
          <td class="paramname"><em>createMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mode_t&#160;</td>
          <td class="paramname"><em>permissions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Same as <code><a class="el" href="le__atom_file_8h.html#a17672cb7568a41dfc4c84244e1104204">le_atomFile_Create()</a></code> except that it is non-blocking function and it will fail and return LE_WOULD_BLOCK immediately if target file has incompatible lock.</p>
<dl class="section return"><dt>Returns</dt><dd>A file descriptor if successful. LE_DUPLICATE if the file already exists and LE_FLOCK_FAIL_IF_EXIST is specified in createMode LE_WOULD_BLOCK if there is already an incompatible lock on the file. LE_FAULT if there was an error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>File must be closed using <a class="el" href="le__atom_file_8h.html#a8f8397f267beafb22701b422b4410707">le_atomFile_Close()</a> or <a class="el" href="le__atom_file_8h.html#a2c44b530b5d7513e1de9ed28bbf651c0">le_atomFile_Cancel()</a> function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pathNamePtr</td><td>Path of the file to open </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accessMode</td><td>Access mode to open the file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">createMode</td><td>Action to take if the file already exists. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">permissions</td><td>File permissions used when creating the file. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0376766efe9b1768e939714420c0b47d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* le_atomFile_TryCreateStream </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pathNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__file_lock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a>&#160;</td>
          <td class="paramname"><em>accessMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__file_lock_8h.html#a35d8c575df68d1da52a1048916f7e7d9">le_flock_CreateMode_t</a>&#160;</td>
          <td class="paramname"><em>createMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mode_t&#160;</td>
          <td class="paramname"><em>permissions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> *&#160;</td>
          <td class="paramname"><em>resultPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Same as <code><a class="el" href="le__atom_file_8h.html#a84bd503ee3efb23393bc7228715b85c1">le_atomFile_CreateStream()</a></code> except that it is non-blocking function and it will fail and return LE_WOULD_BLOCK immediately if target file has incompatible lock.</p>
<p>If there was an error NULL is returned and resultPtr is set to:</p><ul>
<li>LE_DUPLICATE if the file already exists and LE_FLOCK_FAIL_IF_EXIST is specified in createMode.</li>
<li>LE_WOULD_BLOCK if there is already an incompatible lock on the file.</li>
<li>LE_FAULT if there was an error.</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>Buffered file stream handle to the file if successful. NULL if there was an error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Stream must be closed using <a class="el" href="le__atom_file_8h.html#aea745228ae746df24005a10ba06edd57">le_atomFile_CloseStream()</a> or <a class="el" href="le__atom_file_8h.html#ae5cf35b73463f7eea098aba57587b7c3">le_atomFile_CancelStream()</a> function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pathNamePtr</td><td>Path of the file to open </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accessMode</td><td>Access mode to open the file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">createMode</td><td>Action to take if the file already exists. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">permissions</td><td>File permissions used when creating the file. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resultPtr</td><td>Pointer to result code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a113bc9bb8b5c685092263061b018e8ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_atomFile_TryDelete </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pathNamePtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Same as <code><a class="el" href="le__atom_file_8h.html#a0c305e7a46be873ce33e59fcd4285dfe">le_atomFile_Delete()</a></code> except that it is non-blocking function and it will fail and return LE_WOULD_BLOCK immediately if target file is locked.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_NOT_FOUND if file doesn't exists. LE_WOULD_BLOCK if file is already locked (i.e. someone is using it). LE_FAULT if there was an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pathNamePtr</td><td>Path of the file to delete </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a57e9641d647ae59106bab67b5690cfb4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int le_atomFile_TryOpen </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pathNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__file_lock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a>&#160;</td>
          <td class="paramname"><em>accessMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Same as <code><a class="el" href="le__atom_file_8h.html#a43f88f0430d01f3828ac9310b48974e7">le_atomFile_Open()</a></code> except that it is non-blocking function and it will fail and return LE_WOULD_BLOCK immediately if target file has incompatible lock.</p>
<dl class="section return"><dt>Returns</dt><dd>A file descriptor if successful. LE_NOT_FOUND if the file does not exist. LE_WOULD_BLOCK if there is already an incompatible lock on the file. LE_FAULT if there was an error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>File must be closed using <a class="el" href="le__atom_file_8h.html#a8f8397f267beafb22701b422b4410707">le_atomFile_Close()</a> or <a class="el" href="le__atom_file_8h.html#a2c44b530b5d7513e1de9ed28bbf651c0">le_atomFile_Cancel()</a> function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pathNamePtr</td><td>Path of the file to open </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accessMode</td><td>Access mode to open the file. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5112afbf738c0f9d4909bdbc6da5c99d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* le_atomFile_TryOpenStream </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pathNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__file_lock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a>&#160;</td>
          <td class="paramname"><em>accessMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> *&#160;</td>
          <td class="paramname"><em>resultPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Same as <code><a class="el" href="le__atom_file_8h.html#a9eecd192057a65b94255cc3fe042d7a2">le_atomFile_OpenStream()</a></code> except that it is non-blocking function and it will fail and return LE_WOULD_BLOCK immediately if target file has incompatible lock.</p>
<p>If there was an error NULL is returned and resultPtr is set to:</p><ul>
<li>LE_NOT_FOUND if the file does not exist.</li>
<li>LE_WOULD_BLOCK if there is already an incompatible lock on the file.</li>
<li>LE_FAULT if there was an error.</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>Buffered file stream handle to the file if successful. NULL if there was an error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Stream must be closed using <a class="el" href="le__atom_file_8h.html#aea745228ae746df24005a10ba06edd57">le_atomFile_CloseStream()</a> or <a class="el" href="le__atom_file_8h.html#ae5cf35b73463f7eea098aba57587b7c3">le_atomFile_CancelStream()</a> function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pathNamePtr</td><td>Path of the file to open </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accessMode</td><td>Access mode to open the file. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resultPtr</td><td>Pointer to result code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.11
        </div>
    </div>
</body>
</html>
